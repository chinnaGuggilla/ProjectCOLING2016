(self.webpackChunklite=self.webpackChunklite||[]).push([[8166],{52957:(e,n,t)=>{"use strict";t.d(n,{T:()=>c});var i=t(63038),a=t.n(i),l=t(67294),r=t(33865),o=t(42933),d=t(75209),s=t(24438),m=t(27108),c=function(e){var n=e.isDockingEnabled,t=void 0!==n&&n,i=e.undockedBackgroundColor,c=e.maxWidthSize,u=void 0===c?"inset":c,p=e.children,k=l.useRef(null),g=l.useRef(null),v=l.useState(!1),f=a()(v,2),S=f[0],h=f[1];l.useEffect((function(){var e=function(){var e,n,t=null===(e=k.current)||void 0===e?void 0:e.getBoundingClientRect().y,i=null===(n=g.current)||void 0===n?void 0:n.getBoundingClientRect().y;t&&i&&h(Boolean(i-t))};if(e(),t)return m.V6.on("scroll",e),function(){m.V6.off("scroll",e)}}),[t]);var y=t&&S;return l.createElement(l.Fragment,null,l.createElement(o.x,{ref:g}),l.createElement(o.x,{ref:k,display:"flex",alignItems:"center",boxSizing:"content-box",height:(0,s.a)(r.T),maxHeight:(0,s.a)(r.T),position:t?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:t?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:y?"BACKGROUND":i,borderTop:y?{xs:"NONE",sm:"NONE",md:"BASE_LIGHTER",lg:"BASE_LIGHTER",xl:"BASE_LIGHTER"}:"NONE"},l.createElement(o.x,{flexGrow:"1"},l.createElement(d.P,{size:u},p))))}},66921:(e,n,t)=>{"use strict";t.d(n,{B:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicPill_tag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}}]}}]}},73018:(e,n,t)=>{"use strict";t.d(n,{Y:()=>c,r:()=>m});var i=t(319),a=t.n(i),l=t(72350),r=t(50294),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MemberOnlyWall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EntityDrivenSubscriptionLandingPageScreen_writer"}}]}}]}}].concat(a()(l.G.definitions),a()(r._.definitions))},d=t(32018),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RegWall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}}]}}].concat(a()(d.qU.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Wall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MemberOnlyWall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PayWall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RegWall_post"}}]}}].concat(a()(o.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PayWall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}}]}}]),a()(s.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Wall_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RegWall_meteringInfo"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"RegWall_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}}]}}]))}},87508:(e,n,t)=>{"use strict";t.d(n,{cu:()=>pe,Y6:()=>ue,rU:()=>ce});var i=t(28655),a=t.n(i),l=t(71439),r=t(67294),o=t(32149),d=t(2874);function s(){var e=a()(["\n  fragment MemberOnlyWall_post on Post {\n    id\n    creator {\n      id\n      name\n      username\n      ...useShouldShowEntityDrivenSubscription_creator\n      ...EntityDrivenSubscriptionLandingPageScreen_writer\n    }\n  }\n  ","\n  ","\n"]);return s=function(){return e},e}var m=(0,l.Ps)(s(),o.G,d._k),c=t(12291),u=t(42933),p=t(77180),k=t(67122),g=/rgba\(([\d]+),\s*([\d]+),\s*([\d]+),\s*([\d]+|[\d]*.[\d]+)\)/,v=function(e){var n,t,i=e.children,a=(0,p.F)();return r.createElement(r.Fragment,null,r.createElement(u.x,{marginTop:"-240px",background:"linear-gradient(".concat((n=a.backgroundColor,t=n.match(g),t?"rgba(".concat(t[1],", ").concat(t[2],", ").concat(t[3],", 0)"):(0,k.l9)(0)),", ").concat(a.backgroundColor,")"),height:"250px",position:"relative",width:"100%"}),r.createElement(u.x,{backgroundColor:"BACKGROUND"},r.createElement(u.x,{margin:"auto",maxWidth:"760px",sm:{margin:"0 24px 0"}},i)))},f=t(51562),S=t(71542),h=t(53976),y=t(76532),N=t(36511),x=t(37258),E=t(19608),b=t(27168),F=t(48881),w=t(11852),P=t(62876),I=t(55099),_=t(17614),C=t(98024),O=t(95760),D=t(51512),R=t(96907),T=t(33572),A=t(85277),M=t(67297),B=t(6522),L=t(96879),U=t(27952);function V(){var e=a()(["\n  fragment PayWall_post on Post {\n    id\n    creator {\n      id\n      name\n      imageId\n    }\n  }\n"]);return V=function(){return e},e}var j=function(e){var n=e.optimizelyFeatureString,t=e.post,i=e.showTrialPaywall,a=e.authDomain,l=e.enablePaywallConversionsForReferredMembers,o=(0,y.H)().value,d=t.creator&&t.creator.id,s=(0,U.c5p)(a),m=(0,O.Av)(),c=(0,L.Rk)((0,U.c5p)(a),{subscribeToUserId:d||"",susiEntry:"post_paywall"}),p=l?c:s,k=r.useCallback((function(){m.event("paywall.upgradeClicked",{postId:null==t?void 0:t.id,userId:null==o?void 0:o.id})}),[t,null==o?void 0:o.id]);return r.createElement(D.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:t.id}},r.createElement(R.M,null,r.createElement(u.x,{display:"inline-block",textAlign:"center"},r.createElement(f.W,{featureString:n,target:i?"trial-upsell-button":"upsell-button-".concat(o&&o.hasPastMemberships?"resume-membership":"upgrade")},r.createElement(P.a,{isButton:!0,onClick:k,buttonStyle:i?"BRAND":"STRONG",width:i||o&&o.hasPastMemberships?"182px":"104px",redirectUrl:p},i?"Start your free trial":o&&o.hasPastMemberships?"Resume membership":"Upgrade")))))},W=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,i=(0,c.I0)();return r.createElement(D.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},r.createElement(u.x,{display:"flex",sm:{flexDirection:"column"}},r.createElement(u.x,{display:"flex",flexDirection:"row",justifyContent:"center"},t.facebook||t.google||t.twitter?r.createElement(E.r,{userSocialLogins:t}):r.createElement(x.o,{onSuccess:function(){return i((0,A.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:t.userId},(function(e){var n=e.handleSubmit;return r.createElement(I.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:n},"Send login link")})))),n&&r.createElement(u.x,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},r.createElement(C.F,{scale:"M"},r.createElement(b.G,{declineSuggestedAccount:n,isSocial:!!t&&!!(t.facebook||t.google||t.twitter)}))))},H=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,i=e.suggestedAccountEventData,a=e.showSuggestedAccount,l=e.postId;return r.createElement(D.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:l}},r.createElement(R.M,{eventData:i},r.createElement(u.x,{display:"inline-block",textAlign:"center"},r.createElement(W,{declineSuggestedAccount:n,showSuggestedAccount:a,userSocialLogins:t}),r.createElement(u.x,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},r.createElement(C.F,{scale:"L"},r.createElement(P.a,{eventData:i,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},z=function(e){var n=e.post,t=e.excludePadding,i=void 0!==t&&t,a=(0,M.v9)((function(e){return e.config.authDomain})),l=(0,M.v9)((function(e){return e.config.productName})),o=(0,y.H)().value,d=(0,N.r)().viewerId,s=(0,O.Av)(),m=null==o?void 0:o.isMembershipTrialEligible,c=!(!(0,h.VB)({name:"enable_trial_upsell",placeholder:!1})||!m),p=!!(0,h.VB)({name:"optimizely_holdback",placeholder:!1}),k=!!(0,h.VB)({name:"enable_referred_membership_entity_led_paywall",placeholder:!1}),g=!!(0,h.VB)({name:"enable_paywall_conversions_for_referred_members",placeholder:!1});r.useEffect((function(){m&&s.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[m]),r.useEffect((function(){s.event("paywall.viewed",{userId:null==o?void 0:o.id})}),[]);var x="paywall",E=function(){var e;if(!n.creator)return null;var t=null!==(e=n.creator.imageId)&&void 0!==e?e:B.gG;return r.createElement(u.x,{display:"flex",paddingBottom:"16px",justifyContent:"center"},r.createElement(w.z,{miroId:t,alt:n.creator.name||"",diameter:80,freezeGifs:!1}))};return r.createElement(v,null,r.createElement(F.o,{postRenderCallback:function(){}},(function(e){var t,s=e.loading,m=e.showSuggestedAccount,v=e.declineSuggestedAccount,h=e.userSocialLogins;return s?r.createElement(r.Fragment,null):(m&&(x="suggested-account-paywall"),m&&(t={alternateUserSuggestionShown:m,alternateUserSuggestionAccountType:(0,T.S)(h),alternateUserSuggestionTargetUserId:!!h&&h.userId,alternateUserSuggestionSourceUserId:d}),r.createElement(r.Fragment,null,r.createElement(f.W,{featureString:x,target:c?"trial-background-color":"background-color"},r.createElement(u.x,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},r.createElement(u.x,{display:"flex",flexDirection:"column",padding:k?"0 0 60px":i?"48px 0 0":"48px 50px",sm:{padding:k?"0":"28px 16px 32px",textAlign:"center"}},k&&r.createElement(E,null),r.createElement(f.W,{featureString:x,target:c?"webCCTrialHeading":"fewerClicksHeading"},r.createElement(_.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,n,t,i){var a=i.showSuggestedAccount,l=i.showTrialPaywall,o=i.inHoldback,d=i.showEntityLedPaywall,s=n?(0,T.J)(n):null;return s=s&&s.length<=13?s:null,a?"Switch to your member account for unlimited reading.":l?r.createElement(u.x,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},s?"".concat(s,", keep reading."):"Keep reading."):d?r.createElement(u.x,{textAlign:"center",sm:{marginBottom:"8px"}},s?"".concat(s,", read more from ").concat(t,"."):"This is a member-only story published by ".concat(t,".")):r.createElement(u.x,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},o?"How to read this story — and everything else on ".concat(e,"."):s?t?"".concat(s,", read more from ").concat(t," — and everyone else on ").concat(e,"."):"".concat(s,", here's how to read this story — and everything else on ").concat(e,"."):t?"How to read this story from ".concat(t," — and everything else on ").concat(e,"."):"How to read this story — and everything else on ".concat(e,"."))}(l,o&&o.name,n.creator&&n.creator.name,{showSuggestedAccount:m,showTrialPaywall:c,inHoldback:p,showEntityLedPaywall:k}))),r.createElement(C.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!m&&!c&&r.createElement(r.Fragment,null,r.createElement(f.W,{featureString:x,target:"second-header-fewer-clicks"},r.createElement(u.x,{marginTop:"8px",marginBottom:k?"16px":"28px",textAlign:k?"center":"left",sm:{display:k?"none":"inline-block",textAlign:"center"}},"You’ve read all your free member-only stories. Become a member to get unlimited access and support the voices you want to hear more from.")),k&&r.createElement(S.e,null,r.createElement(u.x,{marginBottom:"16px"},"Get all of ",n.creator&&n.creator.name,"’s stories - and unlimited access to everything on ",l,".")),r.createElement(u.x,{display:"flex",justifyContent:k?"center":"flex-start",sm:{justifyContent:"center"}},r.createElement(j,{optimizelyFeatureString:x,post:n,showTrialPaywall:c,authDomain:a,enablePaywallConversionsForReferredMembers:g}))),r.createElement(f.W,{featureString:x,target:c?"subtitle-copy-web-cc-trial":"subtitle-copy-fewer-clicks"},r.createElement(u.x,{marginTop:m?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,n,t,i,a){var l=i.showTrialPaywall,o=i.showEntityLedPaywall;if(i.showSuggestedAccount&&n){var d=n.isMember,s=n.redactedEmailAddress;return r.createElement(r.Fragment,null,"Looks like you're coming from the ",d&&"member ","account"," ",r.createElement("b",null,s)," but you’re signed in as ",r.createElement("b",null,null==a?void 0:a.email),". Switch to your",d?" member account for unlimited access":" account",".")}return r.createElement(u.x,{marginTop:o?"16px":"28px",marginBottom:o?"16px":"28px",textAlign:l?"center":"left"},l?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):o?r.createElement(r.Fragment,null,r.createElement(S.s,{sm:!0},r.createElement("b",null,"Reward great writing. "),"Your membership fee directly supports ",t," and other writers you read.",r.createElement(u.x,{marginTop:"16px"},r.createElement("b",null,"Read any story. "),"Access everything on ",e," across all your devices with no limits or ads."))):r.createElement(r.Fragment,null,r.createElement("b",null,"Read any story. "),"Access everything on ",e," across all your devices with no limits or ads.",r.createElement("br",null),r.createElement("br",null),r.createElement("b",null,"Reward great writing. "),"A portion of your membership fee will go toward the writers you read most."))}(l,h,n.creator&&n.creator.name,{showSuggestedAccount:m,showTrialPaywall:c,showEntityLedPaywall:k},o)))),!!m&&h&&r.createElement(H,{declineSuggestedAccount:v,userSocialLogins:h,suggestedAccountEventData:t,showSuggestedAccount:m,postId:n.id}),c&&!m&&r.createElement(j,{optimizelyFeatureString:x,post:n,showTrialPaywall:c,authDomain:a,enablePaywallConversionsForReferredMembers:g}))))))})))},G=(0,l.Ps)(V()),K=t(6401),$=t(66893),q=t(62181),Y=t(5731),Q=t(59317),J=t(81405),X=t(90174),Z=t(4134),ee=t(37581);function ne(){var e=a()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return ne=function(){return e},e}function te(){var e=a()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    creator {\n      name\n      imageId\n    }\n    ...SusiClickable_post\n  }\n  ","\n"]);return te=function(){return e},e}var ie="post_regwall",ae=function(e){var n=e.enablePasswords,t=e.meterCount,i=e.optimizelyFeatureString,a=e.postId,l={operation:"register"},o=(0,Q.j)().openModal,d=function(e){var t=e.children;return n?r.createElement(f.W,{featureString:i,target:"google-button"},t):t};return r.createElement(u.x,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},r.createElement(f.W,{featureString:i,target:"google-button"},r.createElement(u.x,{margin:"".concat(n?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},r.createElement(ee.$,{eventData:{meterCount:t,operation:l.operation,postId:a}},r.createElement(Z.x,l)))),r.createElement(d,null,r.createElement(u.x,{marginBottom:n?"32px":"52px",sm:{marginBottom:"40px"}},r.createElement(ee.$,{eventData:{meterCount:t,operation:l.operation,postId:a}},n?r.createElement(J.R,{goToEmailAuthStep:function(){o({step:"ENTER_EMAIL",susiEntry:ie,operation:"register"})},operation:"register"}):r.createElement(X.q,l)))))},le=function(e){var n=e.meteringInfo,t=e.post,i=e.setIsLORegWallVisible,a=(0,O.Av)(),l=(0,M.v9)((function(e){return e.config.productName})),o=(0,M.v9)((function(e){return e.config.authDomain})),d=!!(0,$.P5)("enable_passwords"),s=!!(0,h.VB)({name:"enable_referred_membership_entity_led_paywall",placeholder:!1}),m="LOCKED_POST_SOURCE_SYNDICATED"===t.lockedSource,c="".concat(m?"syndicated-":"","regwall"),p=function(){var e;if(!t.creator)return null;var n=null!==(e=t.creator.imageId)&&void 0!==e?e:B.gG;return r.createElement(u.x,{display:"flex",paddingBottom:"16px",justifyContent:"center"},r.createElement(w.z,{miroId:n,alt:t.creator.name||"",diameter:80,freezeGifs:!1}))},k=function(){return r.createElement(u.x,{display:"flex",flexDirection:"column",padding:"0 0 60px",sm:{textAlign:"center"}},r.createElement(p,null),r.createElement(_.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},r.createElement(u.x,{textAlign:"center",sm:{marginBottom:"8px"}},"This story has been marked as member-only by the writer.")),r.createElement(u.x,{marginTop:"8px",marginBottom:"16px",textAlign:"center",sm:{display:"none",textAlign:"center"}},"You’ve read all your free member-only stories. Become a member to directly support"," ",t.creator&&t.creator.name," and other writers you read."),r.createElement(S.e,null,r.createElement(u.x,{marginBottom:"16px"},"Get all of ",t.creator&&t.creator.name,"’s stories - and unlimited access to everything on ",l,".")),r.createElement(u.x,{marginBottom:"16px"},r.createElement(D.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:t.id}},r.createElement(R.M,null,r.createElement(P.a,{isButton:!0,buttonStyle:"STRONG",width:"104px",redirectUrl:(0,U.c5p)(o)},r.createElement(C.F,{scale:"M",color:"WHITE"},"Upgrade"))))),r.createElement(u.x,{textAlign:"left"},r.createElement(S.s,{sm:!0},r.createElement("b",null,"Reward great writing. "),"Your membership fee directly supports"," ",t.creator&&t.creator.name," and other writers you read.",r.createElement(u.x,{marginTop:"16px"},r.createElement("b",null,"Read any story. "),"Access everything on ",l," across all your devices with no limits or ads."))),r.createElement(S.e,null,r.createElement(C.F,{scale:"M"},"Already a Medium Member?"," ",r.createElement(u.x,{display:"inline",marginLeft:"6px"},r.createElement(q.R9,{linkStyle:"OBVIOUS",operation:"login",susiEntry:ie},"Sign in")))))};return r.useEffect((function(){a.event("meter.viewed",{meterCount:null==n?void 0:n.postIds.length,postId:t.id,uiType:m?Y.j.SyndicatedRegwall:Y.j.RegWall}),i&&i(!0)}),[]),r.createElement(D.cW,{source:{postId:t.id,susiEntry:ie}},r.createElement(v,null,r.createElement(f.W,{featureString:c,target:"background-color"},r.createElement(u.x,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"}},s?r.createElement(k,null):r.createElement(u.x,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},r.createElement(f.W,{featureString:c,target:"heading"},r.createElement(_.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},r.createElement(u.x,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),r.createElement(u.x,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account."))),r.createElement(C.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},r.createElement(u.x,{display:"none",margin:"auto",paddingTop:"10px",width:"500px"},"You’ll also discover more fresh thinking personalized to your interests and can follow your favorite authors, publications, and topics."),r.createElement(u.x,{display:"none",sm:{display:"block"}},r.createElement(u.x,{margin:"".concat(d?"40px":"42px"," 0")},r.createElement(K.a,{isButton:!0,postId:t.id,appEntry:"regwall"})),r.createElement(f.W,{featureString:c,target:"skip-app-copy"},r.createElement(u.x,{marginBottom:"-20px"},"Or, continue in mobile web"))),r.createElement(ae,{meterCount:null==n?void 0:n.postIds.length,optimizelyFeatureString:c,postId:t.id,enablePasswords:d}),r.createElement(f.W,{featureString:c,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),r.createElement(f.W,{featureString:c,target:"sign-in-link",tag:"span"},r.createElement(q.R9,{linkStyle:"OBVIOUS",operation:"login",post:t,susiEntry:ie},"Sign in"))))))))},re=(0,l.Ps)(te(),q.qU),oe=(0,l.Ps)(ne()),de=t(1932);function se(){var e=a()(["\n  fragment Wall_meteringInfo on MeteringInfo {\n    ...RegWall_meteringInfo\n  }\n  ","\n"]);return se=function(){return e},e}function me(){var e=a()(["\n  fragment Wall_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    isLocked\n    isMarkedPaywallOnly\n    ...MemberOnlyWall_post\n    ...PayWall_post\n    ...RegWall_post\n  }\n  ","\n  ","\n  ","\n"]);return me=function(){return e},e}var ce=(0,l.Ps)(me(),m,G,re),ue=(0,l.Ps)(se(),oe),pe=function(e){var n=e.post,t=e.meteringInfo,i=e.excludePadding,a=e.setIsLORegWallVisible,l=n.id,o=n.content.isLockedPreviewOnly,d=(0,y.H)(),s=d.value,m=d.loading;if(!(0,de.n)(l,o).loading&&o){if(s)return r.createElement(z,{post:n,excludePadding:i});if(!m)return r.createElement(le,{post:n,meteringInfo:t,setIsLORegWallVisible:a})}return null}},81663:(e,n,t)=>{"use strict";t.d(n,{DI:()=>l,nj:()=>r});var i=t(319),a=t.n(i),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useNewsletterV3Subscription_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useNewsletterV3Subscription_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useNewsletterV3Subscription_newsletterV3"}}]}}]}}].concat(a()(l.definitions))};[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"fetchOrLazilyCreateNewsletterV3AndMaybeSubscribe"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fetchOrLazilyCreateNewsletterV3AndMaybeSubscribe"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useNewsletterV3Subscription_newsletterV3"}}]}}]}}].concat(a()(l.definitions))},61253:(e,n,t)=>{"use strict";t.d(n,{U:()=>m,m:()=>s});var i=t(319),a=t.n(i),l=t(58197),r=t(50122),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlighSegmentContext_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"}}]}}].concat(a()(r.p.definitions))},d=([{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenu_highlight"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenu_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}])),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenu_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNewNoteCard_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenu_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedVersion"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowNotes"}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNewNoteCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedVersion"}}]}}]))}),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_postPreview"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"truncationConfig"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"previewParagraphsWordCountThreshold"},value:{kind:"IntValue",value:"100"}},{kind:"ObjectField",name:{kind:"Name",value:"minimumWordLengthForTruncation"},value:{kind:"IntValue",value:"150"}},{kind:"ObjectField",name:{kind:"Name",value:"truncateAtEndOfSentence"},value:{kind:"BooleanValue",value:!0}},{kind:"ObjectField",name:{kind:"Name",value:"showFullImageCaptions"},value:{kind:"BooleanValue",value:!0}},{kind:"ObjectField",name:{kind:"Name",value:"shortformPreviewParagraphsWordCountThreshold"},value:{kind:"IntValue",value:"30"}},{kind:"ObjectField",name:{kind:"Name",value:"shortformMinimumWordLengthForTruncation"},value:{kind:"IntValue",value:"30"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}},{kind:"Field",name:{kind:"Name",value:"isFullContent"}}]}}]}}].concat(a()(l.Pk.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlighSegmentContext_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NormalizeHighlights_paragraph"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowNotes"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_creator"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ActiveSelectionContext_post"}}]}}].concat(a()(l.Pk.definitions),a()(o.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"NormalizeHighlights_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]),a()(l.v.definitions),a()(d.definitions))}},15789:(e,n,t)=>{"use strict";t.d(n,{b:()=>O});var i=t(67154),a=t.n(i),l=t(63038),r=t.n(l),o=t(28655),d=t.n(o),s=t(46829),m=t(71439),c=t(67294),u=t(2277),p=t(25415),k=t(40820),g=t(69677),v=t(72846),f=t(91442),S=t(59713),h=t.n(S),y=t(11642);function N(){var e=d()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return N=function(){return e},e}function x(){var e=d()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return x=function(){return e},e}function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){h()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function F(e,n,t){if(!e||"number"!=typeof n||"number"!=typeof t)return null;var i=n,a=t;return e.substr(i,a-i)}var w=(0,m.Ps)(x()),P=((0,m.Ps)(N()),t(76532)),I=t(44059);function _(){var e=d()(["\n  query InteractivePostBodyQuery($postId: ID!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return _=function(){return e},e}var C=(0,m.Ps)(_(),k.UW,f.g8,v.XV,v.w6,w),O=c.forwardRef((function(e,n){var t,i,l,o=e.activeGrafId,d=e.activeNoteId,m=e.isAuroraPostPageEnabled,S=e.post,h=e.inlinePost,N=e.postBodyInserts,x=e.richTextStyle,E=e.markedUpBodyModel,w=e.shouldHideHighlightAnnotations,_=(0,P.H)().value,O=h&&!S?E||(null==h||null===(t=h.extendedPreviewContent)||void 0===t?void 0:t.bodyModel):null==S||null===(i=S.content)||void 0===i?void 0:i.bodyModel,D={creator:null==S?void 0:S.creator,isAuroraPostPageEnabled:m,postBodyInserts:N,ref:n,richTextStyle:x||"FULL_PAGE"},R=S&&S.creator&&S.creator.allowNotes||!1,T=(0,s.useLazyQuery)(C,{ssr:!1,variables:{postId:(null==S?void 0:S.id)||"",showNotes:R},notifyOnNetworkStatusChange:!0}),A=r()(T,2),M=A[0],B=A[1],L=B.called,U=B.data,V=null==U?void 0:U.post;if(c.useEffect((function(){S&&!L&&M()}),[S]),!O)return I.t.log("Expected post to have content or preview content."),null;var j=(null==S||null===(l=S.content)||void 0===l?void 0:l.bodyModel)&&(null==S?void 0:S.content.bodyModel.paragraphs)||[],W=function(e,n){return e&&n?e.map((function(e){var t=e.endOffset,i=e.startOffset,a=e.paragraphs&&e.paragraphs[0],l=function(e,n){return e?n.find((function(n){var t=n.name;return e===t})):null}(a.name,n);if(!a||!l)return null;var r=F(a.text,i,t),o=F(l.text,i,t);if(!r||!o)return null;if(r===o)return e;var d=l.text?l.text.indexOf(r):null;if("number"!=typeof d||d<0)return null;var s=d+r.length;return b(b({},e),{},{endOffset:s,startOffset:d})})).filter(y.b):e}(V&&V.highlights||[],j),H=V&&V.privateNotes||null;return c.createElement(g.yb,null,c.createElement(p.KN,{initialActivePrivateNoteId:d,initialActiveGrafName:o},c.createElement(k.Ms,{interactivePost:S,highlights:W,disableSelection:!S},c.createElement(f.U7,{highlights:W,paragraphs:j,viewer:_},c.createElement(u.c.Provider,{value:!0},c.createElement(v.yO,a()({},D,{bodyModel:O,highlights:W,privateNotes:H,shouldHideHighlightAnnotations:w})))))))}))},50188:(e,n,t)=>{"use strict";t.d(n,{kD:()=>g,T8:()=>v,Qw:()=>f});var i,a,l=t(59713),r=t.n(l),o=t(57953),d="post-view",s="post-read",m="topic-view",c="medium-search",u="external-search",p=(i={},r()(i,d,200),r()(i,s,200),r()(i,m,200),r()(i,c,200),r()(i,u,200),i),k=(a={},r()(a,d,new o.Z("pv")),r()(a,s,new o.Z("pr")),r()(a,m,new o.Z("tv")),r()(a,c,new o.Z("ms")),r()(a,u,new o.Z("es")),a),g=function(e){S(d,e,Date.now())},v=function(e){S(s,e,Date.now())},f=function(e){S(m,e,Date.now())},S=function(e,n,t){var i=k[e];i.getCount()===p[e]&&i.clean();try{i.set(n,t)}catch(e){i.clean()}}},39356:(e,n,t)=>{"use strict";t.d(n,{bj:()=>E,O9:()=>x});var i=t(319),a=t.n(i),l=t(73018),r=t(13808),o=t(61253),d=t(7013),s=t(39186),m=t(41532),c=t(91671),u=t(56373),p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostFooter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"FragmentSpread",name:{kind:"Name",value:"TruncatedPostCardOverflowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterSocialPopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}}]}}].concat(a()(s.r.definitions),a()(m.z.definitions),a()(c.u.definitions),a()(u.x.definitions))},k=t(37931),g=t(2151),v=t(88833),f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadMore_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat(a()(v.u.definitions))},S=t(66921),h={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighDensityFooter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicPill_tag"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"TruncatedPostCardOverflowButton_post"}}]}}].concat(a()(S.B.definitions),a()(m.z.definitions),a()(s.r.definitions))},y={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighDensityPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighDensityFooter_post"}}]}}].concat(a()(h.definitions))},N={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"markupPostBodyParagraphs_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"FragmentSpread",name:{kind:"Name",value:"createLinkedImage_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"createLinkedParagraph_paragraph"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"createLinkedImage_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"href"}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"createLinkedParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchorType"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"linkMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"httpStatus"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]))},x=([{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_meteringInfo"}}]}}].concat(a()(l.Y.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_user"}}]}}].concat(a()(r.br.definitions))}),E={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePost_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_postPreview"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isSeries"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uniqueSlug"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_postResult"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_catalogResult"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostFooter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPresentationTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostScrollTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_mediaResource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReadMore_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighDensityPreview_post"}}]}}].concat(a()(x.definitions),a()(r.We.definitions),a()(o.m.definitions),a()(d.uy.definitions),a()(d.NY.definitions),a()(r.yu.definitions),a()(p.definitions),a()(k.h.definitions),a()(g.k.definitions),a()(d.lh.definitions),a()(f.definitions),a()(y.definitions))};[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostmergeContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"FragmentSpread",name:{kind:"Name",value:"markupPostBodyParagraphs_paragraph"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"FragmentSpread",name:{kind:"Name",value:"markupPostBodyParagraphs_paragraph"}}]}}]}}]}}]}}].concat(a()(N.definitions))},58166:(e,n,t)=>{"use strict";t.d(n,{m:()=>rn});var i=t(67154),a=t.n(i),l=t(59713),r=t.n(l),o=t(63038),d=t.n(o),s=t(82492),m=t.n(s),c=t(17673),u=t(46829),p=t(67294),k=t(5977),g=t(52957),v=t(75341),f=t(34488),S=t(40917),h=t(87508),y=t(10233),N=t(30570),x=t(4743),E=t(15789),b=t(93912),F=t(50077),w=t(76532),P=t(42933),I=t(75209),_=t(57693),C=t(95760),O=t(51512),D=t(6688),R=t(58491),T=t(66210),A=t(36891),M=t(15699),B=t(14391),L=t(8403),U=t(67297),V=t(32261),j=t(64227),W=t(96879),H=t(19732);function z(){return(z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var G=p.createElement("circle",{cx:16,cy:16,r:16,fill:"#A8A8A8"}),K=p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.77 16.48l5.4 5.4.7-.7-5.4-5.4 4.7-4.7-.71-.7-4.69 4.69-4.69-4.7-.7.71 4.68 4.7-5.4 5.4.71.7 5.4-5.4z",fill:"#FAFAFA"});const $=function(e){return p.createElement("svg",z({width:32,height:32,fill:"none"},e),G,K)};var q=function(){return{border:"none",padding:"0",background:"transparent",cursor:"pointer"}},Y=function(e){var n=e.expansionRef,t=(0,D.I)(),i=(0,k.k6)(),a=(0,N.sK)(),l=a.setExpandedPostId,r=a.setExpandedPost;return p.createElement(P.x,{position:"sticky",top:"40px",height:"0",textAlign:"right"},p.createElement(P.x,{position:"relative",bottom:"20px"},p.createElement("button",{type:"button",className:t(q),onClick:function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().y;t&&t<0&&window.scrollBy(0,t),r(null),l(null),i.goBack()},"aria-label":"Collapse"},p.createElement($,null))))},Q=t(319),J=t.n(Q),X=t(61253),Z=t(73018),ee=t(39356),ne=t(99416),te={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InlineExpansionContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"customStyleSheet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"blogroll"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visibility"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}},{kind:"Field",name:{kind:"Name",value:"followedCollections"}},{kind:"Field",name:{kind:"Name",value:"socialStats"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followingCount"}},{kind:"Field",name:{kind:"Name",value:"collectionFollowingCount"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserSubscribeButton_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"canToggleEmail"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"isAuroraEligible"}},{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}},{kind:"Field",name:{kind:"Name",value:"tagline"}}]}},{kind:"Field",name:{kind:"Name",value:"customStyleSheet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"blogroll"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visibility"}}]}}]}}]}}].concat(J()(ne.w.definitions))},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExpandablePostExpandedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePost_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InlineExpansionContext_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostReadTracker_post"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"meterPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_meteringInfo"}}]}}]}}]}}].concat(J()(X.U.definitions),J()(Z.r.definitions),J()(ee.bj.definitions),J()(te.definitions),J()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostReadTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),J()(Z.Y.definitions))},ae=t(28655),le=t.n(ae),re=t(71439),oe=t(83687),de=t(36823),se=t(9292),me=t(11852),ce=t(82318),ue=t(98024),pe=t(6522);function ke(){var e=le()(["\n  fragment ExpandablePostByline_collection on Collection {\n    __typename\n    id\n    name\n    domain\n    slug\n  }\n"]);return ke=function(){return e},e}function ge(){var e=le()(["\n  fragment ExpandablePostByline_user on User {\n    __typename\n    id\n    name\n    username\n    imageId\n    hasSubdomain\n    customDomainState {\n      live {\n        domain\n      }\n    }\n  }\n"]);return ge=function(){return e},e}var ve=function(e){var n=e.publication,t=(0,oe.R)(n);return p.createElement(P.x,{display:"flex"},p.createElement(P.x,{padding:"0 2px"},p.createElement(ue.F,{scale:"M"},"in")),p.createElement(ce.r,{href:t,display:"inline-block"},p.createElement(ue.F,{scale:"M",color:"DARKER",clamp:1},n.name)))},fe=function(e){var n=e.creator,t=e.collection,i=(0,de.B)(n);return p.createElement(P.x,{display:"flex",flexWrap:"wrap",alignItems:"center"},p.createElement(ce.r,{href:i},p.createElement(ue.F,{scale:"M",color:"DARKER",clamp:1},n.name)),t&&t.name!==n.name&&p.createElement(ve,{publication:t}))},Se=function(e){var n=e.creator,t=e.collection,i=e.datePrefix,a=e.href,l=e.publishedAt,r=e.showStar,o=void 0!==r&&r,d=e.showPinned,s=void 0!==d&&d,m=e.showPublisherInfo,c=void 0!==m&&m,u=e.post;return p.createElement(se.Y,{avatar:n&&c&&p.createElement(me.z,{miroId:n.imageId||pe.gG,alt:n.name||"",diameter:24,freezeGifs:!0}),isOneLine:!0,title:c?p.createElement(fe,{creator:n,collection:t}):null,description:p.createElement(F.Q5,{datePrefix:i,publishedAt:l,withMidDot:c,href:a,showStar:o,showPinned:s,isOneLine:!0,post:u})})},he=((0,re.Ps)(ge()),(0,re.Ps)(ke()),t(14345)),ye=t(39186),Ne=t(86948),xe=t(64578),Ee=t(21356),be=t(33819),Fe=t(72393),we=t(53976),Pe=t(14071);function Ie(){var e=le()(["\n  fragment ExpandablePostFooter_post on Post {\n    id\n    allowResponses\n    postResponses {\n      count\n    }\n    isLimitedState\n    ...TruncatedPostCardOverflowButton_post\n    ...BookmarkButton_post\n    ...PostFooterSocialPopover_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return Ie=function(){return e},e}(0,re.Ps)(Ie(),ye.r,Ne.z,xe.u,Ee.x);var _e=function(e){var n=e.post,t=e.publisherContext,i=e.isActiveExpandedPost,a=p.useContext(Fe.f).openSidebar,l=(0,N.sK)(),r=l.expandedPostId,o=l.postInView,d=n.clapCount,s=n.mediumUrl,m=n.postResponses,c=Boolean(d),u=(null==m?void 0:m.count)||0,k={post:n,source:"expandable_post_footer"},g=(0,we.VB)({name:"enable_seamless_social_sharing",placeholder:!1});return p.createElement(P.x,{display:"flex",justifyContent:"space-between",alignItems:"center"},p.createElement(P.x,{display:"flex",alignItems:"center"},p.createElement(Ee.S,{post:n,buttonStyle:"SUBTLE_MARGIN",susiEntry:"clap_preview",hasDialog:!0,shouldHideClapsText:!0}),p.createElement(P.x,{display:"flex",alignItems:"center",xl:{marginLeft:c?"24px":"12px"},lg:{marginLeft:c?"24px":"12px"},md:{marginLeft:c?"16px":"8px"},sm:{marginLeft:c?"0":"8px"},xs:{marginLeft:c?"0":"8px"},paddingTop:"3px"},p.createElement(ce.r,{href:s+"?responsesOpen=true"},p.createElement(P.x,{marginTop:"5px"},p.createElement(be.h,{trackingData:{postId:n.id},responsesCount:u,handleClick:o&&r===n.id?function(e){e.preventDefault(),a()}:function(){},allowResponses:n.allowResponses,isLimitedState:n.isLimitedState,responsesCountColor:"DARKER",countStylesOverride:{marginLeft:"4px"}}))))),p.createElement(P.x,{display:"flex",alignItems:"center"},i&&g?p.createElement(Pe.U,k):p.createElement(xe.$,k),p.createElement(P.x,{margin:"0 6px 0 7px"},p.createElement(Ne.e,{post:n,susiEntry:"bookmark_preview"})),t&&p.createElement(P.x,{marginRight:"-4px"},p.createElement(he.A,{post:n,publisherContext:t}))))},Ce=t(27721),Oe=t(80908),De=t(55581),Re=t(90038),Te=t(79810),Ae=t(27390),Me=function(e){return{color:e.baseColor.text.lighter}},Be=function(e){var n=e.readingTime,t=e.isLighterText,i=void 0!==t&&t,a=(0,D.I)();if(!n)return null;var l="".concat((0,Ae.Vd)(n)," min read");return p.createElement("span",{className:i?a(Me):void 0},l)},Le=t(95248),Ue=function(e){var n=e.post,t=e.reason,i=e.publisherContext,a=n.readingTime,l=n.tags,r=l&&l[0];return p.createElement(P.x,{display:"flex",justifyContent:"space-between"},p.createElement(P.x,{display:"flex",flexGrow:"1",flexShrink:"0",alignItems:"center"},r&&p.createElement(P.x,{paddingRight:"8px"},p.createElement(Te.Pl,{topic:r,scale:"S"})),p.createElement(P.x,null,p.createElement(ue.F,{scale:"S"},p.createElement(Be,{readingTime:a}))),t&&p.createElement(p.Fragment,null,p.createElement(P.x,{padding:"0 8px"},p.createElement(Le.O,{scale:"S"})),p.createElement(P.x,{sm:{display:"none"}},p.createElement(ue.F,{scale:"S"},t)))),p.createElement(P.x,{display:"flex"},p.createElement(P.x,{marginRight:"8px"},p.createElement(Ne.e,{post:n,susiEntry:"bookmark_preview"})),i&&p.createElement(P.x,null,p.createElement(he.A,{post:n,publisherContext:i}))))},Ve=function(e){var n,t=e.post,i=e.postUrl,a=e.onReadMore,l=e.onHoverReadMore,r=e.reason,o=e.publisherContext,d=t.title,s=t.previewContent;return p.createElement(P.x,null,p.createElement(_.D,{onMouseEnter:l,onMouseLeave:function(){}},p.createElement(P.x,{display:"flex"},p.createElement(P.x,{flexGrow:"1",flexShrink:"1",wordBreak:"break-word"},p.createElement(P.x,null,p.createElement(ce.r,{onClick:a,href:i,ariaLabel:"Post Preview Title"},d&&p.createElement(P.x,{paddingBottom:{xs:"0",sm:"0",md:"8px",lg:"8px",xl:"8px"}},p.createElement(Oe.Dx,{scale:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},clamp:2},d)),(null==s?void 0:s.subtitle)&&p.createElement(P.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"}},p.createElement(De.uT,{scale:"XS",clamp:3},s.subtitle)))),p.createElement(P.x,{padding:{xs:"16px 0",sm:"16px 0",md:"32px 0",lg:"32px 0",xl:"32px 0"}},p.createElement(Ue,{post:t,reason:r,publisherContext:o}))),(null===(n=t.previewImage)||void 0===n?void 0:n.id)&&p.createElement(P.x,{marginLeft:{xs:"24px",sm:"24px",md:"60px",lg:"60px",xl:"60px"}},p.createElement(ce.r,{onClick:a,href:i,ariaLabel:"Post Preview Image"},p.createElement(P.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"}},p.createElement(Ce.UV,{alt:t.title||"",miroId:t.previewImage.id,width:112,height:112,strategy:Re._S.Crop})),p.createElement(P.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"}},p.createElement(Ce.UV,{alt:t.title||"",miroId:t.previewImage.id,width:56,height:56,strategy:Re._S.Crop})))))))},je=function(){return{opacity:1}},We=function(){return{position:"absolute",left:0,right:0,opacity:"0",height:0,overflow:"hidden",transition:"opacity 50ms ease-out"}},He=function(){return{transition:"opacity 300ms ease-in",transitionDelay:"50ms",opacity:1}},ze=function(){return{opacity:"0",height:0,overflow:"hidden",transition:"opacity 0ms ease-in",transitionDelay:"0s"}},Ge=function(e){var n=e.post,t=e.postUrl,i=e.publisherContext,a=e.reason,l=e.showContent,r=void 0!==l&&l,o=e.showPreview,d=e.children,s=e.onReadMore,m=e.onHoverReadMore,c=(0,D.I)();if(!o)return d;var u=r?[He]:[He,ze],k=r?[je,We]:[je];return p.createElement(P.x,null,p.createElement(P.x,{position:"relative"},p.createElement("div",{className:c(k)},p.createElement(Ve,{post:n,postUrl:t,publisherContext:i,reason:a,onReadMore:s,onHoverReadMore:m}))),p.createElement("div",{className:c(u)},d))},Ke=t(10963),$e=["100%","95%","93%","98%","98%"],qe=function(){return p.createElement(P.x,{width:"100%"},$e.map((function(e,n){return p.createElement(P.x,{key:"placeholder-".concat(n),width:e,height:"16px",marginBottom:"18px",backgroundColor:"BASE_NORMAL"})})))},Ye=function(){var e=(0,D.I)(),n=(0,Ke.P)();return p.createElement("div",{className:e((function(){return n}))},p.createElement(qe,null))},Qe=function(e){var n=e.onReadMore,t=e.post,i=e.padding,a=void 0===i?"34px 0 0 0":i,l=(0,f.D)(),r=(0,v.SK)(),o=l(t),d=t.readingTime,s=(0,W.Rk)(o,{readmore:"1"});return p.createElement(ce.r,{href:s,onClick:n,display:"block"},p.createElement(P.x,{padding:a},p.createElement(ue.F,{color:r?"DARKER":"ACCENT",scale:"M"},"Read more · "," ",p.createElement(Be,{readingTime:d,isLighterText:r}))))},Je=function(e){var n=e.href,t=e.onReadMore,i=(0,D.I)();return p.createElement(ce.r,{href:n,onClick:t},p.createElement("div",{className:i((function(e){return{position:"absolute",top:0,backgroundColor:e.backgroundColor,height:"100%",width:"100%",opacity:"80%",zIndex:"1"}}))}))};function Xe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ze(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Xe(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var en=function(e){return{border:0,height:"1px",backgroundColor:e.baseColor.border.lighter,margin:0}},nn={xs:{marginTop:"32px",marginBottom:"30px"},sm:{marginTop:"32px",marginBottom:"30px"},md:{marginTop:"40px",marginBottom:"50px"},lg:{marginTop:"40px",marginBottom:"50px"},xl:{marginTop:"40px",marginBottom:"50px"}},tn={xs:{marginTop:"30px",marginBottom:"30px"},sm:{marginTop:"30px",marginBottom:"30px"},md:{marginTop:"50px",marginBottom:"50px"},lg:{marginTop:"50px",marginBottom:"50px"},xl:{marginTop:"50px",marginBottom:"50px"}},an=[B.NJ.H3,B.NJ.H4],ln=[B.NJ.IMG,B.NJ.IFRAME],rn=function(e){var n,t,i,l,o,s,B=e.post,z=e.excludeMargin,G=void 0!==z&&z,K=e.includeTopDivider,$=void 0===K||K,q=e.includeBottomDivider,Q=void 0!==q&&q,J=e.isFirst,X=void 0!==J&&J,Z=e.publisher,ee=e.hideAuthor,ne=void 0!==ee&&ee,te=e.index,ae=e.maxWidthSize,le=void 0===ae?"inset":ae,re=e.showInResponseToEntityPreview,oe=void 0!==re&&re,de=e.mayShowPinned,se=void 0!==de&&de,me=e.showHighDensityPreview,ce=void 0!==me&&me,ue=e.highDensityPreviewReason,pe=e.showBylinePublisherInfo,ke=void 0!==pe&&pe,ge=!!(0,w.H)().value,ve=(0,v.SK)(),fe=ve?"app":le,he=p.useRef(null),ye=p.useRef(null),Ne=p.useRef(null),xe=p.useState(!1),Ee=d()(xe,2),be=Ee[0],Fe=Ee[1],we=(0,N.sK)(),Pe=we.expandedPostId,Ie=we.setExpandedPostId,Ce=we.expandedPost,Oe=we.setExpandedPost,De=we.setPostInView,Re=(null==Ce?void 0:Ce.id)===B.id,Te=(0,D.I)(),Ae=(0,C.Av)(),Me=(0,L.G1)(),Be=(0,O.Lk)(),Le=Ze(Ze({},Be),{},{index:te}),Ue=(0,L.he)(),Ve=(0,U.v9)((function(e){return e.navigation.referrer}));Re&&(Ve=Ue);var je=(0,f.D)(),We=(0,O.f0)(Le),He=(0,W.Rk)(je(B),{source:We});(0,R.t)(ge,he,Ce,Re);var ze=p.useRef(null);(0,T.V)(ze,B,Re);var Ke=B.id,$e=B.collection,qe=B.extendedPreviewContent,Xe=B.isLocked,rn=B.firstPublishedAt,on=B.latestPublishedAt,dn=B.mediumUrl,sn=B.pinnedAt,mn=B.pinnedByCreatorAt,cn=B.visibility,un=B.inResponseToPostResult,pn=B.inResponseToMediaResource,kn=B.inResponseToCatalogResult,gn=(0,k.k6)(),vn=(0,L.PM)();Be&&Re&&(vn=(0,O.f0)(Be));var fn={referrer:Ve,sk:Me,source:vn},Sn=(0,u.useLazyQuery)(ie,{variables:{postId:B.id,postMeteringOptions:fn}}),hn=d()(Sn,2),yn=hn[0],Nn=hn[1],xn=Nn.called,En=Nn.data,bn=Nn.loading,Fn=Nn.error,wn=null==En?void 0:En.meterPost;p.useEffect((function(){if(!bn&&Pe===B.id){var e=new URL(He).pathname;if(Fn)gn.push({pathname:e});else if(xn){var n=null==En?void 0:En.postResult;if((0,H.f)(n)){try{var t=function(e,n){var t,i,a,l,r,o,d,s;if(null==e||null===(t=e.extendedPreviewContent)||void 0===t||null===(i=t.bodyModel)||void 0===i||null===(a=i.paragraphs)||void 0===a||!a.length)throw new Error("Expected post to have preview content.");e.extendedPreviewContent.bodyModel.paragraphs;var c=new Map;null!=e&&null!==(l=e.extendedPreviewContent)&&void 0!==l&&null!==(r=l.bodyModel)&&void 0!==r&&null!==(o=r.paragraphs)&&void 0!==o&&o.length&&e.extendedPreviewContent.bodyModel.paragraphs.forEach((function(e){c.set(e.name,e)}));var u=[],p=(e.content.bodyModel.paragraphs,[]);null!=e&&null!==(d=e.content)&&void 0!==d&&null!==(s=d.bodyModel)&&void 0!==s&&s.paragraphs&&e.content.bodyModel.paragraphs.forEach((function(e){var n,t,i=c.get(e.name);i&&(null===(n=i.text)||void 0===n?void 0:n.length)===(null===(t=e.text)||void 0===t?void 0:t.length)?u.push(i):p.push(e)}));var k=[].concat(u,p);return m()({},e,{content:Ze(Ze(Ze({},e.extendedPreviewContent),e.content),{},{isFullContent:!0,bodyModel:Ze(Ze(Ze({},e.extendedPreviewContent.bodyModel),e.content.bodyModel),{},{paragraphs:(0,S.e)(k,n,!1)})})})}(n,He);Ie(t.id),Oe(t)}catch(n){gn.push({pathname:e})}Fe(!1)}else gn.push({pathname:e})}else yn()}}),[Pe,xn,bn,En,Fn,He]),p.useEffect((function(){var e,n;Re&&Ae.event("post.clientViewed",{postId:B.id,collectionId:null===(e=B.collection)||void 0===e?void 0:e.id,collectionSlug:null===(n=B.collection)||void 0===n?void 0:n.slug,context:2,source:"post_page"},{referrer:Ve,referrerSource:vn})}),[Re]);var Pn=p.useCallback((function(e){var n;e.preventDefault(),Fe(!0);var t=null===(n=ye.current)||void 0===n?void 0:n.getBoundingClientRect();null!=t&&t.top&&(Ne.current=t.top),Ie(B.id)}),[]),In=p.useCallback((function(){xn||yn()}),[xn]);(0,j.L)((function(){var e,n=null===(e=ye.current)||void 0===e?void 0:e.getBoundingClientRect();if(null!=Ce&&Ce.id&&Re&&n){var t=n.top-(Ne.current||0);Boolean(t)&&window.scrollBy(0,t)}}),[null==Ce?void 0:Ce.id,Re]);var _n=gn.location,Cn=p.useCallback((function(e){if(null!=Ce&&Ce.id&&e){var n=new URL(He).pathname,t=(0,c.parse)(_n.search.slice(1)).p===B.id||n===_n.pathname,i=!!e.intersectionRatio;if(!i&&t)return De(!1),void gn.goBack();if(i&&!t){var a,l,r=(null===(a=_n.state)||void 0===a?void 0:a.preExpandedLocation)||_n,o={pathname:_n.pathname,search:"?p=".concat(Ce.id),state:{preExpandedLocation:r}};return ve&&(o={pathname:n,state:{preExpandedLocation:r}}),window.history.scrollRestoration="manual",De(!0),void(null!==(l=_n.state)&&void 0!==l&&l.preExpandedLocation?gn.replace(o):gn.push(o))}}}),[B.id,null==Ce?void 0:Ce.id,gn,_n,He]),On=p.useCallback((function(){return!Re}),[Re]);if((0,A.S)({onIntersect:Cn,target:ye,disconnect:On},[Re,Cn]),null==B||null===(n=B.extendedPreviewContent)||void 0===n||!n.bodyModel)return null;var Dn=null==B||null===(t=B.extendedPreviewContent)||void 0===t?void 0:t.bodyModel;if(!Dn)return null;var Rn=Ze(Ze({},Dn),{},{paragraphs:(0,S.e)(Dn.paragraphs,He)}),Tn=!!sn&&!!on,An=Tn?on:rn,Mn=Tn?"Updated ":"",Bn=!(null==B||null===(i=B.extendedPreviewContent)||void 0===i||!i.isFullContent),Ln=$&&!X&&p.createElement("hr",{className:Te(en)}),Un=Q&&p.createElement("hr",{className:Te(en)}),Vn=ve?{}:X?nn:tn,jn={postId:Ke,collectionId:null==$e?void 0:$e.id,isFullPost:null==qe?void 0:qe.isFullContent,postVisibility:(0,b.z)(cn),context:2,pinned:Boolean(sn)},Wn="User"===(null==Z?void 0:Z.__typename)&&B.collection?B.collection:B.creator,Hn="User"===(null==Z?void 0:Z.__typename)?mn:sn,zn="number"==typeof(0,x.LI)(Rn.paragraphs).titleIndex?void 0:40,Gn=p.createElement(p.Fragment,{key:"card-byline-and-mixtape"},ve&&B.creator?p.createElement(Se,{creator:B.creator,collection:B.collection,href:He,datePrefix:Mn,publishedAt:An,showStar:!!Xe,showPinned:se&&!!Hn,post:B,showPublisherInfo:ke}):Wn&&p.createElement(F.u_,{publisher:Wn,hideAuthor:ne,href:He,isOneLine:!0,datePrefix:Mn,publishedAt:An,showStar:!!Xe,showPinned:se&&!!Hn,post:B}),oe&&p.createElement(y.hM,{inResponseToCatalogResult:kn,inResponseToPostResult:un,inResponseToMediaResource:pn,padding:"24px 0 0",postPreviewMarginBottom:zn})),Kn=Rn.paragraphs[0]&&ln.includes(Rn.paragraphs[0].type)&&Rn.paragraphs[0].name,$n=Rn.paragraphs[1]&&an.includes(Rn.paragraphs[1].type)&&Rn.paragraphs[1].name,qn=Z||B.creator,Yn=!(Bn||Re||be||!dn||!qn),Qn=Xe&&(2===Rn.paragraphs.length||3===Rn.paragraphs.length)&&1===Dn.sections.length&&$n&&Kn,Jn=Rn.paragraphs[0],Xn=Rn.paragraphs[1],Zn={insertType:"BYLINE",order:"before",component:Gn},et={insertType:"MEDIA_OVERLAY",order:"after",component:p.createElement(Je,{key:"shortform-media-overlay-insert",href:He,onReadMore:Pn})},nt=null!=Xn&&Xn.name&&null!=Jn&&Jn.name?(l={},r()(l,Xn.name,[Zn]),r()(l,Jn.name,[et]),l):{},tt=Qn&&!Re,it=!ce||Re;return p.createElement(O.cW,{source:Le},p.createElement(P.x,a()({ref:ye,boxSizing:"content-box",marginLeft:"auto",marginRight:"auto"},G?{}:Vn),p.createElement(I.P,{size:fe},Ln,p.createElement(M.o,{post:B,presentationContext:"POST_PREVIEW",isDisplayingFullPost:Bn||Re,suppressedEvents:Bn?"VIEWED":void 0,shouldReportClientViewed:Re,reportClientViewedOnFullPost:!0,postClientViewedContext:2,pinned:!!sn},p.createElement(P.x,{paddingTop:Ln?Qn?{xs:"48px",sm:"48px",md:"72px",lg:"72px",xl:"72px"}:"24px":void 0},Wn&&!Qn&&Gn,ve&&Re&&p.createElement(Y,{expansionRef:ye}),p.createElement(P.x,{marginTop:Qn?"":"12px",ref:ze},p.createElement(V.O1,{event:{eventName:"post.permalinkClicked",data:Ze(Ze({},jn),{},{interfaceElement:"title"})}},p.createElement(Ge,{post:B,postUrl:He,reason:ue,publisherContext:null===(o=B.creator)||void 0===o?void 0:o.__typename,showPreview:ce,showContent:be||Re,onReadMore:Pn,onHoverReadMore:In},p.createElement(p.Fragment,null,p.createElement(E.b,{isAuroraPostPageEnabled:!0,post:Re?Ce:null,inlinePost:B,ref:he,richTextStyle:tt?"SHORTFORM_CARD":"INLINE",postBodyInserts:tt?nt:null,markedUpBodyModel:Rn}),be&&p.createElement(P.x,{paddingTop:"24px"},p.createElement(Ye,null))))))),Yn&&!ce&&p.createElement(_.D,{onMouseEnter:In,onMouseLeave:function(){}},p.createElement(Qe,{onReadMore:Pn,post:B,padding:Qn?"24px 0 0 0":void 0})),Ce&&wn&&Re&&p.createElement(h.cu,{post:Ce,meteringInfo:wn,excludePadding:!0}))),p.createElement(P.x,{marginTop:ce&&!Re?void 0:"36px"}),B&&it&&p.createElement(g.T,{isDockingEnabled:ve&&Re,maxWidthSize:fe},p.createElement(_e,{post:B,publisherContext:null===(s=B.creator)||void 0===s?void 0:s.__typename,isActiveExpandedPost:Re})),ce&&Re&&p.createElement(P.x,{paddingBottom:"32px"})),Q&&p.createElement(I.P,{size:fe},Un))}},72350:(e,n,t)=>{"use strict";t.d(n,{G:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},32149:(e,n,t)=>{"use strict";t.d(n,{G:()=>r});var i=t(28655),a=t.n(i);function l(){var e=a()(["\n  fragment useShouldShowEntityDrivenSubscription_creator on User {\n    id\n  }\n"]);return l=function(){return e},e}var r=(0,t(71439).Ps)(l())},14071:(e,n,t)=>{"use strict";t.d(n,{E:()=>u,U:()=>p});var i=t(28655),a=t.n(i),l=t(71439),r=t(67294),o=t(49549),d=t(32272),s=t(42933),m=t(51512);function c(){var e=a()(["\n  fragment SharePostButtons_post on Post {\n    id\n    isLimitedState\n    visibility\n    mediumUrl\n    ...SharePostButton_post\n  }\n  ","\n"]);return c=function(){return e},e}var u=(0,l.Ps)(c(),d.o);function p(e){var n=e.post,t=e.source,i="UNLISTED"===n.visibility;return r.createElement(r.Fragment,null,r.createElement(m.cW,{source:{name:t}},r.createElement(s.x,{flexGrow:"0",paddingRight:"1px"},!i&&r.createElement(d.f,{socialPlatform:"TWITTER",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n})),r.createElement(s.x,{flexGrow:"0",paddingRight:"1px"},!i&&r.createElement(d.f,{socialPlatform:"FACEBOOK",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n})),r.createElement(s.x,{flexGrow:"0",paddingRight:"1px"},!i&&r.createElement(d.f,{socialPlatform:"LINKEDIN",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n}))),r.createElement(s.x,{flexGrow:"0"},!i&&n.mediumUrl&&r.createElement(o._,{url:n.mediumUrl,copyStyle:n.isLimitedState?"ICON_DISABLED":"ICON",source:t,reportData:{postId:n.id}})))}},37258:(e,n,t)=>{"use strict";t.d(n,{o:()=>y});var i=t(63038),a=t.n(i),l=t(28655),r=t.n(l),o=t(71439),d=t(80439),s=t(67294),m=t(66893),c=t(36511),u=t(90738),p=t(14414),k=t(95760),g=t(51512),v=t(11348),f=t(67297);function S(){var e=r()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return S=function(){return e},e}var h=(0,o.Ps)(S()),y=function(e){var n=e.actionUrl,t=e.children,i=e.onSuccess,l=e.token,r=e.userId,o=(0,k.Av)(),S=!!(0,m.P5)("skip_sign_in_recaptcha"),y=s.useState(!1),N=a()(y,2),x=N[0],E=N[1],b=(0,f.v9)((function(e){return e.navigation.currentLocation})),F=function(){E(!1)},w=(0,g.pK)(),P=(0,g.hp)(),I=n&&l?(0,p.hQ)(b,w,P,n,l):(0,p.hQ)(b,w,P),_=(0,c.r)(),C=_.loading,O=_.error,D=_.viewerId;return C||O?null:s.createElement(d.mm,{mutation:h,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":o.event("site.loginLinkSent",{}),i&&i();break;case"FailedChallenge":o.event("site.loginByEmailCaptchaFailure",{}),E(!1);break;case"BadRequest":case"NotFound":default:F()}},onError:F},(function(e){var n=function(n){(0,v.Zs)(!0,D,r,"Email",!1);var t="medium";o.event("susi.methodClicked",{entryPoint:P,operation:"login",susiMethod:t.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:t.toLowerCase(),alternateUserSuggestionTargetUserId:r,alternateUserSuggestionSourceUserId:D}),e({variables:{userId:r,redirect:I,captchaValue:n}})};return s.createElement(s.Fragment,null,!S&&s.createElement(u.k,{callback:n,shouldExecuteRecaptcha:x}),t({handleSubmit:function(){return S?n(null):E(!0)}}))}))}},19608:(e,n,t)=>{"use strict";t.d(n,{r:()=>d});var i=t(67294),a=t(90174),l=t(4134),r=t(70146),o=t(37581),d=function(e){var n=e.actionUrl,t=e.token,d=e.userSocialLogins,s={actionUrl:n||"",operation:"login",token:t||"",targetUserId:d.userId,alternateUserSuggestion:!0};return i.createElement(o.$,{eventData:{operation:s.operation}},d.google?i.createElement(l.x,s):d.facebook?i.createElement(a.q,s):d.twitter?i.createElement(r.G,s):i.createElement(i.Fragment,null))}},27168:(e,n,t)=>{"use strict";t.d(n,{G:()=>p});var i=t(59713),a=t.n(i),l=t(67294),r=t(12291),o=t(76532),d=t(82318),s=t(51512),m=t(85277),c=t(67297);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}var p=function(e){var n=e.declineSuggestedAccount,t=e.isSocial,i=(0,c.v9)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),p=(0,s.hp)(),k=(0,r.I0)(),g=(0,o.H)(),v=g.loading,f=g.error,S=g.value;if(v||f)return l.createElement(l.Fragment,null);var h=function(e){return e?l.createElement(d.r,{onClick:function(){return y("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):l.createElement(l.Fragment,null,"Not you?"," ",l.createElement(d.r,{onClick:function(){return y("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",l.createElement(d.r,{onClick:function(){return y("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},y=function(e){var t="SIGNIN_OPTIONS"===e?"login":"register";n(),k((0,m.Pc)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({operation:t,step:e},!!p&&{susiEntry:p})))};return i?h(S):S?l.createElement(d.r,{onClick:function(){return n()}},"Not me"):h(t)}},48881:(e,n,t)=>{"use strict";t.d(n,{o:()=>N});var i=t(28655),a=t.n(i),l=t(59713),r=t.n(l),o=t(63038),d=t.n(o),s=t(71439),m=t(80439),c=t(67294),u=t(76532),p=t(36511),k=t(95760),g=t(51512),v=t(33572),f=t(8403);function S(){var e=a()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return S=function(){return e},e}function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var N=function(e){var n=e.children,t=e.postRenderCallback,i=(0,k.Av)(),a=(0,g.hp)(),l=(0,f.PM)(),r=(0,g.P7)(l||""),o=r.userId,s=r.name,S=c.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),h=d()(S,2),N=h[0],E=h[1];c.useEffect((function(){var e=N.shouldRun,n=N.showSuggestedAccount,i=N.userSocialLogins;e&&t(b,n,i)}),[N.shouldRun]);var b=(0,u.H)().value,F=(0,p.r)(),w=F.loading,P=F.error,I=F.viewerId;if(w||P)return null;var _=!("email"!==s||b&&b.mediumMemberAt||!o);return _&&o?c.createElement(m.AE,{query:x,variables:{userId:o}},(function(e){var l=e.loading,r=e.error,o=e.data,d=(o=void 0===o?{}:o).userSocialLogins,s=!(l||r||!d||b&&!d.isMember||!d.facebook&&!d.google&&!d.twitter&&!d.redactedEmailAddress),m=y({loading:l,showSuggestedAccount:s},s&&{userSocialLogins:d,declineSuggestedAccount:function(){var e=(0,v.S)(d);i.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==d?void 0:d.userId,alternateUserSuggestionSourceUserId:I})}});return!t||l||N.shouldRun||E({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:d}),n(m)})):(t&&!N.shouldRun&&E(y(y({},N),{},{shouldRun:!0})),n({showSuggestedAccount:_,loading:!1}))},x=(0,s.Ps)(S())},5731:(e,n,t)=>{"use strict";var i;t.d(n,{j:()=>i}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(i||(i={}))},99416:(e,n,t)=>{"use strict";t.d(n,{w:()=>r});var i=t(319),a=t.n(i),l=t(81663),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"UserSubscribeButton_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPartnerProgramEnrolled"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}},{kind:"Field",name:{kind:"Name",value:"isUser"}}]}},{kind:"Field",name:{kind:"Name",value:"viewerIsUser"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useNewsletterV3Subscription_newsletterV3"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useNewsletterV3Subscription_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubscribedMembershipUpsellModal_user"}}]}}].concat(a()(l.DI.definitions),a()(l.nj.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SubscribedMembershipUpsellModal_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"postSubscribeMembershipUpsellShownAt"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))}},58491:(e,n,t)=>{"use strict";t.d(n,{t:()=>S,W:()=>h});var i=t(28655),a=t.n(i),l=t(63038),r=t.n(l),o=t(71439),d=t(67294),s=t(12291),m=t(50188),c=t(95760),u=t(51512),p=t(27108),k=t(85277),g=t(8403),v=t(21146);function f(){var e=a()(["\n  fragment PostReadTracker_post on Post {\n    id\n    collection {\n      slug\n    }\n    sequence {\n      sequenceId\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n  }\n"]);return f=function(){return e},e}function S(e,n,t,i){var a=(0,c.Av)(),l=(0,u.pK)(),o=(0,g.he)(),f=d.useState(!1),S=r()(f,2),h=S[0],y=S[1],N=(0,s.I0)();d.useEffect((function(){if(!h&&t){var r=function(){if(n.current&&!h){var r=(0,v.L6)(n.current),d=(0,v.tM)(r),s=d.top+d.height,c=(0,v.tM)((0,v.t_)()),u=c.top+c.height,p=t.content.isLockedPreviewOnly,g=i||l.includes("post_page");if(!p&&u>=s-100&&g){y(!0),N((0,k.C2)(!0));var f={source:i?"post_page":l,postId:t.id,collectionSlug:t.collection?t.collection.slug:"",sequenceId:t.sequence?t.sequence.sequenceId:""},S={referrer:o,referrerSource:l};i?a.event("post.clientRead",f,S):a.event("post.clientRead",f),e||(0,m.T8)(t.id)}}};return p.V6.on("scroll_end",r),function(){p.V6.off("scroll_end",r)}}}),[h,t,i]),d.useEffect((function(){return function(){N((0,k.C2)(!1))}}),[])}var h=(0,o.Ps)(f())},50294:(e,n,t)=>{"use strict";t.d(n,{_:()=>r});var i=t(319),a=t.n(i),l=t(61598),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityDrivenSubscriptionLandingPageScreen_writer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"isPartnerProgramEnrolled"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat(a()(l.$.definitions))}},2874:(e,n,t)=>{"use strict";t.d(n,{d0:()=>R,_k:()=>T});var i=t(28655),a=t.n(i),l=t(71439),r=t(67294),o=t(60046),d=t(62872),s=t(43689),m=t(51562),c=t(47578),u=t(71542),p=t(76532),k=t(62181),g=t(11852),v=t(75209),f=t(42933),S=t(55099),h=t(82318),y=t(98024),N=t(17614),x=t(95760),E=t(51512),b=t(67297),F=t(6522),w=t(96879),P=t(27952),I=t(61598);function _(){var e=a()(["\n  fragment EntityDrivenSubscriptionLandingPageScreen_writer on User {\n    name\n    imageId\n    id\n    username\n    isPartnerProgramEnrolled\n    ...userUrl_user\n  }\n  ","\n"]);return _=function(){return e},e}var C="entity-driven-sub-landing-page",O=function(){return r.createElement(d.l,{borderColor:"rgb(230 230 230)",height:s.Je,heightSm:s.R2},r.createElement(v.P,null,r.createElement(f.x,{display:"flex",alignItems:"center",height:"".concat(s.Je,"px"),sm:{height:"".concat(s.R2,"px")},flexDirection:"row"},r.createElement(f.x,{justifySelf:"flex-start",flexGrow:"1"},r.createElement(o.Rv,{size:"S"})),r.createElement(D,null))))},D=function(){return(0,p.H)().value?null:r.createElement(f.x,{justifySelf:"flex-end"},r.createElement(y.F,{scale:"L"},r.createElement(f.x,{display:"flex",flexDirection:"row",sm:{flexDirection:"column"}},r.createElement(f.x,{paddingRight:"4px"},"Already a member?"),r.createElement(k.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_lp"},"Sign in"))))},R=function(e){var n,t,i=e.user,a=e.redirectExperiment,l=e.postId,o=(0,b.v9)((function(e){return e.config.authDomain})),d=(0,E.pK)(),s=(0,p.H)().value,k=(0,x.Av)();r.useEffect((function(){k.event("entityDrivenSubscriptionPage.viewed",{creatorId:null==i?void 0:i.id,source:d})}),[]);var I=r.useCallback((function(){k.event("entityDrivenSubCallToAction.clicked",{userId:null==s?void 0:s.id,entityId:null==i?void 0:i.id})}),[i,null==s?void 0:s.id,o]);if(!i)return null;var _=null!==(n=i.name)&&void 0!==n?n:"",D=null!==(t=i.imageId)&&void 0!==t?t:F.gG,R=i.id,T=(0,P.AWr)(i,o),A=(0,w.Rk)((0,P.c5p)(o),{subscribeToUserId:R,susiEntry:"entity_driven_subscription_lp"}),M=l?(0,P.o2w)(o,l):T,B=null!=s&&s.mediumMemberAt?T:A;return(0,c.KQ)({},_),r.createElement(r.Fragment,null,r.createElement(E.cW,{source:{name:"entity_driven_subscription",userId:R}},r.createElement(f.x,{display:"flex",height:"100vh",flexDirection:"column"},r.createElement(O,null),r.createElement(f.x,{display:"flex",height:"0",flexGrow:"1",textAlign:"center",justifyContent:"center",alignItems:"center",flexDirection:"column"},r.createElement(v.P,{size:"inset"},r.createElement(f.x,{display:"flex",paddingBottom:"32px",justifyContent:"center"},r.createElement(u.s,null,r.createElement(g.z,{miroId:D,alt:_||"",diameter:128,freezeGifs:!1})),r.createElement(u.e,null,r.createElement(g.z,{miroId:D,alt:_||"",diameter:80,freezeGifs:!1}))),r.createElement(f.x,{paddingBottom:"20px"},r.createElement(N.F1,{scale:{xs:"S",sm:"S",md:"L",lg:"L",xl:"L"}},r.createElement(m.W,{featureString:C,target:"title-copy"},"Read every story from ",_," (and thousands of other writers on Medium)."))),r.createElement(f.x,{paddingBottom:"20px"},r.createElement(y.F,{scale:"L",color:"DARKER"},r.createElement(m.W,{featureString:C,target:"description-copy"},"Your membership fee directly supports ",_," and other writers you read. You'll also get full access to every story on Medium."))),r.createElement(f.x,{display:"flex",paddingBottom:"20px",flexDirection:{xs:a?"column-reverse":void 0,sm:a?"column-reverse":void 0,md:void 0,lg:void 0,xl:void 0},justifyContent:"center"},a&&r.createElement(f.x,{paddingRight:{xs:void 0,sm:void 0,md:"12px",lg:"12px",xl:"12px"},paddingTop:{xs:"12px",sm:"12px",md:void 0,lg:void 0,xl:void 0}},r.createElement(S.z,{href:M,buttonStyle:"OBVIOUS",size:"LARGE"},"Not now")),r.createElement(f.x,null,r.createElement(S.z,{onClick:I,href:B,buttonStyle:"STRONG",size:"LARGE"},r.createElement(m.W,{featureString:C,target:"logged-in-button-copy"},"Become a member")))),!a&&r.createElement(y.F,{scale:"L",color:"DARKER",tag:"span"},r.createElement(h.r,{linkStyle:"SUBTLE",href:T},r.createElement(m.W,{featureString:C,target:"link-copy"},"Visit ",_,"'s profile"))))))))},T=(0,l.Ps)(_(),I.$)},33572:(e,n,t)=>{"use strict";function i(e){if((e.match(/ /g)||[]).length>1)return"";var n=e.indexOf(" ");return e.substring(0,n)}function a(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}t.d(n,{J:()=>i,S:()=>a})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8166.2b4d56df.chunk.js.map