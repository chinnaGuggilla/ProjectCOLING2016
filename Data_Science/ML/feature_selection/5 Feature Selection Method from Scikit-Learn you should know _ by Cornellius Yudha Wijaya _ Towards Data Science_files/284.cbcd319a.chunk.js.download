(self.webpackChunklite=self.webpackChunklite||[]).push([[284],{52957:(e,n,t)=>{"use strict";t.d(n,{T:()=>d});var i=t(63038),a=t.n(i),o=t(67294),r=t(42933),l=t(75209),s=t(27108),d=function(e){var n=e.isDockingEnabled,t=void 0!==n&&n,i=e.undockedBackgroundColor,d=e.withPadding,c=void 0!==d&&d,u=e.maxWidthSize,m=void 0===u?"inset":u,p=e.children,g=o.useRef(null),v=o.useRef(null),f=o.useState(!1),k=a()(f,2),h=k[0],E=k[1];o.useEffect((function(){var e=function(){var e,n,t=null===(e=g.current)||void 0===e?void 0:e.getBoundingClientRect().y,i=null===(n=v.current)||void 0===n?void 0:n.getBoundingClientRect().y;t&&i&&E(Boolean(i-t))};if(e(),t)return s.V6.on("scroll",e),function(){s.V6.off("scroll",e)}}),[t]);var x=t&&h;return o.createElement(o.Fragment,null,o.createElement(r.x,{ref:v}),o.createElement(r.x,{ref:g,position:t?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:t?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:x?"BACKGROUND":i,borderTop:x?{xs:"NONE",sm:"NONE",md:"BASE_LIGHTER",lg:"BASE_LIGHTER",xl:"BASE_LIGHTER"}:"NONE"},o.createElement(r.x,{padding:x||c?"8px 0":void 0},o.createElement(l.P,{size:m},p))))}},66921:(e,n,t)=>{"use strict";t.d(n,{B:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicPill_tag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}}]}}]}},87508:(e,n,t)=>{"use strict";t.d(n,{cu:()=>se,Y6:()=>le,rU:()=>re});var i=t(28655),a=t.n(i),o=t(71439),r=t(67294),l=t(32149),s=t(2874);function d(){var e=a()(["\n  fragment MemberOnlyWall_post on Post {\n    id\n    creator {\n      id\n      name\n      username\n      ...useShouldShowEntityDrivenSubscription_creator\n      ...EntityDrivenSubscriptionLandingPageScreen_writer\n    }\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}var c=(0,o.Ps)(d(),l.G,s._k),u=t(12291),m=t(42933),p=t(67122),g=function(e){var n=e.children;return r.createElement(r.Fragment,null,r.createElement(m.x,{marginTop:"-240px",background:"linear-gradient(".concat((0,p.l9)(0),",\n        ").concat((0,p.l9)(.5),",\n        ").concat((0,p.l9)(1),")"),height:"250px",position:"relative",width:"100%"}),r.createElement(m.x,{backgroundColor:"BACKGROUND"},r.createElement(m.x,{margin:"auto",maxWidth:"760px",sm:{margin:"0 24px 0"}},n)))},v=t(51562),f=t(53976),k=t(76532),h=t(36511),E=t(324),x=t(37258),S=t(19608),y=t(27168),b=t(48881),w=t(62876),P=t(55099),I=t(17614),N=t(98024),C=t(95760),_=t(51512),F=t(96907),T=t(33572),O=t(85277),A=t(67297),R=t(27952);function B(){var e=a()(["\n  fragment PayWall_post on Post {\n    id\n    creator {\n      name\n    }\n  }\n"]);return B=function(){return e},e}var D=function(e){var n=e.optimizelyFeatureString,t=e.post,i=e.showTrialPaywall,a=e.authDomain,o=(0,k.H)().value;return r.createElement(_.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:t.id}},r.createElement(F.M,null,r.createElement(m.x,{display:"inline-block",textAlign:"center"},r.createElement(v.W,{featureString:n,target:i?"trial-upsell-button":"upsell-button-".concat(o&&o.hasPastMemberships?"resume-membership":"upgrade")},r.createElement(w.a,{isButton:!0,buttonStyle:i?"BRAND":"STRONG",width:i||o&&o.hasPastMemberships?"182px":"104px",redirectUrl:(0,R.c5p)(a)},i?"Start your free trial":o&&o.hasPastMemberships?"Resume membership":"Upgrade")))))},L=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,i=(0,u.I0)();return r.createElement(_.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},r.createElement(m.x,{display:"flex",sm:{flexDirection:"column"}},r.createElement(m.x,{display:"flex",flexDirection:"row",justifyContent:"center"},t.facebook||t.google||t.twitter?r.createElement(S.r,{userSocialLogins:t}):r.createElement(x.o,{onSuccess:function(){return i((0,O.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:t.userId},(function(e){var n=e.handleSubmit;return r.createElement(P.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:n},"Send login link")})))),n&&r.createElement(m.x,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},r.createElement(N.F,{scale:"M"},r.createElement(y.G,{declineSuggestedAccount:n,isSocial:!!t&&!!(t.facebook||t.google||t.twitter)}))))},M=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,i=e.suggestedAccountEventData,a=e.showSuggestedAccount,o=e.postId;return r.createElement(_.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:o}},r.createElement(F.M,{eventData:i},r.createElement(m.x,{display:"inline-block",textAlign:"center"},r.createElement(L,{declineSuggestedAccount:n,showSuggestedAccount:a,userSocialLogins:t}),r.createElement(m.x,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},r.createElement(N.F,{scale:"L"},r.createElement(w.a,{eventData:i,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},U=function(e){var n=e.post,t=e.excludePadding,i=void 0!==t&&t,a=(0,A.v9)((function(e){return e.config.authDomain})),o=(0,A.v9)((function(e){return e.config.productName})),l=(0,k.H)().value,s=(0,h.r)().viewerId,d=(0,C.Av)(),c=null==l?void 0:l.isMembershipTrialEligible,u=!(!(0,f.VB)({name:"enable_trial_upsell",placeholder:!1})||!c),p=!!(0,f.VB)({name:"optimizely_holdback",placeholder:!1});r.useEffect((function(){c&&d.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[c]);var x="paywall";return r.createElement(E.N8,null,r.createElement(g,null,r.createElement(b.o,{postRenderCallback:function(){}},(function(e){var t,d=e.loading,c=e.showSuggestedAccount,g=e.declineSuggestedAccount,f=e.userSocialLogins;return d?r.createElement(r.Fragment,null):(c&&(x="suggested-account-paywall"),c&&(t={alternateUserSuggestionShown:c,alternateUserSuggestionAccountType:(0,T.S)(f),alternateUserSuggestionTargetUserId:!!f&&f.userId,alternateUserSuggestionSourceUserId:s}),r.createElement(r.Fragment,null,r.createElement(v.W,{featureString:x,target:u?"trial-background-color":"background-color"},r.createElement(m.x,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},r.createElement(m.x,{display:"flex",flexDirection:"column",padding:i?"48px 0 0":"48px 50px",sm:{padding:"28px 16px 32px",textAlign:"center"}},r.createElement(v.W,{featureString:x,target:u?"webCCTrialHeading":"fewerClicksHeading"},r.createElement(I.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,n,t,i){var a=i.showSuggestedAccount,o=i.showTrialPaywall,l=i.inHoldback,s=n?(0,T.J)(n):null;return s=s&&s.length<=13?s:null,a?"Switch to your member account for unlimited reading.":o?r.createElement(m.x,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},s?"".concat(s,", keep reading."):"Keep reading."):r.createElement(m.x,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},l?"How to read this story — and everything else on ".concat(e,"."):s?t?"".concat(s,", read more from ").concat(t," — and everyone else on ").concat(e,"."):"".concat(s,", here's how to read this story — and everything else on ").concat(e,"."):t?"How to read this story from ".concat(t," — and everything else on ").concat(e,"."):"How to read this story — and everything else on ".concat(e,"."))}(o,l&&l.name,n.creator&&n.creator.name,{showSuggestedAccount:c,showTrialPaywall:u,inHoldback:p}))),r.createElement(N.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!c&&!u&&r.createElement(r.Fragment,null,r.createElement(v.W,{featureString:x,target:"second-header-fewer-clicks"},r.createElement(m.x,{marginTop:"8px",marginBottom:"28px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},"You’ve read all your free member-only stories. Become a member to get unlimited access and support the voices you want to hear more from.")),r.createElement(m.x,{display:"flex",justifyContent:"flex-start",sm:{justifyContent:"center"}},r.createElement(D,{optimizelyFeatureString:x,post:n,showTrialPaywall:u,authDomain:a}))),r.createElement(v.W,{featureString:x,target:u?"subtitle-copy-web-cc-trial":"subtitle-copy-fewer-clicks"},r.createElement(m.x,{marginTop:c?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,n,t,i){var a=t.showTrialPaywall;if(t.showSuggestedAccount&&n){var o=n.isMember,l=n.redactedEmailAddress;return r.createElement(r.Fragment,null,"Looks like you're coming from the ",o&&"member ","account"," ",r.createElement("b",null,l)," but you’re signed in as ",r.createElement("b",null,null==i?void 0:i.email),". Switch to your",o?" member account for unlimited access":" account",".")}return r.createElement(m.x,{marginTop:"28px",marginBottom:"28px",textAlign:a?"center":"left"},a?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):r.createElement(r.Fragment,null,r.createElement("b",null,"Read any story. "),"Access everything on ",e," across all your devices with no limits or ads.",r.createElement("br",null),r.createElement("br",null),r.createElement("b",null,"Reward great writing. "),"A portion of your membership fee will go toward the writers you read most."))}(o,f,{showSuggestedAccount:c,showTrialPaywall:u},l)))),!!c&&f&&r.createElement(M,{declineSuggestedAccount:g,userSocialLogins:f,suggestedAccountEventData:t,showSuggestedAccount:c,postId:n.id}),u&&!c&&r.createElement(D,{optimizelyFeatureString:x,post:n,showTrialPaywall:u,authDomain:a}))))))}))))},j=(0,o.Ps)(B()),W=t(6401),V=t(66893),H=t(62181),z=t(5731),G=t(59317),K=t(81405),$=t(90174),q=t(4134),Y=t(37581);function Q(){var e=a()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return Q=function(){return e},e}function J(){var e=a()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return J=function(){return e},e}var X="post_regwall",Z=function(e){var n=e.enablePasswords,t=e.meterCount,i=e.optimizelyFeatureString,a=e.postId,o={operation:"register"},l=(0,G.j)().openModal,s=function(e){var t=e.children;return n?r.createElement(v.W,{featureString:i,target:"google-button"},t):t};return r.createElement(m.x,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},r.createElement(v.W,{featureString:i,target:"google-button"},r.createElement(m.x,{margin:"".concat(n?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},r.createElement(Y.$,{eventData:{meterCount:t,operation:o.operation,postId:a}},r.createElement(q.x,o)))),r.createElement(s,null,r.createElement(m.x,{marginBottom:n?"32px":"52px",sm:{marginBottom:"40px"}},r.createElement(Y.$,{eventData:{meterCount:t,operation:o.operation,postId:a}},n?r.createElement(K.R,{goToEmailAuthStep:function(){l({step:"ENTER_EMAIL",susiEntry:X,operation:"register"})},operation:"register"}):r.createElement($.q,o)))))},ee=function(e){var n=e.meteringInfo,t=e.post,i=e.setIsLORegWallVisible,a=(0,C.Av)(),o=!!(0,V.P5)("enable_passwords"),l="LOCKED_POST_SOURCE_SYNDICATED"===t.lockedSource,s="".concat(l?"syndicated-":"","regwall");return r.useEffect((function(){a.event("meter.viewed",{meterCount:null==n?void 0:n.postIds.length,postId:t.id,uiType:l?z.j.SyndicatedRegwall:z.j.RegWall}),i&&i(!0)}),[]),r.createElement(E.N8,null,r.createElement(_.cW,{source:{postId:t.id,susiEntry:X}},r.createElement(g,null,r.createElement(v.W,{featureString:s,target:"background-color"},r.createElement(m.x,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"}},r.createElement(m.x,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},r.createElement(v.W,{featureString:s,target:"heading"},r.createElement(I.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},r.createElement(m.x,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),r.createElement(m.x,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account."))),r.createElement(N.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},r.createElement(m.x,{display:"none",margin:"auto",paddingTop:"10px",width:"500px"},"You’ll also discover more fresh thinking personalized to your interests and can follow your favorite authors, publications, and topics."),r.createElement(m.x,{display:"none",sm:{display:"block"}},r.createElement(m.x,{margin:"".concat(o?"40px":"42px"," 0")},r.createElement(W.a,{isButton:!0,postId:t.id,appEntry:"regwall"})),r.createElement(v.W,{featureString:s,target:"skip-app-copy"},r.createElement(m.x,{marginBottom:"-20px"},"Or, continue in mobile web"))),r.createElement(Z,{meterCount:null==n?void 0:n.postIds.length,optimizelyFeatureString:s,postId:t.id,enablePasswords:o}),r.createElement(v.W,{featureString:s,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),r.createElement(v.W,{featureString:s,target:"sign-in-link",tag:"span"},r.createElement(H.R9,{linkStyle:"OBVIOUS",operation:"login",post:t,susiEntry:X},"Sign in")))))))))},ne=(0,o.Ps)(J(),H.qU),te=(0,o.Ps)(Q()),ie=t(1932);function ae(){var e=a()(["\n  fragment Wall_meteringInfo on MeteringInfo {\n    ...RegWall_meteringInfo\n  }\n  ","\n"]);return ae=function(){return e},e}function oe(){var e=a()(["\n  fragment Wall_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    isLocked\n    isMarkedPaywallOnly\n    ...MemberOnlyWall_post\n    ...PayWall_post\n    ...RegWall_post\n  }\n  ","\n  ","\n  ","\n"]);return oe=function(){return e},e}var re=(0,o.Ps)(oe(),c,j,ne),le=(0,o.Ps)(ae(),te),se=function(e){var n=e.post,t=e.meteringInfo,i=e.excludePadding,a=e.setIsLORegWallVisible,o=n.id,l=n.content.isLockedPreviewOnly,s=(0,k.H)(),d=s.value,c=s.loading;if(!(0,ie.n)(o,l).loading&&l){if(d)return r.createElement(U,{post:n,excludePadding:i});if(!c)return r.createElement(ee,{post:n,meteringInfo:t,setIsLORegWallVisible:a})}return null}},15789:(e,n,t)=>{"use strict";t.d(n,{bl:()=>D,Uw:()=>R,mW:()=>A});var i=t(67154),a=t.n(i),o=t(63038),r=t.n(o),l=t(28655),s=t.n(l),d=t(46829),c=t(71439),u=t(67294),m=t(2277),p=t(25415),g=t(40820),v=t(69677),f=t(72846),k=t(91442),h=t(59713),E=t.n(h),x=t(11642);function S(){var e=s()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return S=function(){return e},e}function y(){var e=s()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return y=function(){return e},e}function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){E()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function P(e,n,t){if(!e||"number"!=typeof n||"number"!=typeof t)return null;var i=n,a=t;return e.substr(i,a-i)}var I=(0,c.Ps)(y()),N=(0,c.Ps)(S()),C=t(76532),_=t(44059);function F(){var e=s()(["\n  query InteractivePostBodyQuery($postId: ID!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return F=function(){return e},e}function T(){var e=s()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that postMeteringOptions is defined in PostHandler, which uses InteractivePostBody\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return T=function(){return e},e}function O(){var e=s()(["\n  fragment InteractivePostBody_postPreview on Post {\n    extendedPreviewContent(\n      truncationConfig: {\n        previewParagraphsWordCountThreshold: 100\n        minimumWordLengthForTruncation: 150\n        truncateAtEndOfSentence: true\n        showFullImageCaptions: true\n        shortformPreviewParagraphsWordCountThreshold: 30\n        shortformMinimumWordLengthForTruncation: 30\n      }\n    ) {\n      bodyModel {\n        ...PostBody_bodyModel\n      }\n      isFullContent\n    }\n  }\n  ","\n"]);return O=function(){return e},e}var A=(0,c.Ps)(O(),f.Pk),R=(0,c.Ps)(T(),g.iF,k.iB,N,f.Pk,f.v),B=(0,c.Ps)(F(),g.UW,k.g8,f.XV,f.w6,I),D=u.forwardRef((function(e,n){var t,i,o,l=e.activeGrafId,s=e.activeNoteId,c=e.isAuroraPostPageEnabled,h=e.post,E=e.inlinePost,S=e.postBodyInserts,y=e.richTextStyle,b=e.markedUpBodyModel,I=e.shouldHideHighlightAnnotations,N=(0,C.H)().value,F=E&&!h?b||(null==E||null===(t=E.extendedPreviewContent)||void 0===t?void 0:t.bodyModel):null==h||null===(i=h.content)||void 0===i?void 0:i.bodyModel,T={creator:null==h?void 0:h.creator,isAuroraPostPageEnabled:c,postBodyInserts:S,ref:n,richTextStyle:y||"FULL_PAGE"},O=h&&h.creator&&h.creator.allowNotes||!1,A=(0,d.useLazyQuery)(B,{ssr:!1,variables:{postId:(null==h?void 0:h.id)||"",showNotes:O},notifyOnNetworkStatusChange:!0}),R=r()(A,2),D=R[0],L=R[1],M=L.called,U=L.data,j=null==U?void 0:U.post;if(u.useEffect((function(){h&&!M&&D()}),[h]),!F)return _.t.log("Expected post to have content or preview content."),null;var W=(null==h||null===(o=h.content)||void 0===o?void 0:o.bodyModel)&&(null==h?void 0:h.content.bodyModel.paragraphs)||[],V=function(e,n){return e&&n?e.map((function(e){var t=e.endOffset,i=e.startOffset,a=e.paragraphs&&e.paragraphs[0],o=function(e,n){return e?n.find((function(n){var t=n.name;return e===t})):null}(a.name,n);if(!a||!o)return null;var r=P(a.text,i,t),l=P(o.text,i,t);if(!r||!l)return null;if(r===l)return e;var s=o.text?o.text.indexOf(r):null;if("number"!=typeof s||s<0)return null;var d=s+r.length;return w(w({},e),{},{endOffset:d,startOffset:s})})).filter(x.b):e}(j&&j.highlights||[],W),H=j&&j.privateNotes||null;return u.createElement(v.yb,null,u.createElement(p.KN,{initialActivePrivateNoteId:s,initialActiveGrafName:l},u.createElement(g.Ms,{interactivePost:h,highlights:V,disableSelection:!h},u.createElement(k.U7,{highlights:V,paragraphs:W,viewer:N},u.createElement(m.c.Provider,{value:!0},u.createElement(f.yO,a()({},T,{bodyModel:F,highlights:V,privateNotes:H,shouldHideHighlightAnnotations:I})))))))}))},56029:(e,n,t)=>{"use strict";t.d(n,{z:()=>d});var i=t(319),a=t.n(i),o=t(32018),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AddToCatalogBase_bookEdition"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEdition"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefined"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"editCatalogItemsMutation_bookEditionViewerEdge"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useAddItemToPredefinedCatalog_bookEditionViewerEdge"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithToggleInsideCatalog_bookEdition"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"editCatalogItemsMutation_bookEditionViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEditionViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"useAddItemToPredefinedCatalog_bookEditionViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEditionViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"WithToggleInsideCatalog_bookEdition"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEdition"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefined"}}]}}]}}]}}]}}]))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AddToCatalogBase_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"editCatalogItemsMutation_postViewerEdge"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useAddItemToPredefinedCatalog_postViewerEdge"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithToggleInsideCatalog_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"editCatalogItemsMutation_postViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"useAddItemToPredefinedCatalog_postViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"WithToggleInsideCatalog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefined"}}]}}]}}]}}]}}]))},s=([{kind:"FragmentDefinition",name:{kind:"Name",value:"AddToCatalogBookmarkButton_bookEdition"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEdition"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBase_bookEdition"}}]}}].concat(a()(r.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBase_post"}}]}}].concat(a()(l.definitions))}),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookmarkButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"}}]}}].concat(a()(o.qU.definitions),a()(s.definitions))}},50188:(e,n,t)=>{"use strict";t.d(n,{kD:()=>v,T8:()=>f,Qw:()=>k});var i,a,o=t(59713),r=t.n(o),l=t(57953),s="post-view",d="post-read",c="topic-view",u="medium-search",m="external-search",p=(i={},r()(i,s,200),r()(i,d,200),r()(i,c,200),r()(i,u,200),r()(i,m,200),i),g=(a={},r()(a,s,new l.Z("pv")),r()(a,d,new l.Z("pr")),r()(a,c,new l.Z("tv")),r()(a,u,new l.Z("ms")),r()(a,m,new l.Z("es")),a),v=function(e){h(s,e,Date.now())},f=function(e){h(d,e,Date.now())},k=function(e){h(c,e,Date.now())},h=function(e,n,t){var i=g[e];i.getCount()===p[e]&&i.clean();try{i.set(n,t)}catch(e){i.clean()}}},90284:(e,n,t)=>{"use strict";t.r(n),t.d(n,{ExpandablePost:()=>ln,ExpandablePost_meteringInfo:()=>an,ExpandablePost_post:()=>on});var i=t(67154),a=t.n(i),o=t(59713),r=t.n(o),l=t(63038),s=t.n(l),d=t(28655),c=t.n(d),u=t(82492),m=t.n(u),p=t(17673),g=t(46829),v=t(71439),f=t(67294),k=t(5977),h=t(52957),E=t(75341),x=t(34488),S=t(40917),y=t(87508),b=t(10233),w=t(30570),P=t(4743),I=t(15789),N=t(99822),C=t(42933),_=t(6688),F=["100%","95%","93%","98%","98%"],T=function(){return f.createElement(C.x,{width:"100%"},F.map((function(e,n){return f.createElement(C.x,{key:"placeholder-".concat(n),width:e,height:"16px",marginBottom:"18px",backgroundColor:"BASE_NORMAL"})})))},O=function(){var e=(0,_.I)(),n=(0,N.P)();return f.createElement("div",{className:e((function(){return n}))},f.createElement(T,null))},A=t(82318),R=t(98024),B=t(96879),D=t(27390),L=function(e){return{color:e.baseColor.text.lighter}},M=function(e){var n=e.readingTime,t=e.isLighterText,i=void 0!==t&&t,a=(0,_.I)();if(!n)return null;var o="".concat((0,D.Vd)(n)," min read");return f.createElement("span",{className:i?a(L):void 0},o)},U=function(e){var n=e.onReadMore,t=e.post,i=e.padding,a=void 0===i?"34px 0 0 0":i,o=(0,x.D)(),r=(0,E.SK)(),l=o(t),s=t.readingTime,d=(0,B.Rk)(l,{readmore:"1"});return f.createElement(A.r,{href:d,onClick:n,display:"block"},f.createElement(C.x,{padding:a},f.createElement(R.F,{color:r?"DARKER":"ACCENT",scale:"M"},"Read more · "," ",f.createElement(M,{readingTime:s,isLighterText:r}))))},j=function(e){var n=e.href,t=e.onReadMore,i=(0,_.I)();return f.createElement(A.r,{href:n,onClick:t},f.createElement("div",{className:i((function(e){return{position:"absolute",top:0,backgroundColor:e.backgroundColor,height:"100%",width:"100%",opacity:"80%",zIndex:"1"}}))}))},W=t(93912),V=t(50077),H=t(76532),z=t(75209),G=t(57693),K=t(95760),$=t(51512),q=t(15699),Y=t(66210),Q=t(58491),J=t(36891),X=t(14391),Z=t(8403),ee=t(67297),ne=t(32261),te=t(64227),ie=t(19732);function ae(){return(ae=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var oe=f.createElement("circle",{cx:16,cy:16,r:16,fill:"#A8A8A8"}),re=f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.77 16.48l5.4 5.4.7-.7-5.4-5.4 4.7-4.7-.71-.7-4.69 4.69-4.69-4.7-.7.71 4.68 4.7-5.4 5.4.71.7 5.4-5.4z",fill:"#FAFAFA"});const le=function(e){return f.createElement("svg",ae({width:32,height:32,fill:"none"},e),oe,re)};var se=function(){return{border:"none",padding:"0",background:"transparent",cursor:"pointer"}},de=function(e){var n=e.expansionRef,t=(0,_.I)(),i=(0,k.k6)(),a=(0,w.sK)(),o=a.setExpandedPostId,r=a.setExpandedPost;return f.createElement(C.x,{position:"sticky",top:"40px",height:"0",textAlign:"right"},f.createElement(C.x,{position:"relative",bottom:"20px"},f.createElement("button",{type:"button",className:t(se),onClick:function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().y;t&&t<0&&window.scrollBy(0,t),r(null),o(null),i.goBack()},"aria-label":"Collapse"},f.createElement(le,null))))},ce=t(83687),ue=t(36823),me=t(9292),pe=t(11852),ge=t(6522);function ve(){var e=c()(["\n  fragment ExpandablePostByline_collection on Collection {\n    __typename\n    id\n    name\n    domain\n    slug\n  }\n"]);return ve=function(){return e},e}function fe(){var e=c()(["\n  fragment ExpandablePostByline_user on User {\n    __typename\n    id\n    name\n    username\n    imageId\n    hasSubdomain\n    customDomainState {\n      live {\n        domain\n      }\n    }\n  }\n"]);return fe=function(){return e},e}var ke=function(e){var n=e.publication,t=(0,ce.R)(n);return f.createElement(C.x,{display:"flex"},f.createElement(C.x,{padding:"0 2px"},f.createElement(R.F,{scale:"M"},"in")),f.createElement(A.r,{href:t,display:"inline-block"},f.createElement(R.F,{scale:"M",color:"DARKER",clamp:1},n.name)))},he=function(e){var n=e.creator,t=e.collection,i=(0,ue.B)(n);return f.createElement(C.x,{display:"flex",flexWrap:"wrap",alignItems:"center"},f.createElement(A.r,{href:i},f.createElement(R.F,{scale:"M",color:"DARKER",clamp:1},n.name)),t&&t.name!==n.name&&f.createElement(ke,{publication:t}))},Ee=function(e){var n=e.creator,t=e.collection,i=e.datePrefix,a=e.href,o=e.publishedAt,r=e.showStar,l=void 0!==r&&r,s=e.showPinned,d=void 0!==s&&s,c=e.showPublisherInfo,u=void 0!==c&&c,m=e.post;return f.createElement(me.Y,{avatar:n&&u&&f.createElement(pe.z,{miroId:n.imageId||ge.gG,alt:n.name||"",diameter:24,freezeGifs:!0}),isOneLine:!0,title:u?f.createElement(he,{creator:n,collection:t}):null,description:f.createElement(V.Q5,{datePrefix:i,publishedAt:o,withMidDot:u,href:a,showStar:l,showPinned:d,isOneLine:!0,post:m})})},xe=((0,v.Ps)(fe()),(0,v.Ps)(ve()),t(14345)),Se=t(39186),ye=t(86948),be=t(64578),we=t(21356),Pe=t(33819),Ie=t(72393),Ne=t(53976),Ce=t(14071);function _e(){var e=c()(["\n  fragment ExpandablePostFooter_post on Post {\n    id\n    allowResponses\n    postResponses {\n      count\n    }\n    isLimitedState\n    ...TruncatedPostCardOverflowButton_post\n    ...BookmarkButton_post\n    ...PostFooterSocialPopover_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return _e=function(){return e},e}var Fe=(0,v.Ps)(_e(),Se.r,ye.z,be.u,we.x),Te=function(e){var n=e.post,t=e.publisherContext,i=e.isActiveExpandedPost,a=f.useContext(Ie.f).openSidebar,o=(0,w.sK)(),r=o.expandedPostId,l=o.postInView,s=n.clapCount,d=n.mediumUrl,c=n.postResponses,u=Boolean(s),m=(null==c?void 0:c.count)||0,p={post:n,source:"expandable_post_footer"},g=(0,Ne.VB)({name:"enable_seamless_social_sharing",placeholder:!1});return f.createElement(C.x,{display:"flex",justifyContent:"space-between",alignItems:"center"},f.createElement(C.x,{display:"flex",alignItems:"center"},f.createElement(we.S,{post:n,buttonStyle:"SUBTLE_MARGIN",susiEntry:"clap_preview",hasDialog:!0,shouldHideClapsText:!0}),f.createElement(C.x,{display:"flex",alignItems:"center",xl:{marginLeft:u?"24px":"12px"},lg:{marginLeft:u?"24px":"12px"},md:{marginLeft:u?"16px":"8px"},sm:{marginLeft:u?"0":"8px"},xs:{marginLeft:u?"0":"8px"},paddingTop:"3px"},f.createElement(A.r,{href:d+"?responsesOpen=true"},f.createElement(C.x,{marginTop:"5px"},f.createElement(Pe.h,{trackingData:{postId:n.id},responsesCount:m,handleClick:l&&r===n.id?function(e){e.preventDefault(),a()}:function(){},allowResponses:n.allowResponses,isLimitedState:n.isLimitedState,responsesCountColor:"DARKER",countStylesOverride:{marginLeft:"4px"}}))))),f.createElement(C.x,{display:"flex",alignItems:"center"},i&&g?f.createElement(Ce.U,p):f.createElement(be.$,p),f.createElement(C.x,{margin:"0 6px 0 7px"},f.createElement(ye.e,{post:n,susiEntry:"bookmark_preview"})),t&&f.createElement(C.x,{marginRight:"-4px"},f.createElement(xe.A,{post:n,publisherContext:t}))))},Oe=t(27721),Ae=t(80908),Re=t(55581),Be=t(90038),De=t(79810),Le=t(95248),Me=function(e){var n=e.post,t=e.reason,i=e.publisherContext,a=n.readingTime,o=n.tags,r=o&&o[0];return f.createElement(C.x,{display:"flex",justifyContent:"space-between"},f.createElement(C.x,{display:"flex",flexGrow:"1",flexShrink:"0",alignItems:"center"},r&&f.createElement(C.x,{paddingRight:"8px"},f.createElement(De.Pl,{topic:r,scale:"S"})),f.createElement(C.x,null,f.createElement(R.F,{scale:"S"},f.createElement(M,{readingTime:a}))),t&&f.createElement(f.Fragment,null,f.createElement(C.x,{padding:"0 8px"},f.createElement(Le.O,{scale:"S"})),f.createElement(C.x,{sm:{display:"none"}},f.createElement(R.F,{scale:"S"},t)))),f.createElement(C.x,{display:"flex"},f.createElement(C.x,{marginRight:"8px"},f.createElement(ye.e,{post:n,susiEntry:"bookmark_preview"})),i&&f.createElement(C.x,null,f.createElement(xe.A,{post:n,publisherContext:i}))))},Ue=function(e){var n,t=e.post,i=e.postUrl,a=e.onReadMore,o=e.onHoverReadMore,r=e.reason,l=e.publisherContext,s=t.title,d=t.previewContent;return f.createElement(C.x,null,f.createElement(G.D,{onMouseEnter:o,onMouseLeave:function(){}},f.createElement(C.x,{display:"flex"},f.createElement(C.x,{flexGrow:"1",flexShrink:"1",wordBreak:"break-word"},f.createElement(C.x,null,f.createElement(A.r,{onClick:a,href:i,ariaLabel:"Post Preview Title"},s&&f.createElement(C.x,{paddingBottom:{xs:"0",sm:"0",md:"8px",lg:"8px",xl:"8px"}},f.createElement(Ae.Dx,{scale:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},clamp:2},s)),(null==d?void 0:d.subtitle)&&f.createElement(C.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"}},f.createElement(Re.uT,{scale:"XS",clamp:3},d.subtitle)))),f.createElement(C.x,{padding:{xs:"16px 0",sm:"16px 0",md:"32px 0",lg:"32px 0",xl:"32px 0"}},f.createElement(Me,{post:t,reason:r,publisherContext:l}))),(null===(n=t.previewImage)||void 0===n?void 0:n.id)&&f.createElement(C.x,{marginLeft:{xs:"24px",sm:"24px",md:"60px",lg:"60px",xl:"60px"}},f.createElement(A.r,{onClick:a,href:i,ariaLabel:"Post Preview Image"},f.createElement(C.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"}},f.createElement(Oe.UV,{alt:t.title||"",miroId:t.previewImage.id,width:112,height:112,strategy:Be._S.Crop})),f.createElement(C.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"}},f.createElement(Oe.UV,{alt:t.title||"",miroId:t.previewImage.id,width:56,height:56,strategy:Be._S.Crop})))))))},je=function(){return{opacity:1}},We=function(){return{position:"absolute",left:0,right:0,opacity:"0",height:0,overflow:"hidden",transition:"opacity 50ms ease-out"}},Ve=function(){return{transition:"opacity 300ms ease-in",transitionDelay:"50ms",opacity:1}},He=function(){return{opacity:"0",height:0,overflow:"hidden",transition:"opacity 0ms ease-in",transitionDelay:"0s"}},ze=function(e){var n=e.post,t=e.postUrl,i=e.publisherContext,a=e.reason,o=e.showContent,r=void 0!==o&&o,l=e.showPreview,s=e.children,d=e.onReadMore,c=e.onHoverReadMore,u=(0,_.I)();if(!l)return s;var m=r?[Ve]:[Ve,He],p=r?[je,We]:[je];return f.createElement(C.x,null,f.createElement(C.x,{position:"relative"},f.createElement("div",{className:u(p)},f.createElement(Ue,{post:n,postUrl:t,publisherContext:i,reason:a,onReadMore:d,onHoverReadMore:c}))),f.createElement("div",{className:u(m)},s))},Ge=t(55001),Ke=t(21204);function $e(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function qe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$e(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$e(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ye(){var e=c()(["\n  query ExpandablePostExpandedQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    postResult(id: $postId) {\n      __typename\n      ... on Post {\n        id\n        collection {\n          id\n          slug\n        }\n        content(postMeteringOptions: $postMeteringOptions) {\n          bodyModel {\n            paragraphs {\n              name\n              text\n            }\n          }\n        }\n        ...InteractivePostBody_post\n        ...Wall_post\n        ...ExpandablePost_post\n        ...InlineExpansionContext_post\n        ...PostReadTracker_post\n      }\n    }\n    meterPost(postId: $postId, postMeteringOptions: $postMeteringOptions) {\n      __typename\n      ... on MeteringInfo {\n        ...Wall_meteringInfo\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ye=function(){return e},e}function Qe(){var e=c()(["\n  fragment ExpandablePost_post on Post {\n    id\n    creator {\n      ...CardByline_user\n    }\n    collection {\n      ...CardByline_collection\n    }\n    ...InteractivePostBody_postPreview\n    firstPublishedAt\n    isLocked\n    isSeries\n    isShortform\n    latestPublishedAt\n    mediumUrl\n    postResponses {\n      count\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    readingTime\n    sequence {\n      slug\n    }\n    title\n    uniqueSlug\n    visibility\n    inResponseToPostResult {\n      ...InResponseToEntityPreview_postResult\n    }\n    inResponseToCatalogResult {\n      ...InResponseToEntityPreview_catalogResult\n    }\n    ...CardByline_post\n    ...ExpandablePostFooter_post\n    ...PostPresentationTracker_post\n    ...PostScrollTracker_post\n    ...InResponseToEntityPreview_mediaResource\n    ...ReadMore_post\n    ...HighDensityPreview_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Qe=function(){return e},e}function Je(){var e=c()(["\n  fragment ExpandablePost_meteringInfo on MeteringInfo {\n    ...Wall_meteringInfo\n  }\n  ","\n"]);return Je=function(){return e},e}var Xe=function(e){return{border:0,height:"1px",backgroundColor:e.baseColor.border.lighter,margin:0}},Ze={xs:{marginTop:"32px",marginBottom:"30px"},sm:{marginTop:"32px",marginBottom:"30px"},md:{marginTop:"40px",marginBottom:"50px"},lg:{marginTop:"40px",marginBottom:"50px"},xl:{marginTop:"40px",marginBottom:"50px"}},en={xs:{marginTop:"30px",marginBottom:"30px"},sm:{marginTop:"30px",marginBottom:"30px"},md:{marginTop:"50px",marginBottom:"50px"},lg:{marginTop:"50px",marginBottom:"50px"},xl:{marginTop:"50px",marginBottom:"50px"}},nn=[X.NJ.H3,X.NJ.H4],tn=[X.NJ.IMG,X.NJ.IFRAME],an=(0,v.Ps)(Je(),y.Y6),on=(0,v.Ps)(Qe(),V.yu,I.mW,V.br,Fe,q.h,Y.k,V.We,b.uy,b.lh,b.NY,Ke.q,Ge.U),rn=(0,v.Ps)(Ye(),I.Uw,y.rU,on,w.q9,Q.W,y.Y6),ln=function(e){var n,t,i,o,l,d,c=e.post,u=e.excludeMargin,v=void 0!==u&&u,N=e.includeTopDivider,F=void 0===N||N,T=e.includeBottomDivider,A=void 0!==T&&T,R=e.isFirst,D=void 0!==R&&R,L=e.publisher,M=e.hideAuthor,X=void 0!==M&&M,ae=e.index,oe=e.maxWidthSize,re=void 0===oe?"inset":oe,le=e.showInResponseToEntityPreview,se=void 0!==le&&le,ce=e.mayShowPinned,ue=void 0!==ce&&ce,me=e.showHighDensityPreview,pe=void 0!==me&&me,ge=e.highDensityPreviewReason,ve=e.showBylinePublisherInfo,fe=void 0!==ve&&ve,ke=!!(0,H.H)().value,he=(0,E.SK)(),xe=he?"app":re,Se=f.useRef(null),ye=f.useRef(null),be=f.useRef(null),we=f.useState(!1),Pe=s()(we,2),Ie=Pe[0],Ne=Pe[1],Ce=(0,w.sK)(),_e=Ce.expandedPostId,Fe=Ce.setExpandedPostId,Oe=Ce.expandedPost,Ae=Ce.setExpandedPost,Re=Ce.setPostInView,Be=(null==Oe?void 0:Oe.id)===c.id,De=(0,_.I)(),Le=(0,K.Av)(),Me=(0,Z.G1)(),Ue=(0,$.Lk)(),je=qe(qe({},Ue),{},{index:ae}),We=(0,Z.he)(),Ve=(0,ee.v9)((function(e){return e.navigation.referrer}));Be&&(Ve=We);var He=(0,x.D)(),Ge=(0,$.f0)(je),Ke=(0,B.Rk)(He(c),{source:Ge});(0,Q.t)(ke,Se,Oe,Be);var $e=f.useRef(null);(0,Y.V)($e,c,Be);var Ye=c.id,Qe=c.collection,Je=c.extendedPreviewContent,an=c.isLocked,on=c.firstPublishedAt,ln=c.latestPublishedAt,sn=c.mediumUrl,dn=c.pinnedAt,cn=c.pinnedByCreatorAt,un=c.visibility,mn=c.inResponseToPostResult,pn=c.inResponseToMediaResource,gn=c.inResponseToCatalogResult,vn=(0,k.k6)(),fn=(0,Z.PM)();Ue&&Be&&(fn=(0,$.f0)(Ue));var kn={referrer:Ve,sk:Me,source:fn},hn=(0,g.useLazyQuery)(rn,{variables:{postId:c.id,postMeteringOptions:kn}}),En=s()(hn,2),xn=En[0],Sn=En[1],yn=Sn.called,bn=Sn.data,wn=Sn.loading,Pn=Sn.error,In=null==bn?void 0:bn.meterPost;f.useEffect((function(){if(!wn&&_e===c.id){var e=new URL(Ke).pathname;if(Pn)vn.push({pathname:e});else if(yn){var n=null==bn?void 0:bn.postResult;if((0,ie.f)(n)){try{var t=function(e,n){var t,i,a,o,r,l,s,d;if(null==e||null===(t=e.extendedPreviewContent)||void 0===t||null===(i=t.bodyModel)||void 0===i||null===(a=i.paragraphs)||void 0===a||!a.length)throw new Error("Expected post to have preview content.");var c=new Map;null!=e&&null!==(o=e.extendedPreviewContent)&&void 0!==o&&null!==(r=o.bodyModel)&&void 0!==r&&null!==(l=r.paragraphs)&&void 0!==l&&l.length&&e.extendedPreviewContent.bodyModel.paragraphs.forEach((function(e){c.set(e.name,e)}));var u=[],p=[];null!=e&&null!==(s=e.content)&&void 0!==s&&null!==(d=s.bodyModel)&&void 0!==d&&d.paragraphs&&e.content.bodyModel.paragraphs.forEach((function(e){var n,t=c.get(e.name);t&&t.text.length===(null===(n=e.text)||void 0===n?void 0:n.length)?u.push(t):p.push(e)}));var g=[].concat(u,p);return m()({},e,{content:qe(qe(qe({},e.extendedPreviewContent),e.content),{},{isFullContent:!0,bodyModel:qe(qe(qe({},e.extendedPreviewContent.bodyModel),e.content.bodyModel),{},{paragraphs:(0,S.e)(g,n,!1)})})})}(n,Ke);Fe(t.id),Ae(t)}catch(n){vn.push({pathname:e})}Ne(!1)}else vn.push({pathname:e})}else xn()}}),[_e,yn,wn,bn,Pn,Ke]),f.useEffect((function(){var e,n;Be&&Le.event("post.clientViewed",{postId:c.id,collectionId:null===(e=c.collection)||void 0===e?void 0:e.id,collectionSlug:null===(n=c.collection)||void 0===n?void 0:n.slug,context:2,source:"post_page"},{referrer:Ve,referrerSource:fn})}),[Be]);var Nn=f.useCallback((function(e){var n;e.preventDefault(),Ne(!0);var t=null===(n=ye.current)||void 0===n?void 0:n.getBoundingClientRect();null!=t&&t.top&&(be.current=t.top),Fe(c.id)}),[]),Cn=f.useCallback((function(){yn||xn()}),[yn]);(0,te.L)((function(){var e,n=null===(e=ye.current)||void 0===e?void 0:e.getBoundingClientRect();if(null!=Oe&&Oe.id&&Be&&n){var t=n.top-(be.current||0);Boolean(t)&&window.scrollBy(0,t)}}),[null==Oe?void 0:Oe.id,Be]);var _n=vn.location,Fn=f.useCallback((function(e){if(null!=Oe&&Oe.id&&e){var n=new URL(Ke).pathname,t=(0,p.parse)(_n.search.slice(1)).p===c.id||n===_n.pathname,i=!!e.intersectionRatio;if(!i&&t)return Re(!1),void vn.goBack();if(i&&!t){var a,o,r=(null===(a=_n.state)||void 0===a?void 0:a.preExpandedLocation)||_n,l={pathname:_n.pathname,search:"?p=".concat(Oe.id),state:{preExpandedLocation:r}};return he&&(l={pathname:n,state:{preExpandedLocation:r}}),window.history.scrollRestoration="manual",Re(!0),void(null!==(o=_n.state)&&void 0!==o&&o.preExpandedLocation?vn.replace(l):vn.push(l))}}}),[c.id,null==Oe?void 0:Oe.id,vn,_n,Ke]),Tn=f.useCallback((function(){return!Be}),[Be]);if((0,J.S)({onIntersect:Fn,target:ye,disconnect:Tn},[Be,Fn]),null==c||null===(n=c.extendedPreviewContent)||void 0===n||!n.bodyModel)return null;var On=null==c||null===(t=c.extendedPreviewContent)||void 0===t?void 0:t.bodyModel;if(!On)return null;var An=qe(qe({},On),{},{paragraphs:(0,S.e)(On.paragraphs,Ke)}),Rn=!!dn&&!!ln,Bn=Rn?ln:on,Dn=Rn?"Updated ":"",Ln=!(null==c||null===(i=c.extendedPreviewContent)||void 0===i||!i.isFullContent),Mn=F&&!D&&f.createElement("hr",{className:De(Xe)}),Un=A&&f.createElement("hr",{className:De(Xe)}),jn=he?{}:D?Ze:en,Wn={postId:Ye,collectionId:null==Qe?void 0:Qe.id,isFullPost:null==Je?void 0:Je.isFullContent,postVisibility:(0,W.z)(un),context:2,pinned:Boolean(dn)},Vn="User"===(null==L?void 0:L.__typename)&&c.collection?c.collection:c.creator,Hn="User"===(null==L?void 0:L.__typename)?cn:dn,zn="number"==typeof(0,P.LI)(An.paragraphs).titleIndex?void 0:40,Gn=f.createElement(f.Fragment,{key:"card-byline-and-mixtape"},he&&c.creator?f.createElement(Ee,{creator:c.creator,collection:c.collection,href:Ke,datePrefix:Dn,publishedAt:Bn,showStar:!!an,showPinned:ue&&!!Hn,post:c,showPublisherInfo:fe}):Vn&&f.createElement(V.u_,{publisher:Vn,hideAuthor:X,href:Ke,isOneLine:!0,datePrefix:Dn,publishedAt:Bn,showStar:!!an,showPinned:ue&&!!Hn,post:c}),se&&f.createElement(b.hM,{inResponseToCatalogResult:gn,inResponseToPostResult:mn,inResponseToMediaResource:pn,padding:"24px 0 0",postPreviewMarginBottom:zn})),Kn=An.paragraphs[0]&&tn.includes(An.paragraphs[0].type)&&An.paragraphs[0].name,$n=An.paragraphs[1]&&nn.includes(An.paragraphs[1].type)&&An.paragraphs[1].name,qn=L||c.creator,Yn=!(Ln||Be||Ie||!sn||!qn),Qn=an&&(2===An.paragraphs.length||3===An.paragraphs.length)&&1===On.sections.length&&$n&&Kn,Jn=An.paragraphs[0],Xn=An.paragraphs[1],Zn={insertType:"BYLINE",order:"before",component:Gn},et={insertType:"MEDIA_OVERLAY",order:"after",component:f.createElement(j,{key:"shortform-media-overlay-insert",href:Ke,onReadMore:Nn})},nt=null!=Xn&&Xn.name&&null!=Jn&&Jn.name?(o={},r()(o,Xn.name,[Zn]),r()(o,Jn.name,[et]),o):{},tt=Qn&&!Be,it=!pe||Be;return f.createElement($.cW,{source:je},f.createElement(C.x,a()({ref:ye,boxSizing:"content-box",marginLeft:"auto",marginRight:"auto"},v?{}:jn),f.createElement(z.P,{size:xe},Mn,f.createElement(q.o,{post:c,presentationContext:"POST_PREVIEW",isDisplayingFullPost:Ln||Be,suppressedEvents:Ln?"VIEWED":void 0,shouldReportClientViewed:Be,reportClientViewedOnFullPost:!0,postClientViewedContext:2,pinned:!!dn},f.createElement(C.x,{sm:{marginTop:Mn?Qn?"48px":"24px":void 0},marginTop:Mn?Qn?"72px":"24px":void 0},Vn&&!Qn&&Gn,he&&Be&&f.createElement(de,{expansionRef:ye}),f.createElement(C.x,{marginTop:Qn?"":"12px",ref:$e},f.createElement(ne.O1,{event:{eventName:"post.permalinkClicked",data:qe(qe({},Wn),{},{interfaceElement:"title"})}},f.createElement(ze,{post:c,postUrl:Ke,reason:ge,publisherContext:null===(l=c.creator)||void 0===l?void 0:l.__typename,showPreview:pe,showContent:Ie||Be,onReadMore:Nn,onHoverReadMore:Cn},f.createElement(f.Fragment,null,f.createElement(I.bl,{isAuroraPostPageEnabled:!0,post:Be?Oe:null,inlinePost:c,ref:Se,richTextStyle:tt?"SHORTFORM_CARD":"INLINE",postBodyInserts:tt?nt:null,markedUpBodyModel:An}),Ie&&f.createElement(C.x,{paddingTop:"24px"},f.createElement(O,null))))))),Yn&&!pe&&f.createElement(G.D,{onMouseEnter:Cn,onMouseLeave:function(){}},f.createElement(U,{onReadMore:Nn,post:c,padding:Qn?"24px 0 0 0":void 0})),Oe&&In&&f.createElement(y.cu,{post:Oe,meteringInfo:In,excludePadding:!0}))),f.createElement(C.x,{marginTop:pe&&!Be?void 0:"36px"}),c&&it&&f.createElement(h.T,{isDockingEnabled:he&&Be,maxWidthSize:xe},f.createElement(Te,{post:c,publisherContext:null===(d=c.creator)||void 0===d?void 0:d.__typename,isActiveExpandedPost:Be})),pe&&Be&&f.createElement(C.x,{paddingBottom:"32px"})),A&&f.createElement(z.P,{size:xe},Un))}},55001:(e,n,t)=>{"use strict";t.d(n,{U:()=>d});var i=t(319),a=t.n(i),o=t(66921),r=t(56029),l=t(39186),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighDensityFooter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicPill_tag"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"TruncatedPostCardOverflowButton_post"}}]}}].concat(a()(o.B.definitions),a()(r.z.definitions),a()(l.r.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighDensityPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighDensityFooter_post"}}]}}].concat(a()(s.definitions))}},21204:(e,n,t)=>{"use strict";t.d(n,{q:()=>r});var i=t(319),a=t.n(i),o=t(88833),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadMore_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat(a()(o.u.definitions))}},32149:(e,n,t)=>{"use strict";t.d(n,{G:()=>r});var i=t(28655),a=t.n(i);function o(){var e=a()(["\n  fragment useShouldShowEntityDrivenSubscription_creator on User {\n    id\n  }\n"]);return o=function(){return e},e}var r=(0,t(71439).Ps)(o())},14071:(e,n,t)=>{"use strict";t.d(n,{E:()=>m,U:()=>p});var i=t(28655),a=t.n(i),o=t(71439),r=t(67294),l=t(49549),s=t(32272),d=t(42933),c=t(51512);function u(){var e=a()(["\n  fragment SharePostButtons_post on Post {\n    id\n    isLimitedState\n    visibility\n    mediumUrl\n    ...SharePostButton_post\n  }\n  ","\n"]);return u=function(){return e},e}var m=(0,o.Ps)(u(),s.o);function p(e){var n=e.post,t=e.source,i="UNLISTED"===n.visibility;return r.createElement(r.Fragment,null,r.createElement(c.cW,{source:{name:t}},r.createElement(d.x,{flexGrow:"0",paddingRight:"1px"},!i&&r.createElement(s.f,{socialPlatform:"TWITTER",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n})),r.createElement(d.x,{flexGrow:"0",paddingRight:"1px"},!i&&r.createElement(s.f,{socialPlatform:"FACEBOOK",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n})),r.createElement(d.x,{flexGrow:"0",paddingRight:"1px"},!i&&r.createElement(s.f,{socialPlatform:"LINKEDIN",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n}))),r.createElement(d.x,{flexGrow:"0"},!i&&n.mediumUrl&&r.createElement(l._,{url:n.mediumUrl,copyStyle:n.isLimitedState?"ICON_DISABLED":"ICON",source:t,reportData:{postId:n.id}})))}},37258:(e,n,t)=>{"use strict";t.d(n,{o:()=>x});var i=t(63038),a=t.n(i),o=t(28655),r=t.n(o),l=t(71439),s=t(80439),d=t(67294),c=t(66893),u=t(36511),m=t(90738),p=t(14414),g=t(95760),v=t(51512),f=t(11348),k=t(67297);function h(){var e=r()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return h=function(){return e},e}var E=(0,l.Ps)(h()),x=function(e){var n=e.actionUrl,t=e.children,i=e.onSuccess,o=e.token,r=e.userId,l=(0,g.Av)(),h=!!(0,c.P5)("skip_sign_in_recaptcha"),x=d.useState(!1),S=a()(x,2),y=S[0],b=S[1],w=(0,k.v9)((function(e){return e.navigation.currentLocation})),P=function(){b(!1)},I=(0,v.pK)(),N=(0,v.hp)(),C=n&&o?(0,p.hQ)(w,I,N,n,o):(0,p.hQ)(w,I,N),_=(0,u.r)(),F=_.loading,T=_.error,O=_.viewerId;return F||T?null:d.createElement(s.mm,{mutation:E,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":l.event("site.loginLinkSent",{}),i&&i();break;case"FailedChallenge":l.event("site.loginByEmailCaptchaFailure",{}),b(!1);break;case"BadRequest":case"NotFound":default:P()}},onError:P},(function(e){var n=function(n){(0,f.Zs)(!0,O,r,"Email",!1);var t="medium";l.event("susi.methodClicked",{entryPoint:N,operation:"login",susiMethod:t.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:t.toLowerCase(),alternateUserSuggestionTargetUserId:r,alternateUserSuggestionSourceUserId:O}),e({variables:{userId:r,redirect:C,captchaValue:n}})};return d.createElement(d.Fragment,null,!h&&d.createElement(m.k,{callback:n,shouldExecuteRecaptcha:y}),t({handleSubmit:function(){return h?n(null):b(!0)}}))}))}},19608:(e,n,t)=>{"use strict";t.d(n,{r:()=>s});var i=t(67294),a=t(90174),o=t(4134),r=t(70146),l=t(37581),s=function(e){var n=e.actionUrl,t=e.token,s=e.userSocialLogins,d={actionUrl:n||"",operation:"login",token:t||"",targetUserId:s.userId,alternateUserSuggestion:!0};return i.createElement(l.$,{eventData:{operation:d.operation}},s.google?i.createElement(o.x,d):s.facebook?i.createElement(a.q,d):s.twitter?i.createElement(r.G,d):i.createElement(i.Fragment,null))}},27168:(e,n,t)=>{"use strict";t.d(n,{G:()=>p});var i=t(59713),a=t.n(i),o=t(67294),r=t(12291),l=t(76532),s=t(82318),d=t(51512),c=t(85277),u=t(67297);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}var p=function(e){var n=e.declineSuggestedAccount,t=e.isSocial,i=(0,u.v9)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),p=(0,d.hp)(),g=(0,r.I0)(),v=(0,l.H)(),f=v.loading,k=v.error,h=v.value;if(f||k)return o.createElement(o.Fragment,null);var E=function(e){return e?o.createElement(s.r,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):o.createElement(o.Fragment,null,"Not you?"," ",o.createElement(s.r,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",o.createElement(s.r,{onClick:function(){return x("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},x=function(e){var t="SIGNIN_OPTIONS"===e?"login":"register";n(),g((0,c.Pc)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({operation:t,step:e},!!p&&{susiEntry:p})))};return i?E(h):h?o.createElement(s.r,{onClick:function(){return n()}},"Not me"):E(t)}},48881:(e,n,t)=>{"use strict";t.d(n,{o:()=>S});var i=t(28655),a=t.n(i),o=t(59713),r=t.n(o),l=t(63038),s=t.n(l),d=t(71439),c=t(80439),u=t(67294),m=t(76532),p=t(36511),g=t(95760),v=t(51512),f=t(33572),k=t(8403);function h(){var e=a()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return h=function(){return e},e}function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=function(e){var n=e.children,t=e.postRenderCallback,i=(0,g.Av)(),a=(0,v.hp)(),o=(0,k.PM)(),r=(0,v.P7)(o||""),l=r.userId,d=r.name,h=u.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),E=s()(h,2),S=E[0],b=E[1];u.useEffect((function(){var e=S.shouldRun,n=S.showSuggestedAccount,i=S.userSocialLogins;e&&t(w,n,i)}),[S.shouldRun]);var w=(0,m.H)().value,P=(0,p.r)(),I=P.loading,N=P.error,C=P.viewerId;if(I||N)return null;var _=!("email"!==d||w&&w.mediumMemberAt||!l);return _&&l?u.createElement(c.AE,{query:y,variables:{userId:l}},(function(e){var o=e.loading,r=e.error,l=e.data,s=(l=void 0===l?{}:l).userSocialLogins,d=!(o||r||!s||w&&!s.isMember||!s.facebook&&!s.google&&!s.twitter&&!s.redactedEmailAddress),c=x({loading:o,showSuggestedAccount:d},d&&{userSocialLogins:s,declineSuggestedAccount:function(){var e=(0,f.S)(s);i.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==s?void 0:s.userId,alternateUserSuggestionSourceUserId:C})}});return!t||o||S.shouldRun||b({shouldRun:!0,showSuggestedAccount:d,userSocialLogins:s}),n(c)})):(t&&!S.shouldRun&&b(x(x({},S),{},{shouldRun:!0})),n({showSuggestedAccount:_,loading:!1}))},y=(0,d.Ps)(h())},5731:(e,n,t)=>{"use strict";var i;t.d(n,{j:()=>i}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(i||(i={}))},58491:(e,n,t)=>{"use strict";t.d(n,{t:()=>h,W:()=>E});var i=t(28655),a=t.n(i),o=t(63038),r=t.n(o),l=t(71439),s=t(67294),d=t(12291),c=t(50188),u=t(95760),m=t(51512),p=t(27108),g=t(85277),v=t(8403),f=t(21146);function k(){var e=a()(["\n  fragment PostReadTracker_post on Post {\n    id\n    collection {\n      slug\n    }\n    sequence {\n      sequenceId\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n  }\n"]);return k=function(){return e},e}function h(e,n,t,i){var a=(0,u.Av)(),o=(0,m.pK)(),l=(0,v.he)(),k=s.useState(!1),h=r()(k,2),E=h[0],x=h[1],S=(0,d.I0)();s.useEffect((function(){if(!E&&t){var r=function(){if(n.current&&!E){var r=(0,f.L6)(n.current),s=(0,f.tM)(r),d=s.top+s.height,u=(0,f.tM)((0,f.t_)()),m=u.top+u.height,p=t.content.isLockedPreviewOnly,v=i||o.includes("post_page");if(!p&&m>=d-100&&v){x(!0),S((0,g.C2)(!0));var k={source:i?"post_page":o,postId:t.id,collectionSlug:t.collection?t.collection.slug:"",sequenceId:t.sequence?t.sequence.sequenceId:""},h={referrer:l,referrerSource:o};i?a.event("post.clientRead",k,h):a.event("post.clientRead",k),e||(0,c.T8)(t.id)}}};return p.V6.on("scroll_end",r),function(){p.V6.off("scroll_end",r)}}}),[E,t,i]),s.useEffect((function(){return function(){S((0,g.C2)(!1))}}),[])}var E=(0,l.Ps)(k())},2874:(e,n,t)=>{"use strict";t.d(n,{d0:()=>A,_k:()=>R});var i=t(28655),a=t.n(i),o=t(71439),r=t(67294),l=t(60046),s=t(62872),d=t(43689),c=t(51562),u=t(47578),m=t(71542),p=t(76532),g=t(62181),v=t(11852),f=t(75209),k=t(42933),h=t(55099),E=t(82318),x=t(98024),S=t(17614),y=t(95760),b=t(51512),w=t(67297),P=t(6522),I=t(96879),N=t(27952),C=t(61598);function _(){var e=a()(["\n  fragment EntityDrivenSubscriptionLandingPageScreen_writer on User {\n    name\n    imageId\n    id\n    username\n    isPartnerProgramEnrolled\n    ...userUrl_user\n  }\n  ","\n"]);return _=function(){return e},e}var F="entity-driven-sub-landing-page",T=function(){return r.createElement(s.l,{borderColor:"rgb(230 230 230)",height:d.Je,heightSm:d.R2},r.createElement(f.P,null,r.createElement(k.x,{display:"flex",alignItems:"center",height:"".concat(d.Je,"px"),sm:{height:"".concat(d.R2,"px")},flexDirection:"row"},r.createElement(k.x,{justifySelf:"flex-start",flexGrow:"1"},r.createElement(l.Rv,{size:"S"})),r.createElement(O,null))))},O=function(){return(0,p.H)().value?null:r.createElement(k.x,{justifySelf:"flex-end"},r.createElement(x.F,{scale:"L"},r.createElement(k.x,{display:"flex",flexDirection:"row",sm:{flexDirection:"column"}},r.createElement(k.x,{paddingRight:"4px"},"Already a member?"),r.createElement(g.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_lp"},"Sign in"))))},A=function(e){var n,t,i=e.user,a=e.redirectExperiment,o=e.postId,l=(0,w.v9)((function(e){return e.config.authDomain})),s=(0,b.pK)(),d=(0,p.H)().value,g=(0,y.Av)();r.useEffect((function(){g.event("entityDrivenSubscriptionPage.viewed",{creatorId:null==i?void 0:i.id,source:s})}),[]);var C=r.useCallback((function(){g.event("entityDrivenSubCallToAction.clicked",{userId:null==d?void 0:d.id,entityId:null==i?void 0:i.id})}),[i,null==d?void 0:d.id,l]);if(!i)return null;var _=null!==(n=i.name)&&void 0!==n?n:"",O=null!==(t=i.imageId)&&void 0!==t?t:P.gG,A=i.id,R=(0,N.AWr)(i,l),B=(0,I.Rk)((0,N.c5p)(l),{subscribeToUserId:A}),D=o?(0,N.o2w)(l,o):R,L=null!=d&&d.mediumMemberAt?R:B;return(0,u.KQ)({},_),r.createElement(r.Fragment,null,r.createElement(b.cW,{source:{name:"entity_driven_subscription",userId:A}},r.createElement(k.x,{display:"flex",height:"100vh",flexDirection:"column"},r.createElement(T,null),r.createElement(k.x,{display:"flex",height:"0",flexGrow:"1",textAlign:"center",justifyContent:"center",alignItems:"center",flexDirection:"column"},r.createElement(f.P,{size:"inset"},r.createElement(k.x,{display:"flex",paddingBottom:"32px",justifyContent:"center"},r.createElement(m.s,null,r.createElement(v.z,{miroId:O,alt:_||"",diameter:128,freezeGifs:!1})),r.createElement(m.e,null,r.createElement(v.z,{miroId:O,alt:_||"",diameter:80,freezeGifs:!1}))),r.createElement(k.x,{paddingBottom:"20px"},r.createElement(S.F1,{scale:{xs:"S",sm:"S",md:"L",lg:"L",xl:"L"}},r.createElement(c.W,{featureString:F,target:"title-copy"},"Read every story from ",_," (and thousands of other writers on Medium)."))),r.createElement(k.x,{paddingBottom:"20px"},r.createElement(x.F,{scale:"L",color:"DARKER"},r.createElement(c.W,{featureString:F,target:"description-copy"},"Your membership fee directly supports ",_," and other writers you read. You'll also get full access to every story on Medium."))),r.createElement(k.x,{display:"flex",paddingBottom:"20px",flexDirection:{xs:a?"column-reverse":void 0,sm:a?"column-reverse":void 0,md:void 0,lg:void 0,xl:void 0},justifyContent:"center"},a&&r.createElement(k.x,{paddingRight:{xs:void 0,sm:void 0,md:"12px",lg:"12px",xl:"12px"},paddingTop:{xs:"12px",sm:"12px",md:void 0,lg:void 0,xl:void 0}},r.createElement(h.z,{href:D,buttonStyle:"OBVIOUS",size:"LARGE"},"Not now")),r.createElement(k.x,null,r.createElement(h.z,{onClick:C,href:L,buttonStyle:"STRONG",size:"LARGE"},r.createElement(c.W,{featureString:F,target:"logged-in-button-copy"},"Become a member")))),!a&&r.createElement(x.F,{scale:"L",color:"DARKER",tag:"span"},r.createElement(E.r,{linkStyle:"SUBTLE",href:R},r.createElement(c.W,{featureString:F,target:"link-copy"},"Visit ",_,"'s profile"))))))))},R=(0,o.Ps)(_(),C.$)},33572:(e,n,t)=>{"use strict";function i(e){if((e.match(/ /g)||[]).length>1)return"";var n=e.indexOf(" ");return e.substring(0,n)}function a(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}t.d(n,{J:()=>i,S:()=>a})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/284.cbcd319a.chunk.js.map