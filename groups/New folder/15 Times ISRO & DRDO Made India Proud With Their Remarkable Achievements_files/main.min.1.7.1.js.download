function getPercent(e,t){return t*(e/100)}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.swJS=e.swJS||{})}(this,function(e){"use strict";e.env={type:"Production"},e.s3=function(e){return"https://s4.scoopwhoop.com/v4/static/sw/images/"+e}}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(p,e){var t=[],c=t.slice,g=t.concat,s=t.push,r=t.indexOf,n={},i=n.toString,v=n.hasOwnProperty,m={},y=p.document,k=function(e,t){return new k.fn.init(e,t)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,a=/^-ms-/,l=/-([\da-z])/gi,u=function(e,t){return t.toUpperCase()};function d(e){var t=e.length,n=k.type(e);return"function"!==n&&!k.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:"2.1.1",constructor:k,selector:"",length:0,toArray:function(){return c.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:c.call(this)},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return k.each(this,e,t)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||k.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(i=e[t])&&(u&&i&&(k.isPlainObject(i)||(r=k.isArray(i)))?(o=r?(r=!1,n&&k.isArray(n)?n:[]):n&&k.isPlainObject(n)?n:{},a[t]=k.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},k.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===k.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!k.isArray(e)&&0<=e-parseFloat(e)},isPlainObject:function(e){return!("object"!==k.type(e)||e.nodeType||k.isWindow(e)||e.constructor&&!v.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=k.trim(e))&&(1===e.indexOf("use strict")?((t=y.createElement("script")).text=e,y.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(a,"ms-").replace(l,u)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,r=e.length,o=d(e);if(n){if(o)for(;i<r&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(o)for(;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(o,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?k.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:r.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!=a&&i.push(e[r]);return i},map:function(e,t,n){var i,r=0,o=e.length,a=[];if(d(e))for(;r<o;r++)null!=(i=t(e[r],r,n))&&a.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&a.push(i);return g.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),k.isFunction(e))return i=c.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(c.call(arguments)))}).guid=e.guid=e.guid||k.guid++,r},now:Date.now,support:m}),k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){var e,p,_,o,i,g,d,v,w,u,c,m,T,r,y,b,a,s,k,S="sizzle"+-new Date,E=n.document,C=0,h=0,l=re(),f=re(),x=re(),O=function(e,t){return e===t&&(c=!0),0},A="undefined",P={}.hasOwnProperty,t=[],I=t.pop,D=t.push,j=t.push,R=t.slice,N=t.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",U=F.replace("w","w#"),B="\\["+L+"*("+F+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+L+"*\\]",$=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),W=new RegExp("^"+L+"*,"+L+"*"),V=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),q=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),G=new RegExp($),z=new RegExp("^"+U+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)};try{j.apply(t=R.call(E.childNodes),E.childNodes),t[E.childNodes.length].nodeType}catch(e){j={apply:t.length?function(e,t){D.apply(e,R.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ie(e,t,n,i){var r,o,a,s,l,u,c,d,h,f;if((t?t.ownerDocument||t:E)!==T&&m(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||T).nodeType)&&9!==s)return[];if(y&&!i){if(r=J.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&k(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return j.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&p.getElementsByClassName&&t.getElementsByClassName)return j.apply(n,t.getElementsByClassName(a)),n}if(p.qsa&&(!b||!b.test(e))){if(d=c=S,h=t,f=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=g(e),(c=t.getAttribute("id"))?d=c.replace(ee,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+pe(u[l]);h=Z.test(e)&&he(t.parentNode)||t,f=u.join(",")}if(f)try{return j.apply(n,h.querySelectorAll(f)),n}catch(e){}finally{c||t.removeAttribute("id")}}}return v(e.replace(H,"$1"),t,n,i)}function re(){var i=[];return function e(t,n){return i.push(t+" ")>_.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function oe(e){return e[S]=!0,e}function ae(e){var t=T.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function se(e,t){for(var n=e.split("|"),i=e.length;i--;)_.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ce(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function de(a){return oe(function(o){return o=+o,oe(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function he(e){return e&&typeof e.getElementsByTagName!==A&&e}for(e in p=ie.support={},i=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},m=ie.setDocument=function(e){var t,l=e?e.ownerDocument||e:E,n=l.defaultView;return l!==T&&9===l.nodeType&&l.documentElement?(r=(T=l).documentElement,y=!i(l),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){m()},!1):n.attachEvent&&n.attachEvent("onunload",function(){m()})),p.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=ae(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=Q.test(l.getElementsByClassName)&&ae(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),p.getById=ae(function(e){return r.appendChild(e).id=S,!l.getElementsByName||!l.getElementsByName(S).length}),p.getById?(_.find.ID=function(e,t){if(typeof t.getElementById!==A&&y){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return t&&t.value===n}}),_.find.TAG=p.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==A)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},_.find.CLASS=p.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==A&&y)return t.getElementsByClassName(e)},a=[],b=[],(p.qsa=Q.test(l.querySelectorAll))&&(ae(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&b.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||b.push("\\["+L+"*(?:value|"+M+")"),e.querySelectorAll(":checked").length||b.push(":checked")}),ae(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&b.push("name"+L+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),b.push(",.*:")})),(p.matchesSelector=Q.test(s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&ae(function(e){p.disconnectedMatch=s.call(e,"div"),s.call(e,"[s!='']:x"),a.push("!=",$)}),b=b.length&&new RegExp(b.join("|")),a=a.length&&new RegExp(a.join("|")),t=Q.test(r.compareDocumentPosition),k=t||Q.test(r.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},O=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===E&&k(E,e)?-1:t===l||t.ownerDocument===E&&k(E,t)?1:u?N.call(u,e)-N.call(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===l?-1:t===l?1:r?-1:o?1:u?N.call(u,e)-N.call(u,t):0;if(r===o)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?le(a[i],s[i]):a[i]===E?-1:s[i]===E?1:0},l):T},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==T&&m(e),t=t.replace(q,"='$1']"),p.matchesSelector&&y&&(!a||!a.test(t))&&(!b||!b.test(t)))try{var n=s.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ie(t,T,null,[e]).length},ie.contains=function(e,t){return(e.ownerDocument||e)!==T&&m(e),k(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==T&&m(e);var n=_.attrHandle[t.toLowerCase()],i=n&&P.call(_.attrHandle,t.toLowerCase())?n(e,t,!y):void 0;return void 0!==i?i:p.attributes||!y?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],i=0,r=0;if(c=!p.detectDuplicates,u=!p.sortStable&&e.slice(0),e.sort(O),c){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return u=null,e},o=ie.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(_=ie.selectors={cacheLength:50,createPseudo:oe,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=g(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=ie.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,e,t,p,g){var v="nth"!==f.slice(0,3),m="last"!==f.slice(-4),y="of-type"===e;return 1===p&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,l,u=v!=m?"nextSibling":"previousSibling",c=e.parentNode,d=y&&e.nodeName.toLowerCase(),h=!n&&!y;if(c){if(v){for(;u;){for(o=e;o=o[u];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[m?c.firstChild:c.lastChild],m&&h){for(s=(i=(r=c[S]||(c[S]={}))[f]||[])[0]===C&&i[1],a=i[0]===C&&i[2],o=s&&c.childNodes[s];o=++s&&o&&o[u]||(a=s=0)||l.pop();)if(1===o.nodeType&&++a&&o===e){r[f]=[C,s,a];break}}else if(h&&(i=(e[S]||(e[S]={}))[f])&&i[0]===C)a=i[1];else for(;(o=++s&&o&&o[u]||(a=s=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++a||(h&&((o[S]||(o[S]={}))[f]=[C,a]),o!==e)););return(a-=g)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,o){var t,a=_.pseudos[e]||_.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],_.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=N.call(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:oe(function(e){var i=[],r=[],s=d(e.replace(H,"$1"));return s[S]?oe(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),!r.pop()}}),has:oe(function(t){return function(e){return 0<ie(t,e).length}}),contains:oe(function(t){return function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:oe(function(n){return z.test(n||"")||ie.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=y?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,n){return[n<0?n+t:n]}),even:de(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:de(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:de(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:de(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[e]=ue(e);for(e in{submit:!0,reset:!0})_.pseudos[e]=ce(e);function fe(){}function pe(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ge(a,e,t){var s=e.dir,l=t&&"parentNode"===s,u=h++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var i,r,o=[C,u];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((i=(r=e[S]||(e[S]={}))[s])&&i[0]===C&&i[1]===u)return o[2]=i[2];if((r[s]=o)[2]=a(e,t,n))return!0}}}function ve(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function me(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function ye(f,p,g,v,m,e){return v&&!v[S]&&(v=ye(v)),m&&!m[S]&&(m=ye(m,e)),oe(function(e,t,n,i){var r,o,a,s=[],l=[],u=t.length,c=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ie(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!f||!e&&p?c:me(c,s,f,n,i),h=g?m||(e?f:u||v)?[]:t:d;if(g&&g(d,h,n,i),v)for(r=me(h,l),v(r,[],n,i),o=r.length;o--;)(a=r[o])&&(h[l[o]]=!(d[l[o]]=a));if(e){if(m||f){if(m){for(r=[],o=h.length;o--;)(a=h[o])&&r.push(d[o]=a);m(null,h=[],r,i)}for(o=h.length;o--;)(a=h[o])&&-1<(r=m?N.call(e,a):s[o])&&(e[r]=!(t[r]=a))}}else h=me(h===t?h.splice(u,h.length):h),m?m(null,t,h,i):j.apply(t,h)})}function be(e){for(var i,t,n,r=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,l=ge(function(e){return e===i},a,!0),u=ge(function(e){return-1<N.call(i,e)},a,!0),c=[function(e,t,n){return!o&&(n||t!==w)||((i=t).nodeType?l(e,t,n):u(e,t,n))}];s<r;s++)if(t=_.relative[e[s].type])c=[ge(ve(c),t)];else{if((t=_.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r&&!_.relative[e[n].type];n++);return ye(1<s&&ve(c),1<s&&pe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(H,"$1"),t,s<n&&be(e.slice(s,n)),n<r&&be(e=e.slice(n)),n<r&&pe(e))}c.push(t)}return ve(c)}return fe.prototype=_.filters=_.pseudos,_.setFilters=new fe,g=ie.tokenize=function(e,t){var n,i,r,o,a,s,l,u=f[e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],l=_.preFilter;a;){for(o in n&&!(i=W.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=V.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(H," ")}),a=a.slice(n.length)),_.filter)!(i=X[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ie.error(e):f(e,s).slice(0)},d=ie.compile=function(e,t){var n,v,m,y,b,i,r=[],o=[],a=x[e+" "];if(!a){for(t||(t=g(e)),n=t.length;n--;)(a=be(t[n]))[S]?r.push(a):o.push(a);(a=x(e,(v=o,y=0<(m=r).length,b=0<v.length,i=function(e,t,n,i,r){var o,a,s,l=0,u="0",c=e&&[],d=[],h=w,f=e||b&&_.find.TAG("*",r),p=C+=null==h?1:Math.random()||.1,g=f.length;for(r&&(w=t!==T&&t);u!==g&&null!=(o=f[u]);u++){if(b&&o){for(a=0;s=v[a++];)if(s(o,t,n)){i.push(o);break}r&&(C=p)}y&&((o=!s&&o)&&l--,e&&c.push(o))}if(l+=u,y&&u!==l){for(a=0;s=m[a++];)s(c,d,t,n);if(e){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=I.call(i));d=me(d)}j.apply(i,d),r&&!e&&0<d.length&&1<l+m.length&&ie.uniqueSort(i)}return r&&(C=p,w=h),c},y?oe(i):i))).selector=e}return a},v=ie.select=function(e,t,n,i){var r,o,a,s,l,u="function"==typeof e&&e,c=!i&&g(e=u.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&p.getById&&9===t.nodeType&&y&&_.relative[o[1].type]){if(!(t=(_.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=X.needsContext.test(e)?0:o.length;r--&&(a=o[r],!_.relative[s=a.type]);)if((l=_.find[s])&&(i=l(a.matches[0].replace(te,ne),Z.test(o[0].type)&&he(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&pe(o)))return j.apply(n,i),n;break}}return(u||d(e,c))(i,t,!y,n,Z.test(e)&&he(t.parentNode)||t),n},p.sortStable=S.split("").sort(O).join("")===S,p.detectDuplicates=!!c,m(),p.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(T.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||se("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||se("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||se(M,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),ie}(p);k.find=h,k.expr=h.selectors,k.expr[":"]=k.expr.pseudos,k.unique=h.uniqueSort,k.text=h.getText,k.isXMLDoc=h.isXML,k.contains=h.contains;var f=k.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,_=/^.[^:#\[\.,]*$/;function w(e,n,i){if(k.isFunction(n))return k.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return k.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(_.test(n))return k.filter(n,e,i);n=k.filter(n,e)}return k.grep(e,function(e){return 0<=r.call(n,e)!==i})}k.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?k.find.matchesSelector(i,e)?[i]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<n;t++)if(k.contains(r[t],this))return!0}));for(t=0;t<n;t++)k.find(e,r[t],i);return(i=this.pushStack(1<n?k.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(w(this,e||[],!1))},not:function(e){return this.pushStack(w(this,e||[],!0))},is:function(e){return!!w(this,"string"==typeof e&&f.test(e)?k(e):e||[],!1).length}});var T,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(k.fn.init=function(e,t){var n,i;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):k.isFunction(e)?void 0!==T.ready?T.ready(e):e(k):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),k.makeArray(e,this));if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!n[1]&&t)return!t||t.jquery?(t||T).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),b.test(n[1])&&k.isPlainObject(t))for(n in t)k.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=y.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=y,this.selector=e,this}).prototype=k.fn,T=k(y);var E=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};function x(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&k(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=f.test(e)||"string"!=typeof e?k(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?k.unique(o):o)},index:function(e){return e?"string"==typeof e?r.call(k(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.unique(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k.dir(e,"parentNode")},parentsUntil:function(e,t,n){return k.dir(e,"parentNode",n)},next:function(e){return x(e,"nextSibling")},prev:function(e){return x(e,"previousSibling")},nextAll:function(e){return k.dir(e,"nextSibling")},prevAll:function(e){return k.dir(e,"previousSibling")},nextUntil:function(e,t,n){return k.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return k.dir(e,"previousSibling",n)},siblings:function(e){return k.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return k.sibling(e.firstChild)},contents:function(e){return e.contentDocument||k.merge([],e.childNodes)}},function(i,r){k.fn[i]=function(e,t){var n=k.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(C[i]||k.unique(n),E.test(i)&&n.reverse()),this.pushStack(n)}});var O,A=/\S+/g,P={};function I(){y.removeEventListener("DOMContentLoaded",I,!1),p.removeEventListener("load",I,!1),k.ready()}k.Callbacks=function(r){var e,n;r="string"==typeof r?P[r]||(n=P[e=r]={},k.each(e.match(A)||[],function(e,t){n[t]=!0}),n):k.extend({},r);var t,i,o,a,s,l,u=[],c=!r.once&&[],d=function(e){for(t=r.memory&&e,i=!0,l=a||0,a=0,s=u.length,o=!0;u&&l<s;l++)if(!1===u[l].apply(e[0],e[1])&&r.stopOnFalse){t=!1;break}o=!1,u&&(c?c.length&&d(c.shift()):t?u=[]:h.disable())},h={add:function(){if(u){var e=u.length;!function i(e){k.each(e,function(e,t){var n=k.type(t);"function"===n?r.unique&&h.has(t)||u.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),o?s=u.length:t&&(a=e,d(t))}return this},remove:function(){return u&&k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,u,n));)u.splice(n,1),o&&(n<=s&&s--,n<=l&&l--)}),this},has:function(e){return e?-1<k.inArray(e,u):!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=c=t=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,t||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!u||i&&!c||(t=[e,(t=t||[]).slice?t.slice():t],o?c.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},k.extend({Deferred:function(e){var o=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),"rejected"],["notify","progress",k.Callbacks("memory")]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return k.Deferred(function(i){k.each(o,function(e,t){var n=k.isFunction(r[e])&&r[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&k.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===a?i.promise():this,n?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return a.pipe=a.then,k.each(o,function(e,t){var n=t[2],i=t[3];a[t[1]]=n.add,i&&n.add(function(){r=i},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var r,t,n,i=0,o=c.call(arguments),a=o.length,s=1!==a||e&&k.isFunction(e.promise)?a:0,l=1===s?e:k.Deferred(),u=function(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?c.call(arguments):e,i===r?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<a)for(r=new Array(a),t=new Array(a),n=new Array(a);i<a;i++)o[i]&&k.isFunction(o[i].promise)?o[i].promise().done(u(i,n,o)).fail(l.reject).progress(u(i,t,r)):--s;return s||l.resolveWith(n,o),l.promise()}}),k.fn.ready=function(e){return k.ready.promise().done(e),this},k.extend({isReady:!1,readyWait:1,holdReady:function(e){e?k.readyWait++:k.ready(!0)},ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||(O.resolveWith(y,[k]),k.fn.triggerHandler&&(k(y).triggerHandler("ready"),k(y).off("ready")))}}),k.ready.promise=function(e){return O||(O=k.Deferred(),"complete"===y.readyState?setTimeout(k.ready):(y.addEventListener("DOMContentLoaded",I,!1),p.addEventListener("load",I,!1))),O.promise(e)},k.ready.promise();var D=k.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===k.type(n))for(s in r=!0,n)k.access(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,k.isFunction(i)||(a=!0),u&&(t=a?(t.call(e,i),null):(u=t,function(e,t,n){return u.call(k(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):o};function j(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=k.expando+Math.random()}k.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},j.uid=1,j.accepts=k.acceptData,j.prototype={key:function(t){if(!j.accepts(t))return 0;var n={},i=t[this.expando];if(!i){i=j.uid++;try{n[this.expando]={value:i},Object.defineProperties(t,n)}catch(e){n[this.expando]=i,k.extend(t,n)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(k.isEmptyObject(o))k.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,k.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{n=(i=k.isArray(t)?t.concat(t.map(k.camelCase)):(r=k.camelCase(t),t in a?[t,r]:(i=r)in a?[i]:i.match(A)||[])).length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!k.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var R=new j,N=new j,M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/([A-Z])/g;function F(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(L,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:M.test(n)?k.parseJSON(n):n)}catch(e){}N.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return N.hasData(e)||R.hasData(e)},data:function(e,t,n){return N.access(e,t,n)},removeData:function(e,t){N.remove(e,t)},_data:function(e,t,n){return R.access(e,t,n)},_removeData:function(e,t){R.remove(e,t)}}),k.fn.extend({data:function(i,e){var t,n,r,o=this[0],a=o&&o.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){N.set(this,i)}):D(this,function(t){var e,n=k.camelCase(i);if(o&&void 0===t)return void 0!==(e=N.get(o,i))?e:void 0!==(e=N.get(o,n))?e:void 0!==(e=F(o,n,void 0))?e:void 0;this.each(function(){var e=N.get(this,n);N.set(this,n,t),-1!==i.indexOf("-")&&void 0!==e&&N.set(this,i,t)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=N.get(o),1===o.nodeType&&!R.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(n=a[t].name).indexOf("data-")&&(n=k.camelCase(n.slice(5)),F(o,n,r[n]));R.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){N.remove(this,e)})}}),k.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=R.get(e,t),n&&(!i||k.isArray(n)?i=R.access(e,t,k.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),i=n.length,r=n.shift(),o=k._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){k.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return R.get(e,n)||R.access(e,n,{empty:k.Callbacks("once memory").add(function(){R.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=k.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=R.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var U,B,$=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,H=["Top","Right","Bottom","Left"],W=function(e,t){return e=t||e,"none"===k.css(e,"display")||!k.contains(e.ownerDocument,e)},V=/^(?:checkbox|radio)$/i;U=y.createDocumentFragment().appendChild(y.createElement("div")),(B=y.createElement("input")).setAttribute("type","radio"),B.setAttribute("checked","checked"),B.setAttribute("name","t"),U.appendChild(B),m.checkClone=U.cloneNode(!0).cloneNode(!0).lastChild.checked,U.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!U.cloneNode(!0).lastChild.defaultValue;var q="undefined";m.focusinBubbles="onfocusin"in p;var G=/^key/,z=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,K=/^([^.]*)(?:\.(.+)|)$/;function Y(){return!0}function Q(){return!1}function J(){try{return y.activeElement}catch(e){}}k.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,f,p,g,v=R.get(t);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=k.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(e){return typeof k!=q&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(A)||[""]).length;u--;)f=g=(s=K.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),f&&(d=k.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=k.event.special[f]||{},c=k.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(f,a,!1)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),k.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,u,c,d,h,f,p,g,v=R.hasData(e)&&R.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(A)||[""]).length;u--;)if(f=g=(s=K.exec(t[u])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=k.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,v.handle)||k.removeEvent(e,f,v.handle),delete l[f])}else for(f in l)k.event.remove(e,f+t[u],n,i,!0);k.isEmptyObject(l)&&(delete v.handle,R.remove(e,"events"))}},trigger:function(e,t,n,i){var r,o,a,s,l,u,c,d=[n||y],h=v.call(e,"type")?e.type:e,f=v.call(e,"namespace")?e.namespace.split("."):[];if(o=a=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!X.test(h+k.event.triggered)&&(0<=h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),l=h.indexOf(":")<0&&"on"+h,(e=e[k.expando]?e:new k.Event(h,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[h]||{},i||!c.trigger||!1!==c.trigger.apply(n,t))){if(!i&&!c.noBubble&&!k.isWindow(n)){for(s=c.delegateType||h,X.test(s+h)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(n.ownerDocument||y)&&d.push(a.defaultView||a.parentWindow||p)}for(r=0;(o=d[r++])&&!e.isPropagationStopped();)e.type=1<r?s:c.bindType||h,(u=(R.get(o,"events")||{})[e.type]&&R.get(o,"handle"))&&u.apply(o,t),(u=l&&o[l])&&u.apply&&k.acceptData(o)&&(e.result=u.apply(o,t),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),t)||!k.acceptData(n)||l&&k.isFunction(n[h])&&!k.isWindow(n)&&((a=n[l])&&(n[l]=null),n[k.event.triggered=h](),k.event.triggered=void 0,a&&(n[l]=a)),e.result}},dispatch:function(e){e=k.event.fix(e);var t,n,i,r,o,a,s=c.call(arguments),l=(R.get(this,"events")||{})[e.type]||[],u=k.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=k.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((k.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],n=0;n<s;n++)void 0===i[r=(o=t[n]).selector+" "]&&(i[r]=o.needsContext?0<=k(r,this).index(l):k.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||y).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[k.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=z.test(r)?this.mouseHooks:G.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new k.Event(o),t=i.length;t--;)e[n=i[t]]=o[n];return e.target||(e.target=y),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==J()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===J()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&k.nodeName(this,"input"))return this.click(),!1},_default:function(e){return k.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?k.event.trigger(r,null,t):k.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Y:Q):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||k.now(),this[k.expando]=!0},k.Event.prototype={isDefaultPrevented:Q,isPropagationStopped:Q,isImmediatePropagationStopped:Q,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Y,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Y,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Y,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){k.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),m.focusinBubbles||k.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(e){k.event.simulate(i,e.target,k.event.fix(e),!0)};k.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=R.access(e,i);t||e.addEventListener(n,r,!0),R.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=R.access(e,i)-1;t?R.access(e,i,t):(e.removeEventListener(n,r,!0),R.remove(e,i))}}}),k.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=Q;else if(!i)return this;return 1===r&&(o=i,(i=function(e){return k().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=k.guid++)),this.each(function(){k.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,k(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Q),this.each(function(){k.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this},trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}});var Z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ee=/<([\w:]+)/,te=/<|&#?\w+;/,ne=/<(?:script|style|link)/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/^$|\/(?:java|ecma)script/i,oe=/^true\/(.*)/,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function le(e,t){return k.nodeName(e,"table")&&k.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ce(e){var t=oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function de(e,t){for(var n=0,i=e.length;n<i;n++)R.set(e[n],"globalEval",!t||R.get(t[n],"globalEval"))}function he(e,t){var n,i,r,o,a,s,l,u;if(1===t.nodeType){if(R.hasData(e)&&(o=R.access(e),a=R.set(t,o),u=o.events))for(r in delete a.handle,a.events={},u)for(n=0,i=u[r].length;n<i;n++)k.event.add(t,r,u[r][n]);N.hasData(e)&&(s=N.access(e),l=k.extend({},s),N.set(t,l))}}function fe(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&k.nodeName(e,t)?k.merge([e],n):n}se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td,k.extend({clone:function(e,t,n){var i,r,o,a,s,l,u,c=e.cloneNode(!0),d=k.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=fe(c),i=0,r=(o=fe(e)).length;i<r;i++)s=o[i],"input"===(u=(l=a[i]).nodeName.toLowerCase())&&V.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||fe(e),a=a||fe(c),i=0,r=o.length;i<r;i++)he(o[i],a[i]);else he(e,c);return 0<(a=fe(c,"script")).length&&de(a,!d&&fe(e,"script")),c},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,u,c=t.createDocumentFragment(),d=[],h=0,f=e.length;h<f;h++)if((r=e[h])||0===r)if("object"===k.type(r))k.merge(d,r.nodeType?[r]:r);else if(te.test(r)){for(o=o||c.appendChild(t.createElement("div")),a=(ee.exec(r)||["",""])[1].toLowerCase(),s=se[a]||se._default,o.innerHTML=s[1]+r.replace(Z,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;k.merge(d,o.childNodes),(o=c.firstChild).textContent=""}else d.push(t.createTextNode(r));for(c.textContent="",h=0;r=d[h++];)if((!i||-1===k.inArray(r,i))&&(l=k.contains(r.ownerDocument,r),o=fe(c.appendChild(r),"script"),l&&de(o),n))for(u=0;r=o[u++];)re.test(r.type||"")&&n.push(r);return c},cleanData:function(e){for(var t,n,i,r,o=k.event.special,a=0;void 0!==(n=e[a]);a++){if(k.acceptData(n)&&(r=n[R.expando])&&(t=R.cache[r])){if(t.events)for(i in t.events)o[i]?k.event.remove(n,i):k.removeEvent(n,i,t.handle);R.cache[r]&&delete R.cache[r]}delete N.cache[n[N.expando]]}}}),k.fn.extend({text:function(e){return D(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||le(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?k.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||k.cleanData(fe(n)),n.parentNode&&(t&&k.contains(n.ownerDocument,n)&&de(fe(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return D(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ne.test(e)&&!se[(ee.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Z,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,k.cleanData(fe(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=g.apply([],n);var e,t,r,o,a,s,l=0,u=this.length,c=this,d=u-1,h=n[0],f=k.isFunction(h);if(f||1<u&&"string"==typeof h&&!m.checkClone&&ie.test(h))return this.each(function(e){var t=c.eq(e);f&&(n[0]=h.call(this,e,t.html())),t.domManip(n,i)});if(u&&(t=(e=k.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(o=(r=k.map(fe(e,"script"),ue)).length;l<u;l++)a=e,l!==d&&(a=k.clone(a,!0,!0),o&&k.merge(r,fe(a,"script"))),i.call(this[l],a,l);if(o)for(s=r[r.length-1].ownerDocument,k.map(r,ce),l=0;l<o;l++)a=r[l],re.test(a.type||"")&&!R.access(a,"globalEval")&&k.contains(s,a)&&(a.src?k._evalUrl&&k._evalUrl(a.src):k.globalEval(a.textContent.replace(ae,"")))}return this}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],i=k(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),k(i[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var pe,ge={};function ve(e,t){var n,i=k(t.createElement(e)).appendTo(t.body),r=p.getDefaultComputedStyle&&(n=p.getDefaultComputedStyle(i[0]))?n.display:k.css(i[0],"display");return i.detach(),r}function me(e){var t=y,n=ge[e];return n||("none"!==(n=ve(e,t))&&n||((t=(pe=(pe||k("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ve(e,t),pe.detach()),ge[e]=n),n}var ye=/^margin/,be=new RegExp("^("+$+")(?!px)[a-z%]+$","i"),_e=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};function we(e,t,n){var i,r,o,a,s=e.style;return(n=n||_e(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||k.contains(e.ownerDocument,e)||(a=k.style(e,t)),be.test(a)&&ye.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Te(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var t,n,i=y.documentElement,r=y.createElement("div"),o=y.createElement("div");function e(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",i.appendChild(r);var e=p.getComputedStyle(o,null);t="1%"!==e.top,n="4px"===e.width,i.removeChild(r)}o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===o.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(o),p.getComputedStyle&&k.extend(m,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,t=o.appendChild(y.createElement("div"));return t.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",o.style.width="1px",i.appendChild(r),e=!parseFloat(p.getComputedStyle(t,null).marginRight),i.removeChild(r),e}}))}(),k.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r};var ke=/^(none|table(?!-c[ea]).+)/,Se=new RegExp("^("+$+")(.*)$","i"),Ee=new RegExp("^([+-])=("+$+")","i"),Ce={position:"absolute",visibility:"hidden",display:"block"},xe={letterSpacing:"0",fontWeight:"400"},Oe=["Webkit","O","Moz","ms"];function Ae(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Oe.length;r--;)if((t=Oe[r]+n)in e)return t;return i}function Pe(e,t,n){var i=Se.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function Ie(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=k.css(e,n+H[o],!0,r)),i?("content"===n&&(a-=k.css(e,"padding"+H[o],!0,r)),"margin"!==n&&(a-=k.css(e,"border"+H[o]+"Width",!0,r))):(a+=k.css(e,"padding"+H[o],!0,r),"padding"!==n&&(a+=k.css(e,"border"+H[o]+"Width",!0,r)));return a}function De(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=_e(e),a="border-box"===k.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=we(e,t,o))<0||null==r)&&(r=e.style[t]),be.test(r))return r;i=a&&(m.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+Ie(e,t,n||(a?"border":"content"),i,o)+"px"}function je(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(o[a]=R.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&W(i)&&(o[a]=R.access(i,"olddisplay",me(i.nodeName)))):(r=W(i),"none"===n&&r||R.set(i,"olddisplay",r?n:k.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function Re(e,t,n,i,r){return new Re.prototype.init(e,t,n,i,r)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=we(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=k.camelCase(t),l=e.style;if(t=k.cssProps[s]||(k.cssProps[s]=Ae(l,s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];"string"==(o=typeof n)&&(r=Ee.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(k.css(e,t)),o="number"),null!=n&&n==n&&("number"!==o||k.cssNumber[s]||(n+="px"),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var r,o,a,s=k.camelCase(t);return t=k.cssProps[s]||(k.cssProps[s]=Ae(e.style,s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=we(e,t,i)),"normal"===r&&t in xe&&(r=xe[t]),""===n||n?(o=parseFloat(r),!0===n||k.isNumeric(o)?o||0:r):r}}),k.each(["height","width"],function(e,r){k.cssHooks[r]={get:function(e,t,n){if(t)return ke.test(k.css(e,"display"))&&0===e.offsetWidth?k.swap(e,Ce,function(){return De(e,r,n)}):De(e,r,n)},set:function(e,t,n){var i=n&&_e(e);return Pe(0,t,n?Ie(e,r,n,"border-box"===k.css(e,"boxSizing",!1,i),i):0)}}}),k.cssHooks.marginRight=Te(m.reliableMarginRight,function(e,t){if(t)return k.swap(e,{display:"inline-block"},we,[e,"marginRight"])}),k.each({margin:"",padding:"",border:"Width"},function(r,o){k.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+H[t]+o]=i[t]||i[t-2]||i[0];return n}},ye.test(r)||(k.cssHooks[r+o].set=Pe)}),k.fn.extend({css:function(e,t){return D(this,function(e,t,n){var i,r,o={},a=0;if(k.isArray(t)){for(i=_e(e),r=t.length;a<r;a++)o[t[a]]=k.css(e,t[a],!1,i);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)},show:function(){return je(this,!0)},hide:function(){return je(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){W(this)?k(this).show():k(this).hide()})}}),((k.Tween=Re).prototype={constructor:Re,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=Re.propHooks[this.prop];return e&&e.get?e.get(this):Re.propHooks._default.get(this)},run:function(e){var t,n=Re.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Re.propHooks._default.set(this),this}}).init.prototype=Re.prototype,(Re.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[k.cssProps[e.prop]]||k.cssHooks[e.prop])?k.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=Re.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},k.fx=Re.prototype.init,k.fx.step={};var Ne,Me,Le,Fe,Ue,Be=/^(?:toggle|show|hide)$/,$e=new RegExp("^(?:([+-])=|)("+$+")([a-z%]*)$","i"),He=/queueHooks$/,We=[function(t,e,n){var i,r,o,a,s,l,u,c=this,d={},h=t.style,f=t.nodeType&&W(t),p=R.get(t,"fxshow");for(i in n.queue||(null==(s=k._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,k.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(u=k.css(t,"display"))?R.get(t,"olddisplay")||me(t.nodeName):u)&&"none"===k.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),e)if(r=e[i],Be.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;f=!0}d[i]=p&&p[i]||k.style(t,i)}else u=void 0;if(k.isEmptyObject(d))"inline"===("none"===u?me(t.nodeName):u)&&(h.display=u);else for(i in p?"hidden"in p&&(f=p.hidden):p=R.access(t,"fxshow",{}),o&&(p.hidden=!f),f?k(t).show():c.done(function(){k(t).hide()}),c.done(function(){var e;for(e in R.remove(t,"fxshow"),d)k.style(t,e,d[e])}),d)a=ze(f?p[i]:0,i,c),i in p||(p[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],Ve={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=$e.exec(t),o=r&&r[3]||(k.cssNumber[e]?"":"px"),a=(k.cssNumber[e]||"px"!==o&&+i)&&$e.exec(k.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o)for(o=o||a[3],r=r||[],a=+i||1;a/=s=s||".5",k.style(n.elem,e,a+o),s!==(s=n.cur()/i)&&1!==s&&--l;);return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};function qe(){return setTimeout(function(){Ne=void 0}),Ne=k.now()}function Ge(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=H[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ze(e,t,n){for(var i,r=(Ve[t]||[]).concat(Ve["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function Xe(o,e,t){var n,a,i=0,r=We.length,s=k.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=Ne||qe(),t=Math.max(0,u.startTime+u.duration-e),n=1-(t/u.duration||0),i=0,r=u.tweens.length;i<r;i++)u.tweens[i].run(n);return s.notifyWith(o,[u,n,t]),n<1&&r?t:(s.resolveWith(o,[u]),!1)},u=s.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Ne||qe(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,u.opts,e,t,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var t=0,n=e?u.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)u.tweens[t].run(1);return e?s.resolveWith(o,[u,e]):s.rejectWith(o,[u,e]),this}}),c=u.props;for(function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=k.camelCase(n)],o=e[n],k.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=k.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(c,u.opts.specialEasing);i<r;i++)if(n=We[i].call(u,o,c,u.opts))return n;return k.map(c,ze,u),k.isFunction(u.opts.start)&&u.opts.start.call(o,u),k.fx.timer(k.extend(l,{elem:o,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}k.Animation=k.extend(Xe,{tweener:function(e,t){for(var n,i=0,r=(e=k.isFunction(e)?(t=e,["*"]):e.split(" ")).length;i<r;i++)n=e[i],Ve[n]=Ve[n]||[],Ve[n].unshift(t)},prefilter:function(e,t){t?We.unshift(e):We.push(e)}}),k.speed=function(e,t,n){var i=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||k.isFunction(e)&&e,duration:e,easing:n&&t||t&&!k.isFunction(t)&&t};return i.duration=k.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in k.fx.speeds?k.fx.speeds[i.duration]:k.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){k.isFunction(i.old)&&i.old.call(this),i.queue&&k.dequeue(this,i.queue)},i},k.fn.extend({fadeTo:function(e,t,n,i){return this.filter(W).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=k.isEmptyObject(t),o=k.speed(e,n,i),a=function(){var e=Xe(this,k.extend({},t),o);(r||R.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(r,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=k.timers,i=R.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&He.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||k.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=R.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=k.timers,o=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,i){var r=k.fn[i];k.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(Ge(i,!0),e,t,n)}}),k.each({slideDown:Ge("show"),slideUp:Ge("hide"),slideToggle:Ge("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){k.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(Ne=k.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),Ne=void 0},k.fx.timer=function(e){k.timers.push(e),e()?k.fx.start():k.timers.pop()},k.fx.interval=13,k.fx.start=function(){Me||(Me=setInterval(k.fx.tick,k.fx.interval))},k.fx.stop=function(){clearInterval(Me),Me=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(i,e){return i=k.fx&&k.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},Le=y.createElement("input"),Ue=(Fe=y.createElement("select")).appendChild(y.createElement("option")),Le.type="checkbox",m.checkOn=""!==Le.value,m.optSelected=Ue.selected,Fe.disabled=!0,m.optDisabled=!Ue.disabled,(Le=y.createElement("input")).value="t",Le.type="radio",m.radioValue="t"===Le.value;var Ke,Ye=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return D(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute==q?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(t=t.toLowerCase(),i=k.attrHooks[t]||(k.expr.match.bool.test(t)?Ke:void 0)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void k.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(A);if(o&&1===e.nodeType)for(;n=o[r++];)i=k.propFix[n]||n,k.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&k.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Ke={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Ye[t]||k.find.attr;Ye[t]=function(e,t,n){var i,r;return n||(r=Ye[t],Ye[t]=i,i=null!=o(e,t,n)?t.toLowerCase():null,Ye[t]=r),i}});var Qe=/^(?:input|select|textarea|button)$/i;k.fn.extend({prop:function(e,t){return D(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!k.isXMLDoc(e))&&(t=k.propFix[t]||t,r=k.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Qe.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),m.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this});var Je=/[\t\r\n\f]/g;k.fn.extend({addClass:function(t){var e,n,i,r,o,a,s="string"==typeof t&&t,l=0,u=this.length;if(k.isFunction(t))return this.each(function(e){k(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(A)||[];l<u;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Je," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=k.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(k.isFunction(t))return this.each(function(e){k(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(A)||[];l<u;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Je," "):"")){for(o=0;r=e[o++];)for(;0<=i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");a=t?k.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(r,t){var o=typeof r;return"boolean"==typeof t&&"string"==o?t?this.addClass(r):this.removeClass(r):k.isFunction(r)?this.each(function(e){k(this).toggleClass(r.call(this,e,this.className,t),t)}):this.each(function(){if("string"==o)for(var e,t=0,n=k(this),i=r.match(A)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else o!=q&&"boolean"!=o||(this.className&&R.set(this,"__className__",this.className),this.className=this.className||!1===r?"":R.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Je," ").indexOf(t))return!0;return!1}});var Ze=/\r/g;k.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=k.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":k.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(i=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):t?(i=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(Ze,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:k.trim(k.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(m.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!k.nodeName(n.parentNode,"optgroup"))){if(t=k(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=k.makeArray(t),a=r.length;a--;)((i=r[a]).selected=0<=k.inArray(i.value,o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(k.isArray(t))return e.checked=0<=k.inArray(k(e).val(),t)}},m.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var et=k.now(),tt=/\?/;k.parseJSON=function(e){return JSON.parse(e+"")},k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var nt,it,rt=/#.*$/,ot=/([?&])_=[^&]*/,at=/^(.*?):[ \t]*([^\r\n]*)$/gm,st=/^(?:GET|HEAD)$/,lt=/^\/\//,ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ct={},dt={},ht="*/".concat("*");try{it=location.href}catch(e){(it=y.createElement("a")).href="",it=it.href}function ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(A)||[];if(k.isFunction(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function pt(t,r,o,a){var s={},l=t===dt;function u(e){var i;return s[e]=!0,k.each(t[e]||[],function(e,t){var n=t(r,o,a);return"string"!=typeof n||l||s[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),u(n),!1)}),i}return u(r.dataTypes[0])||!s["*"]&&u("*")}function gt(e,t){var n,i,r=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&k.extend(!0,e,i),e}nt=ut.exec(it.toLowerCase())||[],k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:it,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?gt(gt(e,k.ajaxSettings),t):gt(k.ajaxSettings,e)},ajaxPrefilter:ft(ct),ajaxTransport:ft(dt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,d,h,n,f,i,p,r,g=k.ajaxSetup({},t),v=g.context||g,m=g.context&&(v.nodeType||v.jquery)?k(v):k.event,y=k.Deferred(),b=k.Callbacks("once memory"),_=g.statusCode||{},o={},a={},w=0,s="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!n)for(n={};t=at.exec(h);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?h:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=a[n]=a[n]||e,o[e]=t),this},overrideMimeType:function(e){return w||(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)_[t]=[_[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||s;return c&&c.abort(t),l(0,t),this}};if(y.promise(T).complete=b.add,T.success=T.done,T.error=T.fail,g.url=((e||g.url||it)+"").replace(rt,"").replace(lt,nt[1]+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=k.trim(g.dataType||"*").toLowerCase().match(A)||[""],null==g.crossDomain&&(i=ut.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===nt[1]&&i[2]===nt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(nt[3]||("http:"===nt[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=k.param(g.data,g.traditional)),pt(ct,g,t,T),2===w)return T;for(r in(p=g.global)&&0==k.active++&&k.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!st.test(g.type),d=g.url,g.hasContent||(g.data&&(d=g.url+=(tt.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=ot.test(d)?d.replace(ot,"$1_="+et++):d+(tt.test(d)?"&":"?")+"_="+et++)),g.ifModified&&(k.lastModified[d]&&T.setRequestHeader("If-Modified-Since",k.lastModified[d]),k.etag[d]&&T.setRequestHeader("If-None-Match",k.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&T.setRequestHeader("Content-Type",g.contentType),T.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+ht+"; q=0.01":""):g.accepts["*"]),g.headers)T.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(v,T,g)||2===w))return T.abort();for(r in s="abort",{success:1,error:1,complete:1})T[r](g[r]);if(c=pt(dt,g,t,T)){T.readyState=1,p&&m.trigger("ajaxSend",[T,g]),g.async&&0<g.timeout&&(f=setTimeout(function(){T.abort("timeout")},g.timeout));try{w=1,c.send(o,l)}catch(e){if(!(w<2))throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,i){var r,o,a,s,l,u=t;2!==w&&(w=2,f&&clearTimeout(f),c=void 0,h=i||"",T.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(g,T,n)),s=function(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(g,s,T,r),r?(g.ifModified&&((l=T.getResponseHeader("Last-Modified"))&&(k.lastModified[d]=l),(l=T.getResponseHeader("etag"))&&(k.etag[d]=l)),204===e||"HEAD"===g.type?u="nocontent":304===e?u="notmodified":(u=s.state,o=s.data,r=!(a=s.error))):(a=u,!e&&u||(u="error",e<0&&(e=0))),T.status=e,T.statusText=(t||u)+"",r?y.resolveWith(v,[o,u,T]):y.rejectWith(v,[T,u,a]),T.statusCode(_),_=void 0,p&&m.trigger(r?"ajaxSuccess":"ajaxError",[T,g,r?o:a]),b.fireWith(v,[T,u]),p&&(m.trigger("ajaxComplete",[T,g]),--k.active||k.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,r){k[r]=function(e,t,n,i){return k.isFunction(t)&&(i=i||n,n=t,t=void 0),k.ajax({url:e,type:r,dataType:i,data:t,success:n})}}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k._evalUrl=function(e){return k.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},k.fn.extend({wrapAll:function(t){var e;return k.isFunction(t)?this.each(function(e){k(this).wrapAll(t.call(this,e))}):(this[0]&&(e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(n){return k.isFunction(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=k.isFunction(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,"body")||k(this).replaceWith(this.childNodes)}).end()}}),k.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},k.expr.filters.visible=function(e){return!k.expr.filters.hidden(e)};var vt=/%20/g,mt=/\[\]$/,yt=/\r?\n/g,bt=/^(?:submit|button|image|reset|file)$/i,_t=/^(?:input|select|textarea|keygen)/i;function wt(n,e,i,r){var t;if(k.isArray(e))k.each(e,function(e,t){i||mt.test(n)?r(n,t):wt(n+"["+("object"==typeof t?e:"")+"]",t,i,r)});else if(i||"object"!==k.type(e))r(n,e);else for(t in e)wt(n+"["+t+"]",e[t],i,r)}k.param=function(e,t){var n,i=[],r=function(e,t){t=k.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=k.ajaxSettings&&k.ajaxSettings.traditional),k.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){r(this.name,this.value)});else for(n in e)wt(n,e[n],t,r);return i.join("&").replace(vt,"+")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&_t.test(this.nodeName)&&!bt.test(e)&&(this.checked||!V.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:k.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(yt,"\r\n")}}):{name:t.name,value:n.replace(yt,"\r\n")}}).get()}}),k.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Tt=0,kt={},St={0:200,1223:204},Et=k.ajaxSettings.xhr();p.ActiveXObject&&k(p).on("unload",function(){for(var e in kt)kt[e]()}),m.cors=!!Et&&"withCredentials"in Et,m.ajax=Et=!!Et,k.ajaxTransport(function(o){var a;if(m.cors||Et&&!o.crossDomain)return{send:function(e,t){var n,i=o.xhr(),r=++Tt;if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(delete kt[r],a=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?t(i.status,i.statusText):t(St[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=a(),i.onerror=a("error"),a=kt[r]=a("abort");try{i.send(o.hasContent&&o.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(e,t){i=k("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),y.head.appendChild(i[0])},abort:function(){r&&r()}}});var Ct=[],xt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ct.pop()||k.expando+"_"+et++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(xt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&xt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=k.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(xt,"$1"+i):!1!==e.jsonp&&(e.url+=(tt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||k.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=p[i],p[i]=function(){o=arguments},n.always(function(){p[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Ct.push(i)),o&&k.isFunction(r)&&r(o[0]),o=r=void 0}),"script"}),k.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||y;var i=b.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=k.buildFragment([e],t,r),r&&r.length&&k(r).remove(),k.merge([],i.childNodes))};var Ot=k.fn.load;k.fn.load=function(e,t,n){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return 0<=s&&(i=k.trim(e.slice(s)),e=e.slice(0,s)),k.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&k.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?k("<div>").append(k.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},k.expr.filters.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length};var At=p.document.documentElement;function Pt(e){return k.isWindow(e)?e:9===e.nodeType&&e.defaultView}k.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u=k.css(e,"position"),c=k(e),d={};"static"===u&&(e.style.position="relative"),s=c.offset(),o=k.css(e,"top"),l=k.css(e,"left"),r=("absolute"===u||"fixed"===u)&&-1<(o+l).indexOf("auto")?(a=(i=c.position()).top,i.left):(a=parseFloat(o)||0,parseFloat(l)||0),k.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):c.css(d)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,k.contains(e,i)?(typeof i.getBoundingClientRect!=q&&(r=i.getBoundingClientRect()),n=Pt(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===k.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),k.nodeName(e[0],"html")||(i=e.offset()),i.top+=k.css(e[0],"borderTopWidth",!0),i.left+=k.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-k.css(n,"marginTop",!0),left:t.left-i.left-k.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||At;e&&!k.nodeName(e,"html")&&"static"===k.css(e,"position");)e=e.offsetParent;return e||At})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;k.fn[t]=function(e){return D(this,function(e,t,n){var i=Pt(e);if(void 0===n)return i?i[r]:e[t];i?i.scrollTo(o?p.pageXOffset:n,o?n:p.pageYOffset):e[t]=n},t,e,arguments.length,null)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=Te(m.pixelPosition,function(e,t){if(t)return t=we(e,n),be.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(o,a){k.each({padding:"inner"+o,content:a,"":"outer"+o},function(i,e){k.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return D(this,function(e,t,n){var i;return k.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+o],i["scroll"+o],e.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?k.css(e,t,r):k.style(e,t,n,r)},a,n?e:void 0,n,null)}})}),k.fn.size=function(){return this.length},k.fn.andSelf=k.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var It=p.jQuery,Dt=p.$;return k.noConflict=function(e){return p.$===k&&(p.$=Dt),e&&p.jQuery===k&&(p.jQuery=It),k},typeof e==q&&(p.jQuery=p.$=k),k}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){return function o(a,s,l){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof _dereq_&&_dereq_;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,o,a,s,l)}return s[t].exports}for(var c="function"==typeof _dereq_&&_dereq_,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,n){"use strict";t.exports=function(e){var i=e._SomePromiseArray;function t(e){var t=new i(e),n=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),n}e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,n){"use strict";var i;try{throw new Error}catch(e){i=e}var r=e("./schedule"),o=e("./queue"),a=e("./util");function s(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=r}function l(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function u(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function c(e){this._normalQueue._pushOne(e),this._queueTick()}s.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},s.prototype.hasCustomScheduler=function(){return this._customScheduler},s.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},s.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},s.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},s.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.prototype.settlePromises=a.hasDevTools?(s.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?l.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},s.prototype.invoke=function(e,t,n){this._trampolineEnabled?u.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},function(e){this._trampolineEnabled?c.call(this,e):this._schedule(function(){e._settlePromises()})}):(s.prototype.invokeLater=l,s.prototype.invoke=u,c),s.prototype.invokeFirst=function(e,t,n){this._normalQueue.unshift(e,t,n),this._queueTick()},s.prototype._drainQueue=function(e){for(;0<e.length();){var t=e.shift();if("function"==typeof t){var n=e.shift(),i=e.shift();t.call(n,i)}else t._settlePromises()}},s.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},t.exports=s,t.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(o,a,s,l){var u=!1,n=function(e,t){this._reject(t)},c=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(n,n,null,this,e)},d=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},h=function(e,t){t.promiseRejectionQueued||this._reject(e)};o.prototype.bind=function(e){u||(u=!0,o.prototype._propagateFrom=l.propagateFromFunction(),o.prototype._boundValue=l.boundValueFunction());var t=s(e),n=new o(a);n._propagateFrom(this,1);var i=this._target();if(n._setBoundTo(t),t instanceof o){var r={promiseRejectionQueued:!1,promise:n,target:i,bindingPromise:t};i._then(a,c,void 0,n,r),t._then(d,h,void 0,n,r),n._setOnCancel(t)}else n._resolveCallback(i);return n},o.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},o.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},o.bind=function(e,t){return o.resolve(t).bind(e)}}},{}],4:[function(e,t,n){"use strict";var i;"undefined"!=typeof Promise&&(i=Promise);var r=e("./promise")();r.noConflict=function(){try{Promise===r&&(Promise=i)}catch(e){}return r},t.exports=r},{"./promise":22}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var r=i(null),o=i(null);r[" size"]=o[" size"]=0}t.exports=function(r){var o=e("./util"),i=o.canEvaluate;function n(e){return function(e,t){var n;if(null!=e&&(n=e[t]),"function"==typeof n)return n;var i="Object "+o.classString(e)+" has no method '"+o.toString(t)+"'";throw new r.TypeError(i)}(e,this.pop()).apply(e,this)}function a(e){return e[this]}function s(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}o.isIdentifier,r.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(n,void 0,void 0,t,void 0)},r.prototype.get=function(e){var t;if("number"==typeof e)t=s;else if(i){var n=(void 0)(e);t=null!==n?n:a}else t=a;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(l,e,t){"use strict";e.exports=function(e,t,n,i){var r=l("./util"),o=r.tryCatch,a=r.errorObj,s=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e.isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n.isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),t=e,e=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this.isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){0<this._length()&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(e,t){if(r.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=o(e).call(this._boundValue());i===a&&(this._attachExtraTrace(i.e),s.throwLater(i.e))}}else e._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,e)},e.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(d){var h=e("./util"),f=e("./es5").keys,p=h.tryCatch,g=h.errorObj;return function(l,u,c){return function(e){var t=c._boundValue();e:for(var n=0;n<l.length;++n){var i=l[n];if(i===Error||null!=i&&i.prototype instanceof Error){if(e instanceof i)return p(u).call(t,e)}else if("function"==typeof i){var r=p(i).call(t,e);if(r===g)return r;if(r)return p(u).call(t,e)}else if(h.isObject(e)){for(var o=f(i),a=0;a<o.length;++a){var s=o[a];if(i[s]!=e[s])continue e}return p(u).call(t,e)}}return d}}}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(o){var a=!1,n=[];function s(){this._trace=new s.CapturedTrace(l())}function l(){var e=n.length-1;if(0<=e)return n[e]}return o.prototype._promiseCreated=function(){},o.prototype._pushContext=function(){},o.prototype._popContext=function(){return null},o._peekContext=o.prototype._peekContext=function(){},s.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},s.prototype._popContext=function(){if(void 0===this._trace)return null;var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t},s.CapturedTrace=null,s.create=function(){if(a)return new s},s.deactivateLongStackTraces=function(){},s.activateLongStackTraces=function(){var e=o.prototype._pushContext,t=o.prototype._popContext,n=o._peekContext,i=o.prototype._peekContext,r=o.prototype._promiseCreated;s.deactivateLongStackTraces=function(){o.prototype._pushContext=e,o.prototype._popContext=t,o._peekContext=n,o.prototype._peekContext=i,o.prototype._promiseCreated=r,a=!1},a=!0,o.prototype._pushContext=s.prototype._pushContext,o.prototype._popContext=s.prototype._popContext,o._peekContext=o.prototype._peekContext=l,o.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},s}},{}],9:[function(X,e,t){"use strict";e.exports=function(a,n){var i,r,o,s=a._getDomain,l=a._async,u=X("./errors").Warning,c=X("./util"),d=c.canAttachTrace,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,f=null,p=null,g=!1,e=!(0==c.env("BLUEBIRD_DEBUG")),t=!(0==c.env("BLUEBIRD_WARNINGS")||!e&&!c.env("BLUEBIRD_WARNINGS")),v=!(0==c.env("BLUEBIRD_LONG_STACK_TRACES")||!e&&!c.env("BLUEBIRD_LONG_STACK_TRACES")),m=0!=c.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(t||!!c.env("BLUEBIRD_W_FORGOTTEN_RETURN"));a.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},a.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),l.invokeLater(this._notifyUnhandledRejection,this,void 0))},a.prototype._notifyUnhandledRejectionIsHandled=function(){U("rejectionHandled",i,void 0,this)},a.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},a.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},a.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),U("unhandledRejection",r,e,this)}},a.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},a.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},a.prototype._isUnhandledRejectionNotified=function(){return 0<(262144&this._bitField)},a.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},a.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},a.prototype._isRejectionUnhandled=function(){return 0<(1048576&this._bitField)},a.prototype._warn=function(e,t,n){return N(e,t,n||this)},a.onPossiblyUnhandledRejection=function(e){var t=s();r="function"==typeof e?null===t?e:t.bind(e):void 0},a.onUnhandledRejectionHandled=function(e){var t=s();i="function"==typeof e?null===t?e:t.bind(e):void 0};var y=function(){};a.longStackTraces=function(){if(l.haveItemsQueued()&&!z.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!z.longStackTraces&&$()){var e=a.prototype._captureStackTrace,t=a.prototype._attachExtraTrace;z.longStackTraces=!0,y=function(){if(l.haveItemsQueued()&&!z.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");a.prototype._captureStackTrace=e,a.prototype._attachExtraTrace=t,n.deactivateLongStackTraces(),l.enableTrampoline(),z.longStackTraces=!1},a.prototype._captureStackTrace=j,a.prototype._attachExtraTrace=R,n.activateLongStackTraces(),l.disableTrampolineIfNecessary()}},a.hasLongStackTraces=function(){return z.longStackTraces&&$()};var b=function(){try{var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),c.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!c.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),_=c.isNode?function(){return process.emit.apply(process,arguments)}:c.global?function(e){var t="on"+e.toLowerCase(),n=c.global[t];return!!n&&(n.apply(c.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function w(e,t){return{promise:t}}var T={promiseCreated:w,promiseFulfilled:w,promiseRejected:w,promiseResolved:w,promiseCancelled:w,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:w},k=function(e){var t=!1;try{t=_.apply(null,arguments)}catch(e){l.throwLater(e),t=!0}var n=!1;try{n=b(e,T[e].apply(null,arguments))}catch(e){l.throwLater(e),n=!0}return n||t};function S(){return!1}function E(e,t,n){var i=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+c.toString(e));i._attachCancellationCallback(e)})}catch(e){return e}}function C(e){if(!this.isCancellable())return this;var t=this._onCancel();void 0!==t?c.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function x(){return this._onCancelField}function O(e){this._onCancelField=e}function A(){this._cancellationParent=void 0,this._onCancelField=void 0}function P(e,t){if(0!=(1&t)){var n=(this._cancellationParent=e)._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}a.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?a.longStackTraces():!e.longStackTraces&&a.hasLongStackTraces()&&y()),"warnings"in e){var t=e.warnings;z.warnings=!!t,m=z.warnings,c.isObject(t)&&"wForgottenReturn"in t&&(m=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!z.cancellation){if(l.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");a.prototype._clearCancellationData=A,a.prototype._propagateFrom=P,a.prototype._onCancel=x,a.prototype._setOnCancel=O,a.prototype._attachCancellationCallback=C,a.prototype._execute=E,I=P,z.cancellation=!0}"monitoring"in e&&(e.monitoring&&!z.monitoring?(z.monitoring=!0,a.prototype._fireEvent=k):!e.monitoring&&z.monitoring&&(z.monitoring=!1,a.prototype._fireEvent=S))},a.prototype._fireEvent=S,a.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},a.prototype._onCancel=function(){},a.prototype._setOnCancel=function(e){},a.prototype._attachCancellationCallback=function(e){},a.prototype._captureStackTrace=function(){},a.prototype._attachExtraTrace=function(){},a.prototype._clearCancellationData=function(){},a.prototype._propagateFrom=function(e,t){};var I=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function D(){var e=this._boundTo;return void 0!==e&&e instanceof a?e.isFulfilled()?e.value():void 0:e}function j(){this._trace=new q(this._peekContext())}function R(e,t){if(d(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=L(e);c.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),c.notEnumerableProp(e,"__stackCleaned__",!0)}}}function N(e,t,n){if(z.warnings){var i,r=new u(e);if(t)n._attachExtraTrace(r);else if(z.longStackTraces&&(i=a._peekContext()))i.attachExtraTrace(r);else{var o=L(r);r.stack=o.message+"\n"+o.stack.join("\n")}k("warning",r)||F(r,"",!0)}}function M(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r="    (No stack trace)"===i||f.test(i),o=r&&H(i);r&&!o&&(g&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function L(r){var e=r.stack;return{message:r.toString(),stack:M(e="string"==typeof e&&0<e.length?function(e){for(var t=r.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||f.test(i))break}return 0<n&&(t=t.slice(n)),t}():["    (No stack trace)"])}}function F(e,t,n){if("undefined"!=typeof console){var i;if(c.isObject(e)){var r=e.stack;i=t+p(r,e)}else i=t+String(e);"function"==typeof o?o(i,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function U(e,t,n,i){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(e){l.throwLater(e)}"unhandledRejection"===e?k(e,n,i)||r||F(n,"Unhandled rejection "):k(e,i)}function B(e){var t,n;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():c.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+((n=t).length<41?n:n.substr(0,38)+"...")+">, no stack trace)"}function $(){return"function"==typeof G}var H=function(){return!1},W=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function V(e){var t=e.match(W);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function q(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);G(this,q),32<t&&this.uncycle()}c.inherits(q,Error),(n.CapturedTrace=q).prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},i=0,r=this;void 0!==r;++i)t.push(r),r=r._parent;for(i=(e=this._length=i)-1;0<=i;--i){var o=t[i].stack;void 0===n[o]&&(n[o]=i)}for(i=0;i<e;++i){var a=n[t[i].stack];if(void 0!==a&&a!==i){0<a&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var s=0<i?t[i-1]:this;a<e-1?(s._parent=t[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var l=s._length+1,u=i-2;0<=u;--u)t[u]._length=l,l++;return}}}},q.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=L(e),n=t.message,i=[t.stack],r=this;void 0!==r;)i.push(M(r.stack.split("\n"))),r=r._parent;!function(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],r=t.length-1,o=t[r],a=-1,s=i.length-1;0<=s;--s)if(i[s]===o){a=s;break}for(s=a;0<=s;--s){var l=i[s];if(t[r]!==l)break;t.pop(),r--}t=i}}(i),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(i),c.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}(n,i)),c.notEnumerableProp(e,"__stackCleaned__",!0)}};var G=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():B(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,f=e,p=t;var n=Error.captureStackTrace;return H=function(e){return h.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var i,r=new Error;if("string"==typeof r.stack&&0<=r.stack.split("\n")[0].indexOf("stackDetection@"))return f=/@/,p=t,g=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){i="stack"in e}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(p=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?B(t):t.toString()},null):(f=e,p=t,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(e){console.warn(e)},c.isNode&&process.stderr.isTTY?o=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:c.isNode||"string"!=typeof(new Error).stack||(o=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var z={warnings:t,longStackTraces:!1,cancellation:!1,monitoring:!1};return v&&a.longStackTraces(),{longStackTraces:function(){return z.longStackTraces},warnings:function(){return z.warnings},cancellation:function(){return z.cancellation},monitoring:function(){return z.monitoring},propagateFromFunction:function(){return I},boundValueFunction:function(){return D},checkForgottenReturns:function(e,t,n,i,r){if(void 0===e&&null!==t&&m){if(void 0!==r&&r._returnedNonUndefined())return;if(0==(65535&i._bitField))return;n&&(n+=" ");var o="a promise was created in a "+n+"handler but was not returned from it";i._warn(o,!0,t)}},setBounds:function(e,t){if($()){for(var n,i,r=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,l=0;l<r.length;++l)if(u=V(r[l])){n=u.fileName,a=u.line;break}for(l=0;l<o.length;++l){var u;if(u=V(o[l])){i=u.fileName,s=u.line;break}}a<0||s<0||!n||!i||n!==i||s<=a||(H=function(e){if(h.test(e))return!0;var t=V(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}},warn:N,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),N(n)},CapturedTrace:q,fireDomEvent:b,fireGlobalEvent:_}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(n){function i(){return this.value}function r(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(e){return e instanceof n&&e.suppressUnhandledRejections(),this._then(i,void 0,void 0,{value:e},void 0)},n.prototype.throw=n.prototype.thenThrow=function(e){return this._then(r,void 0,void 0,{reason:e},void 0)},n.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},n.prototype.catchReturn=function(e){if(arguments.length<=1)return e instanceof n&&e.suppressUnhandledRejections(),this._then(void 0,i,void 0,{value:e},void 0);var t=arguments[1];return t instanceof n&&t.suppressUnhandledRejections(),this.caught(e,function(){return t})}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,n){var i=e.reduce,t=e.all;function r(){return t(this)}function o(e,t){return i(e,t,n,n)}e.prototype.each=function(e){return this.mapSeries(e)._then(r,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,n,n)},e.each=function(e,t){return o(e,t)._then(r,void 0,void 0,e,void 0)},e.mapSeries=o}},{}],12:[function(e,t,n){"use strict";var i,r,o=e("./es5"),a=o.freeze,s=e("./util"),l=s.inherits,u=s.notEnumerableProp;function c(t,n){function i(e){if(!(this instanceof i))return new i(e);u(this,"message","string"==typeof e?e:n),u(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(i,Error),i}var d=c("Warning","warning"),h=c("CancellationError","cancellation error"),f=c("TimeoutError","timeout error"),p=c("AggregateError","aggregate error");try{i=TypeError,r=RangeError}catch(e){i=c("TypeError","type error"),r=c("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<g.length;++v)"function"==typeof Array.prototype[g[v]]&&(p.prototype[g[v]]=Array.prototype[g[v]]);o.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var m=0;function y(e){if(!(this instanceof y))return new y(e);u(this,"name","OperationalError"),u(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(u(this,"message",e.message),u(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}p.prototype.toString=function(){var e=Array(4*m+1).join(" "),t="\n"+e+"AggregateError of:\n";m++,e=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=e+r[o];t+=(i=r.join("\n"))+"\n"}return m--,t},l(y,Error);var b=Error.__BluebirdErrorTypes__;b||(b=a({CancellationError:h,TimeoutError:f,OperationalError:y,RejectionError:y,AggregateError:p}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:i,RangeError:r,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(e,t,n){var i=function(){"use strict";return void 0===this}();if(i)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return a}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,i){var r=e.map;e.prototype.filter=function(e,t){return r(this,e,t,i)},e.filter=function(e,t,n){return r(e,t,n,i)}}},{}],15:[function(n,e,t){"use strict";e.exports=function(a,s){var e=n("./util"),l=a.CancellationError,u=e.errorObj;function r(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function c(e){this.finallyHandler=e}function d(e,t){return null!=e.cancelPromise&&(1<arguments.length?e.cancelPromise._reject(t):e.cancelPromise._cancel(),!(e.cancelPromise=null))}function h(){return t.call(this,this.promise._target()._settledValue())}function f(e){if(!d(this,e))return u.e=e,u}function t(e){var t=this.promise,n=this.handler;if(!this.called){this.called=!0;var i=this.isFinallyHandler()?n.call(t._boundValue()):n.call(t._boundValue(),e);if(void 0!==i){t._setReturnedNonUndefined();var r=s(i,t);if(r instanceof a){if(null!=this.cancelPromise){if(r.isCancelled()){var o=new l("late cancellation observer");return t._attachExtraTrace(o),u.e=o,u}r.isPending()&&r._attachCancellationCallback(new c(this))}return r._then(h,f,void 0,this,void 0)}}}return t.isRejected()?(d(this),u.e=e,u):(d(this),e)}return r.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){d(this.finallyHandler)},a.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,void 0,new r(this,t,e),void 0)},a.prototype.lastly=a.prototype.finally=function(e){return this._passThrough(e,0,t,t)},a.prototype.tap=function(e){return this._passThrough(e,1,t)},r}},{"./util":36}],16:[function(n,e,t){"use strict";e.exports=function(s,i,a,l,e,u){var c=n("./errors").TypeError,t=n("./util"),d=t.errorObj,h=t.tryCatch,f=[];function p(e,t,n,i){if(u.cancellation()){var r=new s(a),o=this._finallyPromise=new s(a);this._promise=r.lastly(function(){return o}),r._captureStackTrace(),r._setOnCancel(this)}else(this._promise=new s(a))._captureStackTrace();this._stack=i,this._generatorFunction=e,this._receiver=t,this._generator=void 0,this._yieldHandlers="function"==typeof n?[n].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}t.inherits(p,e),p.prototype._isResolved=function(){return null===this._promise},p.prototype._cleanup=function(){this._promise=this._generator=null,u.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=h(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var t=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=t,this._promise._attachExtraTrace(t),this._promise._pushContext(),e=h(this._generator.throw).call(this._generator,t),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},p.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=h(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},p.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=h(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(e){var t=this._promise;if(e===d)return this._cleanup(),this._cancellationPhase?t.cancel():t._rejectCallback(e.e,!1);var n=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?t.cancel():t._resolveCallback(n);var i=l(n,this._promise);if(i instanceof s||null!==(i=function(e,t,n){for(var i=0;i<t.length;++i){n._pushContext();var r=h(t[i])(e);if(n._popContext(),r===d){n._pushContext();var o=s.reject(d.e);return n._popContext(),o}var a=l(r,n);if(a instanceof s)return a}return null}(i,this._yieldHandlers,this._promise))){var r=(i=i._target())._bitField;0==(50397184&r)?(this._yieldedPromise=i)._proxy(this,null):0!=(33554432&r)?this._promiseFulfilled(i._value()):0!=(16777216&r)?this._promiseRejected(i._reason()):this._promiseCancelled()}else this._promiseRejected(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},s.coroutine=function(i,e){if("function"!=typeof i)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(e).yieldHandler,o=p,a=(new Error).stack;return function(){var e=i.apply(this,arguments),t=new o(void 0,void 0,r,a),n=t.promise();return t._generator=e,t._promiseFulfilled(void 0),n}},s.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new c("expecting a function but got "+t.classString(e));f.push(e)},s.spawn=function(e){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var t=new p(e,this),n=t.promise();return t._run(s.spawn),n}}},{"./errors":12,"./util":36}],17:[function(o,e,t){"use strict";e.exports=function(e,r,t,n){var i=o("./util");i.canEvaluate,i.tryCatch,i.errorObj,e.join=function(){var e,t=arguments.length-1;0<t&&"function"==typeof arguments[t]&&(e=arguments[t]);var n=[].slice.call(arguments);e&&n.pop();var i=new r(n).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(f,e,o,p,a,g){var s=f._getDomain,l=t("./util"),v=l.tryCatch,m=l.errorObj,u=[];function c(e,t,n,i){this.constructor$(e),this._promise._captureStackTrace();var r=s();this._callback=null===r?t:r.bind(t),this._preservedValues=i===a?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=1<=n?[]:u,this._init$(void 0,-2)}function r(e,t,n,i){if("function"!=typeof t)return o("expecting a function but got "+l.classString(t));var r="object"==typeof n&&null!==n?n.concurrency:0;return new c(e,t,r="number"==typeof r&&isFinite(r)&&1<=r?r:0,i).promise()}l.inherits(c,e),c.prototype._init=function(){},c.prototype._promiseFulfilled=function(e,t){var n=this._values,i=this.length(),r=this._preservedValues,o=this._limit;if(t<0){if(n[t=-1*t-1]=e,1<=o&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(1<=o&&this._inFlight>=o)return n[t]=e,this._queue.push(t),!1;null!==r&&(r[t]=e);var a=this._promise,s=this._callback,l=a._boundValue();a._pushContext();var u=v(s).call(l,e,t,i),c=a._popContext();if(g.checkForgottenReturns(u,c,null!==r?"Promise.filter":"Promise.map",a),u===m)return this._reject(u.e),!0;var d=p(u,this._promise);if(d instanceof f){var h=(d=d._target())._bitField;if(0==(50397184&h))return 1<=o&&this._inFlight++,(n[t]=d)._proxy(this,-1*(t+1)),!1;if(0==(33554432&h))return 0!=(16777216&h)?this._reject(d._reason()):this._cancel(),!0;u=d._value()}n[t]=u}return i<=++this._totalResolved&&(null!==r?this._filter(n,r):this._resolve(n),!0)},c.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;0<e.length&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},c.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),r=0,o=0;o<n;++o)e[o]&&(i[r++]=t[o]);i.length=r,this._resolve(i)},c.prototype.preservedValues=function(){return this._preservedValues},f.prototype.map=function(e,t){return r(this,e,t,null)},f.map=function(e,t,n,i){return r(e,t,n,i)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(a,s,e,l,u){var c=t("./util"),d=c.tryCatch;a.method=function(i){if("function"!=typeof i)throw new a.TypeError("expecting a function but got "+c.classString(i));return function(){var e=new a(s);e._captureStackTrace(),e._pushContext();var t=d(i).apply(this,arguments),n=e._popContext();return u.checkForgottenReturns(t,n,"Promise.method",e),e._resolveFromSyncValue(t),e}},a.attempt=a.try=function(e){if("function"!=typeof e)return l("expecting a function but got "+c.classString(e));var t,n=new a(s);if(n._captureStackTrace(),n._pushContext(),1<arguments.length){u.deprecated("calling Promise.try with more than 1 argument");var i=arguments[1],r=arguments[2];t=c.isArray(i)?d(e).apply(r,i):d(e).call(r,i)}else t=d(e)();var o=n._popContext();return u.checkForgottenReturns(t,o,"Promise.try",n),n._resolveFromSyncValue(t),n},a.prototype._resolveFromSyncValue=function(e){e===c.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";var a=e("./util"),s=a.maybeWrapAsError,l=e("./errors").OperationalError,u=e("./es5"),c=/^(?:name|message|stack|cause)$/;t.exports=function(r,o){return function(e,t){if(null!==r){if(e){var n=function(e){var t,n;if((n=e)instanceof Error&&u.getPrototypeOf(n)===Error.prototype){(t=new l(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var i=u.keys(e),r=0;r<i.length;++r){var o=i[r];c.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}(s(e));r._attachExtraTrace(n),r._reject(n)}else if(o){var i=[].slice.call(arguments,1);r._fulfill(i)}else r._fulfill(t);r=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var i=t("./util"),r=e._async,o=i.tryCatch,a=i.errorObj;function s(e,t){if(!i.isArray(e))return l.call(this,e,t);var n=o(t).apply(this._boundValue(),[null].concat(e));n===a&&r.throwLater(n.e)}function l(e,t){var n=this._boundValue(),i=void 0===e?o(t).call(n,null):o(t).call(n,null,e);i===a&&r.throwLater(i.e)}function u(e,t){if(!e){var n=new Error(e+"");n.cause=e,e=n}var i=o(t).call(this._boundValue(),e);i===a&&r.throwLater(i.e)}e.prototype.asCallback=e.prototype.nodeify=function(e,t){if("function"==typeof e){var n=l;void 0!==t&&Object(t).spread&&(n=s),this._then(n,u,void 0,this,e)}return this}}},{"./util":36}],22:[function(P,e,t){"use strict";e.exports=function(){var l=function(){return new h("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},s=function(){return new C.PromiseInspection(this._target())},a=function(e){return C.reject(new h(e))};function u(){}var f,c={},d=P("./util");f=d.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},d.notEnumerableProp(C,"_getDomain",f);var e=P("./es5"),t=P("./async"),p=new t;e.defineProperty(C,"_async",{value:p});var n=P("./errors"),h=C.TypeError=n.TypeError;C.RangeError=n.RangeError;var g=C.CancellationError=n.CancellationError;C.TimeoutError=n.TimeoutError,C.OperationalError=n.OperationalError,C.RejectionError=n.OperationalError,C.AggregateError=n.AggregateError;var v=function(){},m={},y={},b=P("./thenables")(C,v),_=P("./promise_array")(C,v,b,a,u),i=P("./context")(C),r=i.create,w=P("./debuggability")(C,i),T=(w.CapturedTrace,P("./finally")(C,b)),k=P("./catch_filter")(y),o=P("./nodeback"),S=d.errorObj,E=d.tryCatch;function C(e){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,e!==v&&(function(e,t){if("function"!=typeof t)throw new h("expecting a function but got "+d.classString(t));if(e.constructor!==C)throw new h("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}(this,e),this._resolveFromExecutor(e)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function x(e){this.promise._resolveCallback(e)}function O(e){this.promise._rejectCallback(e,!1)}function A(e){var t=new C(v);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return C.prototype.toString=function(){return"[object Promise]"},C.prototype.caught=C.prototype.catch=function(e){var t=arguments.length;if(1<t){var n,i=new Array(t-1),r=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!d.isObject(o))return a("expecting an object but got "+d.classString(o));i[r++]=o}return i.length=r,e=arguments[n],this.then(void 0,k(i,e,this))}return this.then(void 0,e)},C.prototype.reflect=function(){return this._then(s,s,void 0,this,void 0)},C.prototype.then=function(e,t){if(w.warnings()&&0<arguments.length&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+d.classString(e);1<arguments.length&&(n+=", "+d.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},C.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},C.prototype.spread=function(e){return"function"!=typeof e?a("expecting a function but got "+d.classString(e)):this.all()._then(e,void 0,void 0,m,void 0)},C.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},C.prototype.all=function(){return 0<arguments.length&&this._warn(".all() was passed arguments but it does not take any"),new _(this).promise()},C.prototype.error=function(e){return this.caught(d.originatesFromRejection,e)},C.is=function(e){return e instanceof C},C.fromNode=C.fromCallback=function(e){var t=new C(v);t._captureStackTrace();var n=1<arguments.length&&!!Object(arguments[1]).multiArgs,i=E(e)(o(t,n));return i===S&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},C.all=function(e){return new _(e).promise()},C.resolve=C.fulfilled=C.cast=function(e){var t=b(e);return t instanceof C||((t=new C(v))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},C.reject=C.rejected=function(e){var t=new C(v);return t._captureStackTrace(),t._rejectCallback(e,!0),t},C.setScheduler=function(e){if("function"!=typeof e)throw new h("expecting a function but got "+d.classString(e));return p.setScheduler(e)},C.prototype._then=function(e,t,n,i,r){var o=void 0!==r,a=o?r:new C(v),s=this._target(),l=s._bitField;o||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===i&&0!=(2097152&this._bitField)&&(i=0!=(50397184&l)?this._boundValue():s===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var u=f();if(0!=(50397184&l)){var c,d,h=s._settlePromiseCtx;0!=(33554432&l)?(d=s._rejectionHandler0,c=e):0!=(16777216&l)?(d=s._fulfillmentHandler0,c=t,s._unsetRejectionIsUnhandled()):(h=s._settlePromiseLateCancellationObserver,d=new g("late cancellation observer"),s._attachExtraTrace(d),c=t),p.invoke(h,s,{handler:null===u?c:"function"==typeof c&&u.bind(c),promise:a,receiver:i,value:d})}else s._addCallbacks(e,t,a,i,u);return a},C.prototype._length=function(){return 65535&this._bitField},C.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},C.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},C.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},C.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},C.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},C.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},C.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},C.prototype._isFinal=function(){return 0<(4194304&this._bitField)},C.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},C.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},C.prototype._setAsyncGuaranteed=function(){p.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},C.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==c)return void 0===t&&this._isBound()?this._boundValue():t},C.prototype._promiseAt=function(e){return this[4*e-4+2]},C.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},C.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},C.prototype._boundValue=function(){},C.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,n=e._rejectionHandler0,i=e._promise0,r=e._receiverAt(0);void 0===r&&(r=c),this._addCallbacks(t,n,i,r,null)},C.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),r=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=c),this._addCallbacks(n,i,r,o,null)},C.prototype._addCallbacks=function(e,t,n,i,r){var o=this._length();if(65531<=o&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=null===r?e:r.bind(e)),"function"==typeof t&&(this._rejectionHandler0=null===r?t:r.bind(t));else{var a=4*o-4;this[2+a]=n,this[3+a]=i,"function"==typeof e&&(this[0+a]=null===r?e:r.bind(e)),"function"==typeof t&&(this[1+a]=null===r?t:r.bind(t))}return this._setLength(o+1),o},C.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},C.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(l(),!1);var n=b(e,this);if(!(n instanceof C))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i!==this){var r=i._bitField;if(0==(50397184&r)){var o=this._length();0<o&&i._migrateCallback0(this);for(var a=1;a<o;++a)i._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&r))this._fulfill(i._value());else if(0!=(16777216&r))this._reject(i._reason());else{var s=new g("late cancellation observer");i._attachExtraTrace(s),this._reject(s)}}else this._reject(l())}},C.prototype._rejectCallback=function(e,t,n){var i=d.ensureErrorObject(e),r=i===e;if(!r&&!n&&w.warnings()){var o="a promise was rejected with a non-error: "+d.classString(e);this._warn(o,!0)}this._attachExtraTrace(i,!!t&&r),this._reject(e)},C.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)},C.prototype._settlePromiseFromHandler=function(e,t,n,i){var r=i._bitField;if(0==(65536&r)){var o;i._pushContext(),t===m?n&&"number"==typeof n.length?o=E(e).apply(this._boundValue(),n):(o=S).e=new h("cannot .spread() a non-array: "+d.classString(n)):o=E(e).call(t,n);var a=i._popContext();0==(65536&(r=i._bitField))&&(o===y?i._reject(n):o===S?i._rejectCallback(o.e,!1):(w.checkForgottenReturns(o,a,"",i,this),i._resolveCallback(o)))}},C.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},C.prototype._followee=function(){return this._rejectionHandler0},C.prototype._setFollowee=function(e){this._rejectionHandler0=e},C.prototype._settlePromise=function(e,t,n,i){var r=e instanceof C,o=this._bitField,a=0!=(134217728&o);0!=(65536&o)?(r&&e._invokeInternalOnCancel(),n instanceof T&&n.isFinallyHandler()?(n.cancelPromise=e,E(t).call(n,i)===S&&e._reject(S.e)):t===s?e._fulfill(s.call(n)):n instanceof u?n._promiseCancelled(e):r||e instanceof _?e._cancel():n.cancel()):"function"==typeof t?r?(a&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof u?n._isResolved()||(0!=(33554432&o)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):r&&(a&&e._setAsyncGuaranteed(),0!=(33554432&o)?e._fulfill(i):e._reject(i))},C.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,r=e.value;"function"==typeof t?n instanceof C?this._settlePromiseFromHandler(t,i,r,n):t.call(i,r,n):n instanceof C&&n._reject(r)},C.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},C.prototype._settlePromise0=function(e,t,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,r,t)},C.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[2+t]=this[3+t]=this[0+t]=this[1+t]=void 0},C.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,0<(65535&t)&&(0!=(134217728&t)?this._settlePromises():p.settlePromises(this))}},C.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return p.fatalError(e,d.isNode);0<(65535&t)?p.settlePromises(this):this._ensurePossibleRejectionHandled()}},C.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},C.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},C.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(0<t){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},C.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},C.defer=C.pending=function(){return w.deprecated("Promise.defer","new Promise"),{promise:new C(v),resolve:x,reject:O}},d.notEnumerableProp(C,"_makeSelfResolutionError",l),P("./method")(C,v,b,a,w),P("./bind")(C,v,b,w),P("./cancel")(C,_,a,w),P("./direct_resolve")(C),P("./synchronous_inspection")(C),P("./join")(C,_,b,v,w),C.Promise=C,P("./map.js")(C,_,a,b,v,w),P("./call_get.js")(C),P("./using.js")(C,a,b,r,v,w),P("./timers.js")(C,v,w),P("./generators.js")(C,a,v,b,u,w),P("./nodeify.js")(C),P("./promisify.js")(C,v),P("./props.js")(C,_,b,a),P("./race.js")(C,v,b,a),P("./reduce.js")(C,_,a,b,v,w),P("./settle.js")(C,_,w),P("./some.js")(C,_,a),P("./filter.js")(C,v),P("./each.js")(C,v),P("./any.js")(C),d.toFastProperties(C),d.toFastProperties(C.prototype),A({a:1}),A({b:2}),A({c:3}),A(1),A(function(){}),A(void 0),A(!1),A(new C(v)),w.setBounds(t.firstLineError,d.lastLineError),C}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(i,e,t){"use strict";e.exports=function(s,n,l,a,e){var u=i("./util");function t(e){var t=this._promise=new s(n);e instanceof s&&t._propagateFrom(e,3),t._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return u.isArray,u.inherits(t,e),t.prototype.length=function(){return this._length},t.prototype.promise=function(){return this._promise},t.prototype._init=function e(t,n){var i=l(this._values,this._promise);if(i instanceof s){var r=(i=i._target())._bitField;if(this._values=i,0==(50397184&r))return this._promise._setAsyncGuaranteed(),i._then(e,this._reject,void 0,this,n);if(0==(33554432&r))return 0!=(16777216&r)?this._reject(i._reason()):this._cancel();i=i._value()}if(null!==(i=u.asArray(i)))0!==i.length?this._iterate(i):-5===n?this._resolveEmptyArray():this._resolve(function(e){switch(n){case-2:return[];case-3:return{}}}());else{var o=a("expecting an array or an iterable object but got "+u.classString(i)).reason();this._promise._rejectCallback(o,!1)}},t.prototype._iterate=function(e){var t=this.getActualLength(e.length);this._length=t,this._values=this.shouldCopyValues()?new Array(t):this._values;for(var n=this._promise,i=!1,r=null,o=0;o<t;++o){var a=l(e[o],n);r=a instanceof s?(a=a._target())._bitField:null,i?null!==r&&a.suppressUnhandledRejections():null!==r?0==(50397184&r)?(a._proxy(this,o),this._values[o]=a):i=0!=(33554432&r)?this._promiseFulfilled(a._value(),o):0!=(16777216&r)?this._promiseRejected(a._reason(),o):this._promiseCancelled(o):i=this._promiseFulfilled(a,o)}i||n._setAsyncGuaranteed()},t.prototype._isResolved=function(){return null===this._values},t.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},t.prototype._cancel=function(){!this._isResolved()&&this._promise.isCancellable()&&(this._values=null,this._promise._cancel())},t.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},t.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},t.prototype._promiseCancelled=function(){return this._cancel(),!0},t.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},t.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof s)e.cancel();else for(var t=0;t<e.length;++t)e[t]instanceof s&&e[t].cancel()}},t.prototype.shouldCopyValues=function(){return!0},t.prototype.getActualLength=function(e){return e},t}},{"./util":36}],24:[function(n,e,t){"use strict";e.exports=function(u,c){var f={},p=n("./util"),d=n("./nodeback"),h=p.withAppended,g=p.maybeWrapAsError,e=p.canEvaluate,v=n("./errors").TypeError,m={__isPromisified__:!0},t=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),y=function(e){return p.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function a(e){return!t.test(e)}function b(e){try{return!0===e.__isPromisified__}catch(e){return!1}}var _=function(e){return e.replace(/([$])/,"\\$")},w=e?void 0:function(r,o,e,t,n,a){var s=function(){return this}(),l=r;function i(){var e=o;o===f&&(e=this);var t=new u(c);t._captureStackTrace();var n="string"==typeof l&&this!==s?this[l]:r,i=d(t,a);try{n.apply(e,h(arguments,i))}catch(e){t._rejectCallback(g(e),!0,!0)}return t._isFateSealed()||t._setAsyncGuaranteed(),t}return"string"==typeof l&&(r=t),p.notEnumerableProp(i,"__isPromisified__",!0),i};function T(e,t,n,i,r){for(var o=new RegExp(_(t)+"$"),a=function(e,t,n,i){for(var r,o,a,s,l=p.inheritedDataKeys(e),u=[],c=0;c<l.length;++c){var d=l[c],h=e[d],f=i===y||y(d,h,e);"function"!=typeof h||b(h)||(r=e,o=d,a=t,(s=p.getDataPropertyOrDefault(r,o+a,m))&&b(s))||!i(d,h,e,f)||u.push(d,h)}return function(e,t,n){for(var i=0;i<e.length;i+=2){var r=e[i];if(n.test(r))for(var o=r.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new v("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(u,t,n),u}(e,t,o,n),s=0,l=a.length;s<l;s+=2){var u=a[s],c=a[s+1],d=u+t;if(i===w)e[d]=w(u,f,u,c,t,r);else{var h=i(c,function(){return w(u,f,u,c,t,r)});p.notEnumerableProp(h,"__isPromisified__",!0),e[d]=h}}return p.toFastProperties(e),e}u.promisify=function(e,t){if("function"!=typeof e)throw new v("expecting a function but got "+p.classString(e));if(b(e))return e;var n,i,r,o=(n=e,i=void 0===(t=Object(t)).context?f:t.context,r=!!t.multiArgs,w(n,i,void 0,n,null,r));return p.copyDescriptors(e,o,a),o},u.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new v("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,i=t.suffix;"string"!=typeof i&&(i="Async");var r=t.filter;"function"!=typeof r&&(r=y);var o=t.promisifier;if("function"!=typeof o&&(o=w),!p.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=p.inheritedDataKeys(e),s=0;s<a.length;++s){var l=e[a[s]];"constructor"!==a[s]&&p.isClass(l)&&(T(l.prototype,i,r,o,n),T(l,i,r,o,n))}return T(e,i,r,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(d,e,t){"use strict";e.exports=function(i,e,r,o){var s,t=d("./util"),a=t.isObject,l=d("./es5");"function"==typeof Map&&(s=Map);var u=function(){var n=0,i=0;function r(e,t){this[n]=e,this[n+i]=t,n++}return function(e){i=e.size,n=0;var t=new Array(2*e.size);return e.forEach(r,t),t}}();function c(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=u(e),n=!0;else{var i=l.keys(e),r=i.length;t=new Array(2*r);for(var o=0;o<r;++o){var a=i[o];t[o]=e[a],t[o+r]=a}}this.constructor$(t),this._isMap=n,this._init$(void 0,-3)}function n(e){var t,n=r(e);return a(n)?(t=n instanceof i?n._then(i.props,void 0,void 0,void 0,void 0):new c(n).promise(),n instanceof i&&t._propagateFrom(n,2),t):o("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}t.inherits(c,e),c.prototype._init=function(){},c.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(e){for(var t=new s,n=e.length/2|0,i=0;i<n;++i){var r=e[n+i],o=e[i];t.set(r,o)}return t}(this._values);else{n={};for(var i=this.length(),r=0,o=this.length();r<o;++r)n[this._values[r+i]]=this._values[r]}return this._resolve(n),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(e){return e>>1},i.prototype.props=function(){return n(this)},i.props=function(e){return n(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},i.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var n=(this._front-1&t-1^t)-t;this[n]=e,this._front=n,this._length=this.length()+1},i.prototype.unshift=function(e,t,n){this._unshiftOne(n),this._unshiftOne(t),this._unshiftOne(e)},i.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[0+r&o]=e,this[1+r&o]=t,this[2+r&o]=n,this._length=i},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,function(e,t,n,i,r){for(var o=0;o<r;++o)n[o+i]=e[o+0],e[o+0]=void 0}(this,0,this,t,this._front+this._length&t-1)},t.exports=i},{}],27:[function(e,t,n){"use strict";t.exports=function(u,c,d,h){var f=e("./util"),p=function(t){return t.then(function(e){return n(e,t)})};function n(e,t){var n=d(e);if(n instanceof u)return p(n);if(null===(e=f.asArray(e)))return h("expecting an array or an iterable object but got "+f.classString(e));var i=new u(c);void 0!==t&&i._propagateFrom(t,3);for(var r=i._fulfill,o=i._reject,a=0,s=e.length;a<s;++a){var l=e[a];(void 0!==l||a in e)&&u.cast(l)._then(r,o,void 0,i,null)}return i}u.race=function(e){return n(e,void 0)},u.prototype.race=function(){return n(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(a,e,r,n,o,s){var l=a._getDomain,u=t("./util"),c=u.tryCatch;function d(e,t,n,i){this.constructor$(e);var r=l();this._fn=null===r?t:r.bind(t),void 0!==n&&(n=a.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=i===o?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function h(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function f(e,t,n,i){return"function"!=typeof t?r("expecting a function but got "+u.classString(t)):new d(e,t,n,i).promise()}function p(e){this.accum=e,this.array._gotAccum(e);var t=n(this.value,this.array._promise);return t instanceof a?(this.array._currentCancellable=t)._then(i,void 0,void 0,this,void 0):i.call(this,t)}function i(e){var t,n=this.array,i=n._promise,r=c(n._fn);i._pushContext(),(t=void 0!==n._eachValues?r.call(i._boundValue(),e,this.index,this.length):r.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof a&&(n._currentCancellable=t);var o=i._popContext();return s.checkForgottenReturns(t,o,void 0!==n._eachValues?"Promise.each":"Promise.reduce",i),t}u.inherits(d,e),d.prototype._gotAccum=function(e){void 0!==this._eachValues&&e!==o&&this._eachValues.push(e)},d.prototype._eachComplete=function(e){return this._eachValues.push(e),this._eachValues},d.prototype._init=function(){},d.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},d.prototype.shouldCopyValues=function(){return!1},d.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},d.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof a&&this._currentCancellable.cancel(),this._initialValue instanceof a&&this._initialValue.cancel())},d.prototype._iterate=function(e){var t,n,i=(this._values=e).length;if(n=void 0!==this._initialValue?(t=this._initialValue,0):(t=a.resolve(e[0]),1),!(this._currentCancellable=t).isRejected())for(;n<i;++n){var r={accum:null,value:e[n],index:n,length:i,array:this};t=t._then(p,void 0,void 0,r,void 0)}void 0!==this._eachValues&&(t=t._then(this._eachComplete,void 0,void 0,this,void 0)),t._then(h,h,void 0,t,this)},a.prototype.reduce=function(e,t){return f(this,e,t,null)},a.reduce=function(e,t,n,i){return f(e,t,n,i)}}},{"./util":36}],29:[function(e,t,n){"use strict";var i,r,o,a,s,l=e("./util"),u=l.getNativePromise();if(l.isNode&&"undefined"==typeof MutationObserver){var c=global.setImmediate,d=process.nextTick;i=l.isRecentNode?function(e){c.call(global,e)}:function(e){d.call(process,e)}}else if("function"==typeof u){var h=u.resolve();i=function(e){h.then(e)}}else i="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(r=document.createElement("div"),a=!(o={attributes:!0}),s=document.createElement("div"),new MutationObserver(function(){r.classList.toggle("foo"),a=!1}).observe(s,o),function(e){var t=new MutationObserver(function(){t.disconnect(),e()});t.observe(r,o),a||(a=!0,s.classList.toggle("foo"))});t.exports=i},{"./util":36}],30:[function(o,e,t){"use strict";e.exports=function(e,t,n){var i=e.PromiseInspection;function r(e){this.constructor$(e)}o("./util").inherits(r,t),r.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(e,t){var n=new i;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},r.prototype._promiseRejected=function(e,t){var n=new i;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},e.settle=function(e){return n.deprecated(".settle()",".reflect()"),new r(e).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(c,e,t){"use strict";e.exports=function(e,t,r){var n=c("./util"),i=c("./errors").RangeError,o=c("./errors").AggregateError,a=n.isArray,s={};function l(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function u(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new l(e),i=n.promise();return n.setHowMany(t),n.init(),i}n.inherits(l,t),l.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=a(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(e){this._howMany=e},l.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},l.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(s),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new o,t=this.length();t<this._values.length;++t)this._values[t]!==s&&e.push(this._values[t]);return 0<e.length?this._reject(e):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(e){this._values.push(e)},l.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new i(t)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(e,t){return u(e,t)},e.prototype.some=function(e){return u(this,e)},e._SomePromiseArray=l}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=e.prototype._isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype.isCancelled=function(){return this._target()._isCancelled()},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return r.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(s,l){var u=e("./util"),c=u.errorObj,o=u.isObject,a={}.hasOwnProperty;return function(e,t){if(o(e)){if(e instanceof s)return e;var n=function(e){try{return e.then}catch(e){return c.e=e,c}}(e);if(n===c){t&&t._pushContext();var i=s.reject(n.e);return t&&t._popContext(),i}if("function"==typeof n)return r=e,a.call(r,"_promise0")?(i=new s(l),e._then(i._fulfill,i._reject,void 0,i,null),i):function(e,t,n){var i=new s(l),r=i;n&&n._pushContext(),i._captureStackTrace(),n&&n._popContext();var o=!0,a=u.tryCatch(t).call(e,function(e){i&&(i._resolveCallback(e),i=null)},function(e){i&&(i._rejectCallback(e,o,!0),i=null)});return o=!1,i&&a===c&&(i._rejectCallback(a.e,!0,!0),i=null),r}(e,n,t)}var r;return e}}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(r,o,s){var l=e("./util"),u=r.TimeoutError;function c(e){this.handle=e}c.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(e){return t(+this).thenReturn(e)},t=r.delay=function(e,t){var n,i;return void 0!==t?(n=r.resolve(t)._then(a,null,null,e,void 0),s.cancellation()&&t instanceof r&&n._setOnCancel(t)):(n=new r(o),i=setTimeout(function(){n._fulfill()},+e),s.cancellation()&&n._setOnCancel(new c(i))),n._setAsyncGuaranteed(),n};function n(e){return clearTimeout(this.handle),e}function i(e){throw clearTimeout(this.handle),e}r.prototype.delay=function(e){return t(e,this)},r.prototype.timeout=function(e,r){var o,a;e=+e;var t=new c(setTimeout(function(){var e,t,n,i;o.isPending()&&(e=o,n=a,i="string"!=typeof(t=r)?t instanceof Error?t:new u("operation timed out"):new u(t),l.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._reject(i),null!=n&&n.cancel())},e));return s.cancellation()?(a=this.then(),(o=a._then(n,i,void 0,t,void 0))._setOnCancel(t)):o=this._then(n,i,void 0,t,void 0),o}}},{"./util":36}],35:[function(r,e,t){"use strict";e.exports=function(h,f,p,t,g,v){var m=r("./util"),n=r("./errors").TypeError,e=r("./util").inherits,y=m.errorObj,b=m.tryCatch;function _(e){setTimeout(function(){throw e},0)}function w(e,t,n){this._data=e,this._promise=t,this._context=n}function i(e,t,n){this.constructor$(e,t,n)}function T(e){return w.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function k(e){this.length=e,this.promise=null,this[e-1]=null}w.prototype.data=function(){return this._data},w.prototype.promise=function(){return this._promise},w.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},w.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=null!==t?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},w.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},e(i,w),i.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},k.prototype._resultCancelled=function(){for(var e=this.length,t=0;t<e;++t){var n=this[t];n instanceof h&&n.cancel()}},h.using=function(){var e=arguments.length;if(e<2)return f("you must pass at least 2 arguments to Promise.using");var t,o=arguments[e-1];if("function"!=typeof o)return f("expecting a function but got "+m.classString(o));var a=!0;2===e&&Array.isArray(arguments[0])?(e=(t=arguments[0]).length,a=!1):(t=arguments,e--);for(var n=new k(e),i=0;i<e;++i){var r=t[i];if(w.isDisposer(r)){var s=r;(r=r.promise())._setDisposable(s)}else{var l=p(r);l instanceof h&&(r=l._then(T,null,null,{resources:n,index:i},void 0))}n[i]=r}var u=new Array(n.length);for(i=0;i<u.length;++i)u[i]=h.resolve(n[i]).reflect();var c=h.all(u).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void c.cancel();e[t]=n.value()}d._pushContext(),o=b(o);var i=a?o.apply(void 0,e):o(e),r=d._popContext();return v.checkForgottenReturns(i,r,"Promise.using",d),i}),d=c.lastly(function(){var e=new h.PromiseInspection(c);return function(r,o){var a=0,s=r.length,l=new h(g);return function e(){if(s<=a)return l._fulfill();var t,n,i=(t=r[a++],(n=p(t))!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&n._setDisposable(t._getDisposer()),n);if(i instanceof h&&i._isDisposable()){try{i=p(i._getDisposer().tryDispose(o),r.promise)}catch(e){return _(e)}if(i instanceof h)return i._then(e,_,null,null,null)}e()}(),l}(n,e)});return(n.promise=d)._setOnCancel(n),d},h.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},h.prototype._isDisposable=function(){return 0<(131072&this._bitField)},h.prototype._getDisposer=function(){return this._disposer},h.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},h.prototype.disposer=function(e){if("function"==typeof e)return new i(e,this,t());throw new n}}},{"./errors":12,"./util":36}],36:[function(e,t,n){"use strict";var i,u=e("./es5"),r="undefined"==typeof navigator,o={e:{}},a="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;function s(){try{var e=i;return i=null,e.apply(this,arguments)}catch(e){return o.e=e,o}}function l(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function c(e,t,n){if(l(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return u.defineProperty(e,t,i),e}var d=function(){var r=[Array.prototype,Object.prototype,Function.prototype],s=function(e){for(var t=0;t<r.length;++t)if(r[t]===e)return!0;return!1};if(u.isES5){var l=Object.getOwnPropertyNames;return function(e){for(var t=[],n=Object.create(null);null!=e&&!s(e);){var i;try{i=l(e)}catch(e){return t}for(var r=0;r<i.length;++r){var o=i[r];if(!n[o]){n[o]=!0;var a=Object.getOwnPropertyDescriptor(e,o);null!=a&&null==a.get&&null==a.set&&t.push(o)}}e=u.getPrototypeOf(e)}return t}}var o={}.hasOwnProperty;return function(e){if(s(e))return[];var t=[];e:for(var n in e)if(o.call(e,n))t.push(n);else{for(var i=0;i<r.length;++i)if(o.call(r[i],n))continue e;t.push(n)}return t}}(),h=/this\s*\.\s*\S+\s*=/;var f=/^[a-z$_][a-z$_0-9]*$/i;function p(e){try{return e+""}catch(e){return"[no string representation]"}}function g(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function v(e){return g(e)&&u.propertyIsWritable(e,"stack")}var m="stack"in new Error?function(e){return v(e)?e:new Error(p(e))}:function(e){if(v(e))return e;try{throw new Error(p(e))}catch(e){return e}};function y(e){return{}.toString.call(e)}var b=function(e){return u.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var _="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],i=e[Symbol.iterator]();!(t=i.next()).done;)n.push(t.value);return n};b=function(e){return u.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?_(e):null}}var w="undefined"!=typeof process&&"[object process]"===y(process).toLowerCase();var T,k={isClass:function(e){try{if("function"==typeof e){var t=u.names(e.prototype),n=u.isES5&&1<t.length,i=0<t.length&&!(1===t.length&&"constructor"===t[0]),r=h.test(e+"")&&0<u.names(e).length;if(n||i||r)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return f.test(e)},inheritedDataKeys:d,getDataPropertyOrDefault:function(e,t,n){if(!u.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0},thrower:function(e){throw e},isArray:u.isArray,asArray:b,notEnumerableProp:c,isPrimitive:l,isObject:function(e){return"function"==typeof e||"object"==typeof e&&null!==e},isError:g,canEvaluate:r,errorObj:o,tryCatch:function(e){return i=e,s},inherits:function(t,n){var i={}.hasOwnProperty;function e(){for(var e in this.constructor=t,(this.constructor$=n).prototype)i.call(n.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=n.prototype[e])}return e.prototype=n.prototype,t.prototype=new e,t.prototype},withAppended:function(e,t){var n,i=e.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=e[n];return r[n]=t,r},maybeWrapAsError:function(e){return l(e)?new Error(p(e)):e},toFastProperties:function(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e},filledRange:function(e,t,n){for(var i=new Array(e),r=0;r<e;++r)i[r]=t+r+n;return i},toString:p,canAttachTrace:v,ensureErrorObject:m,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{c(e,"isOperational",!0)}catch(e){}},classString:y,copyDescriptors:function(e,t,n){for(var i=u.names(e),r=0;r<i.length;++r){var o=i[r];if(n(o))try{u.defineProperty(t,o,u.getDescriptor(e,o))}catch(e){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:w,env:function(e,t){return w?process.env[e]:t},global:a,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}};k.isRecentNode=k.isNode&&(0===(T=process.versions.node.split(".").map(Number))[0]&&10<T[1]||0<T[0]),k.isNode&&k.toFastProperties(process);try{throw new Error}catch(e){k.lastLineError=e}t.exports=k},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise),checkit={Browser:{Chrome:function(){return navigator.userAgent.match(/Chrome/i)&&navigator.vendor.match(/Google Inc/i)},Firefox:function(){return navigator.userAgent.match(/Firefox/i)},Opera:function(){return navigator.userAgent.match(/Opera|OPR/i)&&navigator.vendor.match(/Opera Software/i)},Safari:function(){return navigator.userAgent.match(/Safari/i)&&navigator.vendor.match(/Apple Computer/i)},YandexBrowser:function(){return navigator.userAgent.match(/YaBrowser/i)&&navigator.vendor.match(/Yandex/i)},Vivaldi:function(){return navigator.userAgent.match(/Vivaldi/i)},MSIE:{any:function(){return navigator.userAgent.match(/MSIE/i)},v10:function(){return document.all},v9:function(){return document.all&&!window.atob},v8:function(){return document.all&&!document.addEventListener},v7:function(){return document.all&&!document.querySelector},v6:function(){return document.all&&!window.XMLHttpRequest},v5:function(){return document.all&&!document.compatMode}},MSIEMobile:function(){return navigator.userAgent.match(/IEMobile/i)},OperaMini:function(){return navigator.userAgent.match(/Opera Mini/i)},UCBrowser:function(){return navigator.userAgent.match(/UCBrowser/i)},wOSBrowser:function(){return navigator.userAgent.match(/wOSBrowser|webOSBrowser/i)},WebKit:function(){return navigator.userAgent.match(/AppleWebKit|WebKit/i)}},Mobile:{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},WindowsPhone:function(){return navigator.userAgent.match(/Windows Phone/i)},webOS:function(){return navigator.userAgent.match(/webOS/i)},any:function(){return navigator.userAgent.match(/Mobi/i)}},HTML5:function(){return document.createElement("canvas").getContext&&document.createElement("canvas").getContext("2d")},CSS3:function(){return void 0!==document.body.style.transition},Flash:function(){return navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin},Touch:function(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints}},function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(u){"use strict";var r,o=window.Slick||{};r=0,(o=function(e,t){var n,i=this;i.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:u(e),appendDots:u(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return u('<button type="button" data-role="none" role="button" tabindex="0" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},i.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},u.extend(i,i.initials),i.activeBreakpoint=null,i.animType=null,i.animProp=null,i.breakpoints=[],i.breakpointSettings=[],i.cssTransitions=!1,i.focussed=!1,i.interrupted=!1,i.hidden="hidden",i.paused=!0,i.positionProp=null,i.respondTo=null,i.rowCount=1,i.shouldClick=!0,i.$slider=u(e),i.$slidesCache=null,i.transformType=null,i.transitionType=null,i.visibilityChange="visibilitychange",i.windowWidth=0,i.windowTimer=null,n=u(e).data("slick")||{},i.options=u.extend({},i.defaults,t,n),i.currentSlide=i.options.initialSlide,i.originalSettings=i.options,void 0!==document.mozHidden?(i.hidden="mozHidden",i.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(i.hidden="webkitHidden",i.visibilityChange="webkitvisibilitychange"),i.autoPlay=u.proxy(i.autoPlay,i),i.autoPlayClear=u.proxy(i.autoPlayClear,i),i.autoPlayIterator=u.proxy(i.autoPlayIterator,i),i.changeSlide=u.proxy(i.changeSlide,i),i.clickHandler=u.proxy(i.clickHandler,i),i.selectHandler=u.proxy(i.selectHandler,i),i.setPosition=u.proxy(i.setPosition,i),i.swipeHandler=u.proxy(i.swipeHandler,i),i.dragHandler=u.proxy(i.dragHandler,i),i.keyHandler=u.proxy(i.keyHandler,i),i.instanceUid=r++,i.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,i.registerBreakpoints(),i.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},o.prototype.addSlide=o.prototype.slickAdd=function(e,t,n){var i=this;if("boolean"==typeof t)n=t,t=null;else if(t<0||t>=i.slideCount)return!1;i.unload(),"number"==typeof t?0===t&&0===i.$slides.length?u(e).appendTo(i.$slideTrack):n?u(e).insertBefore(i.$slides.eq(t)):u(e).insertAfter(i.$slides.eq(t)):!0===n?u(e).prependTo(i.$slideTrack):u(e).appendTo(i.$slideTrack),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slides.each(function(e,t){u(t).attr("data-slick-index",e)}),i.$slidesCache=i.$slides,i.reinit()},o.prototype.animateHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var e=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.animate({height:e},this.options.speed)}},o.prototype.animateSlide=function(e,t){var n={},i=this;i.animateHeight(),!0===i.options.rtl&&!1===i.options.vertical&&(e=-e),!1===i.transformsEnabled?!1===i.options.vertical?i.$slideTrack.animate({left:e},i.options.speed,i.options.easing,t):i.$slideTrack.animate({top:e},i.options.speed,i.options.easing,t):!1===i.cssTransitions?(!0===i.options.rtl&&(i.currentLeft=-i.currentLeft),u({animStart:i.currentLeft}).animate({animStart:e},{duration:i.options.speed,easing:i.options.easing,step:function(e){e=Math.ceil(e),!1===i.options.vertical?n[i.animType]="translate("+e+"px, 0px)":n[i.animType]="translate(0px,"+e+"px)",i.$slideTrack.css(n)},complete:function(){t&&t.call()}})):(i.applyTransition(),e=Math.ceil(e),!1===i.options.vertical?n[i.animType]="translate3d("+e+"px, 0px, 0px)":n[i.animType]="translate3d(0px,"+e+"px, 0px)",i.$slideTrack.css(n),t&&setTimeout(function(){i.disableTransition(),t.call()},i.options.speed))},o.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=u(e).not(this.$slider)),e},o.prototype.asNavFor=function(t){var e=this.getNavTarget();null!==e&&"object"==typeof e&&e.each(function(){var e=u(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},o.prototype.applyTransition=function(e){var t=this,n={};!1===t.options.fade?n[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:n[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},o.prototype.autoPlay=function(){this.autoPlayClear(),this.slideCount>this.options.slidesToShow&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))},o.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},o.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},o.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=u(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=u(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},o.prototype.buildDots=function(){var e,t,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),t=u("<ul />").addClass(n.options.dotsClass),e=0;e<=n.getDotCount();e+=1)t.append(u("<li />").append(n.options.customPaging.call(this,n,e)));n.$dots=t.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},o.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){u(t).attr("data-slick-index",e).data("originalStyling",u(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?u('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),(!0===e.options.centerMode||!0===e.options.swipeToSlide)&&(e.options.slidesToScroll=1),u("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},o.prototype.buildRows=function(){var e,t,n,i,r,o,a,s=this;if(i=document.createDocumentFragment(),o=s.$slider.children(),1<s.options.rows){for(a=s.options.slidesPerRow*s.options.rows,r=Math.ceil(o.length/a),e=0;e<r;e++){var l=document.createElement("div");for(t=0;t<s.options.rows;t++){var u=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var c=e*a+(t*s.options.slidesPerRow+n);o.get(c)&&u.appendChild(o.get(c))}l.appendChild(u)}i.appendChild(l)}s.$slider.empty().append(i),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},o.prototype.checkResponsive=function(e,t){var n,i,r,o=this,a=!1,s=o.$slider.width(),l=window.innerWidth||u(window).width();if("window"===o.respondTo?r=l:"slider"===o.respondTo?r=s:"min"===o.respondTo&&(r=Math.min(l,s)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(n in i=null,o.breakpoints)o.breakpoints.hasOwnProperty(n)&&(!1===o.originalSettings.mobileFirst?r<o.breakpoints[n]&&(i=o.breakpoints[n]):r>o.breakpoints[n]&&(i=o.breakpoints[n]));null!==i?null!==o.activeBreakpoint?(i!==o.activeBreakpoint||t)&&(o.activeBreakpoint=i,"unslick"===o.breakpointSettings[i]?o.unslick(i):(o.options=u.extend({},o.originalSettings,o.breakpointSettings[i]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),a=i):(o.activeBreakpoint=i,"unslick"===o.breakpointSettings[i]?o.unslick(i):(o.options=u.extend({},o.originalSettings,o.breakpointSettings[i]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),a=i):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e),a=i),e||!1===a||o.$slider.trigger("breakpoint",[o,a])}},o.prototype.changeSlide=function(e,t){var n,i,r=this,o=u(e.currentTarget);switch(o.is("a")&&e.preventDefault(),o.is("li")||(o=o.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":i=0==n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-i,!1,t);break;case"next":i=0==n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+i,!1,t);break;case"index":var a=0===e.data.index?0:e.data.index||o.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(a),!1,t),o.children().trigger("focus");break;default:return}},o.prototype.checkNavigable=function(e){var t,n;if(n=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var i in t){if(e<t[i]){e=n;break}n=t[i]}return e},o.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&u("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",u.proxy(e.interrupt,e,!0)).off("mouseleave.slick",u.proxy(e.interrupt,e,!1)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),u(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&u(e.$slideTrack).children().off("click.slick",e.selectHandler),u(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),u(window).off("resize.slick.slick-"+e.instanceUid,e.resize),u("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),u(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),u(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},o.prototype.cleanUpSlideEvents=function(){this.$list.off("mouseenter.slick",u.proxy(this.interrupt,this,!0)),this.$list.off("mouseleave.slick",u.proxy(this.interrupt,this,!1))},o.prototype.cleanUpRows=function(){var e;1<this.options.rows&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(e))},o.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},o.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),u(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){u(this).attr("style",u(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},o.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t)},o.prototype.fadeSlide=function(e,t){var n=this;!1===n.cssTransitions?(n.$slides.eq(e).css({zIndex:n.options.zIndex}),n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)):(n.applyTransition(e),n.$slides.eq(e).css({opacity:1,zIndex:n.options.zIndex}),t&&setTimeout(function(){n.disableTransition(e),t.call()},n.options.speed))},o.prototype.fadeSlideOut=function(e){!1===this.cssTransitions?this.$slides.eq(e).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(e),this.$slides.eq(e).css({opacity:0,zIndex:this.options.zIndex-2}))},o.prototype.filterSlides=o.prototype.slickFilter=function(e){null!==e&&(this.$slidesCache=this.$slides,this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(e).appendTo(this.$slideTrack),this.reinit())},o.prototype.focusHandler=function(){var n=this;n.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(e){e.stopImmediatePropagation();var t=u(this);setTimeout(function(){n.options.pauseOnFocus&&(n.focussed=t.is(":focus"),n.autoPlay())},0)})},o.prototype.getCurrent=o.prototype.slickCurrentSlide=function(){return this.currentSlide},o.prototype.getDotCount=function(){var e=this,t=0,n=0,i=0;if(!0===e.options.infinite)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)i=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else i=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return i-1},o.prototype.getLeft=function(e){var t,n,i,r=this,o=0;return r.slideOffset=0,n=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,o=n*r.options.slidesToShow*-1),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(o=e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,(r.options.slidesToShow-(e-r.slideCount))*n*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,r.slideCount%r.options.slidesToScroll*n*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,o=(e+r.options.slidesToShow-r.slideCount)*n),r.slideCount<=r.options.slidesToShow&&(o=r.slideOffset=0),!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=!1===r.options.vertical?e*r.slideWidth*-1+r.slideOffset:e*n*-1+o,!0===r.options.variableWidth&&(i=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow),t=!0===r.options.rtl?i[0]?-1*(r.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===r.options.centerMode&&(i=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1),t=!0===r.options.rtl?i[0]?-1*(r.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,t+=(r.$list.width()-i.outerWidth())/2)),t},o.prototype.getOption=o.prototype.slickGetOption=function(e){return this.options[e]},o.prototype.getNavigableIndexes=function(){var e,t=this,n=0,i=0,r=[];for(e=!1===t.options.infinite?t.slideCount:(n=-1*t.options.slidesToScroll,i=-1*t.options.slidesToScroll,2*t.slideCount);n<e;)r.push(n),n=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return r},o.prototype.getSlick=function(){return this},o.prototype.getSlideCount=function(){var n,i,r=this;return i=!0===r.options.centerMode?r.slideWidth*Math.floor(r.options.slidesToShow/2):0,!0===r.options.swipeToSlide?(r.$slideTrack.find(".slick-slide").each(function(e,t){return t.offsetLeft-i+u(t).outerWidth()/2>-1*r.swipeLeft?(n=t,!1):void 0}),Math.abs(u(n).attr("data-slick-index")-r.currentSlide)||1):r.options.slidesToScroll},o.prototype.goTo=o.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},o.prototype.init=function(e){var t=this;u(t.$slider).hasClass("slick-initialized")||(u(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},o.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(e){u(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+e})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(e){u(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+e,id:"slick-slide"+t.instanceUid+e})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},o.prototype.initArrowEvents=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},this.changeSlide),this.$nextArrow.off("click.slick").on("click.slick",{message:"next"},this.changeSlide))},o.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&u("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&u("li",e.$dots).on("mouseenter.slick",u.proxy(e.interrupt,e,!0)).on("mouseleave.slick",u.proxy(e.interrupt,e,!1))},o.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",u.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",u.proxy(this.interrupt,this,!1)))},o.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),u(document).on(e.visibilityChange,u.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&u(e.$slideTrack).children().on("click.slick",e.selectHandler),u(window).on("orientationchange.slick.slick-"+e.instanceUid,u.proxy(e.orientationChange,e)),u(window).on("resize.slick.slick-"+e.instanceUid,u.proxy(e.resize,e)),u("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),u(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),u(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},o.prototype.initUI=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show()),!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()},o.prototype.keyHandler=function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))},o.prototype.lazyLoad=function(){function e(e){u("img[data-lazy]",e).each(function(){var e=u(this),t=u(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){e.animate({opacity:0},100,function(){e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy").removeClass("slick-loading")}),i.$slider.trigger("lazyLoaded",[i,e,t])})},n.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),i.$slider.trigger("lazyLoadError",[i,e,t])},n.src=t})}var t,n,i=this;!0===i.options.centerMode?n=!0===i.options.infinite?(t=i.currentSlide+(i.options.slidesToShow/2+1))+i.options.slidesToShow+2:(t=Math.max(0,i.currentSlide-(i.options.slidesToShow/2+1)),i.options.slidesToShow/2+1+2+i.currentSlide):(t=i.options.infinite?i.options.slidesToShow+i.currentSlide:i.currentSlide,n=Math.ceil(t+i.options.slidesToShow),!0===i.options.fade&&(0<t&&t--,n<=i.slideCount&&n++)),e(i.$slider.find(".slick-slide").slice(t,n)),i.slideCount<=i.options.slidesToShow?e(i.$slider.find(".slick-slide")):i.currentSlide>=i.slideCount-i.options.slidesToShow?e(i.$slider.find(".slick-cloned").slice(0,i.options.slidesToShow)):0===i.currentSlide&&e(i.$slider.find(".slick-cloned").slice(-1*i.options.slidesToShow))},o.prototype.loadSlider=function(){this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()},o.prototype.next=o.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},o.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},o.prototype.pause=o.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},o.prototype.play=o.prototype.slickPlay=function(){this.autoPlay(),this.options.autoplay=!0,this.paused=!1,this.focussed=!1,this.interrupted=!1},o.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&t.initADA())},o.prototype.prev=o.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},o.prototype.preventDefault=function(e){e.preventDefault()},o.prototype.progressiveLazyLoad=function(e){e=e||1;var t,n,i,r=this,o=u("img[data-lazy]",r.$slider);o.length?(t=o.first(),n=t.attr("data-lazy"),(i=document.createElement("img")).onload=function(){t.attr("src",n).removeAttr("data-lazy").removeClass("slick-loading"),!0===r.options.adaptiveHeight&&r.setPosition(),r.$slider.trigger("lazyLoaded",[r,t,n]),r.progressiveLazyLoad()},i.onerror=function(){e<3?setTimeout(function(){r.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,t,n]),r.progressiveLazyLoad())},i.src=n):r.$slider.trigger("allImagesLoaded",[r])},o.prototype.refresh=function(e){var t,n,i=this;n=i.slideCount-i.options.slidesToShow,!i.options.infinite&&i.currentSlide>n&&(i.currentSlide=n),i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0),t=i.currentSlide,i.destroy(!0),u.extend(i,i.initials,{currentSlide:t}),i.init(),e||i.changeSlide({data:{message:"index",index:t}},!1)},o.prototype.registerBreakpoints=function(){var e,t,n,i=this,r=i.options.responsive||null;if("array"===u.type(r)&&r.length){for(e in i.respondTo=i.options.respondTo||"window",r)if(n=i.breakpoints.length-1,t=r[e].breakpoint,r.hasOwnProperty(e)){for(;0<=n;)i.breakpoints[n]&&i.breakpoints[n]===t&&i.breakpoints.splice(n,1),n--;i.breakpoints.push(t),i.breakpointSettings[t]=r[e].settings}i.breakpoints.sort(function(e,t){return i.options.mobileFirst?e-t:t-e})}},o.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&u(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},o.prototype.resize=function(){var e=this;u(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=u(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},o.prototype.removeSlide=o.prototype.slickRemove=function(e,t,n){var i=this;return e="boolean"==typeof e?!0===(t=e)?0:i.slideCount-1:!0===t?--e:e,!(i.slideCount<1||e<0||e>i.slideCount-1)&&(i.unload(),!0===n?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(e).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},o.prototype.setCSS=function(e){var t,n,i={};!0===this.options.rtl&&(e=-e),t="left"==this.positionProp?Math.ceil(e)+"px":"0px",n="top"==this.positionProp?Math.ceil(e)+"px":"0px",i[this.positionProp]=e,!1===this.transformsEnabled||(!(i={})===this.cssTransitions?i[this.animType]="translate("+t+", "+n+")":i[this.animType]="translate3d("+t+", "+n+", 0px)"),this.$slideTrack.css(i)},o.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},o.prototype.setFade=function(){var n,i=this;i.$slides.each(function(e,t){n=i.slideWidth*e*-1,!0===i.options.rtl?u(t).css({position:"relative",right:n,top:0,zIndex:i.options.zIndex-2,opacity:0}):u(t).css({position:"relative",left:n,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},o.prototype.setHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var e=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.css("height",e)}},o.prototype.setOption=o.prototype.slickSetOption=function(){var e,t,n,i,r,o=this,a=!1;if("object"===u.type(arguments[0])?(n=arguments[0],a=arguments[1],r="multiple"):"string"===u.type(arguments[0])&&(n=arguments[0],i=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===u.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)o.options[n]=i;else if("multiple"===r)u.each(n,function(e,t){o.options[e]=t});else if("responsive"===r)for(t in i)if("array"!==u.type(o.options.responsive))o.options.responsive=[i[t]];else{for(e=o.options.responsive.length-1;0<=e;)o.options.responsive[e].breakpoint===i[t].breakpoint&&o.options.responsive.splice(e,1),e--;o.options.responsive.push(i[t])}a&&(o.unload(),o.reinit())},o.prototype.setPosition=function(){this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this])},o.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},o.prototype.setSlideClasses=function(e){var t,n,i,r,o=this;n=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(e).addClass("slick-current"),!0===o.options.centerMode?(t=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(t<=e&&e<=o.slideCount-1-t?o.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(i=o.options.slidesToShow+e,n.slice(i-t+1,i+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?n.eq(n.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&n.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):0<=e&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=o.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(r=o.slideCount%o.options.slidesToShow,i=!0===o.options.infinite?o.options.slidesToShow+e:e,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?n.slice(i-(o.options.slidesToShow-r),i+r).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},o.prototype.setupInfinite=function(){var e,t,n,i=this;if(!0===i.options.fade&&(i.options.centerMode=!1),!0===i.options.infinite&&!1===i.options.fade&&(t=null,i.slideCount>i.options.slidesToShow)){for(n=!0===i.options.centerMode?i.options.slidesToShow+1:i.options.slidesToShow,e=i.slideCount;e>i.slideCount-n;e-=1)t=e-1,u(i.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-i.slideCount).prependTo(i.$slideTrack).addClass("slick-cloned");for(e=0;e<n;e+=1)t=e,u(i.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+i.slideCount).appendTo(i.$slideTrack).addClass("slick-cloned");i.$slideTrack.find(".slick-cloned").find("[id]").each(function(){u(this).attr("id","")})}},o.prototype.interrupt=function(e){e||this.autoPlay(),this.interrupted=e},o.prototype.selectHandler=function(e){var t=u(e.target).is(".slick-slide")?u(e.target):u(e.target).parents(".slick-slide"),n=parseInt(t.attr("data-slick-index"));return n||(n=0),this.slideCount<=this.options.slidesToShow?(this.setSlideClasses(n),void this.asNavFor(n)):void this.slideHandler(n)},o.prototype.slideHandler=function(e,t,n){var i,r,o,a,s,l=null,u=this;return t=t||!1,!0===u.animating&&!0===u.options.waitForAnimate||!0===u.options.fade&&u.currentSlide===e||u.slideCount<=u.options.slidesToShow?void 0:(!1===t&&u.asNavFor(e),i=e,l=u.getLeft(i),a=u.getLeft(u.currentSlide),u.currentLeft=null===u.swipeLeft?a:u.swipeLeft,!1===u.options.infinite&&!1===u.options.centerMode&&(e<0||e>u.getDotCount()*u.options.slidesToScroll)?void(!1===u.options.fade&&(i=u.currentSlide,!0!==n?u.animateSlide(a,function(){u.postSlide(i)}):u.postSlide(i))):!1===u.options.infinite&&!0===u.options.centerMode&&(e<0||e>u.slideCount-u.options.slidesToScroll)?void(!1===u.options.fade&&(i=u.currentSlide,!0!==n?u.animateSlide(a,function(){u.postSlide(i)}):u.postSlide(i))):(u.options.autoplay&&clearInterval(u.autoPlayTimer),r=i<0?u.slideCount%u.options.slidesToScroll!=0?u.slideCount-u.slideCount%u.options.slidesToScroll:u.slideCount+i:i>=u.slideCount?u.slideCount%u.options.slidesToScroll!=0?0:i-u.slideCount:i,u.animating=!0,u.$slider.trigger("beforeChange",[u,u.currentSlide,r]),o=u.currentSlide,u.currentSlide=r,u.setSlideClasses(u.currentSlide),u.options.asNavFor&&(s=(s=u.getNavTarget()).slick("getSlick")).slideCount<=s.options.slidesToShow&&s.setSlideClasses(u.currentSlide),u.updateDots(),u.updateArrows(),!0===u.options.fade?(!0!==n?(u.fadeSlideOut(o),u.fadeSlide(r,function(){u.postSlide(r)})):u.postSlide(r),void u.animateHeight()):void(!0!==n?u.animateSlide(l,function(){u.postSlide(r)}):u.postSlide(r))))},o.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},o.prototype.swipeDirection=function(){var e,t,n,i;return e=this.touchObject.startX-this.touchObject.curX,t=this.touchObject.startY-this.touchObject.curY,n=Math.atan2(t,e),(i=Math.round(180*n/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&0<=i?!1===this.options.rtl?"left":"right":i<=360&&315<=i?!1===this.options.rtl?"left":"right":135<=i&&i<=225?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=i&&i<=135?"down":"up":"vertical"},o.prototype.swipeEnd=function(e){var t,n,i=this;if(i.dragging=!1,i.interrupted=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(n=i.swipeDirection()){case"left":case"down":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=n&&(i.slideHandler(t),i.touchObject={},i.$slider.trigger("swipe",[i,n]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},o.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},o.prototype.swipeMove=function(e){var t,n,i,r,o,a=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||o&&1!==o.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,a.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),"vertical"!==(n=a.swipeDirection())?(void 0!==e.originalEvent&&4<a.touchObject.swipeLength&&e.preventDefault(),r=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(r=a.touchObject.curY>a.touchObject.startY?1:-1),i=a.touchObject.swipeLength,(a.touchObject.edgeHit=!1)===a.options.infinite&&(0===a.currentSlide&&"right"===n||a.currentSlide>=a.getDotCount()&&"left"===n)&&(i=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=t+i*r:a.swipeLeft=t+i*(a.$list.height()/a.listWidth)*r,!0===a.options.verticalSwiping&&(a.swipeLeft=t+i*r),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))):void 0)},o.prototype.swipeStart=function(e){var t,n=this;return n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow?!(n.touchObject={}):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==t?t.pageX:e.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(n.dragging=!0))},o.prototype.unfilterSlides=o.prototype.slickUnfilter=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())},o.prototype.unload=function(){var e=this;u(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},o.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},o.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},o.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},o.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},u.fn.slick=function(){var e,t,n=arguments[0],i=Array.prototype.slice.call(arguments,1),r=this.length;for(e=0;e<r;e++)if("object"==typeof n||void 0===n?this[e].slick=new o(this[e],n):t=this[e].slick[n].apply(this[e].slick,i),void 0!==t)return t;return this}}),function(l){l.fn.unveil=function(e,t){var n,o=l(window),a=e||0,i=1<window.devicePixelRatio?"data-src-retina":"data-src",r=this;function s(){var e=r.filter(function(){var e=l(this);if(!e.is(":hidden")){var t=o.scrollTop(),n=t+o.height(),i=e.offset().top,r=i+e.height();return t-a<=r&&i<=n+a}});n=e.trigger("unveil"),r=r.not(n)}return this.one("unveil",function(){var e=this.getAttribute(i);(e=e||this.getAttribute("data-src"))&&(this.setAttribute("src",e),"function"==typeof t&&t.call(this))}),o.on("scroll.unveil resize.unveil lookup.unveil",s),s(),this}}(window.jQuery||window.Zepto),function(d){d.Strmeasy={},d.Strmeasy.version="2.3.1",d.Strmeasy.init_player=function(t){var n=!0,i=[];t?(["videoDiv","videoID","systemID","sources"].forEach(function(e){t[e]||(n=!1,i.push("Validation failed for options:"+e))}),n?(navigator.vendor||(navigator.vendor="none"),function(e){v("Initializing with options:"),v(e);var t=document.getElementById(e.videoDiv),n=document.createElement("video");n.setAttribute("class",f.player_class+" "+(e.skin||h.skin)),n.setAttribute("id",e.videoID),e.inline&&n.setAttribute("playsinline",""),e.allowWebkitAirplay&&n.setAttribute("x-webkit-airplay","allow"),e.muted&&n.setAttribute("muted",""),t.appendChild(n),videojs&&videojs.Html5DashJS&&videojs.Html5DashJS.hook("beforeinitialize",function(r,o){o.getDebug().setLogToBrowserConsole(a),a&&(d.mediaPlayer=o),o.on("qualityChangeRendered",function(e){if("video"==e.mediaType){var t=o.getBitrateInfoListFor("video"),n=0;t[e.oldQuality]&&(n=t[e.oldQuality].bitrate);var i=t[e.newQuality].bitrate;r.trigger("qualityChanged",{switchFrom:n,switchTo:i})}})});var i={controls:!0,preload:"none",errorDisplay:h.errorDisplay,poster:e.poster||h.poster,height:e.height||h.height,width:e.width||h.width,sources:function(e){v("Preparing sources");var i=[],r=1<navigator.vendor.toLowerCase().indexOf("apple");return v("Apple Device: "+r),e.forEach(function(e){var t=e.match(/\.([^\./\?]+)($|\?)/)[1].toLowerCase();if(t!==f.dash_extension||r||i.push({src:e,type:f.dash_type}),t===f.hls_extension&&i.push({src:e,type:f.hls_type}),t===f.mp4_extension){var n=e.replace(t,"").slice(0,-1).split("-").pop();isNaN(n)?i.push({src:e,type:f.mp4_type}):i.push({src:e,type:f.mp4_type,quality:n+" kbps"})}}),i}(e.sources),controlBar:{audioTrackButton:!1}};videojs(e.videoID,i,function(){v("Player ready");a&&(d.player=this),f.licesingEnabled&&function(e,t){v("Sending licensing call");var n="";e.currentSrc()&&(n=e.currentSrc().replace(/^.*\/\/[^\/]+/,""));var i=(t.protocol||h.protocol).toLowerCase()+"://"+f.licensing_callback,r={content:f.content,url:n,paid:!1,systemId:t.systemID,loginId:t.loginID,deviceId:t.deviceID,fbId:t.fbID,params:{browser:{platform:navigator.platform.toLowerCase(),vendor:navigator.vendor.toLowerCase(),ua:navigator.userAgent.toLowerCase()},url:t.urlParams}};t.fullscreen?r.platform="web_embed":r.platform="web",g(i,r)}(this,e),f.callbacksEnabled&&function(i,e){v("Initializing callbacks");var t="";i.currentSrc()&&(t=i.currentSrc().replace(/^.*\/\/[^\/]+/,"")),v("Current Source: "+t);var r={systemId:e.systemID,loginId:e.loginID,deviceId:e.deviceID,fbId:e.fbID,videoId:e.videoID,version:d.Strmeasy.version,path:t,browser:{platform:navigator.platform.toLowerCase(),vendor:navigator.vendor.toLowerCase(),ua:navigator.userAgent.toLowerCase()},params:e.urlParams,event:"",desc:{}};e.fullscreen?r.platform="web_embed":r.platform="web";var o=(e.protocol||h.protocol).toLowerCase()+"://"+f.events_callback,n=(e.protocol||h.protocol).toLowerCase()+"://"+f.errors_callback,a=!1,s=!1,l=!1,u=!1;f.kinesisStreamEnabled&&(v("Configuring Kinesis Stream"),AWS.config.region="eu-west-1",AWS.config.credentials=new AWS.CognitoIdentityCredentials({IdentityPoolId:"eu-west-1:e40849d0-ddf4-413a-acad-fa087e1c1ad1"}),AWS.config.credentials.get(function(e){if(e)return alert("Error retrieving credentials."),void console.error(e);var t=new AWS.Kinesis({apiVersion:"2013-12-02"});setInterval(function(){p.length&&(t.putRecords({Records:p,StreamName:"uma_video_events"},function(e,t){e&&console.error(e)}),p=[])},1e3)})),i.one("play",function(){v("FIRST_START event fired"),r.event="FIRST_START",r.desc={playPerc:Math.round(this.currentTime()/this.duration()*100)},v(r.desc),g(o,r)}),i.on("play",function(){v("START event fired"),r.event="START",r.desc={playPerc:Math.round(this.currentTime()/this.duration()*100)},v(r.desc),g(o,r)}),i.on("pause",function(){v("STOP event fired"),r.event="STOP",r.desc={duration:parseInt(this.currentTime().toFixed(0)),playPerc:Math.round(this.currentTime()/this.duration()*100)},v(r.desc),g(o,r)}),i.on("timeupdate",function(){var e=this.currentTime()/this.duration();.25<=e&&!a&&(v("1Q event fired"),r.event="1Q",r.desc={playPerc:Math.round(this.currentTime()/this.duration()*100)},a=!0,g(o,r)),.5<=e&&!s&&(v("2Q event fired"),r.event="2Q",r.desc={playPerc:Math.round(this.currentTime()/this.duration()*100)},s=!0,g(o,r)),.75<=e&&!l&&(v("3Q event fired"),r.event="3Q",r.desc={playPerc:Math.round(this.currentTime()/this.duration()*100)},l=!0,g(o,r)),10<this.currentTime()&&!u&&(v("SEC10 event fired"),r.event="SEC10",r.desc={playPerc:Math.round(this.currentTime()/this.duration()*100)},u=!0,g(o,r))}),i.on("seeked",function(){var e=this.currentTime()/this.duration();e<.25&&a&&(l=s=a=!1),e<.5&&s&&(l=s=!1),e<.75&&l&&(l=!1)}),i.on("ended",function(){v("FINISH event fired"),r.event="FINISH",r.desc={playPerc:Math.round(this.currentTime()/this.duration()*100)},g(o,r)}),i.on("qualityChanged",function(e,t){v("SWITCH event fired"),v(t),r.event="SWITCH",r.desc=t,r.desc.playPerc=Math.round(this.currentTime()/this.duration()*100),g(o,r)});var c=0;i.on("mediachange",function(e,t){v("SWITCH event fired");var n=i.hls.playlists.media().attributes.BANDWIDTH;t={switchFrom:c,switchTo:n,playPerc:Math.round(this.currentTime()/this.duration()*100)};r.event="SWITCH",v(r.desc=t),c=n,g(o,r)}),i.on("error",function(){v("Player error"),r.event="ERROR",r.desc={type:"media",code:this.error().code,message:this.error().message},g(n,r)})}(this,e),e.fullscreen&&(this.width(d.innerWidth).height(d.innerHeight),n.style.position="fixed",n.style.top=0,n.style.left=0,n.style.objectFit="fill",n.style.backgroundColor="#000"),f.adsEnabled&&e.adsURL?function(e,t){v("Initializing Advertising SDK");var n={id:t.videoID,adTagUrl:t.adsURL};e.ima(n);var i=document.getElementById(n.id+"_html5_api");(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&i.hasAttribute("controls")&&i.removeAttribute("controls");var r="click";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(r="touchend"),t.autoplay?(e.ima.initializeAdDisplayContainer(),e.ima.requestAds(),e.play()):e.one(r,function(){e.ima.initializeAdDisplayContainer(),e.ima.requestAds(),e.play()})}(this,e):e.autoplay&&this.play()})}(t)):console.error(i)):console.error("Options are required for initialization")};var a=!(d.Strmeasy.dispose_player=function(e){videojs(e).dispose()});a&&console.warn("Debug mode is turned on");var h={height:"264",width:"640",poster:null,protocol:"http",errorDisplay:!1,skin:"vjs-default-skin"},f={callbacksEnabled:!0,adsEnabled:!0,licesingEnabled:!0,kinesisStreamEnabled:!1,events_callback:"scwpcb.scoopwhoop.com/events",errors_callback:"scwpcb.scoopwhoop.com/errors",licensing_callback:"license.scoopwhoop.com",player_class:"video-js vjs-big-play-centered",dash_extension:"mpd",dash_type:"application/dashs+xml",hls_extension:"m3u8",hls_type:"application/x-mpegURL",mp4_extension:"mp4",mp4_type:"video/mp4",content:"STREAM"},p=[];function g(e,t){var n;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("POST",e,!0),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(t))}function v(e){a&&console.log("[Player-log]:",e)}}(window),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojs=e()}(function(){return function o(a,s,l){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,o,a,s,l)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(2)),r=o(e(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.buildCSSClass=function(){return"vjs-big-play-button"},n.prototype.handleClick=function(e){this.player_.play();var t=this.player_.getChild("controlBar"),n=t&&t.getChild("playToggle");n?this.setTimeout(function(){n.focus()},1):this.player_.focus()},n}(i.default);a.prototype.controlText_="Play Video",r.default.registerComponent("BigPlayButton",a),n.default=a},{2:2,5:5}],2:[function(e,t,n){"use strict";n.__esModule=!0;var i=s(e(3)),r=s(e(5)),o=s(e(86)),a=e(88);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(t){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.createEl=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"button",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t=(0,a.assign)({className:this.buildCSSClass()},t),"button"!==e&&(o.default.warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=(0,a.assign)({tabIndex:0},t),n=(0,a.assign)({role:"button"},n)),n=(0,a.assign)({type:"button","aria-live":"polite"},n);var i=r.default.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(i),i},n.prototype.addChild=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return o.default.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),r.default.prototype.addChild.call(this,e,t)},n.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},n}(i.default);r.default.registerComponent("Button",l),n.default=l},{3:3,5:5,86:86,88:88}],3:[function(e,t,n){"use strict";n.__esModule=!0;var i=d(e(5)),o=r(e(81)),a=r(e(82)),s=r(e(83)),l=d(e(86)),u=d(e(94)),c=e(88);function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var h=function(r){function i(e,t){!function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,e,t));return n.emitTapEvents(),n.enable(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r),i.prototype.createEl=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t=(0,c.assign)({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&l.default.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=(0,c.assign)({role:"button","aria-live":"polite"},n),this.tabIndex_=t.tabIndex;var i=r.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(i),i},i.prototype.createControlTextEl=function(e){return this.controlTextEl_=o.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},i.prototype.controlText=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var n=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=n,this.nonIconControl||t.setAttribute("title",n),this},i.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},i.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},i.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("tap",this.handleClick),this.off("click",this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},i.prototype.handleClick=function(e){},i.prototype.handleFocus=function(e){a.on(u.default,"keydown",s.bind(this,this.handleKeyPress))},i.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleClick(e)):r.prototype.handleKeyPress&&r.prototype.handleKeyPress.call(this,e)},i.prototype.handleBlur=function(e){a.off(u.default,"keydown",s.bind(this,this.handleKeyPress))},i}(i.default);i.default.registerComponent("ClickableComponent",h),n.default=h},{5:5,81:81,82:82,83:83,86:86,88:88,94:94}],4:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(2)),r=o(e(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.controlText(t&&t.controlText||n.localize("Close")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.buildCSSClass=function(){return"vjs-close-button "+i.prototype.buildCSSClass.call(this)},r.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},r}(i.default);r.default.registerComponent("CloseButton",a),n.default=a},{2:2,5:5}],5:[function(e,t,n){"use strict";n.__esModule=!0;var r=l(e(95)),i=s(e(81)),u=s(e(83)),o=s(e(85)),c=s(e(82)),d=l(e(86)),h=l(e(91)),a=l(e(87));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function l(e,t,n){if(function(e,t){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=(0,a.default)({},this.options_),t=this.options_=(0,a.default)(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+o.newGUID()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}return l.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),i.removeElData(this.el_),this.el_=null},l.prototype.player=function(){return this.player_},l.prototype.options=function(e){return d.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e&&(this.options_=(0,a.default)(this.options_,e)),this.options_},l.prototype.el=function(){return this.el_},l.prototype.createEl=function(e,t,n){return i.createEl(e,t,n)},l.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var i=n[t];if(i&&i[e])return i[e];var r=n[t.split("-")[0]];return r&&r[e]?r[e]:e},l.prototype.contentEl=function(){return this.contentEl_||this.el_},l.prototype.id=function(){return this.id_},l.prototype.name=function(){return this.name_},l.prototype.children=function(){return this.children_},l.prototype.getChildById=function(e){return this.childIndex_[e]},l.prototype.getChild=function(e){if(e)return e=(0,h.default)(e),this.childNameIndex_[e]},l.prototype.addChild=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,r=void 0;if("string"==typeof e){r=(0,h.default)(e),t||(t={}),!0===t&&(d.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),t={});var o=t.componentClass||r;t.name=r;var a=l.getComponent(o);if(!a)throw new Error("Component "+o+" does not exist");if("function"!=typeof a)return null;i=new a(this.player_||this,t)}else i=e;if(this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(r=r||i.name&&(0,h.default)(i.name()))&&(this.childNameIndex_[r]=i),"function"==typeof i.el&&i.el()){var s=this.contentEl().children[n]||null;this.contentEl().insertBefore(i.el(),s)}return i},l.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;0<=n;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},l.prototype.initChildren=function(){var r=this,i=this.options_.children;if(i){var o=this.options_,e=void 0,n=l.getComponent("Tech");(e=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t,n=void 0;return t="string"==typeof e?i[n=e]||r.options_[n]||{}:(n=e.name,e),{name:n,opts:t}}).filter(function(e){var t=l.getComponent(e.opts.componentClass||(0,h.default)(e.name));return t&&!n.isTech(t)}).forEach(function(e){var t=e.name,n=e.opts;if(void 0!==o[t]&&(n=o[t]),!1!==n){!0===n&&(n={}),n.playerOptions=r.options_.playerOptions;var i=r.addChild(t,n);i&&(r[t]=i)}})}},l.prototype.buildCSSClass=function(){return""},l.prototype.on=function(e,t,n){var i=this;if("string"==typeof e||Array.isArray(e))c.on(this.el_,e,u.bind(this,t));else{var r=e,o=t,a=u.bind(this,n),s=function(){return i.off(r,o,a)};s.guid=a.guid,this.on("dispose",s);var l=function(){return i.off("dispose",s)};l.guid=a.guid,e.nodeName?(c.on(r,o,a),c.on(r,"dispose",l)):"function"==typeof e.on&&(r.on(o,a),r.on("dispose",l))}return this},l.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))c.off(this.el_,e,t);else{var i=e,r=t,o=u.bind(this,n);this.off("dispose",o),e.nodeName?(c.off(i,r,o),c.off(i,"dispose",o)):(i.off(r,o),i.off("dispose",o))}return this},l.prototype.one=function(e,t,n){var i=this,r=arguments;if("string"==typeof e||Array.isArray(e))c.one(this.el_,e,u.bind(this,t));else{var o=e,a=t,s=u.bind(this,n),l=function e(){i.off(o,a,e),s.apply(null,r)};l.guid=s.guid,this.on(o,a,l)}return this},l.prototype.trigger=function(e,t){return c.trigger(this.el_,e,t),this},l.prototype.ready=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},l.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},l.prototype.$=function(e,t){return i.$(e,t||this.contentEl())},l.prototype.$$=function(e,t){return i.$$(e,t||this.contentEl())},l.prototype.hasClass=function(e){return i.hasElClass(this.el_,e)},l.prototype.addClass=function(e){return i.addElClass(this.el_,e),this},l.prototype.removeClass=function(e){return i.removeElClass(this.el_,e),this},l.prototype.toggleClass=function(e,t){return i.toggleElClass(this.el_,e,t),this},l.prototype.show=function(){return this.removeClass("vjs-hidden"),this},l.prototype.hide=function(){return this.addClass("vjs-hidden"),this},l.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},l.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},l.prototype.getAttribute=function(e){return i.getAttribute(this.el_,e)},l.prototype.setAttribute=function(e,t){return i.setAttribute(this.el_,e,t),this},l.prototype.removeAttribute=function(e){return i.removeAttribute(this.el_,e),this},l.prototype.width=function(e,t){return this.dimension("width",e,t)},l.prototype.height=function(e,t){return this.dimension("height",e,t)},l.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},l.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+(0,h.default)(e)],10)},l.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof r.default.getComputedStyle){var n=r.default.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var i="offset"+(0,h.default)(e);t=this.el_[i]}return t},l.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},l.prototype.currentWidth=function(){return this.currentDimension("width")},l.prototype.currentHeight=function(){return this.currentDimension("height")},l.prototype.focus=function(){this.el_.focus()},l.prototype.blur=function(){this.el_.blur()},l.prototype.emitTapEvents=function(){var t=0,i=null,r=void 0;this.on("touchstart",function(e){1===e.touches.length&&(i={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),r=!0)}),this.on("touchmove",function(e){if(1<e.touches.length)r=!1;else if(i){var t=e.touches[0].pageX-i.pageX,n=e.touches[0].pageY-i.pageY;10<Math.sqrt(t*t+n*n)&&(r=!1)}});var e=function(){r=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(i=null)===r&&(new Date).getTime()-t<200&&(e.preventDefault(),this.trigger("tap"))})},l.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=u.bind(this.player(),this.player().reportUserActivity),n=void 0;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});var e=function(e){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",e),this.on("touchcancel",e)}},l.prototype.setTimeout=function(e,t){e=u.bind(this,e);var n=r.default.setTimeout(e,t),i=function(){this.clearTimeout(n)};return i.guid="vjs-timeout-"+n,this.on("dispose",i),n},l.prototype.clearTimeout=function(e){r.default.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},l.prototype.setInterval=function(e,t){e=u.bind(this,e);var n=r.default.setInterval(e,t),i=function(){this.clearInterval(n)};return i.guid="vjs-interval-"+n,this.on("dispose",i),n},l.prototype.clearInterval=function(e){r.default.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},l.registerComponent=function(e,t){if(e){if(e=(0,h.default)(e),l.components_||(l.components_={}),"Player"===e&&l.components_[e]){var n=l.components_[e];if(n.players&&0<Object.keys(n.players).length&&Object.keys(n.players).map(function(e){return n.players[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}return l.components_[e]=t}},l.getComponent=function(e){if(e)return e=(0,h.default)(e),l.components_&&l.components_[e]?l.components_[e]:r.default&&r.default.videojs&&r.default.videojs[e]?(d.default.warn("The "+e+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),r.default.videojs[e]):void 0},l.extend=function(e){e=e||{},d.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var t=e.init||e.init||this.prototype.init||this.prototype.init||function(){},n=function(){t.apply(this,arguments)};for(var i in((n.prototype=Object.create(this.prototype)).constructor=n).extend=l.extend,e)e.hasOwnProperty(i)&&(n.prototype[i]=e[i]);return n},l}();f.registerComponent("Component",f),n.default=f},{81:81,82:82,83:83,85:85,86:86,87:87,91:91,95:95}],6:[function(e,t,n){"use strict";n.__esModule=!0;var i=a(e(36)),r=a(e(5)),o=a(e(7));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(i){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t.tracks=e.audioTracks&&e.audioTracks();var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.el_.setAttribute("aria-label","Audio Menu"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.buildCSSClass=function(){return"vjs-audio-button "+i.prototype.buildCSSClass.call(this)},r.prototype.createItems=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var n=0;n<t.length;n++){var i=t[n];e.push(new o.default(this.player_,{track:i,selectable:!0}))}return e},r}(i.default);s.prototype.controlText_="Audio Track",r.default.registerComponent("AudioTrackButton",s),n.default=s},{36:36,5:5,7:7}],7:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(48)),r=o(e(5)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(a){function s(e,t){!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var n=t.track,i=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled;var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,a.call(this,e,t));if(r.track=n,i){var o=l.bind(r,r.handleTracksChange);i.addEventListener("change",o),r.on("dispose",function(){i.removeEventListener("change",o)})}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),s.prototype.handleClick=function(e){var t=this.player_.audioTracks();if(a.prototype.handleClick.call(this,e),t)for(var n=0;n<t.length;n++){var i=t[n];i.enabled=i===this.track}},s.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},s}(i.default);r.default.registerComponent("AudioTrackMenuItem",a),n.default=a},{48:48,5:5,83:83}],8:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i};e(12),e(32),e(33),e(35),e(34),e(10),e(18),e(9),e(38),e(40),e(11),e(25),e(27),e(29),e(24),e(6),e(13),e(21);var o=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},n}(r.default);o.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},r.default.registerComponent("ControlBar",o),n.default=o},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(2)),r=o(e(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.on(e,"fullscreenchange",n.handleFullscreenChange),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+i.prototype.buildCSSClass.call(this)},r.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},r}(i.default);a.prototype.controlText_="Fullscreen",r.default.registerComponent("FullscreenToggle",a),n.default=a},{2:2,5:5}],10:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),a=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=o.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},r.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},r}(r.default);r.default.registerComponent("LiveDisplay",a),n.default=a},{5:5,81:81}],11:[function(e,t,n){"use strict";n.__esModule=!0;var i=a(e(2)),r=a(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.on(e,"volumechange",n.update),e.tech_&&!1===e.tech_.featuresVolumeControl&&n.addClass("vjs-hidden"),n.on(e,"loadstart",function(){this.update(),!1===e.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.buildCSSClass=function(){return"vjs-mute-control "+i.prototype.buildCSSClass.call(this)},r.prototype.handleClick=function(e){this.player_.muted(!this.player_.muted())},r.prototype.update=function(e){var t=this.player_.volume(),n=3;0===t||this.player_.muted()?n=0:t<.33?n=1:t<.67&&(n=2);var i=this.player_.muted()?"Unmute":"Mute";this.controlText()!==i&&this.controlText(i);for(var r=0;r<4;r++)o.removeElClass(this.el_,"vjs-vol-"+r);o.addElClass(this.el_,"vjs-vol-"+n)},r}(i.default);s.prototype.controlText_="Mute",r.default.registerComponent("MuteToggle",s),n.default=s},{2:2,5:5,81:81}],12:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(2)),r=o(e(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.on(e,"play",n.handlePlay),n.on(e,"pause",n.handlePause),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.buildCSSClass=function(){return"vjs-play-control "+i.prototype.buildCSSClass.call(this)},r.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},r.prototype.handlePlay=function(e){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r}(i.default);a.prototype.controlText_="Play",r.default.registerComponent("PlayToggle",a),n.default=a},{2:2,5:5}],13:[function(e,t,n){"use strict";n.__esModule=!0;var i=l(e(47)),o=l(e(49)),a=l(e(14)),r=l(e(5)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.updateVisibility(),n.updateLabel(),n.on(e,"loadstart",n.updateVisibility),n.on(e,"ratechange",n.updateLabel),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){var e=i.prototype.createEl.call(this);return this.labelEl_=s.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.labelEl_),e},r.prototype.buildCSSClass=function(){return"vjs-playback-rate "+i.prototype.buildCSSClass.call(this)},r.prototype.createMenu=function(){var e=new o.default(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;0<=n;n--)e.addChild(new a.default(this.player(),{rate:t[n]+"x"}));return e},r.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>t){i=n[r];break}this.player().playbackRate(i)},r.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},r.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},r.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},r}(i.default);u.prototype.controlText_="Playback Rate",r.default.registerComponent("PlaybackRateMenuButton",u),n.default=u},{14:14,47:47,49:49,5:5,81:81}],14:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(48)),r=o(e(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(o){function a(e,t){!function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=t.rate,i=parseFloat(n,10);t.label=n,t.selected=1===i,t.selectable=!0;var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,o.call(this,e,t));return r.label=n,r.rate=i,r.on(e,"ratechange",r.update),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o),a.prototype.handleClick=function(e){o.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},a.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},a}(i.default);a.prototype.contentElType="button",r.default.registerComponent("PlaybackRateMenuItem",a),n.default=a},{48:48,5:5}],15:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i},d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),o=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.partEls_=[],n.on(e,"progress",n.update),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},r.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),i=this.player_.bufferedEnd(),r=this.partEls_,o=function(e,t){var n=e/t||0;return 100*(1<=n?1:n)+"%"};this.el_.style.width=o(i,n);for(var a=0;a<t.length;a++){var s=t.start(a),l=t.end(a),u=r[a];u||(u=this.el_.appendChild(d.createEl()),r[a]=u),u.style.left=o(s,i),u.style.width=o(l-s,i)}for(var c=r.length;c>t.length;c--)this.el_.removeChild(r[c-1]);r.length=t.length},r}(r.default);r.default.registerComponent("LoadProgressBar",o),n.default=o},{5:5,81:81}],16:[function(e,t,n){"use strict";n.__esModule=!0;var i=u(e(5)),o=r(e(81)),a=r(e(83)),s=u(e(84)),l=u(e(80));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}var c=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return t.playerOptions&&t.playerOptions.controlBar&&t.playerOptions.controlBar.progressControl&&t.playerOptions.controlBar.progressControl.keepTooltipsInside&&(n.keepTooltipsInside=t.playerOptions.controlBar.progressControl.keepTooltipsInside),n.keepTooltipsInside&&(n.tooltip=o.createEl("div",{className:"vjs-time-tooltip"}),n.el().appendChild(n.tooltip),n.addClass("vjs-keep-tooltips-inside")),n.update(0,0),e.on("ready",function(){n.on(e.controlBar.progressControl.el(),"mousemove",a.throttle(a.bind(n,n.handleMouseMove),25))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,i=e.pageX-o.findElPosition(this.el().parentNode).left;this.update(n,i)},r.prototype.update=function(e,t){var n=(0,s.default)(e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var i=t-this.clampPosition_(t)+1,r=parseFloat((0,l.default)(this.tooltip,"width"))/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(r-i)+"px"}},r.prototype.calculateDistance=function(e){return o.getPointerPosition(this.el().parentNode,e).x},r.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat((0,l.default)(this.player().el(),"width")),n=parseFloat((0,l.default)(this.tooltip,"width"))/2,i=e;return e<n?i=Math.ceil(n):t-n<e&&(i=Math.floor(t-n)),i},r}(i.default);i.default.registerComponent("MouseTimeDisplay",c),n.default=c},{5:5,80:80,81:81,83:83,84:84}],17:[function(e,t,n){"use strict";n.__esModule=!0;var i=r(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),a=r(e(84));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.updateDataAttr(),n.on(e,"timeupdate",n.updateDataAttr),e.ready(o.bind(n,n.updateDataAttr)),t.playerOptions&&t.playerOptions.controlBar&&t.playerOptions.controlBar.progressControl&&t.playerOptions.controlBar.progressControl.keepTooltipsInside&&(n.keepTooltipsInside=t.playerOptions.controlBar.progressControl.keepTooltipsInside),n.keepTooltipsInside&&n.addClass("vjs-keep-tooltips-inside"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},r.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,a.default)(t,this.player_.duration()))},r}(i.default);i.default.registerComponent("PlayProgressBar",s),n.default=s},{5:5,83:83,84:84}],18:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i};e(19),e(16);var o=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n}(r.default);o.prototype.options_={children:["seekBar"]},r.default.registerComponent("ProgressControl",o),n.default=o},{16:16,19:19,5:5}],19:[function(e,t,n){"use strict";n.__esModule=!0;var i=l(e(57)),r=l(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),a=l(e(84)),s=l(e(80));function l(e){return e&&e.__esModule?e:{default:e}}e(15),e(17),e(20);var u=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.on(e,"timeupdate",n.updateProgress),n.on(e,"ended",n.updateProgress),e.ready(o.bind(n,n.updateProgress)),t.playerOptions&&t.playerOptions.controlBar&&t.playerOptions.controlBar.progressControl&&t.playerOptions.controlBar.progressControl.keepTooltipsInside&&(n.keepTooltipsInside=t.playerOptions.controlBar.progressControl.keepTooltipsInside),n.keepTooltipsInside&&(n.tooltipProgressBar=n.addChild("TooltipProgressBar")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},r.prototype.updateProgress=function(e){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var t=parseFloat((0,s.default)(this.player().el(),"width")),n=parseFloat((0,s.default)(this.tooltipProgressBar.tooltip,"width")),i=this.tooltipProgressBar.el().style;i.maxWidth=Math.floor(t-n/2)+"px",i.minWidth=Math.ceil(n/2)+"px",i.right="-"+n/2+"px"}},r.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",(0,a.default)(t,this.player_.duration()))},r.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return 1<=e?1:e},r.prototype.handleMouseDown=function(e){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),i.prototype.handleMouseDown.call(this,e)},r.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},r.prototype.handleMouseUp=function(e){i.prototype.handleMouseUp.call(this,e),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},r.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},r.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},r}(i.default);u.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},u.prototype.playerEvent="timeupdate",r.default.registerComponent("SeekBar",u),n.default=u},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(e,t,n){"use strict";n.__esModule=!0;var i=r(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),a=r(e(84));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.updateDataAttr(),n.on(e,"timeupdate",n.updateDataAttr),e.ready(o.bind(n,n.updateDataAttr)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=e.querySelector(".vjs-time-tooltip"),e},r.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=(0,a.default)(t,this.player_.duration());this.el_.setAttribute("data-current-time",n),this.tooltip.innerHTML=n},r}(i.default);i.default.registerComponent("TooltipProgressBar",s),n.default=s},{5:5,83:83,84:84}],21:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(22)),r=o(e(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(t){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="&nbsp;",e},n}(i.default);r.default.registerComponent("CustomControlSpacer",a),n.default=a},{22:22,5:5}],22:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i},o=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n}(r.default);r.default.registerComponent("Spacer",o),n.default=o},{5:5}],23:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(31)),r=o(e(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1;var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+t.kind+" settings dialog"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},r}(i.default);r.default.registerComponent("CaptionSettingsMenuItem",a),n.default=a},{31:31,5:5}],24:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(30)),r=o(e(5)),a=o(e(23));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(r){function o(e,t,n){!function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,e,t,n));return i.el_.setAttribute("aria-label","Captions Menu"),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r),o.prototype.buildCSSClass=function(){return"vjs-captions-button "+r.prototype.buildCSSClass.call(this)},o.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(e.push(new a.default(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),r.prototype.createItems.call(this,e)},o}(i.default);s.prototype.kind_="captions",s.prototype.controlText_="Captions",r.default.registerComponent("CaptionsButton",s),n.default=s},{23:23,30:30,5:5}],25:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(30)),r=o(e(5)),a=o(e(26)),s=o(e(91));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(r){function o(e,t,n){!function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,e,t,n));return i.el_.setAttribute("aria-label","Chapters Menu"),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r),o.prototype.buildCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)},o.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),r.prototype.update.call(this)},o.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},o.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var n=e[t];if(n.kind===this.kind_)return n}},o.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,s.default)(this.kind_))},o.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),r.prototype.createMenu.call(this)},o.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var r=t[n],o=new a.default(this.player_,{track:this.track_,cue:r});e.push(o)}return e},o}(i.default);l.prototype.kind_="chapters",l.prototype.controlText_="Chapters",r.default.registerComponent("ChaptersButton",l),n.default=l},{26:26,30:30,5:5,91:91}],26:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(48)),r=o(e(5)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(a){function s(e,t){!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var n=t.track,i=t.cue,r=e.currentTime();t.selectable=!0,t.label=i.text,t.selected=i.startTime<=r&&r<i.endTime;var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,a.call(this,e,t));return o.track=n,o.cue=i,n.addEventListener("cuechange",l.bind(o,o.update)),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),s.prototype.handleClick=function(e){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},s.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},s}(i.default);r.default.registerComponent("ChaptersTrackMenuItem",a),n.default=a},{48:48,5:5,83:83}],27:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(30)),r=o(e(5)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(a){function s(e,t,n){!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,a.call(this,e,t,n));i.el_.setAttribute("aria-label","Descriptions Menu");var r=e.textTracks();if(r){var o=l.bind(i,i.handleTracksChange);r.addEventListener("change",o),i.on("dispose",function(){r.removeEventListener("change",o)})}return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),s.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,r=t.length;i<r;i++){var o=t[i];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},s.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},s}(i.default);a.prototype.kind_="descriptions",a.prototype.controlText_="Descriptions",r.default.registerComponent("DescriptionsButton",a),n.default=a},{30:30,5:5,83:83}],28:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(31)),r=o(e(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t.track={player:e,kind:t.kind,label:t.kind+" off",default:!1,mode:"disabled"},t.selectable=!0;var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.selected(!0),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var o=t[i];if(o.kind===this.track.kind&&"showing"===o.mode){n=!1;break}}this.selected(n)},r}(i.default);r.default.registerComponent("OffTextTrackMenuItem",a),n.default=a},{31:31,5:5}],29:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(30)),r=o(e(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(r){function o(e,t,n){!function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,e,t,n));return i.el_.setAttribute("aria-label","Subtitles Menu"),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r),o.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildCSSClass.call(this)},o}(i.default);a.prototype.kind_="subtitles",a.prototype.controlText_="Subtitles",r.default.registerComponent("SubtitlesButton",a),n.default=a},{30:30,5:5}],30:[function(e,t,n){"use strict";n.__esModule=!0;var i=s(e(36)),r=s(e(5)),o=s(e(31)),a=s(e(28));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(n){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),t.tracks=e.textTracks(),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),i.prototype.createItems=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];e.push(new a.default(this.player_,{kind:this.kind_})),this.hideThreshold_+=1;var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var i=t[n];i.kind===this.kind_&&e.push(new o.default(this.player_,{track:i,selectable:!0}))}return e},i}(i.default);r.default.registerComponent("TextTrackButton",l),n.default=l},{28:28,31:31,36:36,5:5}],31:[function(e,t,n){"use strict";n.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(e(48)),r=o(e(5)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),d=o(e(95)),h=o(e(94));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(s){function l(e,t){!function(e,t){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var n=t.track,i=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected=n.default||"showing"===n.mode;var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,s.call(this,e,t));if(r.track=n,i){var o=c.bind(r,r.handleTracksChange);i.addEventListener("change",o),r.on("dispose",function(){i.removeEventListener("change",o)})}if(i&&void 0===i.onchange){var a=void 0;r.on(["tap","click"],function(){if("object"!==u(d.default.Event))try{a=new d.default.Event("change")}catch(e){}a||(a=h.default.createEvent("Event")).initEvent("change",!0,!0),i.dispatchEvent(a)})}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,s),l.prototype.handleClick=function(e){var t=this.track.kind,n=this.player_.textTracks();if(s.prototype.handleClick.call(this,e),n)for(var i=0;i<n.length;i++){var r=n[i];r.kind===t&&(r===this.track?r.mode="showing":r.mode="disabled")}},l.prototype.handleTracksChange=function(e){this.selected("showing"===this.track.mode)},l}(i.default);r.default.registerComponent("TextTrackMenuItem",a),n.default=a},{48:48,5:5,83:83,94:94,95:95}],32:[function(e,t,n){"use strict";n.__esModule=!0;var i=r(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),a=r(e(84));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.on(e,"timeupdate",n.updateContent),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=o.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},r.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=this.localize("Current Time"),i=(0,a.default)(t,this.player_.duration());i!==this.formattedTime_&&(this.formattedTime_=i,this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+i)},r}(i.default);i.default.registerComponent("CurrentTimeDisplay",s),n.default=s},{5:5,81:81,84:84}],33:[function(e,t,n){"use strict";n.__esModule=!0;var i=r(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),a=r(e(84));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.on(e,"durationchange",n.updateContent),n.on(e,"timeupdate",n.updateContent),n.on(e,"loadedmetadata",n.updateContent),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=o.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},r.prototype.updateContent=function(e){var t=this.player_.duration();if(t&&this.duration_!==t){this.duration_=t;var n=this.localize("Duration Time"),i=(0,a.default)(t);this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+i}},r}(i.default);i.default.registerComponent("DurationDisplay",s),n.default=s},{5:5,81:81,84:84}],34:[function(e,t,n){"use strict";n.__esModule=!0;var i=r(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),a=r(e(84));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.on(e,"timeupdate",n.updateContent),n.on(e,"durationchange",n.updateContent),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=o.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},r.prototype.updateContent=function(e){if(this.player_.duration()){var t=this.localize("Remaining Time"),n=(0,a.default)(this.player_.remainingTime());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> -"+n)}},r}(i.default);i.default.registerComponent("RemainingTimeDisplay",s),n.default=s},{5:5,81:81,84:84}],35:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i},o=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},n}(r.default);r.default.registerComponent("TimeDivider",o),n.default=o},{5:5}],36:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(47)),r=o(e(5)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(o){function a(e,t){!function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=t.tracks,i=l(this,o.call(this,e,t));if(i.items.length<=1&&i.hide(),!n)return l(i);var r=s.bind(i,i.update);return n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),i.player_.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o),a}(i.default);r.default.registerComponent("TrackButton",a),n.default=a},{47:47,5:5,83:83}],37:[function(e,t,n){"use strict";n.__esModule=!0;var i=a(e(57)),r=a(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83));function a(e){return e&&e.__esModule?e:{default:e}}e(39);var s=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.on(e,"volumechange",n.updateARIAAttributes),e.ready(o.bind(n,n.updateARIAAttributes)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},r.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},r.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.prototype.updateARIAAttributes=function(e){var t=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},r}(i.default);s.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},s.prototype.playerEvent="volumechange",r.default.registerComponent("VolumeBar",s),n.default=s},{39:39,5:5,57:57,83:83}],38:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i};e(37);var o=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return e.tech_&&!1===e.tech_.featuresVolumeControl&&n.addClass("vjs-hidden"),n.on(e,"loadstart",function(){!1===e.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},r}(r.default);o.prototype.options_={children:["volumeBar"]},r.default.registerComponent("VolumeControl",o),n.default=o},{37:37,5:5}],39:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i},o=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},n}(r.default);r.default.registerComponent("VolumeLevel",o),n.default=o},{5:5}],40:[function(e,t,n){"use strict";n.__esModule=!0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),r=u(e(5)),a=u(e(54)),o=u(e(53)),s=u(e(11)),l=u(e(37));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(r){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),void 0===t.inline&&(t.inline=!0),void 0===t.vertical&&(t.inline?t.vertical=!1:t.vertical=!0),t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=!!t.vertical;var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,e,t));function i(){e.tech_&&!1===e.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return n.on(e,"volumechange",n.volumeUpdate),n.on(e,"loadstart",n.volumeUpdate),i.call(n),n.on(e,"loadstart",i),n.on(n.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),n.on(n.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),n.on(n.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),n.on(n.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r),o.prototype.buildCSSClass=function(){var e;return e=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+r.prototype.buildCSSClass.call(this)+" "+e},o.prototype.createPopup=function(){var e=new a.default(this.player_,{contentElType:"div"}),t=new l.default(this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},o.prototype.handleClick=function(e){s.default.prototype.handleClick.call(this),r.prototype.handleClick.call(this)},o.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],i.bind(this,this.handleMouseDown))},o.prototype.handleMouseDown=function(e){this.on(["mousemove","touchmove"],i.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},o.prototype.handleMouseUp=function(e){this.off(["mousemove","touchmove"],i.bind(this.volumeBar,this.volumeBar.handleMouseMove))},o}(o.default);c.prototype.volumeUpdate=s.default.prototype.update,c.prototype.controlText_="Mute",r.default.registerComponent("VolumeMenuButton",c),n.default=c},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(e,t,n){"use strict";n.__esModule=!0;var i=a(e(5)),r=a(e(50)),o=a(e(87));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.on(e,"error",n.open),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.buildCSSClass=function(){return"vjs-error-display "+i.prototype.buildCSSClass.call(this)},r.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},r}(r.default);s.prototype.options_=(0,o.default)(r.default.prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),i.default.registerComponent("ErrorDisplay",s),n.default=s},{5:5,50:50,87:87}],42:[function(e,t,n){"use strict";n.__esModule=!0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(82)),r=function(){};r.prototype.allowedEvents_={},r.prototype.addEventListener=r.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},i.on(this,e,t),this.addEventListener=n},r.prototype.removeEventListener=r.prototype.off=function(e,t){i.off(this,e,t)},r.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},i.one(this,e,t),this.addEventListener=n},r.prototype.dispatchEvent=r.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=i.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),i.trigger(this,e)},n.default=r},{82:82}],43:[function(e,t,n){"use strict";n.__esModule=!0;var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(i=e(86))&&i.__esModule?i:{default:i},s=e(88);n.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},i={};for(var r in(0,s.isObject)(t)?("function"==typeof t.init&&(a.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(n,e),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n}},{86:86,88:88}],44:[function(e,t,n){"use strict";n.__esModule=!0;for(var i,r=(i=e(94))&&i.__esModule?i:{default:i},o={},a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=a[0],l=void 0,u=0;u<a.length;u++)if(a[u][1]in r.default){l=a[u];break}if(l)for(var c=0;c<l.length;c++)o[s[c]]=l[c];n.default=o},{94:94}],45:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i},o=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},n}(r.default);r.default.registerComponent("LoadingSpinner",o),n.default=o},{5:5}],46:[function(e,t,n){"use strict";n.__esModule=!0;var i=e(88);function r(e){if(e instanceof r)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:(0,i.isObject)(e)&&("number"==typeof e.code&&(this.code=e.code),(0,i.assign)(this,e)),this.message||(this.message=r.defaultMessages[this.code]||"")}r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var o=0;o<r.errorTypes.length;o++)r[r.errorTypes[o]]=o,r.prototype[r.errorTypes[o]]=o;n.default=r},{88:88}],47:[function(e,t,n){"use strict";n.__esModule=!0;var i=c(e(3)),r=c(e(5)),o=c(e(49)),a=u(e(81)),s=u(e(83)),l=c(e(91));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d=function(i){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.update(),n.enabled_=!0,n.el_.setAttribute("aria-haspopup","true"),n.el_.setAttribute("role","menuitem"),n.on("keydown",n.handleSubmenuKeyPress),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},r.prototype.createMenu=function(){var e=new o.default(this.player_);if(this.hideThreshold_=0,this.options_.title){var t=a.createEl("li",{className:"vjs-menu-title",innerHTML:(0,l.default)(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),a.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},r.prototype.createItems=function(){},r.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},r.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+i.prototype.buildCSSClass.call(this)},r.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",s.bind(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},r.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault()):38===e.which||40===e.which?this.buttonPressed_||(this.pressButton(),e.preventDefault()):i.prototype.handleKeyPress.call(this,e)},r.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},r.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},r.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},r.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,i.prototype.disable.call(this)},r.prototype.enable=function(){return this.enabled_=!0,i.prototype.enable.call(this)},r}(i.default);r.default.registerComponent("MenuButton",d),n.default=d},{3:3,49:49,5:5,81:81,83:83,91:91}],48:[function(e,t,n){"use strict";n.__esModule=!0;var i=a(e(3)),r=a(e(5)),o=e(88);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.selectable=t.selectable,n.selected(t.selected),n.selectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitem"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(e,t,n){return this.nonIconControl=!0,i.prototype.createEl.call(this,"li",(0,o.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},t),n)},r.prototype.handleClick=function(e){this.selected(!0)},r.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},r}(i.default);r.default.registerComponent("MenuItem",s),n.default=s},{3:3,5:5,88:88}],49:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i},o=l(e(81)),a=l(e(83)),s=l(e(82));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.addItem=function(e){this.addChild(e),e.on("click",a.bind(this,function(e){this.unlockShowing()}))},r.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=o.createEl(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=i.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.setAttribute("role","presentation"),t.appendChild(this.contentEl_),s.on(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},r.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},r.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},r.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},r.prototype.focus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())},r}(r.default);r.default.registerComponent("Menu",u),n.default=u},{5:5,81:81,82:82,83:83}],50:[function(e,t,n){"use strict";n.__esModule=!0;var i,o=s(e(81)),a=s(e(83)),r=(i=e(5))&&i.__esModule?i:{default:i};function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var l="vjs-modal-dialog",u=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=o.createEl("div",{className:l+"-content"},{role:"document"}),n.descEl_=o.createEl("p",{className:l+"-description vjs-offscreen",id:n.el().getAttribute("aria-describedby")}),o.textContent(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.prototype.buildCSSClass=function(){return l+" vjs-hidden "+i.prototype.buildCSSClass.call(this)},r.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},r.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},r.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},r.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",a.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},r.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},r.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",a.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},r.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},r.prototype.fill=function(){return this.fillWith(this.content())},r.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),o.insertContent(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t),this},r.prototype.empty=function(){return this.trigger("beforemodalempty"),o.emptyEl(this.contentEl()),this.trigger("modalempty"),this},r.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},r}(r.default);u.prototype.options_={temporary:!0},r.default.registerComponent("ModalDialog",u),n.default=u},{5:5,81:81,83:83}],51:[function(e,t,n){"use strict";n.__esModule=!0;var a=c(e(5)),i=c(e(94)),d=c(e(95)),r=u(e(82)),h=u(e(81)),s=u(e(83)),f=u(e(85)),p=u(e(78)),g=c(e(86)),l=c(e(91)),o=e(90),v=e(79),m=u(e(89)),y=c(e(44)),b=c(e(46)),_=c(e(97)),w=e(88),T=c(e(87)),k=c(e(69)),S=c(e(50)),E=c(e(62)),C=c(e(63)),x=c(e(76));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}e(61),e(59),e(55),e(68),e(45),e(1),e(4),e(8),e(41),e(71),e(60);var O=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],A=function(u){function c(e,t,n){if(function(e,t){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),e.id=e.id||"vjs_video_"+f.newGUID(),(t=(0,w.assign)(c.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var i=e.closest("[lang]");i&&(t.language=i.getAttribute("lang"))}else for(var r=e;r&&1===r.nodeType;){if(h.getElAttributes(r).hasOwnProperty("lang")){t.language=r.getAttribute("lang");break}r=r.parentNode}var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,u.call(this,null,t,n));if(!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=e,o.tagAttributes=e&&h.getElAttributes(e),o.language(o.options_.language),t.languages){var a={};Object.getOwnPropertyNames(t.languages).forEach(function(e){a[e.toLowerCase()]=t.languages[e]}),o.languages_=a}else o.languages_=c.prototype.options_.languages;o.cache_={},o.poster_=t.poster||"",o.controls_=!!t.controls,e.controls=!1,o.scrubbing_=!1,o.el_=o.createEl();var s=(0,T.default)(o.options_);if(t.plugins){var l=t.plugins;Object.getOwnPropertyNames(l).forEach(function(e){"function"==typeof this[e]?this[e](l[e]):g.default.error("Unable to find plugin:",e)},o)}return o.options_.playerOptions=s,o.initChildren(),o.isAudio("audio"===e.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label","audio player"):o.el_.setAttribute("aria-label","video player"),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),p.IS_IOS||o.addClass("vjs-workinghover"),(c.players[o.id_]=o).userActive(!0),o.reportUserActivity(),o.listenForUserActivity_(),o.on("fullscreenchange",o.handleFullscreenChange_),o.on("stageclick",o.handleStageClick_),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,u),c.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),c.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),u.prototype.dispose.call(this)},c.prototype.createEl=function(){var e=this.tag,t=void 0,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");t=this.el_=n?e.parentNode:u.prototype.createEl.call(this,"div"),e.setAttribute("tabindex","-1"),e.removeAttribute("width"),e.removeAttribute("height");var i=h.getElAttributes(e);if(Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?t.className+=" "+i[e]:t.setAttribute(e,i[e])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused"),!0!==d.default.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=m.createStyleElement("vjs-styles-dimensions");var r=h.$(".vjs-styles-defaults"),o=h.$("head");o.insertBefore(this.styleEl_,r?r.nextSibling:o.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=e.getElementsByTagName("a"),s=0;s<a.length;s++){var l=a.item(s);h.addElClass(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(t,e),h.insertElFirst(e,t),this.children_.unshift(e),this.el_=t},c.prototype.width=function(e){return this.dimension("width",e)},c.prototype.height=function(e){return this.dimension("height",e)},c.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)this[n]=void 0;else{var i=parseFloat(t);if(isNaN(i))return g.default.error('Improper value "'+t+'" supplied for for '+e),this;this[n]=i}return this.updateStyleEl_(),this},c.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},c.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},c.prototype.updateStyleEl_=function(){if(!0!==d.default.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),m.setTextContent(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(0<=o&&(s.width=o),0<=a&&(s.height=a))}},c.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(E.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var i=(0,w.assign)({source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+e+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(i.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&0<this.cache_.currentTime&&(i.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src);var r=E.default.getTech(e);r||(r=a.default.getComponent(e)),this.tech_=new r(i),this.tech_.ready(s.bind(this,this.handleTechReady_),!0),k.default.jsonToTextTracks(this.textTracksJson_||[],this.tech_),O.forEach(function(e){n.on(n.tech_,e,n["handleTech"+(0,l.default)(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||h.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},c.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=k.default.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},c.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw d.default.alert(t),new Error(t)},c.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},c.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},c.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,g.default)("deleting tag.poster throws in some browsers",e)}this.play()}},c.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},c.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&((this.hasStarted_=e)?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},c.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},c.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},c.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},c.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},c.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},c.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},c.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},c.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(g.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},c.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},c.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},c.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},c.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},c.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},c.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},c.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},c.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},c.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},c.prototype.handleStageClick_=function(){this.reportUserActivity()},c.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},c.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},c.prototype.handleTechTextData_=function(){var e=null;1<arguments.length&&(e=arguments[1]),this.trigger("textdata",e)},c.prototype.getCache=function(){return this.cache_},c.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(e){throw(0,g.default)(e),e}},c.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[t]()}catch(e){throw void 0===this.tech_[t]?(0,g.default)("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?((0,g.default)("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):(0,g.default)(e),e}},c.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},c.prototype.pause=function(){return this.techCall_("pause"),this},c.prototype.paused=function(){return!1!==this.techGet_("paused")},c.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},c.prototype.currentTime=function(e){return void 0!==e?(this.techCall_("setCurrentTime",e),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},c.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:((e=parseFloat(e)||0)<0&&(e=1/0),e!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},c.prototype.remainingTime=function(){return this.duration()-this.currentTime()},c.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=(0,o.createTimeRange)(0,0)),e},c.prototype.bufferedPercent=function(){return(0,v.bufferedPercent)(this.buffered(),this.duration())},c.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return t<n&&(n=t),n},c.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},c.prototype.muted=function(e){return void 0!==e?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},c.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},c.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},c.prototype.requestFullscreen=function(){var n=y.default;return this.isFullscreen(!0),n.requestFullscreen?(r.on(i.default,n.fullscreenchange,s.bind(this,function e(t){this.isFullscreen(i.default[n.fullscreenElement]),!1===this.isFullscreen()&&r.off(i.default,n.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},c.prototype.exitFullscreen=function(){var e=y.default;return this.isFullscreen(!1),e.requestFullscreen?i.default[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},c.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=i.default.documentElement.style.overflow,r.on(i.default,"keydown",s.bind(this,this.fullWindowOnEscKey)),i.default.documentElement.style.overflow="hidden",h.addElClass(i.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},c.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},c.prototype.exitFullWindow=function(){this.isFullWindow=!1,r.off(i.default,"keydown",this.fullWindowOnEscKey),i.default.documentElement.style.overflow=this.docOrigOverflow,h.removeElClass(i.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},c.prototype.canPlayType=function(e){for(var t=void 0,n=0,i=this.options_.techOrder;n<i.length;n++){var r=(0,l.default)(i[n]),o=E.default.getTech(r);if(o||(o=a.default.getComponent(r)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else g.default.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},c.prototype.selectSource=function(e){var n,i=this,t=this.options_.techOrder.map(l.default).map(function(e){return[e,E.default.getTech(e)||a.default.getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(g.default.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,n,i){var r=void 0;return e.some(function(t){return n.some(function(e){if(r=i(t,e))return!0})}),r},o=function(e,t){var n=e[0];if(e[1].canPlaySource(t,i.options_[n.toLowerCase()]))return{source:t,tech:n}};return(this.options_.sourceOrder?r(e,t,(n=o,function(e,t){return n(t,e)})):r(t,e,o))||!1},c.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=E.default.getTech(this.techName_);return t||(t=a.default.getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[this.techName_.toLowerCase()])?this.sourceList_([e]):(this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},c.prototype.sourceList_=function(e){var t=this.selectSource(e);t?(t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source),this.cache_.sources=e):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},c.prototype.load=function(){return this.techCall_("load"),this},c.prototype.reset=function(){return this.loadTech_((0,l.default)(this.options_.techOrder[0]),null),this.techCall_("reset"),this},c.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},c.prototype.currentSource=function(){var e={},t=this.currentSrc();return t&&(e.src=t),this.cache_.source||e},c.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},c.prototype.currentType=function(){return this.currentType_||""},c.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},c.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},c.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},c.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},c.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},c.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},c.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&((this.usingNativeControls_=e)?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},c.prototype.error=function(e){return void 0===e?this.error_||null:(null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close()):(this.error_=new b.default(e),this.addClass("vjs-error"),g.default.error("(CODE:"+this.error_.code+" "+b.default.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")),this)},c.prototype.reportUserActivity=function(e){this.userActivity_=!0},c.prototype.userActive=function(e){return void 0!==e?((e=!!e)!==this.userActive_&&((this.userActive_=e)?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},c.prototype.listenForUserActivity_=function(){var t=void 0,n=void 0,i=void 0,r=s.bind(this,this.reportUserActivity);this.on("mousedown",function(){r(),this.clearInterval(t),t=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===n&&e.screenY===i||(n=e.screenX,i=e.screenY,r())}),this.on("mouseup",function(e){r(),this.clearInterval(t)}),this.on("keydown",r),this.on("keyup",r);var o=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var e=this.options_.inactivityTimeout;0<e&&(o=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},c.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},c.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},c.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new x.default,this.videoTracks_)},c.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new C.default,this.audioTracks_)},c.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},c.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},c.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},c.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},c.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},c.prototype.removeRemoteTextTrack=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).track,t=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(t)},c.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},c.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},c.prototype.language=function(e){return void 0===e?this.language_:(this.language_=String(e).toLowerCase(),this)},c.prototype.languages=function(){return(0,T.default)(c.prototype.options_.languages,this.languages_)},c.prototype.toJSON=function(){var e=(0,T.default)(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=(0,T.default)(i)).player=void 0,e.tracks[n]=i}return e},c.prototype.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var i=new S.default(this,t);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open()},c.getTagSettings=function(e){var t={sources:[],tracks:[]},n=h.getElAttributes(e),i=n["data-setup"];if(h.hasElClass(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=(0,_.default)(i||"{}"),o=r[0],a=r[1];o&&g.default.error(o),(0,w.assign)(n,a)}if((0,w.assign)(t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;l<u;l++){var c=s[l],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(h.getElAttributes(c)):"track"===d&&t.tracks.push(h.getElAttributes(c))}return t},c.prototype.flexNotSupported_=function(){var e=i.default.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},c}(a.default);A.players={};var P=d.default.navigator;A.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:P&&(P.languages&&P.languages[0]||P.userLanguage||P.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){A.prototype[e]=function(){return this.techGet_(e)}}),O.forEach(function(e){A.prototype["handleTech"+(0,l.default)(e)+"_"]=function(){return this.trigger(e)}}),a.default.registerComponent("Player",A),n.default=A},{1:1,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,94:94,95:95,97:97}],52:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(51))&&i.__esModule?i:{default:i};n.default=function(e,t){r.default.prototype[e]=t}},{51:51}],53:[function(e,t,n){"use strict";n.__esModule=!0;var i=o(e(3)),r=o(e(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(i){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.update(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&1<this.items.length&&this.show()},r.prototype.createPopup=function(){},r.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},r.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+i.prototype.buildCSSClass.call(this)},r}(i.default);r.default.registerComponent("PopupButton",a),n.default=a},{3:3,5:5}],54:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i},o=l(e(81)),a=l(e(83)),s=l(e(82));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u=function(n){function i(){return function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),i.prototype.addItem=function(e){this.addChild(e),e.on("click",a.bind(this,function(){this.unlockShowing()}))},i.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=o.createEl(e,{className:"vjs-menu-content"});var t=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),s.on(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},i}(r.default);r.default.registerComponent("Popup",u),n.default=u},{5:5,81:81,82:82,83:83}],55:[function(e,t,n){"use strict";n.__esModule=!0;var i=u(e(3)),r=u(e(5)),o=l(e(83)),a=l(e(81)),s=l(e(78));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}var c=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.update(),e.on("posterchange",o.bind(n,n.update)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.dispose=function(){this.player().off("posterchange",this.update),i.prototype.dispose.call(this)},r.prototype.createEl=function(){var e=a.createEl("div",{className:"vjs-poster",tabIndex:-1});return s.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=a.createEl("img"),e.appendChild(this.fallbackImg_)),e},r.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},r.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},r.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},r}(i.default);r.default.registerComponent("PosterImage",c),n.default=c},{3:3,5:5,78:78,81:81,83:83}],56:[function(e,t,n){"use strict";n.__esModule=!0,n.hasLoaded=n.autoSetupTimeout=n.autoSetup=void 0;var c=a(e(81)),i=a(e(82)),d=o(e(94)),r=o(e(95));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var h=!1,f=void 0,s=function(){if(c.isReal()){var e=d.default.getElementsByTagName("video"),t=d.default.getElementsByTagName("audio"),n=[];if(e&&0<e.length)for(var i=0,r=e.length;i<r;i++)n.push(e[i]);if(t&&0<t.length)for(var o=0,a=t.length;o<a;o++)n.push(t[o]);if(n&&0<n.length)for(var s=0,l=n.length;s<l;s++){var u=n[s];if(!u||!u.getAttribute){p(1);break}void 0===u.player&&null!==u.getAttribute("data-setup")&&f(u)}else h||p(1)}};function p(e,t){t&&(f=t),r.default.setTimeout(s,e)}c.isReal()&&"complete"===d.default.readyState?h=!0:i.one(r.default,"load",function(){h=!0}),n.autoSetup=s,n.autoSetupTimeout=p,n.hasLoaded=function(){return h}},{81:81,82:82,94:94,95:95}],57:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e(5))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),a=e(88),s=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on("focus",n.handleFocus),n.on("blur",n.handleBlur),n.on("click",n.handleClick),n.on(e,"controlsvisible",n.update),n.on(e,n.playerEvent,n.update),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createEl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return t.className=t.className+" vjs-slider",t=(0,a.assign)({tabIndex:0},t),n=(0,a.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),i.prototype.createEl.call(this,e,t,n)},r.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),o.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},r.prototype.handleMouseMove=function(e){},r.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;o.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},r.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},r.prototype.calculateDistance=function(e){var t=o.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},r.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},r.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},r.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},r.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},r.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},r}(r.default);r.default.registerComponent("Slider",s),n.default=s},{5:5,81:81,88:88}],58:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(r){return r.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},r.streamFromParts=function(e,t){return e+"&"+t},r.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),i=void 0;return-1!==n?i=n+1:0===(n=i=e.lastIndexOf("/")+1)&&(n=i=e.length),t.connection=e.substring(0,n),t.stream=e.substring(i,e.length),t},r.isStreamingType=function(e){return e in r.streamingFormats},r.RTMP_RE=/^rtmp[set]?:\/\//i,r.isStreamingSrc=function(e){return r.RTMP_RE.test(e)},r.rtmpSourceHandler={},r.rtmpSourceHandler.canPlayType=function(e){return r.isStreamingType(e)?"maybe":""},r.rtmpSourceHandler.canHandleSource=function(e,t){return r.rtmpSourceHandler.canPlayType(e.type)||(r.isStreamingSrc(e.src)?"maybe":"")},r.rtmpSourceHandler.handleSource=function(e,t,n){var i=r.streamToParts(e.src);t.setRtmpConnection(i.connection),t.setRtmpStream(i.stream)},r.registerSourceHandler(r.rtmpSourceHandler),r}},{}],59:[function(e,t,n){"use strict";n.__esModule=!0;var i=h(e(62)),o=d(e(81)),a=d(e(92)),r=e(90),s=h(e(58)),l=h(e(5)),u=h(e(95)),c=e(88);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var f=u.default.navigator,p=function(i){function o(e,t){!function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return e.source&&n.ready(function(){this.setSource(e.source)},!0),e.startTime&&n.ready(function(){this.load(),this.play(),this.currentTime(e.startTime)},!0),u.default.videojs=u.default.videojs||{},u.default.videojs.Flash=u.default.videojs.Flash||{},u.default.videojs.Flash.onReady=o.onReady,u.default.videojs.Flash.onEvent=o.onEvent,u.default.videojs.Flash.onError=o.onError,n.on("seeked",function(){this.lastSeekTarget_=void 0}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,i),o.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf="//vjs.zencdn.net/swf/5.3.0/video-js.swf");var t=e.techId,n=(0,c.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),i=(0,c.assign)({wmode:"opaque",bgcolor:"#000000"},e.params),r=(0,c.assign)({id:t,name:t,class:"vjs-tech"},e.attributes);return this.el_=o.embed(e.swf,n,i,r),(this.el_.tech=this).el_},o.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},o.prototype.pause=function(){this.el_.vjs_pause()},o.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},o.prototype.setSrc=function(e){var t=this;e=a.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},o.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},o.prototype.setCurrentTime=function(e){var t=this.seekable();t.length&&(e=(e=e>t.start(0)?e:t.start(0))<t.end(t.length-1)?e:t.end(t.length-1),this.lastSeekTarget_=e,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",e),i.prototype.setCurrentTime.call(this))},o.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},o.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},o.prototype.duration=function(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return 0<=e?e:1/0},o.prototype.load=function(){this.el_.vjs_load()},o.prototype.poster=function(){this.el_.vjs_getProperty("poster")},o.prototype.setPoster=function(){},o.prototype.seekable=function(){var e=this.duration();return 0===e?(0,r.createTimeRange)():(0,r.createTimeRange)(0,e)},o.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?(0,r.createTimeRange)():(0,r.createTimeRange)(e[0][0],e[0][1])},o.prototype.supportsFullScreen=function(){return!1},o.prototype.enterFullScreen=function(){return!1},o}(i.default),g=p.prototype,v="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),m="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(",");function y(t){var e=t.charAt(0).toUpperCase()+t.slice(1);g["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}}function b(e){g[e]=function(){return this.el_.vjs_getProperty(e)}}for(var _=0;_<v.length;_++)b(v[_]),y(v[_]);for(var w=0;w<m.length;w++)b(m[w]);p.isSupported=function(){return 10<=p.version()[0]},i.default.withSourceHandlers(p),p.nativeSourceHandler={},p.nativeSourceHandler.canPlayType=function(e){return e in p.formats?"maybe":""},p.nativeSourceHandler.canHandleSource=function(e,t){var n,i,r;return r=e.type?e.type.replace(/;.*/,"").toLowerCase():(n=e.src,(i=a.getFileExtension(n))?"video/"+i:""),p.nativeSourceHandler.canPlayType(r)},p.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},p.nativeSourceHandler.dispose=function(){},p.registerSourceHandler(p.nativeSourceHandler),p.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},p.onReady=function(e){var t=o.getEl(e),n=t&&t.tech;n&&n.el()&&p.checkReady(n)},p.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){p.checkReady(e)},50))},p.onEvent=function(e,t){var n=o.getEl(e).tech,i=Array.prototype.slice.call(arguments,2);n.setTimeout(function(){n.trigger(t,i)},1)},p.onError=function(e,t){var n=o.getEl(e).tech;if("srcnotfound"===t)return n.error(4);n.error("FLASH: "+t)},p.version=function(){var t="0,0,0";try{t=new u.default.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{f.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(f.plugins["Shockwave Flash 2.0"]||f.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(e){}}return t.split(",")},p.embed=function(e,t,n,i){var r=p.getEmbedCode(e,t,n,i);return o.createEl("div",{innerHTML:r}).childNodes[0]},p.getEmbedCode=function(e,t,n,i){var r="",o="",a="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){r+=e+"="+t[e]+"&amp;"}),n=(0,c.assign)({movie:e,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){o+='<param name="'+e+'" value="'+n[e]+'" />'}),i=(0,c.assign)({data:e,width:"100%",height:"100%"},i),Object.getOwnPropertyNames(i).forEach(function(e){a+=e+'="'+i[e]+'" '}),'<object type="application/x-shockwave-flash" '+a+">"+o+"</object>"},(0,s.default)(p),l.default.registerComponent("Flash",p),i.default.registerTech("Flash",p),n.default=p},{5:5,58:58,62:62,81:81,88:88,90:90,92:92,95:95}],60:[function(e,t,n){"use strict";n.__esModule=!0;var i,h=((i=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]).raw=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],i),r=c(e(62)),o=c(e(5)),l=s(e(81)),f=s(e(92)),p=s(e(83)),g=c(e(86)),v=c(e(98)),m=s(e(78)),u=c(e(94)),a=c(e(95)),y=e(88),b=c(e(87)),_=c(e(91));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d=function(c){function d(e,t){!function(e,t){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,c.call(this,e,t)),n=e.source,i=!1;if(n&&(r.el_.currentSrc!==n.src||e.tag&&3===e.tag.initNetworkState_)?r.setSource(n):r.handleLateInit_(r.el_),r.el_.hasChildNodes()){for(var o=r.el_.childNodes,a=o.length,s=[];a--;){var l=o[a];"track"===l.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(l),r.remoteTextTracks().addTrack_(l.track),i||r.el_.hasAttribute("crossorigin")||!f.isCrossOrigin(l.src)||(i=!0)):s.push(l))}for(var u=0;u<s.length;u++)r.el_.removeChild(s[u])}return["audio","video"].forEach(function(e){var t=r.el()[e+"Tracks"],n=r[e+"Tracks"](),i=(0,_.default)(e);r["featuresNative"+i+"Tracks"]&&t&&t.addEventListener&&(r["handle"+i+"TrackChange_"]=function(e){n.trigger({type:"change",target:n,currentTarget:n,srcElement:n})},r["handle"+i+"TrackAdd_"]=function(e){return n.addTrack(e.track)},r["handle"+i+"TrackRemove_"]=function(e){return n.removeTrack(e.track)},t.addEventListener("change",r["handle"+i+"TrackChange_"]),t.addEventListener("addtrack",r["handle"+i+"TrackAdd_"]),t.addEventListener("removetrack",r["handle"+i+"TrackRemove_"]),r["removeOld"+i+"Tracks_"]=function(e){return r.removeOldTracks_(n,t)},r.on("loadstart",r["removeOld"+i+"Tracks_"]))}),r.featuresNativeTextTracks&&(i&&g.default.warn((0,v.default)(h)),r.handleTextTrackChange_=p.bind(r,r.handleTextTrackChange),r.handleTextTrackAdd_=p.bind(r,r.handleTextTrackAdd),r.handleTextTrackRemove_=p.bind(r,r.handleTextTrackRemove),r.proxyNativeTextTracks_()),(m.TOUCH_ENABLED||m.IS_IPHONE||m.IS_NATIVE_ANDROID)&&!0===e.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,c),d.prototype.dispose=function(){var i=this;["audio","video","text"].forEach(function(e){var t=(0,_.default)(e),n=i.el_[e+"Tracks"];n&&n.removeEventListener&&(n.removeEventListener("change",i["handle"+t+"TrackChange_"]),n.removeEventListener("addtrack",i["handle"+t+"TrackAdd_"]),n.removeEventListener("removetrack",i["handle"+t+"TrackRemove_"])),n&&i.off("loadstart",i["removeOld"+t+"Tracks_"])}),d.disposeMediaElement(this.el_),c.prototype.dispose.call(this)},d.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),d.disposeMediaElement(e),e=t}else{e=u.default.createElement("video");var n=this.options_.tag&&l.getElAttributes(this.options_.tag),i=(0,b.default)({},n);m.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete i.controls,l.setElAttributes(e,(0,y.assign)(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}for(var r=["autoplay","preload","loop","muted"],o=r.length-1;0<=o;o--){var a=r[o],s={};void 0!==this.options_[a]&&(s[a]=this.options_[a]),l.setElAttributes(e,s)}return e},d.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),2<=e.readyState&&r.push("loadeddata"),3<=e.readyState&&r.push("canplay"),4<=e.readyState&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},d.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},d.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},d.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},d.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},d.prototype.removeOldTracks_=function(e,t){var n=[];if(t){for(var i=0;i<e.length;i++){for(var r=e[i],o=!1,a=0;a<t.length;a++)if(t[a]===r){o=!0;break}o||n.push(r)}for(var s=0;s<n.length;s++){var l=n[s];e.removeTrack_(l)}}},d.prototype.removeOldTextTracks_=function(e){var t=this.textTracks(),n=this.el().textTracks;this.removeOldTracks_(t,n)},d.prototype.play=function(){var e=this.el_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})},d.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){(0,g.default)(e,"Video is not ready. (Video.js)")}},d.prototype.duration=function(){var t=this;return this.el_.duration===1/0&&m.IS_ANDROID&&m.IS_CHROME&&0===this.el_.currentTime?(this.on("timeupdate",function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN):this.el_.duration||NaN},d.prototype.width=function(){return this.el_.offsetWidth},d.prototype.height=function(){return this.el_.offsetHeight},d.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0})};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},d.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=a.default.navigator&&a.default.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},d.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},d.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},d.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},d.prototype.reset=function(){d.resetMediaElement(this.el_)},d.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},d.prototype.setControls=function(e){this.el_.controls=!!e},d.prototype.addTextTrack=function(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):c.prototype.addTextTrack.call(this,e,t,n)},d.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return c.prototype.createRemoteTextTrack.call(this,e);var t=u.default.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},d.prototype.addRemoteTextTrack=function(e,t){var n=c.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},d.prototype.removeRemoteTextTrack=function(e){if(c.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),n=t.length;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])},d}(r.default);if(l.isReal()){d.TEST_VID=u.default.createElement("video");var w=u.default.createElement("track");w.kind="captions",w.srclang="en",w.label="English",d.TEST_VID.appendChild(w)}d.isSupported=function(){try{d.TEST_VID.volume=.5}catch(e){return!1}return!(!d.TEST_VID||!d.TEST_VID.canPlayType)},d.canControlVolume=function(){try{var e=d.TEST_VID.volume;return d.TEST_VID.volume=e/2+.1,e!==d.TEST_VID.volume}catch(e){return!1}},d.canControlPlaybackRate=function(){if(m.IS_ANDROID&&m.IS_CHROME)return!1;try{var e=d.TEST_VID.playbackRate;return d.TEST_VID.playbackRate=e/2+.1,e!==d.TEST_VID.playbackRate}catch(e){return!1}},d.supportsNativeTextTracks=function(){return m.IS_ANY_SAFARI},d.supportsNativeVideoTracks=function(){return!(!d.TEST_VID||!d.TEST_VID.videoTracks)},d.supportsNativeAudioTracks=function(){return!(!d.TEST_VID||!d.TEST_VID.audioTracks)},d.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],d.prototype.featuresVolumeControl=d.canControlVolume(),d.prototype.featuresPlaybackRate=d.canControlPlaybackRate(),d.prototype.movingMediaElementInDOM=!m.IS_IOS,d.prototype.featuresFullscreenResize=!0,d.prototype.featuresProgressEvents=!0,d.prototype.featuresTimeupdateEvents=!0,d.prototype.featuresNativeTextTracks=d.supportsNativeTextTracks(),d.prototype.featuresNativeVideoTracks=d.supportsNativeVideoTracks(),d.prototype.featuresNativeAudioTracks=d.supportsNativeAudioTracks();var T=d.TEST_VID&&d.TEST_VID.constructor.prototype.canPlayType,k=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,S=/^video\/mp4/i;d.patchCanPlayType=function(){4<=m.ANDROID_VERSION&&!m.IS_FIREFOX?d.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&k.test(e)?"maybe":T.call(this,e)}:m.IS_OLD_ANDROID&&(d.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&S.test(e)?"maybe":T.call(this,e)})},d.unpatchCanPlayType=function(){var e=d.TEST_VID.constructor.prototype.canPlayType;return d.TEST_VID.constructor.prototype.canPlayType=T,e},d.patchCanPlayType(),d.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},d.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["paused","currentTime","buffered","volume","muted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){d.prototype[e]=function(){return this.el_[e]}}),["volume","muted","src","poster","preload","autoplay","loop","playbackRate"].forEach(function(t){d.prototype["set"+(0,_.default)(t)]=function(e){this.el_[t]=e}}),["pause","load"].forEach(function(e){d.prototype[e]=function(){return this.el_[e]()}}),r.default.withSourceHandlers(d),d.nativeSourceHandler={},d.nativeSourceHandler.canPlayType=function(e){try{return d.TEST_VID.canPlayType(e)}catch(e){return""}},d.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return d.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=f.getFileExtension(e.src);return d.nativeSourceHandler.canPlayType("video/"+n)}return""},d.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},d.nativeSourceHandler.dispose=function(){},d.registerSourceHandler(d.nativeSourceHandler),o.default.registerComponent("Html5",d),r.default.registerTech("Html5",d),n.default=d},{5:5,62:62,78:78,81:81,83:83,86:86,87:87,88:88,91:91,92:92,94:94,95:95,98:98}],61:[function(e,t,n){"use strict";n.__esModule=!0;var c=i(e(5)),d=i(e(62)),h=i(e(91));function i(e){return e&&e.__esModule?e:{default:e}}var r=function(l){function u(e,t,n){!function(e,t){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,l.call(this,e,t,n));if(t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var r=0,o=t.playerOptions.techOrder;r<o.length;r++){var a=(0,h.default)(o[r]),s=d.default.getTech(a);if(a||(s=c.default.getComponent(a)),s&&s.isSupported()){e.loadTech_(a);break}}return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l),u}(c.default);c.default.registerComponent("MediaLoader",r),n.default=r},{5:5,62:62,91:91}],62:[function(o,e,t){"use strict";t.__esModule=!0;var n=i(o(5)),a=i(o(66)),s=i(o(65)),l=i(o(87)),u=i(o(72)),c=i(o(70)),d=i(o(76)),h=i(o(63)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o(83)),p=i(o(86)),g=o(90),v=o(79),m=i(o(46)),y=i(o(95)),b=i(o(94)),_=o(88);function i(e){return e&&e.__esModule?e:{default:e}}var r=function(i){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t.reportTouchActivity=!1;var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,null,t,e));return n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),n.textTracks_=t.textTracks,n.videoTracks_=t.videoTracks,n.audioTracks_=t.audioTracks,n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===t["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)}),!1===t.nativeCaptions&&(n.featuresNativeTextTracks=!1),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new c.default,n.initTextTrackListeners(),n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},r.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},r.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(f.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},r.prototype.onDurationChange=function(e){this.duration_=this.duration()},r.prototype.buffered=function(){return(0,g.createTimeRange)(0,0)},r.prototype.bufferedPercent=function(){return(0,v.bufferedPercent)(this.buffered(),this.duration_)},r.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},r.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},r.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),i.prototype.dispose.call(this)},r.prototype.clearTracks=function(e){var r=this;(e=[].concat(e)).forEach(function(e){for(var t=r[e+"Tracks"]()||[],n=t.length;n--;){var i=t[n];"text"===e&&r.removeRemoteTextTrack(i),t.removeTrack_(i)}})},r.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},r.prototype.reset=function(){},r.prototype.error=function(e){return void 0!==e&&(this.error_=new m.default(e),this.trigger("error")),this.error_},r.prototype.played=function(){return this.hasStarted_?(0,g.createTimeRange)(0,0):(0,g.createTimeRange)()},r.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.prototype.initTextTrackListeners=function(){var e=f.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",f.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},r.prototype.initTrackListeners=function(){var i=this;["video","audio"].forEach(function(e){var t=function(){i.trigger(e+"trackchange")},n=i[e+"Tracks"]();n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),i.on("dispose",function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})})},r.prototype.addWebVttScript_=function(){var e=this;if(!y.default.WebVTT)if(b.default.body.contains(this.el())){var t=o(105);if(!this.options_["vtt.js"]&&(0,_.isPlain)(t)&&0<Object.keys(t).length)return void this.trigger("vttjsloaded");var n=b.default.createElement("script");n.src=this.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js",n.onload=function(){e.trigger("vttjsloaded")},n.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){n.onload=null,n.onerror=null}),y.default.WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.addWebVttScript_)},r.prototype.emulateTextTracks=function(){var e=this,n=this.textTracks();if(n){var t=this.remoteTextTracks(),i=function(e){return n.addTrack_(e.track)},r=function(e){return n.removeTrack_(e.track)};t.on("addtrack",i),t.on("removetrack",r),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",o),"showing"===t.mode&&t.addEventListener("cuechange",o)}};a(),n.addEventListener("change",a),this.on("dispose",function(){t.off("addtrack",i),t.off("removetrack",r),n.removeEventListener("change",a);for(var e=0;e<n.length;e++)n[e].removeEventListener("cuechange",o)})}},r.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new d.default,this.videoTracks_},r.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new h.default,this.audioTracks_},r.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new c.default,this.textTracks_},r.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new c.default,this.remoteTextTracks_},r.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new s.default,this.remoteTextTrackEls_},r.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},o=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;var a=new u.default(r);return o.addTrack_(a),a}(this,e,t,n)},r.prototype.createRemoteTextTrack=function(e){var t=(0,l.default)(e,{tech:this});return new a.default(t)},r.prototype.addRemoteTextTrack=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(p.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),!0!==t&&this.autoRemoteTextTracks_.addTrack_(n.track),n},r.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e),this.autoRemoteTextTracks_.removeTrack_(e)},r.prototype.setPoster=function(){},r.prototype.canPlayType=function(){return""},r.isTech=function(e){return e.prototype instanceof r||e instanceof r||e===r},r.registerTech=function(e,t){if(r.techs_||(r.techs_={}),!r.isTech(t))throw new Error("Tech "+e+" must be a Tech");return r.techs_[e]=t},r.getTech=function(e){return r.techs_&&r.techs_[e]?r.techs_[e]:y.default&&y.default.videojs&&y.default.videojs[e]?(p.default.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),y.default.videojs[e]):void 0},r}(n.default);r.prototype.textTracks_,r.prototype.audioTracks_,r.prototype.videoTracks_,r.prototype.featuresVolumeControl=!0,r.prototype.featuresFullscreenResize=!1,r.prototype.featuresPlaybackRate=!1,r.prototype.featuresProgressEvents=!1,r.prototype.featuresTimeupdateEvents=!1,r.prototype.featuresNativeTextTracks=!1,r.withSourceHandlers=function(r){r.registerSourceHandler=function(e,t){var n=r.sourceHandlers;n||(n=r.sourceHandlers=[]),void 0===t&&(t=n.length),n.splice(t,0,e)},r.canPlayType=function(e){for(var t=r.sourceHandlers||[],n=void 0,i=0;i<t.length;i++)if(n=t[i].canPlayType(e))return n;return""},r.selectSourceHandler=function(e,t){for(var n=r.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(e,t))return n[i];return null},r.canPlaySource=function(e,t){var n=r.selectSourceHandler(e,t);return n?n.canHandleSource(e,t):""},["seekable","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(e){var t=r.selectSourceHandler(e,this.options_);return t||(r.nativeSourceHandler?t=r.nativeSourceHandler:p.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),t!==r.nativeSourceHandler&&(this.currentSource_=e,this.off(this.el_,"loadstart",r.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",r.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",r.prototype.firstLoadStartListener_)),this.sourceHandler_=t.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},r.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",r.prototype.successiveLoadStartListener_)},r.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",r.prototype.successiveLoadStartListener_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",r.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",r.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},n.default.registerComponent("Tech",r),n.default.registerComponent("MediaTechController",r),r.registerTech("Tech",r),t.default=r},{105:105,46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,86:86,87:87,88:88,90:90,94:94,95:95}],63:[function(e,t,n){"use strict";n.__esModule=!0;var l=i(e(74)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),c=i(e(94));function i(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].enabled=!1)},r=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var n=void 0,i=t.length-1;0<=i;i--)if(t[i].enabled){h(t,t[i]);break}if(u.IS_IE8){for(var r in n=c.default.createElement("custom"),l.default.prototype)"constructor"!==r&&(n[r]=l.default.prototype[r]);for(var o in s.prototype)"constructor"!==o&&(n[o]=s.prototype[o])}return(n=e=d(this,a.call(this,t,n))).changing_=!1,d(e,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),s.prototype.addTrack_=function(e){var t=this;e.enabled&&h(this,e),a.prototype.addTrack_.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){t.changing_||(t.changing_=!0,h(t,e),t.changing_=!1,t.trigger("change"))})},s.prototype.addTrack=function(e){this.addTrack_(e)},s.prototype.removeTrack=function(e){a.prototype.removeTrack_.call(this,e)},s}(l.default);n.default=r},{74:74,78:78,94:94}],64:[function(e,t,n){"use strict";n.__esModule=!0;var l=e(73),i=r(e(75)),u=r(e(87)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78));function r(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var n=(0,u.default)(t,{kind:l.AudioTrackKind[t.kind]||""}),i=e=d(this,a.call(this,n)),r=!1;if(c.IS_IE8)for(var o in s.prototype)"constructor"!==o&&(i[o]=s.prototype[o]);return Object.defineProperty(i,"enabled",{get:function(){return r},set:function(e){"boolean"==typeof e&&e!==r&&(r=e,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,d(e,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),s}(i.default);n.default=o},{73:73,75:75,78:78,87:87}],65:[function(e,t,n){"use strict";n.__esModule=!0;var i,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),s=(i=e(94))&&i.__esModule?i:{default:i},r=function(){function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this);var t=this;if(a.IS_IE8)for(var n in t=s.default.createElement("custom"),o.prototype)"constructor"!==n&&(t[n]=o.prototype[n]);t.trackElements_=[],Object.defineProperty(t,"length",{get:function(){return this.trackElements_.length}});for(var i=0,r=e.length;i<r;i++)t.addTrackElement_(e[i]);if(a.IS_IE8)return t}return o.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},o.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},o.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},o}();n.default=r},{78:78,94:94}],66:[function(e,t,n){"use strict";n.__esModule=!0;var l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),u=r(e(94)),i=r(e(42)),c=r(e(72));function r(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=function(a){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var t=d(this,a.call(this)),n=void 0,i=t;if(l.IS_IE8)for(var r in i=u.default.createElement("custom"),s.prototype)"constructor"!==r&&(i[r]=s.prototype[r]);var o=new c.default(e);return i.kind=o.kind,i.src=o.src,i.srclang=o.language,i.label=o.label,i.default=o.default,Object.defineProperty(i,"readyState",{get:function(){return n}}),Object.defineProperty(i,"track",{get:function(){return o}}),n=0,o.addEventListener("loadeddata",function(){n=2,i.trigger({type:"load",target:i})}),l.IS_IE8?d(t,i):t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),s}(i.default);o.prototype.allowedEvents_={load:"load"},o.NONE=0,o.LOADING=1,o.LOADED=2,o.ERROR=3,n.default=o},{42:42,72:72,78:78,94:94}],67:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),o=(i=e(94))&&i.__esModule?i:{default:i},a=function(){function i(e){!function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var t=this;if(r.IS_IE8)for(var n in t=o.default.createElement("custom"),i.prototype)"constructor"!==n&&(t[n]=i.prototype[n]);if(i.prototype.setCues_.call(t,e),Object.defineProperty(t,"length",{get:function(){return this.length_}}),r.IS_IE8)return t}return i.prototype.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var r=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)},i.prototype.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},i}();n.default=a},{78:78,94:94}],68:[function(e,t,n){"use strict";n.__esModule=!0;var i=r(e(5)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),l=r(e(95));function r(e){return e&&e.__esModule?e:{default:e}}var c={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function d(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function h(e,t,n){try{e.style[t]=n}catch(e){return}}var o=function(i){function r(l,e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,l,e,t));return l.on("loadstart",u.bind(n,n.toggleDisplay)),l.on("texttrackchange",u.bind(n,n.updateDisplay)),l.ready(u.bind(n,function(){if(l.tech_&&l.tech_.featuresNativeTextTracks)this.hide();else{l.on("fullscreenchange",u.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);var n={captions:1,subtitles:1},i=this.player_.textTracks(),r=void 0,o=void 0;if(i){for(var a=0;a<i.length;a++){var s=i[a];s.default&&("descriptions"!==s.kind||r?s.kind in n&&!o&&(o=s):r=s)}o?o.mode="showing":r&&(r.mode="showing")}}})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},r.prototype.clearDisplay=function(){"function"==typeof l.default.WebVTT&&l.default.WebVTT.processCues(l.default,[],this.el_)},r.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,i=e.length;i--;){var r=e[i];"showing"===r.mode&&("descriptions"===r.kind?t=r:n=r)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))}},r.prototype.updateForTrack=function(e){if("function"==typeof l.default.WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],i=0;i<e.activeCues.length;i++)n.push(e.activeCues[i]);l.default.WebVTT.processCues(l.default,n,this.el_);for(var r=n.length;r--;){var o=n[r];if(o){var a=o.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&h(a.firstChild,"color",d(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&h(a.firstChild,"backgroundColor",d(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?h(a,"backgroundColor",d(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var s=l.default.parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=c[t.fontFamily])}}}},r}(i.default);i.default.registerComponent("TextTrackDisplay",o),n.default=o},{5:5,83:83,95:95}],69:[function(e,t,n){"use strict";n.__esModule=!0;var i=function(i){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,n){return i[t]&&(e[t]=i[t]),e},{cues:i.cues&&Array.prototype.map.call(i.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})};n.default={textTracksToJson:function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=i(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(i))},jsonToTextTracks:function(e,n){return e.forEach(function(e){var t=n.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),n.textTracks()},trackToJson_:i}},{}],70:[function(e,t,n){"use strict";n.__esModule=!0;var a=o(e(74)),i=r(e(83)),s=r(e(78)),l=o(e(94));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(r){function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this);var t=void 0;if(s.IS_IE8){for(var n in t=l.default.createElement("custom"),a.default.prototype)"constructor"!==n&&(t[n]=a.default.prototype[n]);for(var i in o.prototype)"constructor"!==i&&(t[i]=o.prototype[i])}return u(t=u(this,r.call(this,e,t)),t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r),o.prototype.addTrack_=function(e){r.prototype.addTrack_.call(this,e),e.addEventListener("modechange",i.bind(this,function(){this.trigger("change")}))},o}(a.default);n.default=c},{74:74,78:78,83:83,94:94}],71:[function(e,t,n){"use strict";n.__esModule=!0;var o=c(e(95)),i=c(e(5)),a=e(81),s=r(e(83)),l=r(e(88)),u=c(e(86));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d="vjs-text-track-settings",h=["#000","Black"],f=["#00F","Blue"],p=["#0FF","Cyan"],g=["#0F0","Green"],v=["#F0F","Magenta"],m=["#F00","Red"],y=["#FFF","White"],b=["#FF0","Yellow"],_=["1","Opaque"],w=["0.5","Semi-Transparent"],T=["0","Transparent"],k={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[h,y,m,g,f,b,v,p]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[_,w,T]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[y,h,m,g,f,b,v,p]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[_,w]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[T,w,_]}};function S(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}k.windowColor.options=k.backgroundColor.options;var E=function(i){function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t));return n.setDefaults(),n.hide(),n.updateDisplay=s.bind(n,n.updateDisplay),void 0===t.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.hide()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),l.each(k,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r.prototype.createElSelect_=function(e){var t=this,n=k[e],i=n.id.replace("%s",this.id_);return[(0,a.createEl)("label",{className:"vjs-label",textContent:n.label},{for:i}),(0,a.createEl)("select",{id:i},void 0,n.options.map(function(e){return(0,a.createEl)("option",{textContent:t.localize(e[1]),value:e[0]})}))]},r.prototype.createElFgColor_=function(){var e=(0,a.createEl)("legend",{textContent:this.localize("Text")}),t=this.createElSelect_("color"),n=(0,a.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return(0,a.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[e].concat(t,n))},r.prototype.createElBgColor_=function(){var e=(0,a.createEl)("legend",{textContent:this.localize("Background")}),t=this.createElSelect_("backgroundColor"),n=(0,a.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return(0,a.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[e].concat(t,n))},r.prototype.createElWinColor_=function(){var e=(0,a.createEl)("legend",{textContent:this.localize("Window")}),t=this.createElSelect_("windowColor"),n=(0,a.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return(0,a.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[e].concat(t,n))},r.prototype.createElColors_=function(){return(0,a.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},r.prototype.createElFont_=function(){var e=(0,a.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),t=(0,a.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),n=(0,a.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return(0,a.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[e,t,n])},r.prototype.createElControls_=function(){var e=(0,a.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),t=(0,a.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,a.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[e,t])},r.prototype.createEl=function(){var e=(0,a.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),t=(0,a.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),n=(0,a.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),i=(0,a.createEl)("div",void 0,{role:"document"},[t,n,e]);return(0,a.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":t.id,"aria-describedby":n.id},i)},r.prototype.getValues=function(){var a=this;return l.reduce(k,function(e,t,n){var i,r,o=(i=a.$(t.selector),r=t.parser,S(i.options[i.options.selectedIndex].value,r));return void 0!==o&&(e[n]=o),e},{})},r.prototype.setValues=function(n){var i=this;l.each(k,function(e,t){!function(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(S(e.options[i].value,n)===t){e.selectedIndex=i;break}}(i.$(e.selector),n[t],e.parser)})},r.prototype.setDefaults=function(){var n=this;l.each(k,function(e){var t=e.hasOwnProperty("default")?e.default:0;n.$(e.selector).selectedIndex=t})},r.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(o.default.localStorage.getItem(d))}catch(e){u.default.warn(e)}e&&this.setValues(e)},r.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?o.default.localStorage.setItem(d,JSON.stringify(e)):o.default.localStorage.removeItem(d)}catch(e){u.default.warn(e)}}},r.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},r}(i.default);i.default.registerComponent("TextTrackSettings",E),n.default=E},{5:5,81:81,83:83,86:86,88:88,95:95}],72:[function(e,t,n){"use strict";n.__esModule=!0;var f=o(e(67)),p=r(e(83)),g=e(73),v=o(e(86)),m=o(e(95)),i=o(e(75)),y=e(92),b=o(e(99)),_=o(e(87)),w=r(e(78));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=function(e,t){var n=new m.default.WebVTT.Parser(m.default,m.default.vttjs,m.default.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),0<i.length&&(m.default.console&&m.default.console.groupCollapsed&&m.default.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach(function(e){return v.default.error(e)}),m.default.console&&m.default.console.groupEnd&&m.default.console.groupEnd()),n.flush()},a=function(d){function h(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),!t.tech)throw new Error("A tech was not provided.");var n=(0,_.default)(t,{kind:g.TextTrackKind[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=g.TextTrackMode[n.mode]||"disabled",r=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(i="hidden");var o=e=T(this,d.call(this,n));if(o.tech_=n.tech,w.IS_IE8)for(var a in h.prototype)"constructor"!==a&&(o[a]=h.prototype[a]);o.cues_=[],o.activeCues_=[];var s=new f.default(o.cues_),l=new f.default(o.activeCues_),u=!1,c=p.bind(o,function(){this.activeCues,u&&(this.trigger("cuechange"),u=!1)});return"disabled"!==i&&o.tech_.ready(function(){o.tech_.on("timeupdate",c)},!0),Object.defineProperty(o,"default",{get:function(){return r},set:function(){}}),Object.defineProperty(o,"mode",{get:function(){return i},set:function(e){var t=this;g.TextTrackMode[e]&&("showing"===(i=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",c)},!0),this.trigger("modechange"))}}),Object.defineProperty(o,"cues",{get:function(){return this.loaded_?s:null},set:function(){}}),Object.defineProperty(o,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return l;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];r.startTime<=e&&r.endTime>=e?t.push(r):r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e&&t.push(r)}if(u=!1,t.length!==this.activeCues_.length)u=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(u=!0);return this.activeCues_=t,l.setCues_(this.activeCues_),l},set:function(){}}),n.src?(o.src=n.src,function(e,r){var t={uri:e},n=(0,y.isCrossOrigin)(e);n&&(t.cors=n),(0,b.default)(t,p.bind(this,function(e,t,n){if(e)return v.default.error(e,t);if(r.loaded_=!0,"function"!=typeof m.default.WebVTT){if(r.tech_){var i=function(){return k(n,r)};r.tech_.on("vttjsloaded",i),r.tech_.on("vttjserror",function(){v.default.error("vttjs failed to load, stopping trying to process "+r.src),r.tech_.off("vttjsloaded",i)})}}else k(n,r)}))}(n.src,o)):o.loaded_=!0,T(e,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,d),h.prototype.addCue=function(e){var t=e;if(m.default.vttjs&&!(e instanceof m.default.vttjs.VTTCue)){for(var n in t=new m.default.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id}var i=this.tech_.textTracks();if(i)for(var r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},h.prototype.removeCue=function(e){for(var t=!1,n=0,i=this.cues_.length;n<i;n++)this.cues_[n]===e&&(this.cues_.splice(n,1),t=!0);t&&this.cues.setCues_(this.cues_)},h}(i.default);a.prototype.allowedEvents_={cuechange:"cuechange"},n.default=a},{67:67,73:73,75:75,78:78,83:83,86:86,87:87,92:92,95:95,99:99}],73:[function(e,t,n){"use strict";n.__esModule=!0,n.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},n.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},n.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},n.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(e,t,n){"use strict";n.__esModule=!0;var i=r(e(42)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),l=r(e(94));function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=function(o){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=u(this,o.call(this));if(!t&&(t=n,s.IS_IE8))for(var i in t=l.default.createElement("custom"),a.prototype)"constructor"!==i&&(t[i]=a.prototype[i]);t.tracks_=[],Object.defineProperty(t,"length",{get:function(){return this.tracks_.length}});for(var r=0;r<e.length;r++)t.addTrack_(e[r]);return u(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o),a.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},a.prototype.removeTrack_=function(e){for(var t=void 0,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},a.prototype.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},a}(i.default);for(var a in o.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},o.prototype.allowedEvents_)o.prototype["on"+a]=null;n.default=o},{42:42,78:78,94:94}],75:[function(e,t,n){"use strict";n.__esModule=!0;var u=r(e(78)),c=i(e(94)),d=r(e(85));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=function(s){function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var t=h(this,s.call(this)),n=t;if(u.IS_IE8)for(var i in n=c.default.createElement("custom"),l.prototype)"constructor"!==i&&(n[i]=l.prototype[i]);var r={id:e.id||"vjs_track_"+d.newGUID(),kind:e.kind||"",label:e.label||"",language:e.language||""},o=function(e){Object.defineProperty(n,e,{get:function(){return r[e]},set:function(){}})};for(var a in r)o(a);return h(t,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,s),l}(i(e(42)).default);n.default=o},{42:42,78:78,85:85,94:94}],76:[function(e,t,n){"use strict";n.__esModule=!0;var l=i(e(74)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),c=i(e(94));function i(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].selected=!1)},r=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var n=void 0,i=t.length-1;0<=i;i--)if(t[i].selected){h(t,t[i]);break}if(u.IS_IE8){for(var r in n=c.default.createElement("custom"),l.default.prototype)"constructor"!==r&&(n[r]=l.default.prototype[r]);for(var o in s.prototype)"constructor"!==o&&(n[o]=s.prototype[o])}return(n=e=d(this,a.call(this,t,n))).changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),d(e,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),s.prototype.addTrack_=function(e){var t=this;e.selected&&h(this,e),a.prototype.addTrack_.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){t.changing_||(t.changing_=!0,h(t,e),t.changing_=!1,t.trigger("change"))})},s.prototype.addTrack=function(e){this.addTrack_(e)},s.prototype.removeTrack=function(e){a.prototype.removeTrack_.call(this,e)},s}(l.default);n.default=r},{74:74,78:78,94:94}],77:[function(e,t,n){"use strict";n.__esModule=!0;var l=e(73),i=r(e(75)),u=r(e(87)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78));function r(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=function(a){function s(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var n=(0,u.default)(t,{kind:l.VideoTrackKind[t.kind]||""}),i=e=d(this,a.call(this,n)),r=!1;if(c.IS_IE8)for(var o in s.prototype)"constructor"!==o&&(i[o]=s.prototype[o]);return Object.defineProperty(i,"selected",{get:function(){return r},set:function(e){"boolean"==typeof e&&e!==r&&(r=e,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),d(e,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),s}(i.default);n.default=o},{73:73,75:75,78:78,87:87}],78:[function(e,t,n){"use strict";n.__esModule=!0,n.BACKGROUND_SIZE_SUPPORTED=n.TOUCH_ENABLED=n.IS_ANY_SAFARI=n.IS_SAFARI=n.IE_VERSION=n.IS_IE8=n.IS_CHROME=n.IS_EDGE=n.IS_FIREFOX=n.IS_NATIVE_ANDROID=n.IS_OLD_ANDROID=n.ANDROID_VERSION=n.IS_ANDROID=n.IOS_VERSION=n.IS_IOS=n.IS_IPOD=n.IS_IPHONE=n.IS_IPAD=void 0;var i,r,o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),s=(i=e(95))&&i.__esModule?i:{default:i},l=s.default.navigator&&s.default.navigator.userAgent||"",u=/AppleWebKit\/([\d.]+)/i.exec(l),c=u?parseFloat(u.pop()):null,d=n.IS_IPAD=/iPad/i.test(l),h=n.IS_IPHONE=/iPhone/i.test(l)&&!d,f=n.IS_IPOD=/iPod/i.test(l),p=n.IS_IOS=h||d||f,g=(n.IOS_VERSION=(r=l.match(/OS (\d+)_/i))&&r[1]?r[1]:null,n.IS_ANDROID=/Android/i.test(l)),v=n.ANDROID_VERSION=function(){var e=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),m=(n.IS_OLD_ANDROID=g&&/webkit/i.test(l)&&v<2.3,n.IS_NATIVE_ANDROID=g&&v<5&&c<537,n.IS_FIREFOX=/Firefox/i.test(l),n.IS_EDGE=/Edge/i.test(l)),y=n.IS_CHROME=!m&&/Chrome/i.test(l),b=(n.IS_IE8=/MSIE\s8\.0/.test(l),n.IE_VERSION=(o=/MSIE\s(\d+)\.\d/.exec(l))&&parseFloat(o[1]),n.IS_SAFARI=/Safari/i.test(l)&&!y&&!g&&!m);n.IS_ANY_SAFARI=b||p,n.TOUCH_ENABLED=a.isReal()&&("ontouchstart"in s.default||s.default.DocumentTouch&&s.default.document instanceof s.default.DocumentTouch),n.BACKGROUND_SIZE_SUPPORTED=a.isReal()&&"backgroundSize"in s.default.document.createElement("video").style},{81:81,95:95}],79:[function(e,t,n){"use strict";n.__esModule=!0,n.bufferedPercent=function(e,t){var n=0,i=void 0,r=void 0;if(!t)return 0;e&&e.length||(e=(0,a.createTimeRange)(0,0));for(var o=0;o<e.length;o++)i=e.start(o),t<(r=e.end(o))&&(r=t),n+=r-i;return n/t};var a=e(90)},{90:90}],80:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e,t){if(!e||!t)return"";if("function"!=typeof r.default.getComputedStyle)return e.currentStyle[t]||"";var n=r.default.getComputedStyle(e);return n?n[t]:""};var i,r=(i=e(95))&&i.__esModule?i:{default:i}},{95:95}],81:[function(e,t,n){"use strict";n.__esModule=!0,n.$$=n.$=void 0;var i,o=((i=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]).raw=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],i);n.isReal=function(){return c.default===d.default.document&&void 0!==c.default.createElement},n.isEl=p,n.getEl=function(e){return 0===e.indexOf("#")&&(e=e.slice(1)),c.default.getElementById(e)},n.createEl=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],r=c.default.createElement(e);return Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(a.default.warn((0,s.default)(o,e,t)),r.setAttribute(e,t)):"textContent"===e?v(r,t):r[e]=t}),Object.getOwnPropertyNames(t).forEach(function(e){r.setAttribute(e,t[e])}),i&&C(r,i),r},n.textContent=v,n.insertElFirst=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},n.getElData=function(e){var t=e[y];return t||(t=e[y]=r.newGUID()),m[t]||(m[t]={}),m[t]},n.hasElData=function(e){var t=e[y];return!!t&&!!Object.getOwnPropertyNames(m[t]).length},n.removeElData=function(e){var t=e[y];if(t){delete m[t];try{delete e[y]}catch(t){e.removeAttribute?e.removeAttribute(y):e[y]=null}}},n.hasElClass=b,n.addElClass=_,n.removeElClass=w,n.toggleElClass=function(e,t,n){var i=b(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?_(e,t):w(e,t),e},n.setElAttributes=function(n,i){Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];null==t||!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})},n.getElAttributes=function(e){var t={};if(e&&e.attributes&&0<e.attributes.length)for(var n=e.attributes,i=n.length-1;0<=i;i--){var r=n[i].name,o=n[i].value;"boolean"!=typeof e[r]&&-1===",autoplay,controls,loop,muted,default,".indexOf(","+r+",")||(o=null!==o),t[r]=o}return t},n.getAttribute=function(e,t){return e.getAttribute(t)},n.setAttribute=function(e,t,n){e.setAttribute(t,n)},n.removeAttribute=function(e,t){e.removeAttribute(t)},n.blockTextSelection=function(){c.default.body.focus(),c.default.onselectstart=function(){return!1}},n.unblockTextSelection=function(){c.default.onselectstart=function(){return!0}},n.findElPosition=T,n.getPointerPosition=function(e,t){var n={},i=T(e),r=e.offsetWidth,o=e.offsetHeight,a=i.top,s=i.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+o)/o)),n.x=Math.max(0,Math.min(1,(u-s)/r)),n},n.isTextNode=k,n.emptyEl=S,n.normalizeContent=E,n.appendContent=C,n.insertContent=function(e,t){return C(S(e),t)};var c=u(e(94)),d=u(e(95)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(85)),a=u(e(86)),s=u(e(98)),l=e(88);function u(e){return e&&e.__esModule?e:{default:e}}function h(e){return"string"==typeof e&&/\S/.test(e)}function f(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function p(e){return(0,l.isObject)(e)&&1===e.nodeType}function g(i){return function(e,t){if(!h(e))return c.default[i](null);h(t)&&(t=c.default.querySelector(t));var n=p(t)?t:c.default;return n[i]&&n[i](e)}}function v(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}var m={},y="vdata"+(new Date).getTime();function b(e,t){return f(t),e.classList?e.classList.contains(t):new RegExp("(^|\\s)"+t+"($|\\s)").test(e.className)}function _(e,t){return e.classList?e.classList.add(t):b(e,t)||(e.className=(e.className+" "+t).trim()),e}function w(e,t){return e.classList?e.classList.remove(t):(f(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function T(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=c.default.documentElement,i=c.default.body,r=n.clientLeft||i.clientLeft||0,o=d.default.pageXOffset||i.scrollLeft,a=t.left+o-r,s=n.clientTop||i.clientTop||0,l=d.default.pageYOffset||i.scrollTop,u=t.top+l-s;return{left:Math.round(a),top:Math.round(u)}}function k(e){return(0,l.isObject)(e)&&3===e.nodeType}function S(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function E(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),p(e)||k(e)?e:"string"==typeof e&&/\S/.test(e)?c.default.createTextNode(e):void 0}).filter(function(e){return e})}function C(t,e){return E(e).forEach(function(e){return t.appendChild(e)}),t}n.$=g("querySelector"),n.$$=g("querySelectorAll")},{85:85,86:86,88:88,94:94,95:95,98:98}],82:[function(e,t,n){"use strict";n.__esModule=!0,n.fixEvent=f,n.on=p,n.off=g,n.trigger=function e(t,n,i){var r=l.hasElData(t)?l.getElData(t):{},o=t.parentNode||t.ownerDocument;if("string"==typeof n&&(n={type:n,target:t}),n=f(n),r.dispatcher&&r.dispatcher.call(t,n,i),o&&!n.isPropagationStopped()&&!0===n.bubbles)e.call(null,o,n,i);else if(!o&&!n.defaultPrevented){var a=l.getElData(n.target);n.target[n.type]&&(a.disabled=!0,"function"==typeof n.target[n.type]&&n.target[n.type](),a.disabled=!1)}return!n.defaultPrevented},n.one=function e(t,n,i){if(Array.isArray(n))return h(e,t,n,i);var r=function e(){g(t,n,e),i.apply(this,arguments)};r.guid=i.guid=i.guid||o.newGUID(),p(t,n,r)};var l=r(e(81)),o=r(e(85)),u=i(e(86)),s=i(e(95)),c=i(e(94));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e,t){var n=l.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&l.removeElData(e)}function h(t,n,e,i){e.forEach(function(e){t(n,e,i)})}function f(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||s.default.event;for(var r in e={},i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&i.preventDefault||(e[r]=i[r]));if(e.target||(e.target=e.srcElement||c.default),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=c.default.documentElement,a=c.default.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function p(a,e,t){if(Array.isArray(e))return h(p,a,e,t);var s=l.getElData(a);s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),t.guid||(t.guid=o.newGUID()),s.handlers[e].push(t),s.dispatcher||(s.disabled=!1,s.dispatcher=function(e,t){if(!s.disabled){e=f(e);var n=s.handlers[e.type];if(n)for(var i=n.slice(0),r=0,o=i.length;r<o&&!e.isImmediatePropagationStopped();r++)try{i[r].call(a,e,t)}catch(e){u.default.error(e)}}}),1===s.handlers[e].length&&(a.addEventListener?a.addEventListener(e,s.dispatcher,!1):a.attachEvent&&a.attachEvent("on"+e,s.dispatcher))}function g(t,e,n){if(l.hasElData(t)){var i=l.getElData(t);if(i.handlers){if(Array.isArray(e))return h(g,t,e,n);var r=function(e){i.handlers[e]=[],d(t,e)};if(e){var o=i.handlers[e];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);d(t,e)}else r(e)}else for(var s in i.handlers)r(s)}}}},{81:81,85:85,86:86,94:94,95:95}],83:[function(e,t,n){"use strict";n.__esModule=!0,n.throttle=n.bind=void 0;var r=e(85);n.bind=function(e,t,n){t.guid||(t.guid=(0,r.newGUID)());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i},n.throttle=function(t,n){var i=Date.now();return function(){var e=Date.now();n<=e-i&&(t.apply(void 0,arguments),i=e)}}},{85:85}],84:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e;e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),(r=0<r||0<a?r+":":"")+(i=((r||10<=o)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)}},{}],85:[function(e,t,n){"use strict";n.__esModule=!0,n.newGUID=function(){return i++};var i=1},{}],86:[function(e,t,n){"use strict";n.__esModule=!0,n.logByType=void 0;var i,r=(i=e(95))&&i.__esModule?i:{default:i},o=e(78),a=e(88),s=void 0,l=n.logByType=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!!o.IE_VERSION&&o.IE_VERSION<11;"log"!==e&&t.unshift(e.toUpperCase()+":"),s.history.push(t),t.unshift("VIDEOJS:");var i=r.default.console&&r.default.console[e];i&&(n&&(t=t.map(function(t){if((0,a.isObject)(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)}).join(" ")),i.apply?i[Array.isArray(t)?"apply":"call"](r.default.console,t):i(t))};(s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];l("log",t)}).history=[],s.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l("error",t)},s.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l("warn",t)},n.default=s},{78:78,88:88,95:95}],87:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function n(){for(var i={},e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(function(e){e&&(0,o.each)(e,function(e,t){(0,o.isPlain)(e)?((0,o.isPlain)(i[t])||(i[t]={}),i[t]=n(i[t],e)):i[t]=e})}),i};var o=e(88)},{88:88}],88:[function(e,t,n){"use strict";n.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.each=a,n.reduce=function(n,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return o(n).reduce(function(e,t){return i(e,n[t],t)},e)},n.assign=function(n){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[n].concat(t)):(t.forEach(function(e){e&&a(e,function(e,t){n[t]=e})}),n)},n.isObject=s,n.isPlain=function(e){return s(e)&&"[object Object]"===r.call(e)&&e.constructor===Object};var r=Object.prototype.toString,o=function(e){return s(e)?Object.keys(e):[]};function a(t,n){o(t).forEach(function(e){return n(t[e],e)})}function s(e){return!!e&&"object"===(void 0===e?"undefined":i(e))}},{}],89:[function(e,t,n){"use strict";n.__esModule=!0,n.setTextContent=n.createStyleElement=void 0;var i,r=(i=e(94))&&i.__esModule?i:{default:i};n.createStyleElement=function(e){var t=r.default.createElement("style");return t.className=e,t},n.setTextContent=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}},{94:94}],90:[function(e,t,n){"use strict";n.__esModule=!0,n.createTimeRange=void 0,n.createTimeRanges=s;var i,r=(i=e(86))&&i.__esModule?i:{default:i};function o(e,t,n,i){return void 0===i&&(r.default.warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),i=0),function(e,t,n){if(t<0||n<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").")}(e,i,n.length-1),n[i][t]}function a(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:o.bind(null,"start",0,e),end:o.bind(null,"end",1,e)}}function s(e,t){return Array.isArray(e)?a(e):void 0===e||void 0===t?a():a([[e,t]])}n.createTimeRange=s},{86:86}],91:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}},{}],92:[function(e,t,n){"use strict";n.__esModule=!0,n.isCrossOrigin=n.getFileExtension=n.getAbsoluteURL=n.parseUrl=void 0;var s=r(e(94)),i=r(e(95));function r(e){return e&&e.__esModule?e:{default:e}}var o=n.parseUrl=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=s.default.createElement("a");n.href=e;var i=""===n.host&&"file:"!==n.protocol,r=void 0;i&&((r=s.default.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),s.default.body.appendChild(r));for(var o={},a=0;a<t.length;a++)o[t[a]]=n[t[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),i&&s.default.body.removeChild(r),o};n.getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var t=s.default.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},n.getFileExtension=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},n.isCrossOrigin=function(e){var t=i.default.location,n=o(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host}},{94:94,95:95}],93:[function(e,t,n){"use strict";n.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=P(e(95)),o=P(e(94)),a=A(e(56)),s=A(e(89)),l=P(e(5)),u=P(e(42)),c=A(e(82)),d=P(e(51)),h=P(e(52)),f=P(e(87)),p=A(e(83)),g=P(e(72)),v=P(e(64)),m=P(e(77)),y=e(90),b=P(e(84)),_=P(e(86)),w=A(e(81)),T=A(e(78)),k=A(e(92)),S=e(88),E=P(e(80)),C=P(e(43)),x=P(e(99)),O=P(e(62));function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}function I(e,n,t){var i=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),I.getPlayers()[e])return n&&_.default.warn('Player "'+e+'" is already initialised. Options will not be applied.'),t&&I.getPlayers()[e].ready(t),I.getPlayers()[e];i=w.getEl(e)}else i=e;if(!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(i.player||d.default.players[i.playerId])return i.player||d.default.players[i.playerId];n=n||{},I.hooks("beforesetup").forEach(function(e){var t=e(i,(0,f.default)(n));(0,S.isObject)(t)&&!Array.isArray(t)?n=(0,f.default)(n,t):_.default.error("please return an object in beforesetup hooks")});var r=new(l.default.getComponent("Player"))(i,n,t);return I.hooks("setup").forEach(function(e){return e(r)}),r}if("undefined"==typeof HTMLVideoElement&&w.isReal()&&(o.default.createElement("video"),o.default.createElement("audio"),o.default.createElement("track")),I.hooks_={},I.hooks=function(e,t){return I.hooks_[e]=I.hooks_[e]||[],t&&(I.hooks_[e]=I.hooks_[e].concat(t)),I.hooks_[e]},I.hook=function(e,t){I.hooks(e,t)},I.removeHook=function(e,t){var n=I.hooks(e).indexOf(t);return!(n<=-1||(I.hooks_[e]=I.hooks_[e].slice(),I.hooks_[e].splice(n,1),0))},!0!==r.default.VIDEOJS_NO_DYNAMIC_STYLE&&w.isReal()){var D=w.$(".vjs-styles-defaults");if(!D){D=s.createStyleElement("vjs-styles-defaults");var j=w.$("head");j&&j.insertBefore(D,j.firstChild),s.setTextContent(D,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}a.autoSetupTimeout(1,I),I.VERSION="5.18.4",I.options=d.default.prototype.options_,I.getPlayers=function(){return d.default.players},I.players=d.default.players,I.getComponent=l.default.getComponent,I.registerComponent=function(e,t){O.default.isTech(t)&&_.default.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),l.default.registerComponent.call(l.default,e,t)},I.getTech=O.default.getTech,I.registerTech=O.default.registerTech,I.browser=T,I.TOUCH_ENABLED=T.TOUCH_ENABLED,I.extend=C.default,I.mergeOptions=f.default,I.bind=p.bind,I.plugin=h.default,I.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),I.options.languages=(0,f.default)(I.options.languages,((n={})[e]=t,n)),I.options.languages[e]},I.log=_.default,I.createTimeRange=I.createTimeRanges=y.createTimeRanges,I.formatTime=b.default,I.parseUrl=k.parseUrl,I.isCrossOrigin=k.isCrossOrigin,I.EventTarget=u.default,I.on=c.on,I.one=c.one,I.off=c.off,I.trigger=c.trigger,I.xhr=x.default,I.TextTrack=g.default,I.AudioTrack=v.default,I.VideoTrack=m.default,I.isEl=w.isEl,I.isTextNode=w.isTextNode,I.createEl=w.createEl,I.hasClass=w.hasElClass,I.addClass=w.addElClass,I.removeClass=w.removeElClass,I.toggleClass=w.toggleElClass,I.setAttributes=w.setElAttributes,I.getAttributes=w.getElAttributes,I.emptyEl=w.emptyEl,I.appendContent=w.appendContent,I.insertContent=w.insertContent,I.computedStyle=E.default,"object"===(void 0===n?"undefined":i(n))&&"object"===(void 0===t?"undefined":i(t))&&(t.exports=I),n.default=I},{42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,86:86,87:87,88:88,89:89,90:90,92:92,94:94,95:95,99:99}],94:[function(r,o,e){(function(e){var t=void 0!==e?e:"undefined"!=typeof window?window:{},n=r(96);if("undefined"!=typeof document)o.exports=document;else{var i=t["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=t["__GLOBAL_DOCUMENT_CACHE@4"]=n),o.exports=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{96:96}],95:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],96:[function(e,t,n){},{}],97:[function(e,t,n){t.exports=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]}},{}],98:[function(e,t,n){t.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=e[n].replace(/\n\r?\s*/g,"")+(arguments[n+1]||"");return t}},{}],99:[function(e,t,n){"use strict";var i=e(95),r=e(100),v=e(103),o=e(104);function a(e,t,n){var i=e;return r(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=o(t,{uri:e}),i.callback=n,i}function m(e,t,n){return s(t=a(e,t,n))}function s(i){if(void 0===i.callback)throw new Error("callback argument missing");var r=!1,o=function(e,t,n){r||(r=!0,i.callback(e,t,n))};function t(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,o(e,g)}function e(){if(!a){var e;clearTimeout(l),e=i.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var t=g,n=null;return 0!==e?(t={body:function(){var e=void 0;if(e=s.response?s.response:s.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(s),p)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:c,headers:{},url:u,rawRequest:s},s.getAllResponseHeaders&&(t.headers=v(s.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),o(n,t,t.body)}}var n,a,s=i.xhr||null;s||(s=i.cors||i.useXDR?new m.XDomainRequest:new m.XMLHttpRequest);var l,u=s.url=i.uri||i.url,c=s.method=i.method||"GET",d=i.body||i.data,h=s.headers=i.headers||{},f=!!i.sync,p=!1,g={body:void 0,headers:{},statusCode:0,method:c,url:u,rawRequest:s};if("json"in i&&!1!==i.json&&(p=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==c&&"HEAD"!==c&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),d=JSON.stringify(!0===i.json?d:i.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(e,0)},s.onload=e,s.onerror=t,s.onprogress=function(){},s.onabort=function(){a=!0},s.ontimeout=t,s.open(c,u,!f,i.username,i.password),f||(s.withCredentials=!!i.withCredentials),!f&&0<i.timeout&&(l=setTimeout(function(){if(!a){a=!0,s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},i.timeout)),s.setRequestHeader)for(n in h)h.hasOwnProperty(n)&&s.setRequestHeader(n,h[n]);else if(i.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(s.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(s),s.send(d||null),s}(t.exports=m).XMLHttpRequest=i.XMLHttpRequest||function(){},m.XDomainRequest="withCredentials"in new m.XMLHttpRequest?m.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(i){m["delete"===i?"del":i]=function(e,t,n){return(t=a(e,t,n)).method=i.toUpperCase(),s(t)}})},{100:100,103:103,104:104,95:95}],100:[function(e,t,n){t.exports=function(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var i=Object.prototype.toString},{}],101:[function(e,t,n){var i=e(100);t.exports=function(e,t,n){if(!i(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===r.call(e)?function(e,t,n){for(var i=0,r=e.length;i<r;i++)o.call(e,i)&&t.call(n,e[i],i,e)}(e,t,n):"string"==typeof e?function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e.charAt(i),i,e)}(e,t,n):function(e,t,n){for(var i in e)o.call(e,i)&&t.call(n,e[i],i,e)}(e,t,n)};var r=Object.prototype.toString,o=Object.prototype.hasOwnProperty},{100:100}],102:[function(e,t,n){(n=t.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],103:[function(e,t,n){var a=e(102),i=e(101);t.exports=function(e){if(!e)return{};var o={};return i(a(e).split("\n"),function(e){var t,n=e.indexOf(":"),i=a(e.slice(0,n)).toLowerCase(),r=a(e.slice(n+1));void 0===o[i]?o[i]=r:(t=o[i],"[object Array]"!==Object.prototype.toString.call(t)?o[i]=[o[i],r]:o[i].push(r))}),o}},{101:101,102:102}],104:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},{}],105:[function(e,t,n){var i=t.exports={WebVTT:e(106).WebVTT,VTTCue:e(107).VTTCue,VTTRegion:e(109).VTTRegion};window.vttjs=i,window.WebVTT=i.WebVTT;var r=i.VTTCue,o=i.VTTRegion,a=window.VTTCue,s=window.VTTRegion;i.shim=function(){window.VTTCue=r,window.VTTRegion=o},i.restore=function(){window.VTTCue=a,window.VTTRegion=s},window.VTTCue||i.shim()},{106:106,107:107,109:109}],106:[function(e,t,n){!function(e){var t=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function u(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function g(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):59<n[1]?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function c(){this.values=t(null)}function d(e,t,n,i){var r=i?e.split(i):[e];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);2===a.length&&t(a[0],a[1])}}function s(t,e,o){var n,i,a,r=t;function s(){var e=g(t);if(null===e)throw new u(u.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=s(),l(),"--\x3e"!==t.substr(0,3))throw new u(u.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.substr(3),l(),e.endTime=s(),l(),n=t,i=e,a=new c,d(n,function(e,t){switch(e){case"region":for(var n=o.length-1;0<=n;n--)if(o[n].id===t){a.set(e,o[n].region);break}break;case"vertical":a.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),r=i[0];a.integer(e,r),a.percent(e,r)&&a.set("snapToLines",!1),a.alt(e,r,["auto"]),2===i.length&&a.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),a.percent(e,i[0]),2===i.length&&a.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":a.percent(e,t);break;case"align":a.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),i.region=a.get("region",null),i.vertical=a.get("vertical",""),i.line=a.get("line","auto"),i.lineAlign=a.get("lineAlign","start"),i.snapToLines=a.get("snapToLines",!0),i.size=a.get("size",100),i.align=a.get("align","middle"),i.position=a.get("position",{start:0,left:0,middle:50,end:100,right:100},i.align),i.positionAlign=a.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},i.align)}((u.prototype=t(Error.prototype)).constructor=u).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},c.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var v={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},m={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},y={v:"title",lang:"lang"},b={rt:"ruby"};function l(o,n){function e(){if(!n)return null;var e,t=n.match(/^([^<]*)(<[^>]+>?)?/);return e=t[1]?t[1]:t[2],n=n.substr(e.length),e}function t(e){return v[e]}function i(e){for(;p=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(p[0],t);return e}function r(e,t){var n=m[e];if(!n)return null;var i=o.document.createElement(n);i.localName=n;var r=y[e];return r&&t&&(i[r]=t.trim()),i}for(var a,s,l,u=o.document.createElement("div"),c=u,d=[];null!==(a=e());)if("<"!==a[0])c.appendChild(o.document.createTextNode(i(a)));else{if("/"===a[1]){d.length&&d[d.length-1]===a.substr(2).replace(">","")&&(d.pop(),c=c.parentNode);continue}var h,f=g(a.substr(1,a.length-2));if(f){h=o.document.createProcessingInstruction("timestamp",f),c.appendChild(h);continue}var p=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(h=r(p[1],p[3])))continue;if(s=c,b[(l=h).localName]&&b[l.localName]!==s.localName)continue;p[2]&&(h.className=p[2].substr(1).replace("."," ")),d.push(p[1]),c.appendChild(h),c=h}return u}var i=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function h(e){for(var t=0;t<i.length;t++){var n=i[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function f(){}function p(e,t,n){var i=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";i&&(r="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),f.call(this),this.cue=t,this.cueDiv=l(e,t.text);var a={color:r,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(a.direction=function(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;0<=n;n--)e.push(t.childNodes[n])}function o(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var i=n.match(/^.*(\n|\r)/);return i?i[e.length=0]:n}return"ruby"===t.tagName?o(e):t.childNodes?(r(e,t),o(e)):void 0}for(r(t,e);n=o(t);)for(var i=0;i<n.length;i++)if(h(n.charCodeAt(i)))return"rtl";return"ltr"}(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function _(e){var t,n,i,r,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function w(e,t,s,l){var n=new _(t),i=t.cue,r=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(i),o=[];if(i.snapToLines){var a;switch(i.vertical){case"":o=["+y","-y"],a="height";break;case"rl":o=["+x","-x"],a="width";break;case"lr":o=["-x","+x"],a="width"}var u=n.lineHeight,c=u*Math.round(r),d=s[a]+u,h=o[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),r<0&&(c+=""===i.vertical?s.height:s.width,o=o.reverse()),n.move(h,c)}else{var f=n.lineHeight/s.height*100;switch(i.lineAlign){case"middle":r-=f/2;break;case"end":r-=f}switch(i.vertical){case"":t.applyStyles({top:t.formatStyle(r,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(r,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(r,"%")})}o=["+y","-x","+x","-y"],n=new _(t)}var p=function(e,t){for(var n,i=new _(e),r=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(s,t[o])||e.within(s)&&e.overlapsAny(l);)e.move(t[o]);if(e.within(s))return e;var a=e.intersectPercentage(s);a<r&&(n=new _(e),r=a),e=new _(i)}return n||i}(n,o);t.move(p.toCSSCompatValues(s))}function n(){}f.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},f.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(p.prototype=t(f.prototype)).constructor=p,_.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},_.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},_.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},_.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},_.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},_.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},_.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},_.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},n.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},n.convertCueToDOMTree=function(e,t){return e&&t?l(e,t):null},n.processCues=function(i,r,e){if(!i||!r||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var o=i.document.createElement("div");if(o.style.position="absolute",o.style.left="0",o.style.right="0",o.style.top="0",o.style.bottom="0",o.style.margin="1.5%",e.appendChild(o),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(r)){var a=[],s=_.getSimpleBoxPosition(o),l={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var e,t,n=0;n<r.length;n++)t=r[n],e=new p(i,t,l),o.appendChild(e.div),w(0,e,s,a),t.displayState=e.div,a.push(_.getSimpleBoxPosition(e))}()}else for(var t=0;t<r.length;t++)o.appendChild(r[t].displayState)},(n.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof u))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var i=this;function t(){for(var e=i.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),n}e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{var n;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var r=(n=t()).match(/^WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new u(u.Errors.BadSignature);i.state="HEADER"}for(var o=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(o?o=!1:n=t(),i.state){case"HEADER":/:/.test(n)?d(n,function(e,t){switch(e){case"Region":!function(e){var r=new c;if(d(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var i=new c;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;r.set(e+"X",i.get("x")),r.set(e+"Y",i.get("y"));break;case"scroll":r.alt(e,t,["up"])}},/=/,/\s/),r.has("id")){var t=new(i.vttjs.VTTRegion||i.window.VTTRegion);t.width=r.get("width",100),t.lines=r.get("lines",3),t.regionAnchorX=r.get("regionanchorX",0),t.regionAnchorY=r.get("regionanchorY",100),t.viewportAnchorX=r.get("viewportanchorX",0),t.viewportAnchorY=r.get("viewportanchorY",100),t.scroll=r.get("scroll",""),i.onregion&&i.onregion(t),i.regionList.push({id:r.get("id"),region:t})}}(t)}},/:/):n||(i.state="ID");continue;case"NOTE":n||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){i.state="NOTE";break}if(!n)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===n.indexOf("--\x3e")){i.cue.id=n;continue}case"CUE":try{s(n,i.cue,i.regionList)}catch(e){i.reportOrThrowError(e),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var a=-1!==n.indexOf("--\x3e");if(!n||a&&(o=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=n;continue;case"BADCUE":n||(i.state="ID");continue}}}catch(e){i.reportOrThrowError(e),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new u(u.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},e.WebVTT=n}(this,this.vttjs)},{}],107:[function(e,t,n){var i;void 0!==t&&t.exports&&(this.VTTCue=this.VTTCue||e(108).VTTCue),(i=this).VTTCue.prototype.toJSON=function(){var t={},n=this;return Object.keys(this).forEach(function(e){"getCueAsHTML"!==e&&"hasBeenReset"!==e&&"displayState"!==e&&(t[e]=n[e])}),t},i.VTTCue.create=function(e){if(!e.hasOwnProperty("startTime")||!e.hasOwnProperty("endTime")||!e.hasOwnProperty("text"))throw new Error("You must at least have start time, end time, and text.");var t=new i.VTTCue(e.startTime,e.endTime,e.text);for(var n in e)t.hasOwnProperty(n)&&(t[n]=e[n]);return t},i.VTTCue.fromJSON=function(e){return this.create(JSON.parse(e))}},{108:108}],108:[function(e,t,n){!function(e,t){var _={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};function w(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}function T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function i(e,t,n){var i=this,r=/MSIE\s8\.0/.test(navigator.userAgent),o={};r?i=document.createElement("custom"):o.enumerable=!0,i.hasBeenReset=!1;var a="",s=!1,l=e,u=t,c=n,d=null,h="",f=!0,p="auto",g="start",v=50,m="middle",y=50,b="middle";if(Object.defineProperty(i,"id",T({},o,{get:function(){return a},set:function(e){a=""+e}})),Object.defineProperty(i,"pauseOnExit",T({},o,{get:function(){return s},set:function(e){s=!!e}})),Object.defineProperty(i,"startTime",T({},o,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",T({},o,{get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",T({},o,{get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",T({},o,{get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",T({},o,{get:function(){return h},set:function(e){var t,n="string"==typeof(t=e)&&!!_[t.toLowerCase()]&&t.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");h=n,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",T({},o,{get:function(){return f},set:function(e){f=!!e,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",T({},o,{get:function(){return p},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",T({},o,{get:function(){return g},set:function(e){var t=w(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",T({},o,{get:function(){return v},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",T({},o,{get:function(){return m},set:function(e){var t=w(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",T({},o,{get:function(){return y},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",T({},o,{get:function(){return b},set:function(e){var t=w(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),i.displayState=void 0,r)return i}i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||i,t.VTTCue=i}(this,this.vttjs||{})},{}],109:[function(e,t,n){var i;void 0!==t&&t.exports&&(this.VTTRegion=e(110).VTTRegion),(i=this).VTTRegion.create=function(e){var t=new i.VTTRegion;for(var n in e)t.hasOwnProperty(n)&&(t[n]=e[n]);return t},i.VTTRegion.fromJSON=function(e){return this.create(JSON.parse(e))}},{110:110}],110:[function(e,t,n){!function(e,t){var l={"":!0,up:!0};function u(e){return"number"==typeof e&&0<=e&&e<=100}function n(){var t=100,n=3,i=0,r=100,o=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!u(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!u(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!u(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!u(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!u(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t,n="string"==typeof(t=e)&&!!l[t.toLowerCase()]&&t.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");s=n}}})}e.VTTRegion=e.VTTRegion||n,t.VTTRegion=n}(this,this.vttjs||{})},{}]},{},[93])(93)}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojsContribHls=e()}(function(){return function o(a,s,l){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,o,a,s,l)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},h=(i=e("global/window"))&&i.__esModule?i:{default:i},f=function(e,t){for(var n=e.cues,i=0;i<n.length;i++){var r=n[i];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null};n.default={updateAdCues:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(e.segments)for(var i=n,r=void 0,o=0;o<e.segments.length;o++){var a=e.segments[o];if(r||(r=f(t,i+a.duration/2)),r){if("cueIn"in a){r.endTime=i,r.adEndTime=i,i+=a.duration,r=null;continue}if(i<r.endTime){i+=a.duration;continue}r.endTime+=a.duration}else if("cueOut"in a&&((r=new h.default.VTTCue(i,i+a.duration,a.cueOut)).adStartTime=i,r.adEndTime=i+parseFloat(a.cueOut),t.addCue(r)),"cueOutCont"in a){var s,l,u=a.cueOutCont.split("/").map(parseFloat),c=d(u,2);s=c[0],l=c[1],(r=new h.default.VTTCue(i,i+a.duration,"")).adStartTime=i-s,r.adEndTime=r.adStartTime+l,t.addCue(r)}i+=a.duration}},findAdCue:f},t.exports=n.default},{"global/window":28}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},o=function(e){return 32<=e&&e<126?String.fromCharCode(e):"."},i={hexDump:function(e){for(var t=Array.prototype.slice.call(e),n="",i=0;i<t.length/16;i++)n+=t.slice(16*i,16*i+16).map(r).join("")+" "+t.slice(16*i,16*i+16).map(o).join("")+"\n";return n},tagDump:function(e){return i.hexDump(e.bytes)},textRanges:function(e){var t,n,i="",r=void 0;for(r=0;r<e.length;r++)i+=(n=r,(t=e).start(n)+"-"+t.end(n)+" ");return i},createTransferableMessage:function(n){var i={};return Object.keys(n).forEach(function(e){var t=n[e];ArrayBuffer.isView(t)?i[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[e]=t}),i}};n.default=i,t.exports=n.default},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={GOAL_BUFFER_LENGTH:30},t.exports=n.default},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o=(i=e("global/window"))&&i.__esModule?i:{default:i},a=e("aes-decrypter"),s=e("./bin-utils"),r=function(e){e.onmessage=function(e){var n=e.data,t=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),i=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),r=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new a.Decrypter(t,i,r,function(e,t){o.default.postMessage((0,s.createTransferableMessage)({source:n.source,decrypted:t}),[t.buffer])})}};n.default=function(e){return new r(e)},t.exports=n.default},{"./bin-utils":2,"aes-decrypter":21,"global/window":28}],5:[function(c,e,y){(function(e){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var t=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function n(e){return e&&e.__esModule?e:{default:e}}var d=n(c("./playlist-loader")),h=n(c("./segment-loader")),i=n(c("./ranges")),f=n("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),r=n(c("./ad-cue-tags")),p=n(c("./sync-controller")),o=c("videojs-contrib-media-sources/es5/codec-utils"),g=n(c("webworkify")),v=n(c("./decrypter-worker")),m=void 0,u=function(e){var t,n={codecCount:0,videoCodec:null,videoObjectTypeIndicator:null,audioProfile:null};return n.codecCount=e.split(",").length,n.codecCount=n.codecCount||2,(t=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(e))&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),n.audioProfile=n.audioProfile&&n.audioProfile[2],n},a=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return(0,o.translateLegacyCodecs)([e])[0]})};y.mapLegacyAvcCodecs_=a;var s=function(e,t){var n,i,r="mp2t",o={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},a=[],s=null;if(!t)return[];for(var l in t.segments&&t.segments.length&&t.segments[0].map&&(r="mp4"),(n=t.attributes||{}).CODECS&&(i=u(n.CODECS),Object.keys(i).forEach(function(e){o[e]=i[e]||o[e]})),e.mediaGroups.AUDIO&&(a=e.mediaGroups.AUDIO[n.AUDIO]),a){if(s&&!!a[l].uri!=!!s.uri)return["video/"+r+'; codecs="'+o.videoCodec+o.videoObjectTypeIndicator+", mp4a.40."+o.audioProfile+'"',"audio/"+r+'; codecs="mp4a.40.'+o.audioProfile+'"'];s=a[l]}return s&&s.uri?["video/"+r+'; codecs="'+o.videoCodec+o.videoObjectTypeIndicator+'"',"audio/"+r+'; codecs="mp4a.40.'+o.audioProfile+'"']:["video/"+r+'; codecs="'+o.videoCodec+o.videoObjectTypeIndicator+", mp4a.40."+o.audioProfile+'"']};y.mimeTypesForPlaylist_=s;var l=function(e){function c(e){var t=this;!function(e,t){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}}(Object.getPrototypeOf(c.prototype),"constructor",this).call(this);var n=e.url,i=e.withCredentials,r=e.mode,o=e.tech,a=e.bandwidth,s=e.externHls,l=e.useCueTags;if(!n)throw new Error("A non-empty playlist URL is required");m=s,this.withCredentials=i,this.tech_=o,this.hls_=o.hls,this.mode_=r,this.useCueTags_=l,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.audioTracks_=[],this.requestOptions_={withCredentials:this.withCredentials,timeout:null},this.audioGroups_={},this.mediaSource=new f.default.MediaSource({mode:r}),this.audioinfo_=null,this.mediaSource.on("audioinfo",this.handleAudioinfoUpdate_.bind(this)),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=f.default.createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new p.default,this.decrypter_=(0,g.default)(v.default);var u={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},setCurrentTime:function(e){return t.tech_.setCurrentTime(e)},hasPlayed:function(){return t.hasPlayed_()},bandwidth:a,syncController:this.syncController_,decrypter:this.decrypter_,loaderType:"main"};this.masterPlaylistLoader_=new d.default(n,this.hls_,this.withCredentials),this.setupMasterPlaylistLoaderListeners_(),this.audioPlaylistLoader_=null,this.mainSegmentLoader_=new h.default(u),u.loaderType="audio",this.audioSegmentLoader_=new h.default(u),this.decrypter_.onmessage=function(e){"main"===e.data.source?t.mainSegmentLoader_.handleDecrypted_(e.data):"audio"===e.data.source&&t.audioSegmentLoader_.handleDecrypted_(e.data)},this.setupSegmentLoaderListeners_(),this.masterPlaylistLoader_.start()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,f.default.EventTarget),t(c,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*n.masterPlaylistLoader_.targetDuration*1e3;n.masterPlaylistLoader_.isLowestEnabledRendition_()?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,e.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load()),n.fillAudioTracks_(),n.setupAudio();try{n.setupSourceBuffers_()}catch(e){return f.default.log.warn("Failed to create SourceBuffers",e),n.mediaSource.endOfStream("decode")}n.setupFirstPlay(),n.trigger("audioupdate"),n.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t,e=n.masterPlaylistLoader_.media();if(!e)return n.initialMedia_=n.selectPlaylist(),void n.masterPlaylistLoader_.media(n.initialMedia_);n.useCueTags_&&n.updateAdCues_(e),n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.updateDuration(),e.endList||(t=function(){var e=n.seekable();0!==e.length&&n.mediaSource.addSeekableRange_(e.start(0),e.end(0))},n.duration()!==1/0?n.tech_.one("durationchange",function e(){n.duration()===1/0?t():n.tech_.one("durationchange",e)}):t())}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*n.masterPlaylistLoader_.targetDuration*1e3;n.masterPlaylistLoader_.isLowestEnabledRendition_()?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load(),n.activeAudioGroup().filter(function(e){return e.enabled})[0]||(n.setupAudio(),n.trigger("audioupdate")),n.tech_.trigger({type:"mediachange",bubbles:!0})})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("progress",function(){e.masterPlaylistLoader_.media(e.selectPlaylist()),e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("error",function(){f.default.log.warn("Problem encountered with the current alternate audio track. Switching back to default."),e.audioSegmentLoader_.abort(),e.audioPlaylistLoader_=null,e.setupAudio()})}},{key:"handleAudioinfoUpdate_",value:function(e){if(!m.supportsAudioInfoChange_()&&this.audioInfo_&&function(e,t){if(typeof e!=typeof t)return!0;if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in e)if(e[n]!==t[n])return!0;return!1}(this.audioInfo_,e.info)){var t="had different audio properties (channels, sample rate, etc.) or changed in some other way.  This behavior is currently unsupported in Firefox 48 and below due to an issue: \n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1247138\n\n",n=this.activeAudioGroup().map(function(e){return e.enabled}).indexOf(!0),i=this.activeAudioGroup()[n],r=this.activeAudioGroup().filter(function(e){return e.properties_&&e.properties_.default})[0];this.audioPlaylistLoader_?(t="The audio track '"+i.label+"' that we tried to switch to "+t+" Unfortunately this means we will have to return you to the main track '"+r.label+"'. Sorry!",r.enabled=!0,this.activeAudioGroup().splice(n,1),this.trigger("audioupdate")):(t="The rendition that we tried to switch to "+t+"Unfortunately that means we will have to blacklist the current playlist and switch to another. Sorry!",this.blacklistCurrentPlaylist()),f.default.log.warn(t),this.setupAudio()}else this.audioInfo_=e.info}},{key:"mediaRequests_",value:function(){return this.audioSegmentLoader_.mediaRequests+this.mainSegmentLoader_.mediaRequests}},{key:"mediaTransferDuration_",value:function(){return this.audioSegmentLoader_.mediaTransferDuration+this.mainSegmentLoader_.mediaTransferDuration}},{key:"mediaBytesTransferred_",value:function(){return this.audioSegmentLoader_.mediaBytesTransferred+this.mainSegmentLoader_.mediaBytesTransferred}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"fillAudioTracks_",value:function(){var e=this.master().mediaGroups||{};for(var t in e&&e.AUDIO&&0!==Object.keys(e.AUDIO).length&&"html5"===this.mode_||(e.AUDIO={main:{default:{default:!0}}}),e.AUDIO)for(var n in this.audioGroups_[t]||(this.audioGroups_[t]=[]),e.AUDIO[t]){var i=e.AUDIO[t][n],r=new f.default.AudioTrack({id:n,kind:i.default?"main":"alternative",enabled:!1,language:i.language,label:n});r.properties_=i,this.audioGroups_[t].push(r)}(this.activeAudioGroup().filter(function(e){return e.properties_.default})[0]||this.activeAudioGroup()[0]).enabled=!0}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load()}},{key:"activeAudioGroup",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;return e.attributes&&e.attributes.AUDIO&&(t=this.audioGroups_[e.attributes.AUDIO]),t||this.audioGroups_.main}},{key:"setupAudio",value:function(){var t=this,e=this.activeAudioGroup(),n=e.filter(function(e){return e.enabled})[0];n||((n=e.filter(function(e){return e.properties_.default})[0]||e[0]).enabled=!0),this.audioPlaylistLoader_&&(this.audioPlaylistLoader_.dispose(),this.audioPlaylistLoader_=null),this.audioSegmentLoader_.pause(),n.properties_.resolvedUri?(this.audioSegmentLoader_.resetEverything(),this.audioPlaylistLoader_=new d.default(n.properties_.resolvedUri,this.hls_,this.withCredentials),this.audioPlaylistLoader_.start(),this.audioPlaylistLoader_.on("loadedmetadata",function(){var e=t.audioPlaylistLoader_.media();t.audioSegmentLoader_.playlist(e,t.requestOptions_),(!t.tech_.paused()||e.endList&&"none"!==t.tech_.preload())&&t.audioSegmentLoader_.load(),e.endList||t.audioPlaylistLoader_.trigger("firstplay")}),this.audioPlaylistLoader_.on("loadedplaylist",function(){var e=void 0;t.audioPlaylistLoader_&&(e=t.audioPlaylistLoader_.media()),e?t.audioSegmentLoader_.playlist(e,t.requestOptions_):t.audioPlaylistLoader_.media(t.audioPlaylistLoader_.playlists.master.playlists[0])}),this.audioPlaylistLoader_.on("error",function(){f.default.log.warn("Problem encountered loading the alternate audio track. Switching back to default."),t.audioSegmentLoader_.abort(),t.setupAudio()})):this.mainSegmentLoader_.resetEverything()}},{key:"fastQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader(),this.audiosegmentloader_&&this.audioSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=void 0,t=this.masterPlaylistLoader_.media();return!(!t||this.tech_.paused()||this.hasPlayed_()||(t.endList||(this.trigger("firstplay"),(e=this.seekable()).length&&this.tech_.setCurrentTime(e.end(0))),this.hasPlayed_=function(){return!0},this.load(),0))}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return f.default.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}this.tech_.autoplay()&&this.tech_.play(),this.trigger("sourceopen")}},{key:"blacklistCurrentPlaylist",value:function(){var e,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=void 0;return(n=t.playlist||this.masterPlaylistLoader_.media())?(n.excludeUntil=Date.now()+3e5,(e=this.selectPlaylist())?(f.default.log.warn("Problem encountered with the current HLS playlist. Switching to another playlist."),this.masterPlaylistLoader_.media(e)):(f.default.log.warn("Problem encountered with the current HLS playlist. No suitable alternatives found."),this.error=t,this.mediaSource.endOfStream("network"))):(this.error=t,this.mediaSource.endOfStream("network"))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=i.default.findRange(this.tech_.buffered(),e);if(!this.masterPlaylistLoader_||!this.masterPlaylistLoader_.media())return 0;if(!this.masterPlaylistLoader_.media().segments)return 0;var n="flash"===this.mode_||"auto"===this.mode_&&!f.default.MediaSource.supportsNativeMediaSources();if(t&&t.length&&!n)return e;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.audioPlaylistLoader_&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load())}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:m.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e,t=void 0,n=void 0;this.masterPlaylistLoader_&&(e=this.masterPlaylistLoader_.media())&&0!==(t=m.Playlist.seekable(e)).length&&(this.audioPlaylistLoader_&&0===(n=m.Playlist.seekable(this.audioPlaylistLoader_.media())).length||(n?n.start(0)>t.end(0)||t.start(0)>n.end(0)?this.seekable_=t:this.seekable_=f.default.createTimeRanges([[n.start(0)>t.start(0)?n.start(0):t.start(0),n.end(0)<t.end(0)?n.end(0):t.end(0)]]):this.seekable_=t,this.tech_.trigger("seekablechanged")))}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,n=m.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function e(){t.mediaSource.duration=n,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};0<i.length&&(n=Math.max(n,i.end(i.length-1))),e!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.audioPlaylistLoader_&&this.audioPlaylistLoader_.dispose(),this.audioSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=s(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(e[0]),e[1]&&this.audioSegmentLoader_.mimeType(e[1]),this.excludeIncompatibleVariants_(t)}}},{key:"excludeIncompatibleVariants_",value:function(e){var t=this.masterPlaylistLoader_.master,i=2,r=null,n=void 0;e.attributes&&e.attributes.CODECS&&(n=u(e.attributes.CODECS),r=n.videoCodec,i=n.codecCount),t.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};if(e.attributes&&e.attributes.CODECS){var n=e.attributes.CODECS;t=u(n),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+a(n)+'"')&&(e.excludeUntil=1/0)}t.codecCount!==i&&(e.excludeUntil=1/0),t.videoCodec!==r&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),r.default.updateAdCues(e,this.cueTagsTrack_,t)}}]),c}();y.MasterPlaylistController=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ad-cue-tags":1,"./decrypter-worker":4,"./playlist-loader":7,"./ranges":9,"./segment-loader":13,"./sync-controller":16,"videojs-contrib-media-sources/es5/codec-utils":62,webworkify:73}],6:[function(r,o,u){(function(e){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var t=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function n(e){return e&&e.__esModule?e:{default:e}}var a=n(r("./ranges")),s=n("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),l=["seeking","seeked","pause","playing","error"],i=function(){function o(e){var t=this;!function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.tech_=e.tech,this.seekable=e.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,e.debug&&(this.logger_=s.default.log.bind(s.default,"playback-watcher ->")),this.logger_("initialize");var n=function(){return t.waiting_()},i=function(){return t.cancelTimer_()},r=function(){return t.fixesBadSeeks_()};this.tech_.on("seekablechanged",r),this.tech_.on("waiting",n),this.tech_.on(l,i),this.monitorCurrentTime_(),this.dispose=function(){t.logger_("dispose"),t.tech_.off("seekablechanged",r),t.tech_.off("waiting",n),t.tech_.off(l,i),t.checkCurrentTimeTimeout_&&clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}return t(o,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime();5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.outsideOfSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Trying to seek outside of seekable at time "+t+" with seekable range "+a.default.printableRange(e)+". Seeking to "+n+"."),this.tech_.setCurrentTime(n),!0}return!1}},{key:"waiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(!(this.tech_.seeking()&&this.fixesBadSeeks_()||this.tech_.seeking()||null!==this.timer_)){if(this.fellOutOfLiveWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),void this.tech_.trigger("liveresync")}var i=this.tech_.buffered(),r=a.default.findNextRange(i,t);if(this.videoUnderflow_(r,i,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),void this.tech_.trigger("videounderflow");if(0<r.length){var o=r.start(0)-t;this.logger_("Stopped at "+t+", setting timer for "+o+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,t)}}}},{key:"outsideOfSeekableWindow_",value:function(e,t){return!!e.length&&(t<e.start(0)-.1||t>e.end(e.length-1)+.1)}},{key:"fellOutOfLiveWindow_",value:function(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0))}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var i=this.gapFromVideoUnderflow_(t,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),i=a.default.findNextRange(t,n);this.cancelTimer_(),0!==i.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+a.default.TIME_FUDGE_FACTOR))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=a.default.findGaps(e),i=0;i<n.length;i++){var r=n.start(i),o=n.end(i);if(t-r<4&&2<t-r)return{start:r,end:o}}return null}},{key:"logger_",value:function(){}}]),o}();u.default=i,o.exports=u.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ranges":9}],7:[function(r,o,a){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var h=t(r("./resolve-url")),f="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,s=r("./playlist.js"),n=t(r("./stream")),p=t(r("m3u8-parser")),g=t(r("global/window")),v=function(e,t,n){var i,r=t.slice(),o=void 0;for(n=n||0,i=Math.min(e.length,t.length+n),o=n;o<i;o++)r[o-n]=(0,f.mergeOptions)(e[o],r[o-n]);return r},i=function e(l,t,r){var o,u,n=this,c=this,i=void 0,a=void 0,d=void 0;if(e.prototype.constructor.call(this),this.hls_=t,!l)throw new Error("A non-empty playlist URL is required");o=function(e,t,n){c.setBandwidth(d||e),d=null,n&&(c.state=n),c.error={playlist:c.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:500<=e.status?4:2},c.trigger("error")},u=function(e,t){var n,i=void 0,r=void 0;c.setBandwidth(d||e),d=null,c.state="HAVE_METADATA",(i=new p.default.Parser).push(e.responseText),i.end(),i.manifest.uri=t,n=function(e,t){for(var n=!1,i=(0,f.mergeOptions)(e,{}),r=e.playlists.length,o=void 0,a=void 0,s=void 0;r--;)if((o=i.playlists[r]).uri===t.uri){if(o.segments&&t.segments&&o.segments.length===t.segments.length&&o.mediaSequence===t.mediaSequence)continue;for(i.playlists[r]=(0,f.mergeOptions)(o,t),i.playlists[t.uri]=i.playlists[r],o.segments&&(i.playlists[r].segments=v(o.segments,t.segments,t.mediaSequence-o.mediaSequence)),s=0,i.playlists[r].segments&&(s=i.playlists[r].segments.length);s--;)(a=i.playlists[r].segments[s]).resolvedUri||(a.resolvedUri=(0,h.default)(o.resolvedUri,a.uri)),a.key&&!a.key.resolvedUri&&(a.key.resolvedUri=(0,h.default)(o.resolvedUri,a.key.uri)),a.map&&!a.map.resolvedUri&&(a.map.resolvedUri=(0,h.default)(o.resolvedUri,a.map.uri));n=!0}return n?i:null}(c.master,i.manifest),r=1e3*(i.manifest.targetDuration||10),c.targetDuration=i.manifest.targetDuration,n?(c.master=n,c.media_=c.master.playlists[i.manifest.uri]):r/=2,c.media().endList||(g.default.clearTimeout(a),a=g.default.setTimeout(function(){c.trigger("mediaupdatetimeout")},r)),c.trigger("loadedplaylist")},c.state="HAVE_NOTHING",i=this.dispose,c.dispose=function(){c.stopRequest(),g.default.clearTimeout(a),i.call(this)},c.stopRequest=function(){if(d){var e=d;d=null,e.onreadystatechange=null,e.abort()}},c.enabledPlaylists_=function(){return c.master.playlists.filter(s.isEnabled).length},c.isLowestEnabledRendition_=function(){if(1===c.master.playlists.length)return!0;var n=c.media().attributes.BANDWIDTH||Number.MAX_VALUE;return 0===c.master.playlists.filter(function(e){if(!(0,s.isEnabled)(e))return!1;var t=0;return e&&e.attributes&&(t=e.attributes.BANDWIDTH),t<n}).length},c.media=function(n){var e,i=c.state;if(!n)return c.media_;if("HAVE_NOTHING"===c.state)throw new Error("Cannot switch media playlist from "+c.state);if("string"==typeof n){if(!c.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=c.master.playlists[n]}if(e=!c.media_||n.uri!==c.media_.uri,c.master.playlists[n.uri].endList)return d&&(d.onreadystatechange=null,d.abort(),d=null),c.state="HAVE_METADATA",c.media_=n,void(e&&(c.trigger("mediachanging"),c.trigger("mediachange")));if(e){if(c.state="SWITCHING_MEDIA",d){if((0,h.default)(c.master.uri,n.uri)===d.url)return;d.onreadystatechange=null,d.abort(),d=null}this.media_&&this.trigger("mediachanging"),d=this.hls_.xhr({uri:(0,h.default)(c.master.uri,n.uri),withCredentials:r},function(e,t){if(d){if(e)return o(d,n.uri,i);u(t,n.uri),"HAVE_MASTER"===i?c.trigger("loadedmetadata"):c.trigger("mediachange")}})}},c.setBandwidth=function(e){c.bandwidth=e.bandwidth},c.on("mediaupdatetimeout",function(){"HAVE_METADATA"===c.state&&(c.state="HAVE_CURRENT_METADATA",d=this.hls_.xhr({uri:(0,h.default)(c.master.uri,c.media().uri),withCredentials:r},function(e,t){if(d)return e?o(d,c.media().uri):void u(d,c.media().uri)}))}),c.on("firstplay",function(){var e=c.media();e&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0})}),c.pause=function(){c.stopRequest(),g.default.clearTimeout(a)},c.load=function(){c.started?c.media().endList?c.trigger("loadedplaylist"):c.trigger("mediaupdatetimeout"):c.start()},c.start=function(){c.started=!0,d=n.hls_.xhr({uri:l,withCredentials:r},function(e,t){var n=void 0,i=void 0,r=void 0;if(d){if(d=null,e)return c.error={status:t.status,message:"HLS playlist request error at URL: "+l,responseText:t.responseText,code:2},c.trigger("error");if((n=new p.default.Parser).push(t.responseText),n.end(),c.state="HAVE_MASTER",n.manifest.uri=l,n.manifest.playlists){for(c.master=n.manifest,r=c.master.playlists.length;r--;)i=c.master.playlists[r],(c.master.playlists[i.uri]=i).resolvedUri=(0,h.default)(c.master.uri,i.uri);for(var o in c.master.mediaGroups.AUDIO)for(var a in c.master.mediaGroups.AUDIO[o]){var s=c.master.mediaGroups.AUDIO[o][a];s.uri&&(s.resolvedUri=(0,h.default)(c.master.uri,s.uri))}return c.trigger("loadedplaylist"),void(d||c.media(n.manifest.playlists[0]))}return c.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:g.default.location.href,playlists:[{uri:l}]},c.master.playlists[l]=c.master.playlists[0],c.master.playlists[0].resolvedUri=l,u(t,l),c.trigger("loadedmetadata")}})}};i.prototype=new n.default,a.default=i,o.exports=a.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist.js":8,"./resolve-url":12,"./stream":15,"global/window":28,"m3u8-parser":29}],8:[function(v,e,m){(function(e){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var t,l="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,i=(t=v("global/window"))&&t.__esModule?t:{default:t},u={UNSAFE_LIVE_SEGMENTS:3},c=function(e,o,t){var n,i;return void 0===o&&(o=e.mediaSequence+e.segments.length),o<e.mediaSequence?0:(n=function(e,t){var n=0,i=o-e.mediaSequence,r=e.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=e.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(e)).precise?n.result:(i=function(e,t){for(var n=0,i=void 0,r=o-e.mediaSequence;r<e.segments.length;r++){if(void 0!==(i=e.segments[r]).start)return{result:i.start-n,precise:!0};if(n+=i.duration,void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}}(e)).precise?i.result:n.result+t},d=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return i.default.Infinity}return c(e,t,n)};m.duration=d;var h=function(e,t,n){var i=0;if(n<t){var r=[n,t];t=r[0],n=r[1]}if(t<0){for(var o=t;o<Math.min(0,n);o++)i+=e.targetDuration;t=0}for(o=t;o<n;o++)i+=e.segments[o].duration;return i};m.sumDurations=h;var n=function(e){if(!e||!e.segments)return(0,l.createTimeRange)();if(e.endList)return(0,l.createTimeRange)(0,d(e));var t=function(e){if(!e||!e.segments)return[null,null];for(var t=e.syncInfo||null,n=null,i=0,r=e.segments.length;i<r;i++){var o=e.segments[i];if(void 0!==o.start){n={mediaSequence:e.mediaSequence+i,time:o.start};break}}return{expiredSync:t,segmentSync:n}}(e),n=t.expiredSync,i=t.segmentSync;if(!n&&!i)return(0,l.createTimeRange)();var r=function(e,t,n){if(t&&n){var i,r=t.mediaSequence-e.mediaSequence,o=n.mediaSequence-e.mediaSequence,a=void 0;return i=Math.abs(r)>Math.abs(o)?(a=o,-n.time):(a=r,t.time),Math.abs(i+h(e,a,0))}return t?(a=t.mediaSequence-e.mediaSequence,t.time+h(e,a,0)):n?(a=n.mediaSequence-e.mediaSequence,n.time-h(e,a,0)):void 0}(e,n,i),o=r,a=Math.max(0,e.segments.length-u.UNSAFE_LIVE_SEGMENTS),s=c(e,e.mediaSequence+a,r);return(0,l.createTimeRange)(o,s)};m.seekable=n;var a=function(e){return e-Math.floor(e)==0},r=function(e,t){if(a(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),o=t*r;if(a(o)||i===n)return(o+e)/r}},f=r.bind(null,1),p=r.bind(null,-1),o=function(e,t,n,i){var r=void 0,o=void 0,a=e.segments.length,s=t-i;if(s<0){if(0<n)for(r=n-1;0<=r;r--)if(o=e.segments[r],0<(s+=p(o.duration)))return{mediaIndex:r,startTime:i-h(e,n,r)};return{mediaIndex:0,startTime:t}}if(n<0){for(r=n;r<0;r++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(r=n;r<a;r++)if(o=e.segments[r],(s-=f(o.duration))<0)return{mediaIndex:r,startTime:i+h(e,n,r)};return{mediaIndex:a-1,startTime:t}};m.getMediaInfoForTime_=o;var s=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()};m.isBlacklisted=s;var g=function(e){var t=s(e);return!e.disabled&&!t};m.isEnabled=g,u.duration=d,u.seekable=n,u.getMediaInfoForTime_=o,u.isEnabled=g,u.isBlacklisted=s,m.default=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":28}],9:[function(e,n,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t,h=(t="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null)&&t.__esModule?t:{default:t},i=function(e,t){var n=[],i=void 0;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return h.default.createTimeRanges(n)},f=function(e,t){var n=null,i=null,r=0,o=[],a=[];if(!(e&&e.length&&t&&t.length))return h.default.createTimeRange();for(var s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(o.sort(function(e,t){return e.time-t.time}),s=0;s<o.length;s++)"start"===o[s].type?2==++r&&(n=o[s].time):"end"===o[s].type&&1==--r&&(i=o[s].time),null!==n&&null!==i&&(a.push([n,i]),i=n=null);return h.default.createTimeRanges(a)};r.default={findRange:function(e,n){return i(e,function(e,t){return e-1/30<=n&&n<=t+1/30})},findNextRange:function(e,t){return i(e,function(e){return t<=e-1/30})},findGaps:function(e){if(e.length<2)return h.default.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var i=e.end(n-1),r=e.start(n);t.push([i,r])}return h.default.createTimeRanges(t)},findSoleUncommonTimeRangesEnd:function(e,t){var n=void 0,i=void 0,r=void 0,o=[],a=[],s=function(e){return e[0]<=r&&e[1]>=r};if(e)for(n=0;n<e.length;n++)i=e.start(n),r=e.end(n),a.push([i,r]);if(t)for(n=0;n<t.length;n++)i=t.start(n),r=t.end(n),a.some(s)||o.push(r);return 1!==o.length?null:o[0]},getSegmentBufferedPercent:function(e,t,n,i){var r,o,a,s,l=e+t,u=h.default.createTimeRanges([[e,l]]),c=h.default.createTimeRanges([[(r=e,o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([n,l],2),a=o[0],s=o[1],Math.min(Math.max(a,r),s)),l]]);if(c.start(0)===c.end(0))return 0;var d=function(e,t,n,i){for(var r=t.end(0)-t.start(0),o=r-(e.end(0)-e.start(0)),a=f(e,i),s=f(t,i),l=0,u=0,c=a.length;c--;)l+=a.end(c)-a.start(c),a.start(c)===n&&(l+=o);for(c=s.length;c--;)u+=s.end(c)-s.start(c);return Math.max(l,u)/r*100}(c,u,n,i);return isNaN(d)||d===1/0||d===-1/0?0:d},TIME_FUDGE_FACTOR:1/30,printableRange:function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")}},n.exports=r.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,n,i){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t,c=(t="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null)&&t.__esModule?t:{default:t},d={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}};i.default=function(e){!function t(n,e){var i=0,r=0,o=c.default.mergeOptions(d,e),a=function(){r&&n.currentTime(r)},s=function(e){null!=e&&(r=n.duration()!==1/0&&n.currentTime()||0,n.one("loadedmetadata",a),n.src(e),n.play())},l=function(){if(!(Date.now()-i<1e3*o.errorInterval)){if(o.getSource&&"function"==typeof o.getSource)return i=Date.now(),o.getSource.call(n,s);c.default.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},u=function e(){n.off("loadedmetadata",a),n.off("error",l),n.off("dispose",e)};n.on("error",l),n.on("dispose",u),n.reloadSourceOnError=function(e){u(),t(n,e)}}(this,e)},n.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("./playlist.js"),i=function n(e,t,i){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var r=e.masterPlaylistController_.fastQualityChange_.bind(e.masterPlaylistController_);if(t.attributes){var o=t.attributes;if(o.RESOLUTION){var a=o.RESOLUTION;this.width=a.width,this.height=a.height}this.bandwidth=o.BANDWIDTH}this.id=i,this.enabled=function(e,t,n,i){var r=e.master.playlists[t],o=(0,s.isBlacklisted)(r),a=(0,s.isEnabled)(r);return void 0===i?a:(i?delete r.disabled:r.disabled=!0,i===a||o||n(),i)}.bind(this,e.playlists,t.uri,r)};n.default=function(n){var e=n.playlists;n.representations=function(){return e.master.playlists.filter(function(e){return!(0,s.isBlacklisted)(e)}).map(function(e,t){return new i(n,e,e.uri)})}},t.exports=n.default},{"./playlist.js":8}],12:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e("url-toolkit")),o=i(e("global/window"));n.default=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=r.default.buildAbsoluteURL(o.default.location.href,e)),r.default.buildAbsoluteURL(e,t))},t.exports=n.default},{"global/window":28,"url-toolkit":59}],13:[function(l,u,g){(function(e){"use strict";Object.defineProperty(g,"__esModule",{value:!0});var t=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function n(e){return e&&e.__esModule?e:{default:e}}var d=l("./playlist"),c=n("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),r=n(l("./source-updater")),h=n(l("./config")),o=n(l("global/window")),a=l("./bin-utils"),s=function(e,t,n){if(!e)return!1;var i=n===e.segments.length;return e.endList&&"open"===t.readyState&&i},f=function(e){var t,n,i={};return"byterange"in e&&(i.Range=(t=e.byterange,n=t.offset+t.length-1,"bytes="+t.offset+"-"+n)),i},p=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},i=function(e){function i(e){var t=this;if(function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}}(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),!e)throw new TypeError("Initialization options are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");var n=c.default.mergeOptions(c.default.options.hls,e);this.state="INIT",this.bandwidth=n.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=n.hasPlayed,this.currentTime_=n.currentTime,this.seekable_=n.seekable,this.seeking_=n.seeking,this.setCurrentTime_=n.setCurrentTime,this.mediaSource_=n.mediaSource,this.hls_=n.hls,this.loaderType_=n.loaderType,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.xhr_=null,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=n.decrypter,this.syncController_=n.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),this.fetchAtBuffer_=!1,n.debug&&(this.logger_=c.default.log.bind(c.default,"segment-loader",this.loaderType_,"->"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,c.default.EventTarget),t(i,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.paused()||(this.state="READY",this.monitorBuffer_())):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.xhr_&&this.xhr_.abort(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.mimeType_)return this.init_();!this.sourceUpdater_||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new r.default(this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(e){var n=this.playlist_,i=this.pendingSegment_;if(this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0}),this.trigger("syncinfoupdate"),this.mimeType_&&"INIT"===this.state&&!this.paused())return this.init_();if(n&&n.uri===e.uri){var r=e.mediaSequence-n.mediaSequence;this.logger_("mediaSequenceDiff",r),null!==this.mediaIndex&&(this.mediaIndex-=r),i&&(i.mediaIndex-=r,0<=i.mediaIndex&&(i.segment=e.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(o.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e){this.mimeType_||(this.mimeType_=e,this.playlist_&&"INIT"===this.state&&!this.paused()&&this.init_())}},{key:"resetEverything",value:function(){this.resetLoader(),this.remove(0,1/0)}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null}},{key:"remove",value:function(e,t){this.sourceUpdater_&&this.sourceUpdater_.remove(e,t)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&o.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=o.default.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&o.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=o.default.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.mediaSource_.duration,this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.sourceUpdater_.buffered(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(s(this.playlist_,this.mediaSource_,e.mediaIndex)?this.mediaSource_.endOfStream():(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment),this.loadSegment_(e)))}}},{key:"checkBuffer_",value:function(e,t,n,i,r,o){var a=0,s=void 0;e.length&&(a=e.end(e.length-1));var l,u=Math.max(0,a-r);if(!t.segments.length)return null;if(u>=h.default.GOAL_BUFFER_LENGTH)return null;if(!i&&1<=u)return null;if(this.logger_("checkBuffer_","mediaIndex:",n,"hasPlayed:",i,"currentTime:",r,"syncPoint:",o,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",u),null===o)return n=this.getSyncSegmentCandidate_(t),this.logger_("getSync","mediaIndex:",n),this.generateSegmentInfo_(t,n,null,!0);if(null===n)return s=(n=this.fetchAtBuffer_?(l=(0,d.getMediaInfoForTime_)(t,a,o.segmentIndex,o.time)).mediaIndex:(l=(0,d.getMediaInfoForTime_)(t,r,o.segmentIndex,o.time)).mediaIndex,l.startTime),this.logger_("getMediaIndexForTime","mediaIndex:",n,"startOfSegment:",s),this.generateSegmentInfo_(t,n,s,!1);this.logger_("walkForward","mediaIndex:",n+1);var c=t.segments[n];return s=c&&c.end?c.end:a,this.generateSegmentInfo_(t,n+1,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,i){if(t<0||t>=e.segments.length)return null;var r=e.segments[t];return{uri:r.resolvedUri,mediaIndex:t,isSyncRequest:i,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"loadSegment_",value:function(e){var t,n,i=this,r=void 0,o=void 0,a=void 0;if(0<(n=this.trimBuffer_(e))&&this.sourceUpdater_.remove(0,n),(t=e.segment).key){var s=c.default.mergeOptions(this.xhrOptions_,{uri:t.key.resolvedUri,responseType:"arraybuffer"});r=this.hls_.xhr(s,this.handleResponse_.bind(this))}if(t.map&&!this.initSegments_[p(t.map)]){var l=c.default.mergeOptions(this.xhrOptions_,{uri:t.map.resolvedUri,responseType:"arraybuffer",headers:f(t.map)});o=this.hls_.xhr(l,this.handleResponse_.bind(this))}this.pendingSegment_=e;var u=c.default.mergeOptions(this.xhrOptions_,{uri:e.uri,responseType:"arraybuffer",headers:f(t)});(a=this.hls_.xhr(u,this.handleResponse_.bind(this))).addEventListener("progress",function(e){i.trigger(e)}),this.xhr_={keyXhr:r,initSegmentXhr:o,segmentXhr:a,abort:function(){this.segmentXhr&&(this.segmentXhr.onreadystatechange=null,this.segmentXhr.abort(),this.segmentXhr=null),this.initSegmentXhr&&(this.initSegmentXhr.onreadystatechange=null,this.initSegmentXhr.abort(),this.initSegmentXhr=null),this.keyXhr&&(this.keyXhr.onreadystatechange=null,this.keyXhr.abort(),this.keyXhr=null)}},this.state="WAITING"}},{key:"trimBuffer_",value:function(e){var t=this.seekable_(),n=this.currentTime_();return t.length&&0<t.start(0)&&t.start(0)<n?t.start(0):n-60}},{key:"handleResponse_",value:function(e,t){var n=void 0,i=void 0,r=void 0;if(this.xhr_&&(t===this.xhr_.segmentXhr||t===this.xhr_.keyXhr||t===this.xhr_.initSegmentXhr)){if(i=(n=this.pendingSegment_).segment,t.timedout)return this.abort_(),this.bandwidth=1,this.roundTrip=NaN,this.state="READY",this.trigger("progress");if(!t.aborted&&e){var o=this.xhr_.keyXhr;return this.abort_(),this.error({status:t.status,message:t===o?"HLS key request error at URL: "+i.key.uri:"HLS segment request error at URL: "+n.uri,code:2,xhr:t}),this.state="READY",this.pause(),this.trigger("error")}if(t.response){if(t===this.xhr_.segmentXhr&&(this.xhr_.segmentXhr=null,n.startOfAppend=Date.now(),this.roundTrip=t.roundTripTime,this.bandwidth=t.bandwidth,this.mediaBytesTransferred+=t.bytesReceived||0,this.mediaRequests+=1,this.mediaTransferDuration+=t.roundTripTime||0,i.key?n.encryptedBytes=new Uint8Array(t.response):n.bytes=new Uint8Array(t.response)),t===this.xhr_.keyXhr){if(this.xhr_.keyXhr=null,16!==t.response.byteLength)return this.abort_(),this.error({status:t.status,message:"Invalid HLS key at URL: "+i.key.uri,code:2,xhr:t}),this.state="READY",this.pause(),this.trigger("error");r=new DataView(t.response),i.key.bytes=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),i.key.iv=i.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence])}t===this.xhr_.initSegmentXhr&&(this.xhr_.initSegmentXhr=null,i.map.bytes=new Uint8Array(t.response),this.initSegments_[p(i.map)]=i.map),this.xhr_.segmentXhr||this.xhr_.keyXhr||this.xhr_.initSegmentXhr||(this.xhr_=null,this.processResponse_())}else this.abort_()}}},{key:"processResponse_",value:function(){if(this.pendingSegment_){this.state="DECRYPTING";var e=this.pendingSegment_,t=e.segment;t.key?this.decrypter_.postMessage((0,a.createTransferableMessage)({source:this.loaderType_,encrypted:e.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[e.encryptedBytes.buffer,t.key.bytes.buffer]):this.handleSegment_()}else this.state="READY"}},{key:"handleDecrypted_",value:function(e){var t=this.pendingSegment_,n=e.decrypted;t&&(t.bytes=new Uint8Array(n.bytes,n.byteOffset,n.byteLength)),this.handleSegment_()}},{key:"handleSegment_",value:function(){var n=this;if(this.pendingSegment_){this.state="APPENDING";var e=this.pendingSegment_,i=e.segment;if(this.syncController_.probeSegmentInfo(e),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&this.sourceUpdater_.timestampOffset(e.timestampOffset),i.map&&function(){var e=p(i.map);if(!n.activeInitSegmentId_||n.activeInitSegmentId_!==e){var t=n.initSegments_[e];n.sourceUpdater_.appendBuffer(t.bytes,function(){n.activeInitSegmentId_=e})}}(),e.byteLength=e.bytes.byteLength,"number"==typeof i.start&&"number"==typeof i.end?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration,this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(n&&this.trigger("progress"),s(e.playlist,this.mediaSource_,this.mediaIndex+1)&&this.mediaSource_.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.startOfAppend+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}},{key:"logger_",value:function(){}}]),i}();g.default=i,u.exports=g.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./playlist":8,"./source-updater":14,"global/window":28}],14:[function(e,o,a){(function(e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t,n=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),i=(t="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null)&&t.__esModule?t:{default:t},r=function(){function r(e,t){var n=this;!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var i=function(){n.sourceBuffer_=e.addSourceBuffer(t),n.onUpdateendCallback_=function(){var e=n.pendingCallback_;n.pendingCallback_=null,e&&e(),n.runCallback_()},n.sourceBuffer_.addEventListener("updateend",n.onUpdateendCallback_),n.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,"closed"===(this.mediaSource=e).readyState?e.addEventListener("sourceopen",i):i()}return n(r,[{key:"abort",value:function(e){var t=this;this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:i.default.createTimeRanges()}},{key:"duration",value:function(e){var t=this;this.queueCallback_(function(){t.sourceBuffer_.duration=e})}},{key:"remove",value:function(e,t){var n=this;this.queueCallback_(function(){n.sourceBuffer_.remove(e,t)})}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;this.sourceBuffer_&&!this.sourceBuffer_.updating&&this.callbacks_.length&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),r}();a.default=r,o.exports=a.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=function(){function n(){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.listeners={}}return i(n,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n;return!!this.listeners[e]&&(n=this.listeners[e].indexOf(t),this.listeners[e].splice(n,1),-1<n)}},{key:"trigger",value:function(e){var t=void 0,n=void 0,i=void 0,r=void 0;if(t=this.listeners[e])if(2===arguments.length)for(i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),i=t.length,n=0;n<i;++n)t[n].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),n}();n.default=r,t.exports=n.default},{}],16:[function(s,e,u){(function(e){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var t=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function n(e){return e&&e.__esModule?e:{default:e}}var r=n(s("mux.js/lib/mp4/probe")),o=s("mux.js/lib/tools/ts-inspector.js"),l=s("./playlist"),i=n("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),h=[{name:"VOD",run:function(e,t,n,i,r){return n===1/0?null:{time:0,segmentIndex:0}}},{name:"ProgramDateTime",run:function(e,t,n,i,r){return e.datetimeToDisplayTime&&t.dateTimeObject?{time:t.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,segmentIndex:0}:null}},{name:"Segment",run:function(e,t,n,i,r){var o=t.segments,a=null,s=null;r=r||0;for(var l=0;l<o.length;l++){var u=o[l];if(u.timeline===i&&void 0!==u.start){var c=Math.abs(r-u.start);if(null!==s&&s<c)break;(!a||null===s||c<=s)&&(s=c,a={time:u.start,segmentIndex:l})}}return a}},{name:"Discontinuity",run:function(e,t,n,i,r){var o=null;if(r=r||0,t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],u=t.discontinuitySequence+s+1,c=e.discontinuities[u];if(c){var d=Math.abs(r-c.time);if(null!==a&&a<d)break;(!o||null===a||d<=a)&&(a=d,o={time:c.time,segmentIndex:l})}}return o}},{name:"Playlist",run:function(e,t,n,i,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}];u.syncPointStrategies=h;var a=function(e){function n(){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,i.default.options.hls&&i.default.options.hls.debug&&(this.logger_=i.default.log.bind(i.default,"sync-controller ->"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default.EventTarget),t(n,[{key:"getSyncPoint",value:function(e,t,n,i){for(var r=[],o=0;o<h.length;o++){var a=h[o],s=a.run(this,e,t,n,i);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}),this.logger_("syncPoint found via <"+a.name+">:",s))}if(!r.length)return null;var l=r[0].syncPoint,u=Math.abs(r[0].syncPoint.time-i),c=r[0].strategy;for(o=1;o<r.length;o++){var d=Math.abs(r[o].syncPoint.time-i);d<u&&(u=d,l=r[o].syncPoint,c=r[o].strategy)}return this.logger_("syncPoint with strategy <"+c+"> chosen: ",l),l}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence-1;0<=n;n--){var i=e.segments[n];if(void 0!==i.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:i.start},this.logger_("playlist sync:",t.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.dateTimeObject){var t=e.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t;(t=e.segment.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,t)&&this.saveDiscontinuitySyncInfo_(e)}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=r.default.timescale(t.map.bytes),i=r.default.startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=i),{start:i,end:i+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=(0,o.inspect)(e.bytes,this.inspectCache_),n=void 0,i=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,i=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,i=t.audio[1].dtsTime),{start:n,end:i}):null}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,i=this.timelines[e.timeline];if(null!==e.timestampOffset)this.logger_("tsO:",e.timestampOffset),i={time:e.timestampOffset,mapping:e.timestampOffset-t.start},this.timelines[e.timeline]=i,n.start=e.timestampOffset,n.end=t.end+i.mapping;else{if(!i)return!1;n.start=t.start+i.mapping,n.end=t.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts.length)for(var i=0;i<t.discontinuityStarts.length;i++){var r=t.discontinuityStarts[i],o=t.discontinuitySequence+i+1,a=r-e.mediaIndex,s=Math.abs(a);(!this.discontinuities[o]||this.discontinuities[o].accuracy>s)&&(this.discontinuities[o]=a<0?{time:n.start-(0,l.sumDurations)(t,e.mediaIndex,r),accuracy:s}:{time:n.end+(0,l.sumDurations)(t,e.mediaIndex+1,r),accuracy:s})}}},{key:"logger_",value:function(){}}]),n}();u.default=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist":8,"mux.js/lib/mp4/probe":53,"mux.js/lib/tools/ts-inspector.js":55}],17:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null;n.default=function(){return function e(t,n){if(t=(0,o.mergeOptions)({timeout:45e3},t),e.beforeRequest&&"function"==typeof e.beforeRequest){var i=e.beforeRequest(t);i&&(t=i)}var r=(0,o.xhr)(t,function(e,t){!e&&r.response&&(r.responseTime=Date.now(),r.roundTripTime=r.responseTime-r.requestTime,r.bytesReceived=r.response.byteLength||r.response.length,r.bandwidth||(r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3))),e||r.timedout?r.timedout=r.timedout||"ETIMEDOUT"===e.code:r.timedout=!1,e||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(r&&(r.response||r.responseText)))),n(e,r)});return r.requestTime=Date.now(),r}},t.exports=n.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),d=null,r=function(){function c(e){!function(e,t){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),d||(d=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],r=n[4],o=void 0,a=void 0,s=void 0,l=[],u=[],c=void 0,d=void 0,h=void 0,f=void 0,p=void 0;for(o=0;o<256;o++)u[(l[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!i[a];a^=c||1,s=u[s]||1)for(h=(h=s^s<<1^s<<2^s<<3^s<<4)>>8^255&h^99,p=16843009*l[d=l[c=l[r[i[a]=h]=a]]]^65537*d^257*c^16843008*a,f=257*l[h]^16843008*h,o=0;o<4;o++)t[o][a]=f=f<<24^f>>>8,n[o][h]=p=p<<24^p>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e}()),this._tables=[[d[0][0].slice(),d[0][1].slice(),d[0][2].slice(),d[0][3].slice(),d[0][4].slice()],[d[1][0].slice(),d[1][1].slice(),d[1][2].slice(),d[1][3].slice(),d[1][4].slice()]];var t=void 0,n=void 0,i=void 0,r=void 0,o=void 0,a=this._tables[0][4],s=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(r=e.slice(0),o=[],this._key=[r,o],t=l;t<4*l+28;t++)i=r[t-1],(t%l==0||8===l&&t%l==4)&&(i=a[i>>>24]<<24^a[i>>16&255]<<16^a[i>>8&255]<<8^a[255&i],t%l==0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),r[t]=r[t-l]^i;for(n=0;t;n++,t--)i=r[3&n?t:t-4],o[n]=t<=4||n<4?i:s[0][a[i>>>24]]^s[1][a[i>>16&255]]^s[2][a[i>>8&255]]^s[3][a[255&i]]}return i(c,[{key:"decrypt",value:function(e,t,n,i,r,o){var a=this._key[1],s=e^a[0],l=i^a[1],u=n^a[2],c=t^a[3],d=void 0,h=void 0,f=void 0,p=a.length/4-2,g=void 0,v=4,m=this._tables[1],y=m[0],b=m[1],_=m[2],w=m[3],T=m[4];for(g=0;g<p;g++)d=y[s>>>24]^b[l>>16&255]^_[u>>8&255]^w[255&c]^a[v],h=y[l>>>24]^b[u>>16&255]^_[c>>8&255]^w[255&s]^a[v+1],f=y[u>>>24]^b[c>>16&255]^_[s>>8&255]^w[255&l]^a[v+2],c=y[c>>>24]^b[s>>16&255]^_[l>>8&255]^w[255&u]^a[v+3],v+=4,s=d,l=h,u=f;for(g=0;g<4;g++)r[(3&-g)+o]=T[s>>>24]<<24^T[l>>16&255]<<16^T[u>>8&255]<<8^T[255&c]^a[v++],d=s,s=l,l=u,u=c,c=d}}]),c}();n.default=r,t.exports=n.default},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=(i=e("./stream"))&&i.__esModule?i:{default:i},a=function(e){function n(){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,o.default),this.jobs=[],this.delay=1,this.timeout_=null}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),r(n,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),n}();n.default=a,t.exports=n.default},{"./stream":22}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var v=r(e("./aes")),u=r(e("./async-stream")),c=e("pkcs7"),m=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},o=function(e,t,n){var i=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new v.default(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),a=new Int32Array(o.buffer),s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,h=void 0,f=void 0,p=void 0,g=void 0;for(s=n[0],l=n[1],u=n[2],c=n[3],g=0;g<i.length;g+=4)d=m(i[g]),h=m(i[g+1]),f=m(i[g+2]),p=m(i[g+3]),r.decrypt(d,h,f,p,a,g),a[g]=m(a[g]^s),a[g+1]=m(a[g+1]^l),a[g+2]=m(a[g+2]^u),a[g+3]=m(a[g+3]^c),s=d,l=h,u=f,c=p;return o};n.decrypt=o;var a=function(){function l(e,t,n,i){!function(e,t){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var r=l.STEP,o=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),s=0;for(this.asyncStream_=new u.default,this.asyncStream_.push(this.decryptChunk_(o.subarray(s,s+r),t,n,a)),s=r;s<o.length;s+=r)n=new Uint32Array([m(o[s-4]),m(o[s-3]),m(o[s-2]),m(o[s-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(s,s+r),t,n,a));this.asyncStream_.push(function(){i(null,(0,c.unpad)(a))})}return i(l,[{key:"decryptChunk_",value:function(t,n,i,r){return function(){var e=o(t,n,i);r.set(e,t.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),l}();n.Decrypter=a,n.default={Decrypter:a,decrypt:o}},{"./aes":18,"./async-stream":19,pkcs7:24}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./decrypter"),o=(i=e("./async-stream"))&&i.__esModule?i:{default:i};n.default={decrypt:r.decrypt,Decrypter:r.Decrypter,AsyncStream:o.default},t.exports=n.default},{"./async-stream":19,"./decrypter":20}],22:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],23:[function(e,t,n){"use strict";var i;t.exports=function(e){var t=i[e.byteLength%16||0],n=new Uint8Array(e.byteLength+t.length);return n.set(e),n.set(t,e.byteLength),n},i=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],24:[function(e,t,n){"use strict";n.pad=e("./pad.js"),n.unpad=e("./unpad.js")},{"./pad.js":23,"./unpad.js":25}],25:[function(e,t,n){"use strict";t.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{}],26:[function(e,t,n){},{}],27:[function(r,o,e){(function(e){var t=void 0!==e?e:"undefined"!=typeof window?window:{},n=r("min-document");if("undefined"!=typeof document)o.exports=document;else{var i=t["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=t["__GLOBAL_DOCUMENT_CACHE@4"]=n),o.exports=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":26}],28:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(e,t,n){"use strict";var i=a(e("./line-stream")),r=a(e("./parse-stream")),o=a(e("./parser"));function a(e){return e&&e.__esModule?e:{default:e}}t.exports={LineStream:i.default,ParseStream:r.default,Parser:o.default}},{"./line-stream":30,"./parse-stream":31,"./parser":32}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=(i=e("./stream"))&&i.__esModule?i:{default:i},a=function(e){function n(){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.buffer="",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),r(n,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),n}();n.default=a},{"./stream":33}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=(i=e("./stream"))&&i.__esModule?i:{default:i},u=function(e){for(var t=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=t.length,r=void 0;i--;)""!==t[i]&&((r=/([^=]*)=(.*)/.exec(t[i]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),n[r[0]]=r[1]);return n},a=function(e){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),r(n,[{key:"push",value:function(e){var t=void 0,n=void 0;if(0!==(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===e[0])if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var i=u(t[1]);if(i.URI&&(n.uri=i.URI),i.BYTERANGE){var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(i.BYTERANGE.split("@"),2),o=r[0],a=r[1];n.byterange={},o&&(n.byterange.length=parseInt(o,10)),a&&(n.byterange.offset=parseInt(a,10))}}this.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=u(t[1]),n.attributes.RESOLUTION){var s=n.attributes.RESOLUTION.split("x"),l={};s[0]&&(l.width=parseInt(s[0],10)),s[1]&&(l.height=parseInt(s[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=u(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=u(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4)})}}}else this.trigger("data",{type:"comment",text:e.slice(1)});else this.trigger("data",{type:"uri",uri:e})}}]),n}();n.default=a},{"./stream":33}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=o(e("./stream")),h=o(e("./line-stream")),f=o(e("./parse-stream"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function n(){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));e.lineStream=new h.default,e.parseStream=new f.default,e.lineStream.pipe(e.parseStream);var r=e,o=[],a={},s=void 0,l=void 0,u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(t){var n=void 0,i=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&((a.byterange=e).length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&((a.byterange=e).offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<t.duration&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){t.attributes?"NONE"!==t.attributes.METHOD?t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(l.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):l=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){s={},t.uri&&(s.uri=t.uri),t.byterange&&(s.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes?(a.attributes||(a.attributes={}),d(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var e=this.manifest.mediaGroups[t.attributes.TYPE];e[t.attributes["GROUP-ID"]]=e[t.attributes["GROUP-ID"]]||{},n=e[t.attributes["GROUP-ID"]],(i={default:/yes/i.test(t.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(i.language=t.attributes.LANGUAGE),t.attributes.URI&&(i.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(i.instreamId=t.attributes["INSTREAM-ID"]),n[t.attributes.NAME]=i}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data}}[t.tagType]||function(){}).call(r)},uri:function(){a.uri=t.uri,o.push(a),!this.manifest.targetDuration||"duration"in a||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),l&&(a.key=l),a.timeline=c,s&&(a.map=s),a={}},comment:function(){}})[t.type].call(r)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.default),i(n,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),n}();n.default=a},{"./line-stream":30,"./parse-stream":31,"./stream":33}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=function(){function n(){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.listeners={}}return i(n,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),-1<n}},{key:"trigger",value:function(e){var t=this.listeners[e],n=void 0,i=void 0,r=void 0;if(t)if(2===arguments.length)for(i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),i=t.length,n=0;n<i;++n)t[n].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),n}();n.default=r},{}],34:[function(e,t,n){"use strict";var i,r=e("../utils/stream.js");(i=function(){var s=new Uint8Array,l=0;i.prototype.init.call(this),this.setTimestamp=function(e){l=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+n:10+n},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},this.push=function(e){var t,n,i,r,o=0,a=0;for(s.length?(r=s.length,(s=new Uint8Array(e.byteLength+r)).set(s.subarray(0,r)),s.set(e,r)):s=e;3<=s.length-a;)if(s[a]!=="I".charCodeAt(0)||s[a+1]!=="D".charCodeAt(0)||s[a+2]!=="3".charCodeAt(0))if(!0&s[a]&&240==(240&s[a+1])){if(s.length-a<7)break;if((o=this.parseAdtsSize(s,a))>s.length)break;i={type:"audio",data:s.subarray(a,a+o),pts:l,dts:l},this.trigger("data",i),a+=o}else a++;else{if(s.length-a<10)break;if((o=this.parseId3TagSize(s,a))>s.length)break;n={type:"timed-metadata",data:s.subarray(a,a+o)},this.trigger("data",n),a+=o}t=s.length-a,s=0<t?s.subarray(a):new Uint8Array}}).prototype=new r,t.exports=i},{"../utils/stream.js":58}],35:[function(e,t,n){"use strict";var i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],s=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};t.exports={parseId3TagSize:function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+n:10+n},parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return i[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,i;t=10,64&e[5]&&(t+=4,t+=s(e.subarray(10,14)));do{if((n=s(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){i=e.subarray(t+10,t+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(e,t,n){var i,r="";for(i=0;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r}(i,0,r)))break;var o=i.subarray(r+1),a=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return(a*=4)+(3&o[7])}}t+=10,t+=n}while(t<e.byteLength);return null}}},{}],36:[function(e,t,n){"use strict";var i,r=e("../utils/stream.js"),c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(i=function(){var u;i.prototype.init.call(this),this.push=function(e){var t,n,i,r,o,a,s=0,l=0;if("audio"===e.type)for(u?(r=u,(u=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),u.set(e.data,r.byteLength)):u=e.data;s+5<u.length;)if(255===u[s]&&240==(246&u[s+1])){if(n=2*(1&~u[s+1]),t=(3&u[s+3])<<11|u[s+4]<<3|(224&u[s+5])>>5,a=9e4*(o=1024*(1+(3&u[s+6])))/c[(60&u[s+2])>>>2],i=s+t,u.byteLength<i)return;if(this.trigger("data",{pts:e.pts+l*a,dts:e.dts+l*a,sampleCount:o,audioobjecttype:1+(u[s+2]>>>6&3),channelcount:(1&u[s+2])<<2|(192&u[s+3])>>>6,samplerate:c[(60&u[s+2])>>>2],samplingfrequencyindex:(60&u[s+2])>>>2,samplesize:16,data:u.subarray(s+7+n,i)}),u.byteLength===i)return void(u=void 0);l++,u=u.subarray(i)}else s++},this.flush=function(){this.trigger("done")}}).prototype=new r,t.exports=i},{"../utils/stream.js":58}],37:[function(e,t,n){"use strict";var l,u,_,i=e("../utils/stream.js"),w=e("../utils/exp-golomb.js");(u=function(){var n,i,r=0;u.prototype.init.call(this),this.push=function(e){var t;for(i=i?((t=new Uint8Array(i.byteLength+e.data.byteLength)).set(i),t.set(e.data,i.byteLength),t):e.data;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&this.trigger("data",i.subarray(r+3,n-2));1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}this.trigger("data",i.subarray(r+3,n-2)),r=n-2,n+=3;break;default:n+=3}i=i.subarray(r),n-=r,r=0},this.flush=function(){i&&3<i.byteLength&&this.trigger("data",i.subarray(r+3)),i=null,r=0,this.trigger("done")}}).prototype=new i,_={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(l=function(){var n,i,r,o,a,s,b,t=new u;l.prototype.init.call(this),(n=this).push=function(e){"video"===e.type&&(i=e.trackId,r=e.pts,o=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:i,pts:r,dts:o,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=a(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=a(e.subarray(1)),t.config=s(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",t)}),t.on("done",function(){n.trigger("done")}),this.flush=function(){t.flush()},b=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},a=function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=e[a];return n},s=function(e){var t,n,i,r,o,a,s,l,u,c,d,h,f,p=0,g=0,v=0,m=0,y=1;if(n=(t=new w(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),_[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==o?8:12,f=0;f<d;f++)t.readBoolean()&&b(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(a=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===a)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),s=t.readUnsignedExpGolomb(),f=0;f<s;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===(c=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:h=[1,1];break;case 2:h=[12,11];break;case 3:h=[10,11];break;case 4:h=[16,11];break;case 5:h=[40,33];break;case 6:h=[24,11];break;case 7:h=[20,11];break;case 8:h=[32,11];break;case 9:h=[80,33];break;case 10:h=[18,11];break;case 11:h=[15,11];break;case 12:h=[64,33];break;case 13:h=[160,99];break;case 14:h=[4,3];break;case 15:h=[3,2];break;case 16:h=[2,1];break;case 255:h=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}h&&(y=h[0]/h[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(l+1)-2*p-2*g)*y),height:(2-c)*(u+1)*16-2*v-2*m}}}).prototype=new i,t.exports={H264Stream:l,NalByteStream:u}},{"../utils/exp-golomb.js":57,"../utils/stream.js":58}],38:[function(e,t,n){var i,r=[33,16,5,32,164,27],o=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(e){for(var t=[];e--;)t.push(0);return t},s={96e3:[r,[227,64],a(154),[56]],88200:[r,[231],a(170),[56]],64e3:[r,[248,192],a(240),[56]],48e3:[r,[255,192],a(268),[55,148,128],a(54),[112]],44100:[r,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[r,[255,192],a(268),[55,234],a(226),[112]],24e3:[r,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[r,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[o,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[o,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[o,a(268),[3,121,16],a(47),[7]]};t.exports=(i=s,Object.keys(i).reduce(function(e,t){return e[t]=new Uint8Array(i[t].reduce(function(e,t){return e.concat(t)},[])),e},{}))},{}],39:[function(e,t,n){"use strict";var i=e("../utils/stream.js"),r=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,r.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};r.prototype=new i,r.prototype.flush=function(e){var t,n,i,r,o={tags:{},captions:[],metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?r=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(r=this.audioTrack.timelineStartInfo.pts),o.tags.videoTags=this.videoTags,o.tags.audioTags=this.audioTags,i=0;i<this.pendingCaptions.length;i++)(n=this.pendingCaptions[i]).startTime=n.startPts-r,n.startTime/=9e4,n.endTime=n.endPts-r,n.endTime/=9e4,o.captions.push(n);for(i=0;i<this.pendingMetadata.length;i++)(t=this.pendingMetadata[i]).cueTime=t.pts-r,t.cueTime/=9e4,o.metadata.push(t);o.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",o),this.trigger("done")}},t.exports=r},{"../utils/stream.js":58}],40:[function(e,t,n){"use strict";var l=e("./flv-tag.js");t.exports=function(e,t,n){var i,r,o,a=new Uint8Array(9),s=new DataView(a.buffer);return e=e||0,t=void 0===t||t,n=void 0===n||n,s.setUint8(0,70),s.setUint8(1,76),s.setUint8(2,86),s.setUint8(3,1),s.setUint8(4,(t?4:0)|(n?1:0)),s.setUint32(5,a.byteLength),e<=0?((r=new Uint8Array(a.byteLength+4)).set(a),r.set([0,0,0,0],a.byteLength)):((i=new l(l.METADATA_TAG)).pts=i.dts=0,i.writeMetaDataDouble("duration",e),o=i.finalize().length,(r=new Uint8Array(a.byteLength+o)).set(a),r.set(s.byteLength,o)),r}},{"./flv-tag.js":41}],41:[function(e,t,n){"use strict";var u;(u=function(e,n){var t,i=0,r=16384,o=function(e,t){var n,i=e.position+t;i<e.bytes.byteLength||((n=new Uint8Array(2*i)).set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},a=u.widthBytes||new Uint8Array("width".length),s=u.heightBytes||new Uint8Array("height".length),l=u.videocodecidBytes||new Uint8Array("videocodecid".length);if(!u.widthBytes){for(t=0;t<"width".length;t++)a[t]="width".charCodeAt(t);for(t=0;t<"height".length;t++)s[t]="height".charCodeAt(t);for(t=0;t<"videocodecid".length;t++)l[t]="videocodecid".charCodeAt(t);u.widthBytes=a,u.heightBytes=s,u.videocodecidBytes=l}switch(this.keyFrame=!1,e){case u.VIDEO_TAG:this.length=16,r*=6;break;case u.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case u.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(r),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=n,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var i,r=t||0;i=r+(n=n||e.byteLength),o(this,n),this.bytes.set(e.subarray(r,i),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){o(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){o(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(0<i)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===i+4?this.length-=4:0<i&&(t=i+4,n=this.length-t,this.position=i,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),i=0},this.writeMetaDataDouble=function(e,t){var n;if(o(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(a,this.position),this.position+=5;else if("height"===e)this.bytes.set(s,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(l,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(e,t){var n;for(o(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)o(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var e,t;switch(this.bytes[0]){case u.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||n?16:32),this.bytes[12]=n?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case u.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=n?0:1;break;case u.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return t=this.length-11,this.bytes[1]=(16711680&t)>>>16,this.bytes[2]=(65280&t)>>>8,this.bytes[3]=(255&t)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=u.frameTime(this.bytes),this}}).AUDIO_TAG=8,u.VIDEO_TAG=9,u.METADATA_TAG=18,u.isAudioFrame=function(e){return u.AUDIO_TAG===e[0]},u.isVideoFrame=function(e){return u.VIDEO_TAG===e[0]},u.isMetaData=function(e){return u.METADATA_TAG===e[0]},u.isKeyFrame=function(e){return u.isVideoFrame(e)?23===e[11]:!!u.isAudioFrame(e)||!!u.isMetaData(e)},u.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,(t|=e[6]<<0)|e[7]<<24},t.exports=u},{}],42:[function(e,t,n){t.exports={tag:e("./flv-tag"),Transmuxer:e("./transmuxer"),getFlvHeader:e("./flv-header")}},{"./flv-header":40,"./flv-tag":41,"./transmuxer":44}],43:[function(e,t,n){"use strict";t.exports=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})}},{}],44:[function(e,t,n){"use strict";var p,g,v,i,s,l,r=e("../utils/stream.js"),u=e("./flv-tag.js"),m=e("../m2ts/m2ts.js"),y=e("../codecs/adts.js"),b=e("../codecs/h264").H264Stream,_=e("./coalesce-stream.js"),c=e("./tag-list.js");i=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var n=new u(u.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n},l=function(e,t){var n,i=new u(u.VIDEO_TAG,!0);for(i.dts=t,i.pts=t,i.writeByte(1),i.writeByte(e.profileIdc),i.writeByte(e.profileCompatibility),i.writeByte(e.levelIdc),i.writeByte(255),i.writeByte(225),i.writeShort(e.sps[0].length),i.writeBytes(e.sps[0]),i.writeByte(e.pps.length),n=0;n<e.pps.length;++n)i.writeShort(e.pps[n].length),i.writeBytes(e.pps[n]);return i},(v=function(r){var o,a=[];v.prototype.init.call(this),this.push=function(e){i(r,e),r&&void 0===r.channelcount&&(r.audioobjecttype=e.audioobjecttype,r.channelcount=e.channelcount,r.samplerate=e.samplerate,r.samplingfrequencyindex=e.samplingfrequencyindex,r.samplesize=e.samplesize,r.extraData=r.audioobjecttype<<11|r.samplingfrequencyindex<<7|r.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),a.push(e)},this.flush=function(){var e,t,n,i=new c;if(0!==a.length){for(n=-1/0;a.length;)e=a.shift(),(r.extraData!==o||1e3<=e.pts-n)&&((t=new u(u.METADATA_TAG)).pts=e.pts,t.dts=e.dts,t.writeMetaDataDouble("audiocodecid",10),t.writeMetaDataBoolean("stereo",2===r.channelcount),t.writeMetaDataDouble("audiosamplerate",r.samplerate),t.writeMetaDataDouble("audiosamplesize",16),i.push(t.finalize()),o=r.extraData,(t=new u(u.AUDIO_TAG,!0)).pts=e.pts,t.dts=e.dts,t.view.setUint16(t.position,r.extraData),t.position+=2,t.length=Math.max(t.length,t.position),i.push(t.finalize()),n=e.pts),(t=new u(u.AUDIO_TAG)).pts=e.pts,t.dts=e.dts,t.writeBytes(e.data),i.push(t.finalize());o=null,this.trigger("data",{track:r,tags:i.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")}}).prototype=new r,(g=function(r){var o,a,n=[];g.prototype.init.call(this),this.finishFrame=function(e,t){if(t){if(o&&r&&r.newMetadata&&(t.keyFrame||0===e.length)){var n=s(o,t.dts).finalize(),i=l(r,t.dts).finalize();n.metaDataTag=i.metaDataTag=!0,e.push(n),e.push(i),r.newMetadata=!1}t.endNalUnit(),e.push(t.finalize()),a=null}},this.push=function(e){i(r,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){for(var e,t=new c;n.length&&"access_unit_delimiter_rbsp"!==n[0].nalUnitType;)n.shift();if(0!==n.length){for(;n.length;)"seq_parameter_set_rbsp"===(e=n.shift()).nalUnitType?(r.newMetadata=!0,o=e.config,r.width=o.width,r.height=o.height,r.sps=[e.data],r.profileIdc=o.profileIdc,r.levelIdc=o.levelIdc,r.profileCompatibility=o.profileCompatibility,a.endNalUnit()):"pic_parameter_set_rbsp"===e.nalUnitType?(r.newMetadata=!0,r.pps=[e.data],a.endNalUnit()):"access_unit_delimiter_rbsp"===e.nalUnitType?(a&&this.finishFrame(t,a),(a=new u(u.VIDEO_TAG)).pts=e.pts,a.dts=e.dts):("slice_layer_without_partitioning_rbsp_idr"===e.nalUnitType&&(a.keyFrame=!0),a.endNalUnit()),a.startNalUnit(),a.writeBytes(e.data);a&&this.finishFrame(t,a),this.trigger("data",{track:r,tags:t.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new r,(p=function(e){var t,n,i,r,o,a,s,l,u,c,d,h,f=this;p.prototype.init.call(this),e=e||{},this.metadataStream=new m.MetadataStream,e.metadataStream=this.metadataStream,t=new m.TransportPacketStream,n=new m.TransportParseStream,i=new m.ElementaryStream,r=new m.TimestampRolloverStream("video"),o=new m.TimestampRolloverStream("audio"),a=new m.TimestampRolloverStream("timed-metadata"),s=new y,l=new b,h=new _(e),t.pipe(n).pipe(i),i.pipe(r).pipe(l),i.pipe(o).pipe(s),i.pipe(a).pipe(this.metadataStream).pipe(h),d=new m.CaptionStream,l.pipe(d).pipe(h),i.on("data",function(e){var t,n,i;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?n=e.tracks[t]:"audio"===e.tracks[t].type&&(i=e.tracks[t]);n&&!u&&(h.numberOfTracks++,u=new g(n),l.pipe(u).pipe(h)),i&&!c&&(h.numberOfTracks++,c=new v(i),s.pipe(c).pipe(h))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},h.on("data",function(e){f.trigger("data",e)}),h.on("done",function(){f.trigger("done")})}).prototype=new r,t.exports=p},{"../codecs/adts.js":36,"../codecs/h264":37,"../m2ts/m2ts.js":46,"../utils/stream.js":58,"./coalesce-stream.js":39,"./flv-tag.js":41,"./tag-list.js":43}],45:[function(e,t,n){"use strict";var i=e("../utils/stream"),r=function(){r.prototype.init.call(this),this.captionPackets_=[],this.field1_=new l,this.field1_.on("data",this.trigger.bind(this,"data")),this.field1_.on("done",this.trigger.bind(this,"done"))};r.prototype=new i,r.prototype.push=function(e){var t,n,i;"sei_rbsp"===e.nalUnitType&&4===(t=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}t+=r,r=i=0}return n}(e.escapedRBSP)).payloadType&&(n=181!==(i=t).payload[0]?null:49!=(i.payload[1]<<8|i.payload[2])?null:"GA94"!==String.fromCharCode(i.payload[3],i.payload[4],i.payload[5],i.payload[6])?null:3!==i.payload[7]?null:i.payload.subarray(8,i.payload.length-1))&&(this.captionPackets_=this.captionPackets_.concat(function(e,t){var n,i,r,o,a=[];if(!(64&t[0]))return a;for(i=31&t[0],n=0;n<i;n++)o={type:3&t[2+(r=3*n)],pts:e},4&t[2+r]&&(o.ccData=t[3+r]<<8|t[4+r],a.push(o));return a}(e.pts,n)))},r.prototype.flush=function(){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(this.field1_.push,this.field1_),this.captionPackets_.length=0),this.field1_.flush()};var o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608},a=function(e){return null===e?"":(e=o[e]||e,String.fromCharCode(e))},s=function(){for(var e=[],t=15;t--;)e.push("");return e},l=function(){l.prototype.init.call(this),this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=s(),this.nonDisplayed_=s(),this.lastControlCode_=null,this.push=function(e){var t,n,i,r;if(0===e.type)if((t=32639&e.ccData)!==this.lastControlCode_)switch(this.lastControlCode_=4096==(61440&t)?t:null,t){case 0:break;case 5152:this.mode_="popOn";break;case 5167:this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;break;case 5157:this.topRow_=13,this.mode_="rollUp";break;case 5158:this.topRow_=12,this.mode_="rollUp";break;case 5159:this.topRow_=11,this.mode_="rollUp";break;case 5165:this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;break;case 5153:"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1);break;case 5164:this.flushDisplayed(e.pts),this.displayed_=s();break;case 5166:this.nonDisplayed_=s();break;default:if(r=255&t,16<=(i=t>>>8)&&i<=23&&64<=r&&r<=127&&(16!==i||r<96)&&(i=32,r=null),(17===i||25===i)&&48<=r&&r<=63&&(i=9834,r=""),16==(240&i))return;0===i&&(i=null),0===r&&(r=null),this[this.mode_](e.pts,i,r)}else this.lastControlCode_=null}};l.prototype=new i,l.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).filter(function(e){return e.length}).join("\n");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t})},l.prototype.popOn=function(e,t,n){var i=this.nonDisplayed_[14];i+=a(t),i+=a(n),this.nonDisplayed_[14]=i},l.prototype.rollUp=function(e,t,n){var i=this.displayed_[14];""===i&&(this.flushDisplayed(e),this.startPts_=e),i+=a(t),i+=a(n),this.displayed_[14]=i},l.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<14;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[14]=""},t.exports={CaptionStream:r,Cea608Stream:l}},{"../utils/stream":58}],46:[function(e,t,n){"use strict";var i,s,r,o=e("../utils/stream.js"),a=e("./caption-stream"),l=e("./stream-types"),u=e("./timestamp-rollover-stream").TimestampRolloverStream,c=e("./stream-types.js");(i=function(){var r=new Uint8Array(188),o=0;i.prototype.init.call(this),this.push=function(e){var t,n=0,i=188;for(o?((t=new Uint8Array(e.byteLength+o)).set(r.subarray(0,o)),t.set(e,o),o=0):t=e;i<t.byteLength;)71!==t[n]||71!==t[i]?(n++,i++):(this.trigger("data",t.subarray(n,i)),n+=188,i+=188);n<t.byteLength&&(r.set(t.subarray(n),0),o=t.byteLength-n)},this.flush=function(){188===o&&71===r[0]&&(this.trigger("data",r),o=0),this.trigger("done")}}).prototype=new o,(s=function(){var i,r,o,a;s.prototype.init.call(this),(a=this).packetsWaitingForPmt=[],this.programMapTable=void 0,i=function(e,t){var n=0;t.payloadUnitStartIndicator&&(n+=e[n]+1),"pat"===t.type?r(e.subarray(n),t):o(e.subarray(n),t)},r=function(e,t){t.section_number=e[7],t.last_section_number=e[8],a.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=a.pmtPid},o=function(e,t){var n,i;if(1&e[5]){for(a.programMapTable={},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;)a.programMapTable[(31&e[i+1])<<8|e[i+2]]=e[i],i+=5+((15&e[i+3])<<8|e[i+4]);for(t.programMapTable=a.programMapTable;a.packetsWaitingForPmt.length;)a.processPes_.apply(a,a.packetsWaitingForPmt.shift())}},this.push=function(e){var t={},n=4;t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(n+=e[n]+1),0===t.pid?(t.type="pat",i(e.subarray(n),t),this.trigger("data",t)):t.pid===this.pmtPid?(t.type="pmt",i(e.subarray(n),t),this.trigger("data",t)):void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,t]):this.processPes_(e,n,t)},this.processPes_=function(e,t,n){n.streamType=this.programMapTable[n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new o,s.STREAM_TYPES={h264:27,adts:15},(r=function(){var u=this,n={data:[],size:0},i={data:[],size:0},o={data:[],size:0},a=function(e,t){var n,i,r,o,a=new Uint8Array(e.size),s={type:t},l=0;if(e.data.length){for(s.trackId=e.data[0].pid;e.data.length;)n=e.data.shift(),a.set(n.data,l),l+=n.data.byteLength;i=a,(r=s).dataAlignmentIndicator=0!=(4&i[6]),192&(o=i[7])&&(r.pts=(14&i[9])<<27|(255&i[10])<<20|(254&i[11])<<12|(255&i[12])<<5|(254&i[13])>>>3,r.pts*=4,r.pts+=(6&i[13])>>>1,r.dts=r.pts,64&o&&(r.dts=(14&i[14])<<27|(255&i[15])<<20|(254&i[16])<<12|(255&i[17])<<5|(254&i[18])>>>3,r.dts*=4,r.dts+=(6&i[18])>>>1)),r.data=i.subarray(9+i[8]),e.size=0,u.trigger("data",s)}};r.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var e,t;switch(r.streamType){case l.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:e=n,t="video";break;case l.ADTS_STREAM_TYPE:e=i,t="audio";break;case l.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&a(e,t),e.data.push(r),e.size+=r.data.byteLength},pmt:function(){var e,t,n={type:"metadata",tracks:[]},i=r.programMapTable;for(e in i)i.hasOwnProperty(e)&&((t={timelineStartInfo:{baseMediaDecodeTime:0}}).id=+e,i[e]===c.H264_STREAM_TYPE?(t.codec="avc",t.type="video"):i[e]===c.ADTS_STREAM_TYPE&&(t.codec="adts",t.type="audio"),n.tracks.push(t));u.trigger("data",n)}})[r.type]()},this.flush=function(){a(n,"video"),a(i,"audio"),a(o,"timed-metadata"),this.trigger("done")}}).prototype=new o;var d={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:i,TransportParseStream:s,ElementaryStream:r,TimestampRolloverStream:u,CaptionStream:a.CaptionStream,Cea608Stream:a.Cea608Stream,MetadataStream:e("./metadata-stream")};for(var h in l)l.hasOwnProperty(h)&&(d[h]=l[h]);t.exports=d},{"../utils/stream.js":58,"./caption-stream":45,"./metadata-stream":47,"./stream-types":49,"./stream-types.js":49,"./timestamp-rollover-stream":50}],47:[function(e,t,n){"use strict";var i,r=e("../utils/stream"),o=e("./stream-types"),a=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},s=function(e,t,n){return decodeURIComponent(a(e,t,n))},h=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},f={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length-1);break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(a(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(i=function(e){var t,l={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},u=0,c=[],d=0;if(i.prototype.init.call(this),this.dispatchType=o.METADATA_STREAM_TYPE.toString(16),l.descriptor)for(t=0;t<l.descriptor.length;t++)this.dispatchType+=("00"+l.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,i,r,o;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(d=0,c.length=0),0===c.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))l.debug&&console.log("Skipping unrecognized metadata packet");else if(c.push(e),d+=e.data.byteLength,1===c.length&&(u=h(e.data.subarray(6,10)),u+=10),!(d<u)){for(t={data:new Uint8Array(u),frames:[],pts:c[0].pts,dts:c[0].dts},o=0;o<u;)t.data.set(c[0].data.subarray(0,u-o),o),o+=c[0].data.byteLength,d-=c[0].data.byteLength,c.shift();n=10,64&t.data[5]&&(n+=4,n+=h(t.data.subarray(10,14)),u-=h(t.data.subarray(16,20)));do{if((i=h(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((r={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+i+10)}).key=r.id,f[r.id]&&(f[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)){var a=r.data,s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;s*=4,s+=3&a[7],r.timeStamp=s,void 0===t.pts&&void 0===t.dts&&(t.pts=r.timeStamp,t.dts=r.timeStamp),this.trigger("timestamp",r)}t.frames.push(r),n+=10,n+=i}while(n<u);this.trigger("data",t)}}}).prototype=new r,t.exports=i},{"../utils/stream":58,"./stream-types":49}],48:[function(e,t,n){"use strict";var i=e("./stream-types.js"),r=function(e){var t=31&e[1];return(t<<=8)|e[2]},s=function(e){return!!(64&e[1])},l=function(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t},a=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};t.exports={parseType:function(e,t){var n=r(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=s(e),n=4+l(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=s(e),i=4+l(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r;r=3+((15&e[i+1])<<8|e[i+2])-4;for(var o=12+((15&e[i+10])<<8|e[i+11]);o<r;){var a=i+o;t[(31&e[a+1])<<8|e[a+2]]=e[a],o+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:s,parsePesType:function(e,t){switch(t[r(e)]){case i.H264_STREAM_TYPE:return"video";case i.ADTS_STREAM_TYPE:return"audio";case i.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!s(e))return null;var t,n=4+l(e),i={};return 192&(t=e[n+7])&&(i.pts=(14&e[n+9])<<27|(255&e[n+10])<<20|(254&e[n+11])<<12|(255&e[n+12])<<5|(254&e[n+13])>>>3,i.pts*=4,i.pts+=(6&e[n+13])>>>1,i.dts=i.pts,64&t&&(i.dts=(14&e[n+14])<<27|(255&e[n+15])<<20|(254&e[n+16])<<12|(255&e[n+17])<<5|(254&e[n+18])>>>3,i.dts*=4,i.dts+=(6&e[n+18])>>>1)),i},videoPacketContainsKeyFrame:function(e){for(var t=4+l(e),n=e.subarray(t),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}for(r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===a(31&n[r+3])&&(o=!0);1!==n[++i]&&i<n.length;);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===a(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&3<n.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===a(31&n[r+3])&&(o=!0),o}}},{"./stream-types.js":49}],49:[function(e,t,n){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],50:[function(e,t,n){"use strict";var i=e("../utils/stream"),r=function(e,t){var n=1;for(t<e&&(n=-1);4294967296<Math.abs(t-e);)e+=8589934592*n;return e},o=function(e){var t,n;o.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===n&&(n=e.dts),e.dts=r(e.dts,n),e.pts=r(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")}};o.prototype=new i,t.exports={TimestampRolloverStream:o,handleRollover:r}},{"../utils/stream":58}],51:[function(e,t,n){t.exports={generator:e("./mp4-generator"),Transmuxer:e("./transmuxer").Transmuxer,AudioSegmentStream:e("./transmuxer").AudioSegmentStream,VideoSegmentStream:e("./transmuxer").VideoSegmentStream}},{"./mp4-generator":52,"./transmuxer":54}],52:[function(e,t,n){"use strict";var s,i,r,o,a,l,u,c,d,h,f,p,g,v,m,y,b,_,w,T,k,S,E,C,x,O,A,P,I,D,j,R,N,M,L,F,U,B,$,H,W,V=Math.pow(2,32)-1;!function(){var e;if(E={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in E)E.hasOwnProperty(e)&&(E[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);C=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),O=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),x=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),I={video:A,audio:P},R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),j=new Uint8Array([0,0,0,0,0,0,0,0]),N=new Uint8Array([0,0,0,0,0,0,0,0]),M=N,L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),F=N,D=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),s=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},i=function(){return s(E.dinf,s(E.dref,R))},r=function(e){return s(E.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return s(E.ftyp,C,x,C,O)},y=function(e){return s(E.hdlr,I[e])},a=function(e){return s(E.mdat,e)},m=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),s(E.mdhd,t)},v=function(e){return s(E.mdia,m(e),y(e.type),u(e))},l=function(e){return s(E.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},u=function(e){return s(E.minf,"video"===e.type?s(E.vmhd,D):s(E.smhd,j),i(),_(e))},c=function(e,t){for(var n=[],i=t.length;i--;)n[i]=T(t[i]);return s.apply(null,[E.moof,l(e)].concat(n))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=p(e[t]);return s.apply(null,[E.moov,f(4294967295)].concat(n).concat(h(e)))},h=function(e){for(var t=e.length,n=[];t--;)n[t]=k(e[t]);return s.apply(null,[E.mvex].concat(n))},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(E.mvhd,t)},b=function(e){var t,n,i=e.samples||[],r=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)t=i[n].flags,r[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return s(E.sdtp,r)},_=function(e){return s(E.stbl,w(e),s(E.stts,F),s(E.stsc,M),s(E.stsz,L),s(E.stco,N))},w=function(e){return s(E.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?U(e):B(e))},U=function(e){var t,n=e.sps||[],i=e.pps||[],r=[],o=[];for(t=0;t<n.length;t++)r.push((65280&n[t].byteLength)>>>8),r.push(255&n[t].byteLength),r=r.concat(Array.prototype.slice.call(n[t]));for(t=0;t<i.length;t++)o.push((65280&i[t].byteLength)>>>8),o.push(255&i[t].byteLength),o=o.concat(Array.prototype.slice.call(i[t]));return s(E.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(E.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(r).concat([i.length]).concat(o))),s(E.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},B=function(e){return s(E.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))},g=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return s(E.tkhd,t)},T=function(e){var t,n,i,r,o,a;return t=s(E.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/(1+V)),a=Math.floor(e.baseMediaDecodeTime%(1+V)),n=s(E.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),"audio"===e.type?(i=S(e,92),s(E.traf,t,n,i)):(r=b(e),i=S(e,r.length+92),s(E.traf,t,n,i,r))},p=function(e){return e.duration=e.duration||4294967295,s(E.trak,g(e),v(e))},k=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),s(E.trex,t)},W=function(e,t){var n=0,i=0,r=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},H=function(e,t){var n,i,r,o;for(t+=20+16*(i=e.samples||[]).length,n=W(i,t),o=0;o<i.length;o++)r=i[o],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return s(E.trun,new Uint8Array(n))},$=function(e,t){var n,i,r,o;for(t+=20+8*(i=e.samples||[]).length,n=W(i,t),o=0;o<i.length;o++)r=i[o],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return s(E.trun,new Uint8Array(n))},S=function(e,t){return"audio"===e.type?$(e,t):H(e,t)},t.exports={ftyp:o,mdat:a,moof:c,moov:d,initSegment:function(e){var t,n=o(),i=d(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t}}},{}],53:[function(e,t,n){"use strict";var l,u,i,r;l=function(e,t){var n,i,r,o,a,s=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=e[n]<<24,i|=e[n+1]<<16,i|=e[n+2]<<8,i|=e[n+3],r=u(e.subarray(n+4,n+8)),o=1<i?n+i:e.byteLength,r===t[0]&&(1===t.length?s.push(e.subarray(n+8,o)):(a=l(e.subarray(n+8,o),t.slice(1))).length&&(s=s.concat(a))),n=o;return s},u=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},i=function(e){return l(e,["moov","trak"]).reduce(function(e,t){var n,i,r,o;return(n=l(t,["tkhd"])[0])?(r=n[i=0===n[0]?12:20]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3],(o=l(t,["mdia","mdhd"])[0])?(i=0===o[0]?12:20,e[r]=o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3],e):null):null},{})},r=function(r,e){var t,n,i;return t=l(e,["moof","traf"]),n=[].concat.apply([],t.map(function(i){return l(i,["tfhd"]).map(function(e){var t,n;return t=e[4]<<24|e[5]<<16|e[6]<<8|e[7],n=r[t]||9e4,(l(i,["tfdt"]).map(function(e){var t,n;return t=e[0],n=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(n*=Math.pow(2,32),n+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),n})[0]||1/0)/n})})),i=Math.min.apply(null,n),isFinite(i)?i:0},t.exports={parseType:u,timescale:i,startTime:r}},{}],54:[function(e,t,n){"use strict";var u,s,a,l,c,d,h,f,p,g,i=e("../utils/stream.js"),v=e("./mp4-generator.js"),m=e("../m2ts/m2ts.js"),y=e("../codecs/adts.js"),b=e("../codecs/h264").H264Stream,_=e("../aac"),w=e("../data/silence"),T=e("../utils/clock"),k=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],S=["width","height","profileIdc","levelIdc","profileCompatibility"];c=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},p=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},g=function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n},(s=function(r){var o=[],a=0,t=0,u=0,c=1/0;s.prototype.init.call(this),this.push=function(t){d(r,t),r&&k.forEach(function(e){r[e]=t[e]}),o.push(t)},this.setEarliestDts=function(e){t=e-r.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){c=e},this.setAudioAppendStart=function(e){u=e},this.flush=function(){var e,t,n,i;0!==o.length&&(e=this.trimAdtsFramesByEarliestDts_(o),r.baseMediaDecodeTime=f(r),this.prefixWithSilence_(r,e),r.samples=this.generateSampleTable_(e),n=v.mdat(this.concatenateFrameData_(e)),o=[],t=v.moof(a,[r]),i=new Uint8Array(t.byteLength+n.byteLength),a++,i.set(t),i.set(n,t.byteLength),h(r),this.trigger("data",{track:r,boxes:i})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var n,i,r,o,a=0,s=0,l=0;if(t.length&&(n=T.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),i=Math.ceil(9e4/(e.samplerate/1024)),u&&c&&(a=n-Math.max(u,c),l=(s=Math.floor(a/i))*i),!(s<1||45e3<l))){for((r=w[e.samplerate])||(r=t[0].data),o=0;o<s;o++)t.splice(o,0,{data:r});e.baseMediaDecodeTime-=Math.floor(T.videoTsToAudioTs(l,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return r.minSegmentDts>=t?e:(r.minSegmentDts=1/0,e.filter(function(e){return e.dts>=t&&(r.minSegmentDts=Math.min(r.minSegmentDts,e.dts),r.minSegmentPts=r.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},this.concatenateFrameData_=function(e){var t,n,i=0,r=new Uint8Array(g(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r}}).prototype=new i,(u=function(s){var t,n,a=0,l=[];u.prototype.init.call(this),delete s.minPTS,this.gopCache_=[],this.push=function(e){d(s,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,s.sps=[e.data],S.forEach(function(e){s[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,s.pps=[e.data]),l.push(e)},this.flush=function(){for(var e,t,n,i,r,o;l.length&&"access_unit_delimiter_rbsp"!==l[0].nalUnitType;)l.shift();if(0===l.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");e=this.groupNalsIntoFrames_(l),(n=this.groupFramesIntoGops_(e))[0][0].keyFrame||((t=this.getGopForFusion_(l[0],s))?(n.unshift(t),n.byteLength+=t.byteLength,n.nalCount+=t.nalCount,n.pts=t.pts,n.dts=t.dts,n.duration+=t.duration):n=this.extendFirstKeyFrame_(n)),d(s,n),s.samples=this.generateSampleTable_(n),r=v.mdat(this.concatenateNalData_(n)),this.gopCache_.unshift({gop:n.pop(),pps:s.pps,sps:s.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),l=[],s.baseMediaDecodeTime=f(s),this.trigger("baseMediaDecodeTime",s.baseMediaDecodeTime),this.trigger("timelineStartInfo",s.timelineStartInfo),i=v.moof(a,[s]),o=new Uint8Array(i.byteLength+r.byteLength),a++,o.set(i),o.set(r,i.byteLength),this.trigger("data",{track:s,boxes:o}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){h(s),n=t=void 0},this.getGopForFusion_=function(e){var t,n,i,r,o,a=1/0;for(o=0;o<this.gopCache_.length;o++)i=(r=this.gopCache_[o]).gop,s.pps&&p(s.pps[0],r.pps[0])&&s.sps&&p(s.sps[0],r.sps[0])&&(i.dts<s.timelineStartInfo.dts||-1e4<=(t=e.dts-i.dts-i.duration)&&t<=45e3&&(!n||t<a)&&(n=r,a=t));return n?n.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,n,i=[],r=[];for(t=i.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},this.groupFramesIntoGops_=function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},this.generateSampleTable_=function(e,t){var n,i,r,o,a,s=t||0,l=[];for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++)a=o[i],(r={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}).dataOffset=s,r.compositionTimeOffset=a.pts-a.dts,r.duration=a.duration,r.size=4*a.length,r.size+=a.byteLength,a.keyFrame&&(r.flags.dependsOn=2),s+=r.size,l.push(r);return l},this.concatenateNalData_=function(e){var t,n,i,r,o,a,s=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)a=o[i],d.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c}}).prototype=new i,d=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},h=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},f=function(e){var t,n=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=n,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/9e4,t=Math.floor(t)),t},(l=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,l.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new i,l.prototype.flush=function(e){var t,n,i,r,o=0,a={captions:[],metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,S.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,k.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=v.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,a.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts-s,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(a=function(e){var i,r,o=this,n=!0;a.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new m.MetadataStream,t.aacStream=new _,t.audioTimestampRolloverStream=new m.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new m.TimestampRolloverStream("timed-metadata"),t.adtsStream=new y,t.coalesceStream=new l(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(r=r||{timelineStartInfo:{baseMediaDecodeTime:o.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new s(r),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new m.MetadataStream,n.packetStream=new m.TransportPacketStream,n.parseStream=new m.TransportParseStream,n.elementaryStream=new m.ElementaryStream,n.videoTimestampRolloverStream=new m.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new m.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new m.TimestampRolloverStream("timed-metadata"),n.adtsStream=new y,n.h264Stream=new b,n.captionStream=new m.CaptionStream,n.coalesceStream=new l(e,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)i||"video"!==e.tracks[t].type?r||"audio"!==e.tracks[t].type||((r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime):(i=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime;i&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new u(i),n.videoSegmentStream.on("timelineStartInfo",function(e){r&&(r.timelineStartInfo=e,n.audioSegmentStream.setEarliestDts(e.dts))}),n.videoSegmentStream.on("baseMediaDecodeTime",function(e){r&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),r&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new s(r),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e,r&&(r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,h(r),r.timelineStartInfo.baseMediaDecodeTime=e),i&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[]),i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,h(i),i.timelineStartInfo.baseMediaDecodeTime=e)},this.setAudioAppendStart=function(e){r&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.push=function(e){if(n){var t=c(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()}}).prototype=new i,t.exports={Transmuxer:a,VideoSegmentStream:u,AudioSegmentStream:s,AUDIO_PROPERTIES:k,VIDEO_PROPERTIES:S}},{"../aac":34,"../codecs/adts.js":36,"../codecs/h264":37,"../data/silence":38,"../m2ts/m2ts.js":46,"../utils/clock":56,"../utils/stream.js":58,"./mp4-generator.js":52}],55:[function(e,t,n){"use strict";var r=e("../m2ts/stream-types.js"),o=e("../m2ts/timestamp-rollover-stream.js").handleRollover,p={};p.ts=e("../m2ts/probe.js"),p.aac=e("../aac/probe.js");var a=function(e,t,n){for(var i,r,o,a,s=0,l=188,u=!1;l<e.byteLength;)if(71!==e[s]||71!==e[l])s++,l++;else{switch(i=e.subarray(s,l),p.ts.parseType(i,t.pid)){case"pes":r=p.ts.parsePesType(i,t.table),o=p.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&((a=p.ts.parsePesTime(i)).type="audio",n.audio.push(a),u=!0)}if(u)break;s+=188,l+=188}for(s=(l=e.byteLength)-188,u=!1;0<=s;)if(71!==e[s]||71!==e[l])s--,l--;else{switch(i=e.subarray(s,l),p.ts.parseType(i,t.pid)){case"pes":r=p.ts.parsePesType(i,t.table),o=p.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&((a=p.ts.parsePesTime(i)).type="audio",n.audio.push(a),u=!0)}if(u)break;s-=188,l-=188}},s=function(e,t,n){for(var i,r,o,a,s,l,u,c=0,d=188,h=!1,f={data:[],size:0};d<e.byteLength;)if(71!==e[c]||71!==e[d])c++,d++;else{switch(i=e.subarray(c,d),p.ts.parseType(i,t.pid)){case"pes":if(r=p.ts.parsePesType(i,t.table),o=p.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(o&&!h&&((a=p.ts.parsePesTime(i)).type="video",n.video.push(a),h=!0),!n.firstKeyFrame)){if(o&&0!==f.size){for(s=new Uint8Array(f.size),l=0;f.data.length;)u=f.data.shift(),s.set(u,l),l+=u.byteLength;p.ts.videoPacketContainsKeyFrame(s)&&(n.firstKeyFrame=p.ts.parsePesTime(s),n.firstKeyFrame.type="video"),f.size=0}f.data.push(i),f.size+=i.byteLength}}if(h&&n.firstKeyFrame)break;c+=188,d+=188}for(c=(d=e.byteLength)-188,h=!1;0<=c;)if(71!==e[c]||71!==e[d])c--,d--;else{switch(i=e.subarray(c,d),p.ts.parseType(i,t.pid)){case"pes":r=p.ts.parsePesType(i,t.table),o=p.ts.parsePayloadUnitStartIndicator(i),"video"===r&&o&&((a=p.ts.parsePesTime(i)).type="video",n.video.push(a),h=!0)}if(h)break;c-=188,d-=188}};t.exports={inspect:function(e,t){var n,i;return(n=(i=e)[0]==="I".charCodeAt(0)&&i[1]==="D".charCodeAt(0)&&i[2]==="3".charCodeAt(0)?function(e){for(var t,n=!1,i=0,r=null,o=null,a=0,s=0;3<=e.length-s;){switch(p.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){n=!0;break}if((a=p.aac.parseId3TagSize(e,s))>e.length){n=!0;break}null===o&&(t=e.subarray(s,s+a),o=p.aac.parseAacTimestamp(t)),s+=a;break;case"audio":if(e.length-s<7){n=!0;break}if((a=p.aac.parseAdtsSize(e,s))>e.length){n=!0;break}null===r&&(t=e.subarray(s,s+a),r=p.aac.parseSampleRate(t)),i++,s+=a;break;default:s++}if(n)return null}if(null===r||null===o)return null;var l=9e4/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*l,pts:o+1024*i*l}]}}(e):function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,i=0,r=188;r<e.byteLength;)if(71!==e[i]||71!==e[r])i++,r++;else{switch(n=e.subarray(i,r),p.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=p.ts.parsePat(n));break;case"pmt":t.table||(t.table=p.ts.parsePmt(n))}if(t.pid&&t.table)return;i+=188,r+=188}}(e,t),t.table)if(t.table.hasOwnProperty(i))switch(t.table[i]){case r.H264_STREAM_TYPE:n.video=[],s(e,t,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],a(e,t,n),0===n.audio.length&&delete n.audio}return n}(e))&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;void 0===n&&(n=e.audio[0].dts),e.audio.forEach(function(e){e.dts=o(e.dts,n),e.pts=o(e.pts,n),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})}if(e.video&&e.video.length){var i=t;if(void 0===i&&(i=e.video[0].dts),e.video.forEach(function(e){e.dts=o(e.dts,i),e.pts=o(e.pts,i),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=o(r.dts,i),r.pts=o(r.pts,i),r.dtsTime=r.dts/9e4,r.ptsTime=r.dts/9e4}}}(n,t),n):null}}},{"../aac/probe.js":35,"../m2ts/probe.js":48,"../m2ts/stream-types.js":49,"../m2ts/timestamp-rollover-stream.js":50}],56:[function(e,t,n){var i,r,o,a,s,l;i=function(e){return 9e4*e},r=function(e,t){return e*t},o=function(e){return e/9e4},a=function(e,t){return e/t},s=function(e,t){return i(a(e,t))},l=function(e,t){return r(o(e),t)},t.exports={secondsToVideoTs:i,secondsToAudioTs:r,videoTsToSeconds:o,audioTsToSeconds:a,audioTsToVideoTs:s,videoTsToAudioTs:l}},{}],57:[function(e,t,n){"use strict";var i;i=function(i){var r=i.byteLength,o=0,a=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+a},this.loadWord=function(){var e=i.byteLength-r,t=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");t.set(i.subarray(e,e+n)),o=new DataView(t.buffer).getUint32(0),a=8*n,r-=n},this.skipBits=function(e){var t;e<a||(e-=a,e-=8*(t=Math.floor(e/8)),r-=t,this.loadWord()),o<<=e,a-=e},this.readBits=function(e){var t=Math.min(a,e),n=o>>>32-t;return 0<(a-=t)?o<<=t:0<r&&this.loadWord(),0<(t=e-t)?n<<t|this.readBits(t):n},this.skipLeadingZeros=function(){var e;for(e=0;e<a;++e)if(0!=(o&2147483648>>>e))return o<<=e,a-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=i},{}],58:[function(e,t,n){"use strict";var i=function(){this.init=function(){var o={};this.on=function(e,t){o[e]||(o[e]=[]),o[e]=o[e].concat(t)},this.off=function(e,t){var n;return!!o[e]&&(n=o[e].indexOf(t),o[e]=o[e].slice(),o[e].splice(n,1),-1<n)},this.trigger=function(e){var t,n,i,r;if(t=o[e])if(2===arguments.length)for(i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else{for(r=[],n=arguments.length,n=1;n<arguments.length;++n)r.push(arguments[n]);for(i=t.length,n=0;n<i;++n)t[n].apply(this,r)}},this.dispose=function(){o={}}}};i.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},i.prototype.push=function(e){this.trigger("data",e)},i.prototype.flush=function(e){this.trigger("done",e)},t.exports=i},{}],59:[function(e,t,n){var f;f={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var n=null,i=null,r=/^([^#]*)(.*)$/.exec(t);r&&(i=r[2],t=r[1]);var o=/^([^\?]*)(.*)$/.exec(t);o&&(n=o[2],t=o[1]);var a=/^([^#]*)(.*)$/.exec(e);a&&(e=a[1]);var s=/^([^\?]*)(.*)$/.exec(e);s&&(e=s[1]);var l=/^(([a-z]+:)?\/\/[^:\/]+(:[0-9]+)?)?(\/?.*)$/i.exec(e);if(!l)throw new Error("Error trying to parse base URL.");var u=l[2]||"",c=l[1]||"",d=l[4];0!==d.indexOf("/")&&""!==c&&(d="/"+d);var h=null;return h=/^\/\//.test(t)?u+"//"+f.buildAbsolutePath("",t.substring(2)):/^\//.test(t)?c+"/"+f.buildAbsolutePath("",t.substring(1)):f.buildAbsolutePath(c+d,t),n&&(h+=n),i&&(h+=i),h},buildAbsolutePath:function(e,t){for(var n,i,r=t,o="",a=e.replace(/[^\/]*$/,r.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),s=0;-1<(i=a.indexOf("/../",s));s=i+n)n=/^\/(?:\.\.\/)*/.exec(a.slice(i))[0].length,o=(o+a.substring(s,i)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(n-1)/3+"}$"),"/");return o+a.substr(s)}},"object"==typeof n&&"object"==typeof t?t.exports=f:"object"==typeof n?n.URLToolkit=f:this.URLToolkit=f},{}],60:[function(i,r,a){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(i("global/window")),o=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),s=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e};a.default={addTextTrackData:function(i,e,t){var a,r=n.default.WebKitDataCue||n.default.VTTCue;e&&e.forEach(function(e){this.inbandTextTrack_.addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},i),t&&(a=s(i.mediaSource_.duration),t.forEach(function(e){var i=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var t,n=new r(i,i,e.value||e.url||e.data||"");n.frame=e,n.value=e,t=n,Object.defineProperties(t.frame,{id:{get:function(){return o.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return o.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return o.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}}),this.metadataTrack_.addCue(n)},this)},i),i.metadataTrack_&&i.metadataTrack_.cues&&i.metadataTrack_.cues.length&&function(){for(var e=i.metadataTrack_.cues,t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);var r=t.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),o=Object.keys(r).sort(function(e,t){return Number(e)-Number(t)});o.forEach(function(e,t){var n=r[e],i=Number(o[t+1])||a;n.forEach(function(e){e.endTime=i})})}())},durationOfVideo:s},r.exports=a.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":28}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){for(var i=e.remoteTextTracks()||[],r=0;r<i.length;r++){var o=i[r];o.kind===t&&o.label===n&&e.removeRemoteTextTrack(o)}};n.removeExistingTrack=i,n.cleanupTextTracks=function(e){i(e,"captions","cc1"),i(e,"metadata","Timed Metadata")}},{}],62:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={isAudioCodec:function(e){return/mp4a\.\d+.\d+/i.test(e)},parseContentType:function(e){var r={type:"",parameters:{}},t=e.trim().split(";");return r.type=t.shift().trim(),t.forEach(function(e){var t=e.trim().split("=");if(1<t.length){var n=t[0].replace(/"/g,"").trim(),i=t[1].replace(/"/g,"").trim();r.parameters[n]=i}}),r},isVideoCodec:function(e){return/avc1\.[\da-f]+/i.test(e)},translateLegacyCodecs:function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})}},t.exports=n.default},{}],63:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./cleanup-text-tracks");n.default=function(e,t,n){var i=t.player_;n.captions&&n.captions.length&&!e.inbandTextTrack_&&((0,r.removeExistingTrack)(i,"captions","cc1"),e.inbandTextTrack_=i.addRemoteTextTrack({kind:"captions",label:"cc1"},!1).track),n.metadata&&n.metadata.length&&!e.metadataTrack_&&((0,r.removeExistingTrack)(i,"metadata","Timed Metadata",!0),e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)},t.exports=n.default},{"./cleanup-text-tracks":61}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768},t.exports=n.default},{}],65:[function(d,h,f){(function(e){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var t=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function n(e){return e&&e.__esModule?e:{default:e}}var i=n(d("global/document")),r=n("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),o=n(d("./flash-source-buffer")),a=n(d("./flash-constants")),s=d("./codec-utils"),l=d("./cleanup-text-tracks"),u=function(e){function n(){var t=this;!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(e){t.swfObj=i.default.getElementById(e.swfId),t.player_=(0,r.default)(t.swfObj.parentNode),t.tech_=t.swfObj.tech,t.readyState="open",t.tech_.on("seeking",function(){for(var e=t.sourceBuffers.length;e--;)t.sourceBuffers[e].abort()}),t.tech_.hls&&t.tech_.hls.on("dispose",function(){(0,l.cleanupTextTracks)(t.player_)}),t.swfObj&&t.swfObj.vjs_load()})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.default.EventTarget),t(n,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t;if("video/mp2t"!==(0,s.parseContentType)(e).type)throw new Error("NotSupportedError (Video.js)");return t=new o.default(this),this.sourceBuffers.push(t),t}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),n}();f.default=u;try{Object.defineProperty(u.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=void 0,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<n)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,n);return e}})}catch(e){u.prototype.duration=NaN}for(var c in a.default)u[c]=a.default[c];h.exports=f.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cleanup-text-tracks":61,"./codec-utils":62,"./flash-constants":64,"./flash-source-buffer":66,"global/document":27}],66:[function(v,m,y){(function(e){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var t=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function n(e){return e&&e.__esModule?e:{default:e}}var s=n(v("global/window")),o=n("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),a=n(v("mux.js/lib/flv")),l=n(v("./remove-cues-from-track")),i=n(v("./create-text-tracks-if-necessary")),u=v("./add-text-track-data"),c=n(v("./flash-transmuxer-worker")),d=n(v("webworkify")),h=n(v("./flash-constants")),f=function(e){s.default.setTimeout(e,h.default.TIME_BETWEEN_CHUNKS)},p=function(){return Math.random().toString(36).slice(2,8)},g=function(e,t){("number"!=typeof t||t<0)&&(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n},r=function(e){function r(e){var t,n=this;!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}}(Object.getPrototypeOf(r.prototype),"constructor",this).call(this),this.chunkSize_=h.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=e,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,t=s.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(a.default.getFlvHeader())));var i=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+i+p(),this.flashEncodedDataName_="vjs_flashEncodedData_"+i+p(),s.default[this.flashEncodedHeaderName_]=function(){return delete s.default[n.flashEncodedHeaderName_],t},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,d.default)(c.default),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&n.receiveBuffer_(e.data.segment)},this.one("updateend",function(){n.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return o.default.createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=g(e[0][0],3),e[0][1]=g(e[0][1],3)),o.default.createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",function(){(0,l.default)(0,1/0,n.metadataTrack_),(0,l.default)(0,1/0,n.inbandTextTrack_)}),this.mediaSource_.player_.tech_.hls.on("dispose",function(){n.transmuxer_.terminate()})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,o.default.EventTarget),t(r,[{key:"appendBuffer",value:function(e){var t=void 0;if(this.updating)throw(t=new Error("SourceBuffer.append() cannot be called while an update is in progress")).name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){(0,l.default)(e,t,this.metadataTrack_),(0,l.default)(e,t,this.inbandTextTrack_),this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(t){var n=this;(0,i.default)(this,this.mediaSource_,t),(0,u.addTextTrackData)(this,t.captions,t.metadata),f(function(){var e=n.convertTagsToData_(t);0===n.buffer_.length&&f(n.processBuffer_.bind(n)),e&&(n.buffer_.push(e),n.bufferSize_+=e.byteLength)})}},{key:"processBuffer_",value:function(){var e=this,t=h.default.BYTES_PER_CHUNK;if(this.buffer_.length){var n=this.buffer_[0].subarray(0,t);n.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=n.byteLength;for(var i=[],r=n.byteLength,o=0;o<r;o++)i.push(String.fromCharCode(n[o]));var a=s.default.btoa(i.join(""));s.default[this.flashEncodedDataName_]=function(){return f(e.processBuffer_.bind(e)),delete s.default[e.flashEncodedDataName_],a},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(e){var t=0,n=this.mediaSource_.tech_,i=0,r=void 0,o=e.tags.videoTags,a=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(o.length||a.length)){var s=o[0]||{pts:1/0},l=a[0]||{pts:1/0};this.basePtsOffset_=Math.min(l.pts,s.pts)}n.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(n.buffered().length&&(i=n.buffered().end(0)-this.timestampOffset),n.seeking()&&(i=Math.max(i,n.currentTime()-this.timestampOffset)),i*=1e3,i+=this.basePtsOffset_):i=this.videoBufferEnd_+.1;var u=o.length;if(u&&o[u-1].pts>=i){for(;--u;){var c=o[u];if(!(c.pts>i)&&(c.keyFrame||c.metaDataTag))break}for(;u&&o[u-1].metaDataTag;)u--}var d=o.slice(u),h=void 0;for(h=isNaN(this.audioBufferEnd_)?i:this.audioBufferEnd_+.1,d.length&&(h=Math.min(h,d[0].pts)),u=0;u<a.length&&!(a[u].pts>=h);)u++;var f=a.slice(u);f.length&&(this.audioBufferEnd_=f[f.length-1].pts),d.length&&(this.videoBufferEnd_=d[d.length-1].pts);var p=this.getOrderedTags_(d,f);if(0!==p.length){if(p[0].pts<i&&n.seeking()){var g=n.currentTime()-(i-p[0].pts)/1e3;g<1/30&&(g=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(g)}catch(e){}}for(var v=0;v<p.length;v++)t+=p[v].bytes.byteLength;r=new Uint8Array(t);for(var m=v=0;v<p.length;v++)r.set(p[v].bytes,m),m+=p[v].bytes.byteLength;return r}}},{key:"getOrderedTags_",value:function(e,t){for(var n=void 0,i=[];e.length||t.length;)n=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),i.push(n);return i}}]),r}();y.default=r,m.exports=y.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":60,"./create-text-tracks-if-necessary":63,"./flash-constants":64,"./flash-transmuxer-worker":67,"./remove-cues-from-track":69,"global/window":28,"mux.js/lib/flv":42,webworkify:73}],67:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var o=r(e("global/window")),a=r(e("mux.js/lib/flv")),s=function(){function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.options=e||{},this.init()}return i(n,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new a.default.Transmuxer(this.options),(e=this.transmuxer).on("data",function(e){o.default.postMessage({action:"data",segment:e})}),e.on("done",function(e){o.default.postMessage({action:"done"})})}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}}]),n}(),l=function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new s(e.data.options):(this.messageHandlers||(this.messageHandlers=new s),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};n.default=function(e){return new l(e)},t.exports=n.default},{"global/window":28,"mux.js/lib/flv":42}],68:[function(d,h,f){(function(e){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var t=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function n(e){return e&&e.__esModule?e:{default:e}}var i=n(d("global/window")),r=n(d("global/document")),a=n("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),o=n(d("./virtual-source-buffer")),s=d("./add-text-track-data"),l=d("./codec-utils"),u=d("./cleanup-text-tracks"),c=function(e){function n(){var o=this;!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this);var e=void 0;for(e in this.nativeMediaSource_=new i.default.MediaSource,this.nativeMediaSource_)e in n.prototype||"function"!=typeof this.nativeMediaSource_[e]||(this[e]=this.nativeMediaSource_[e].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){(this.duration_=e)===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?a.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){o.activeSourceBuffers_.length=0;for(var t=!1,n=!0,e=0;e<o.player_.audioTracks().length;e++){var i=o.player_.audioTracks()[e];if(i.enabled&&"main"!==i.kind){n=!(t=!0);break}}o.sourceBuffers.forEach(function(e){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=t;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=n))return;o.activeSourceBuffers_.push(e)})},this.onPlayerMediachange_=function(){o.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(e){var t=r.default.querySelector('[src="'+o.url_+'"]');t&&(o.player_=(0,a.default)(t.parentNode),o.player_.audioTracks&&o.player_.audioTracks()&&(o.player_.audioTracks().on("change",o.updateActiveSourceBuffers_),o.player_.audioTracks().on("addtrack",o.updateActiveSourceBuffers_),o.player_.audioTracks().on("removetrack",o.updateActiveSourceBuffers_)),o.player_.on("mediachange",o.onPlayerMediachange_))}),this.on("sourceended",function(e){for(var t=(0,s.durationOfVideo)(o.duration),n=0;n<o.sourceBuffers.length;n++){var i=o.sourceBuffers[n],r=i.metadataTrack_&&i.metadataTrack_.cues;r&&r.length&&(r[r.length-1].endTime=t)}}),this.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&((0,u.cleanupTextTracks)(this.player_),this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_))})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default.EventTarget),t(n,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=(0,l.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=(i=(0,l.translateLegacyCodecs)(i)).filter(function(e){return(0,l.isAudioCodec)(e)||(0,l.isVideoCodec)(e)})),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),t=new o.default(this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),n}();f.default=c,h.exports=f.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":60,"./cleanup-text-tracks":61,"./codec-utils":62,"./virtual-source-buffer":72,"global/document":27,"global/window":28}],69:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var i=void 0,r=void 0;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime<=t&&r.endTime>=e&&n.removeCue(r)},t.exports=n.default},{}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var o=r(e("global/window")),a=r(e("mux.js/lib/mp4")),s=function(){function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.options=e||{},this.init()}return i(n,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new a.default.Transmuxer(this.options),(e=this.transmuxer).on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var n=e.data;e.data=n.buffer,o.default.postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){o.default.postMessage({action:"caption",data:e})}),e.on("done",function(e){o.default.postMessage({action:"done"})})}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}}]),n}(),l=function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new s(e.data.options):(this.messageHandlers||(this.messageHandlers=new s),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};n.default=function(e){return new l(e)},t.exports=n.default},{"global/window":28,"mux.js/lib/mp4":51}],71:[function(h,e,f){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(f,"__esModule",{value:!0});var n=t(h("global/window")),i=t(h("./flash-media-source")),r=t(h("./html-media-source")),o=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),a=0,s={mode:"auto"};o.default.mediaSources={};var l=function(e,t){var n=o.default.mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},u=function(){return!!n.default.MediaSource&&!!n.default.MediaSource.isTypeSupported&&n.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},c=function(e){var t=o.default.mergeOptions(s,e);if(this.MediaSource={open:l,supportsNativeMediaSources:u},"html5"===t.mode||"auto"===t.mode&&u())return new r.default;if(o.default.getTech("Flash"))return new i.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};(f.MediaSource=c).open=l,c.supportsNativeMediaSources=u;var d={createObjectURL:function(e){var t=void 0;return e instanceof r.default?(t=n.default.URL.createObjectURL(e.nativeMediaSource_),e.url_=t):e instanceof i.default?(t="blob:vjs-media-source/"+a,a++,o.default.mediaSources[t]=e,t):(t=n.default.URL.createObjectURL(e),e.url_=t)}};f.URL=d,o.default.MediaSource=c,o.default.URL=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./flash-media-source":65,"./html-media-source":68,"global/window":28}],72:[function(d,h,f){(function(e){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var t=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function n(e){return e&&e.__esModule?e:{default:e}}var l=n("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),r=n(d("./create-text-tracks-if-necessary")),o=n(d("./remove-cues-from-track")),a=d("./add-text-track-data"),s=n(d("webworkify")),u=n(d("./transmuxer-worker")),c=d("./codec-utils"),i=function(e){function i(e,t){var n=this;!function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}}(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,l.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=t,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.codecs_.forEach(function(e){(0,c.isAudioCodec)(e)?n.audioCodec_=e:(0,c.isVideoCodec)(e)&&(n.videoCodec_=e)}),this.transmuxer_=(0,s.default)(u.default),this.transmuxer_.postMessage({action:"init",options:{remux:!1}}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?n.data_(e):"done"===e.data.action?n.done_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,n=0,i=[],r=[];if(!this.videoBuffer_&&!this.audioBuffer_)return l.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return l.default.createTimeRange();for(var o=this.videoBuffer_.buffered,a=this.audioBuffer_.buffered,s=o.length;s--;)i.push({time:o.start(s),type:"start"}),i.push({time:o.end(s),type:"end"});for(s=a.length;s--;)i.push({time:a.start(s),type:"start"}),i.push({time:a.end(s),type:"end"});for(i.sort(function(e,t){return e.time-t.time}),s=0;s<i.length;s++)"start"===i[s].type?2==++n&&(e=i[s].time):"end"===i[s].type&&1==--n&&(t=i[s].time),null!==e&&null!==t&&(r.push([e,t]),t=e=null);return l.default.createTimeRanges(r)}})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,l.default.EventTarget),t(i,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,r.default)(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var i=this,r=["audio","video"];r.forEach(function(t){if(i[t+"Codec_"]&&!i[t+"Buffer_"]){var n=null;i.mediaSource_[t+"Buffer_"]?n=i.mediaSource_[t+"Buffer_"]:(n=i.mediaSource_.nativeMediaSource_.addSourceBuffer(t+'/mp4;codecs="'+i[t+"Codec_"]+'"'),i.mediaSource_[t+"Buffer_"]=n),i[t+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(e){n.addEventListener(e,function(){if("audio"!==t||!i.audioDisabled_)return r.every(function(e){return!("audio"!==e||!i.audioDisabled_)||t===e||!i[e+"Buffer_"]||!i[e+"Buffer_"].updating})?i.trigger(e):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"remove",value:function(e,t){this.videoBuffer_&&this.videoBuffer_.remove(e,t),this.audioBuffer_&&this.audioBuffer_.remove(e,t),(0,o.default)(e,t,this.metadataTrack_),(0,o.default)(e,t,this.inbandTextTrack_)}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,i=t.data,r=t.initSegment;return e[n].segments.push(i),e[n].bytes+=i.byteLength,e[n].initSegment=r,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1),this.videoBuffer_&&(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,a.addTextTrackData)(this,e.captions,e.metadata)),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,i=void 0;if(e.bytes){i=new Uint8Array(e.bytes),e.segments.forEach(function(e){i.set(e,n),n+=e.byteLength});try{t.appendBuffer(i)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),i}();f.default=i,h.exports=f.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":60,"./codec-utils":62,"./create-text-tracks-if-necessary":63,"./remove-cues-from-track":69,"./transmuxer-worker":70,webworkify:73}],73:[function(e,t,n){var d=arguments[3],h=arguments[4],f=arguments[5],p=JSON.stringify;t.exports=function(e){for(var t,n=Object.keys(f),i=0,r=n.length;i<r;i++){var o=n[i];if(f[o].exports===e){t=o;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var a={};for(i=0,r=n.length;i<r;i++)a[o=n[i]]=o;h[t]=[Function(["require","module","exports"],"("+e+")(self)"),a]}var s=Math.floor(Math.pow(16,8)*Math.random()).toString(16),l={};l[t]=t,h[s]=[Function(["require"],"require("+p(t)+")(self)"),l];var u="("+d+")({"+Object.keys(h).map(function(e){return p(e)+":["+h[e][0]+","+p(h[e][1])+"]"}).join(",")+"},{},["+p(s)+"])",c=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(c.createObjectURL(new Blob([u],{type:"text/javascript"})))}},{}],74:[function(A,P,e){(function(e){"use strict";var t=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}};function n(e){return e&&e.__esModule?e:{default:e}}var s=n(A("global/document")),i=n(A("./playlist-loader")),h=n(A("./playlist")),o=n(A("./xhr")),r=A("aes-decrypter"),l=n(A("./bin-utils")),u=A("videojs-contrib-media-sources"),c=n(A("m3u8-parser")),d=n("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),f=A("./master-playlist-controller"),p=n(A("./config")),g=n(A("./rendition-mixin")),v=n(A("global/window")),m=n(A("./playback-watcher")),y=n(A("./reload-source-on-error")),b={PlaylistLoader:i.default,Playlist:h.default,Decrypter:r.Decrypter,AsyncStream:r.AsyncStream,decrypt:r.decrypt,utils:l.default,xhr:(0,o.default)()};Object.defineProperty(b,"GOAL_BUFFER_LENGTH",{get:function(){return d.default.log.warn("using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure you know what you are doing"),p.default.GOAL_BUFFER_LENGTH},set:function(e){d.default.log.warn("using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<=0?d.default.log.warn("value passed to Hls.GOAL_BUFFER_LENGTH must be a number and greater than 0"):p.default.GOAL_BUFFER_LENGTH=e}});var _,w=function(e,t){var n;return e&&(n=v.default.getComputedStyle(e))?n[t]:""},T=function(e,t){for(var n=t.media(),i=-1,r=0;r<e.length;r++)if(e[r].id===n.uri){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})},k=function(e,i){var r=e.slice();e.sort(function(e,t){var n=i(e,t);return 0===n?r.indexOf(e)-r.indexOf(t):n})};b.STANDARD_PLAYLIST_SELECTOR=function(){var e,t,n,i,r,o=this.playlists.master.playlists.slice(),a=[],s=void 0,l=void 0,u=[],c=[],d=[];return k(o,b.comparePlaylistBandwidth),o=o.filter(h.default.isEnabled),r=this.systemBandwidth,e=(a=o.filter(function(e){return e.attributes&&e.attributes.BANDWIDTH&&1.2*e.attributes.BANDWIDTH<r})).filter(function(e){return e.attributes.BANDWIDTH===a[a.length-1].attributes.BANDWIDTH})[0],k(a,b.comparePlaylistResolution),n=parseInt(w(this.tech_.el(),"width"),10),i=parseInt(w(this.tech_.el(),"height"),10),l=a.filter(function(e){return e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&e.attributes.RESOLUTION.height}),(t=(d=l.filter(function(e){return e.attributes.RESOLUTION.width===n&&e.attributes.RESOLUTION.height===i})).filter(function(e){return e.attributes.BANDWIDTH===d[d.length-1].attributes.BANDWIDTH})[0])||(u=l.filter(function(e){return e.attributes.RESOLUTION.width>n||e.attributes.RESOLUTION.height>i}),s=(c=u.filter(function(e){return e.attributes.RESOLUTION.width===u[0].attributes.RESOLUTION.width&&e.attributes.RESOLUTION.height===u[0].attributes.RESOLUTION.height})).filter(function(e){return e.attributes.BANDWIDTH===c[c.length-1].attributes.BANDWIDTH})[0]),s||t||e||o[0]},b.canPlaySource=function(){return d.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},b.supportsNativeHls=(_=s.default.createElement("video"),!!d.default.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(_.canPlayType(e))})),b.isSupported=function(){return d.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var S=v.default.navigator&&v.default.navigator.userAgent||"";b.supportsAudioInfoChange_=function(){if(d.default.browser.IS_FIREFOX){var e=/Firefox\/([\d.]+)/i.exec(S);return 49<=parseInt(e[1],10)}return!0};var E=d.default.getComponent("Component"),C=function(e){function o(e,t,n){var i=this;if(function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),a(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,t),t.options_&&t.options_.playerId){var r=(0,d.default)(t.options_.playerId);r.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return d.default.log.warn("player.hls is deprecated. Use player.tech_.hls instead."),i}})}if(d.default.options.hls.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.options_=d.default.mergeOptions(d.default.options.hls||{},n.hls),this.setOptions_(),this.on(s.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=s.default.fullscreenElement||s.default.webkitFullscreenElement||s.default.mozFullScreenElement||s.default.msFullscreenElement;t&&t.contains(i.tech_.el())&&i.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.audioTrackChange_=function(){i.masterPlaylistController_.setupAudio()},this.on(this.tech_,"play",this.play)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,E),t(o,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),["withCredentials","bandwidth"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e){var t=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=b,this.masterPlaylistController_=new f.MasterPlaylistController(this.options_),this.playbackWatcher_=new m.default(d.default.mergeOptions(this.options_,{seekable:function(){return t.seekable()}})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):b.STANDARD_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=0<this.throughput?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){d.default.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return t.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return t.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return t.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return t.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return t.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("sourceopen",function(){t.tech_.audioTracks().addEventListener("change",t.audioTrackChange_)}),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,g.default)(t)}),this.masterPlaylistController_.on("audioupdate",function(){t.tech_.clearTracks("audio"),t.masterPlaylistController_.activeAudioGroup().forEach(function(e){t.tech_.audioTracks().addTrack(e)})}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return t.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(d.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var n=this,e=d.default.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,e;t=n.qualityLevels_,(e=n).representations().forEach(function(e){t.addQualityLevel(e)}),T(t,e.playlists)}),this.playlists.on("mediachange",function(){T(n.qualityLevels_,n.playlists)}))}},{key:"activeAudioGroup_",value:function(){return this.masterPlaylistController_.activeAudioGroup()}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_.audioTracks().removeEventListener("change",this.audioTrackChange_),a(Object.getPrototypeOf(o.prototype),"dispose",this).call(this)}}]),o}(),x=function t(r){return{canHandleSource:function(e){return(!d.default.options.hls||!d.default.options.hls.mode||d.default.options.hls.mode===r)&&t.canPlayType(e.type)},handleSource:function(e,t,n){"flash"===r&&t.setTimeout(function(){t.trigger("loadstart")},1);var i=d.default.mergeOptions(n,{hls:{mode:r}});return t.hls=new C(e,t,i),t.hls.xhr=(0,o.default)(),d.default.Hls.xhr.beforeRequest&&(t.hls.xhr.beforeRequest=d.default.Hls.xhr.beforeRequest),t.hls.src(e.src),t.hls},canPlayType:function(e){return t.canPlayType(e)?"maybe":""}}};b.comparePlaylistBandwidth=function(e,t){var n=void 0,i=void 0;return e.attributes&&e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||v.default.Number.MAX_VALUE,t.attributes&&t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),n-(i||v.default.Number.MAX_VALUE)},b.comparePlaylistResolution=function(e,t){var n=void 0,i=void 0;return e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||v.default.Number.MAX_VALUE,t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),n===(i=i||v.default.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},x.canPlayType=function(e){return!(d.default.browser.IE_VERSION&&d.default.browser.IE_VERSION<=10)&&(!(!d.default.options.hls.overrideNative&&b.supportsNativeHls)&&/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e))},void 0!==d.default.MediaSource&&void 0!==d.default.URL||(d.default.MediaSource=u.MediaSource,d.default.URL=u.URL);var O=d.default.getTech("Flash");u.MediaSource.supportsNativeMediaSources()&&d.default.getTech("Html5").registerSourceHandler(x("html5"),0),v.default.Uint8Array&&O&&O.registerSourceHandler(x("flash")),d.default.HlsHandler=C,d.default.HlsSourceHandler=x,d.default.Hls=b,d.default.use||d.default.registerComponent("Hls",b),d.default.m3u8=c.default,d.default.options.hls=d.default.options.hls||{},d.default.registerPlugin?d.default.registerPlugin("reloadSourceOnError",y.default):d.default.plugin("reloadSourceOnError",y.default),P.exports={Hls:b,HlsHandler:C,HlsSourceHandler:x}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./master-playlist-controller":5,"./playback-watcher":6,"./playlist":8,"./playlist-loader":7,"./reload-source-on-error":10,"./rendition-mixin":11,"./xhr":17,"aes-decrypter":21,"global/document":27,"global/window":28,"m3u8-parser":29,"videojs-contrib-media-sources":71}]},{},[74])(74)}),void 0===window.HTMLVideoElement&&(document.createElement("video"),document.createElement("audio"),document.createElement("track")),function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){var h,f,s=Array,e=s.prototype,l=Object,t=l.prototype,n=Function.prototype,m=String,i=m.prototype,y=Number,r=y.prototype,u=e.slice,o=e.splice,p=e.push,a=e.unshift,c=e.concat,d=n.call,g=n.apply,v=Math.max,b=Math.min,_=t.toString,w="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,T=Function.prototype.toString;h=function(e){if("function"!=typeof e)return!1;if(w)return function(e){try{return T.call(e),!0}catch(e){return!1}}(e);var t=_.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t};var k,S=RegExp.prototype.exec;f=function(e){return"object"==typeof e&&(w?function(e){try{return S.call(e),!0}catch(e){return!1}}(e):"[object RegExp]"===_.call(e))};var E=String.prototype.valueOf;k=function(e){return"string"==typeof e||"object"==typeof e&&(w?function(e){try{return E.call(e),!0}catch(e){return!1}}(e):"[object String]"===_.call(e))};var C,x,O=l.defineProperty&&function(){try{var e={};for(var t in l.defineProperty(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),A=(C=t.hasOwnProperty,x=O?function(e,t,n,i){!i&&t in e||l.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,i){!i&&t in e||(e[t]=n)},function(e,t,n){for(var i in t)C.call(t,i)&&x(e,i,t[i],n)}),P=function(e){var t=typeof e;return null===e||"object"!=t&&"function"!=t},I=y.isNaN||function(e){return e!=e},D=function(e){var t=+e;return I(t)?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(0<t||-1)*Math.floor(Math.abs(t))),t},j=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return l(e)},R=function(e){return e>>>0},N=function(){};A(n,{bind:function(t){var n=this;if(!h(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i,r=u.call(arguments,1),e=v(0,n.length-r.length),o=[],a=0;a<e;a++)p.call(o,"$"+a);return i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof i){var e=n.apply(this,c.call(r,u.call(arguments)));return l(e)===e?e:this}return n.apply(t,c.call(r,u.call(arguments)))}),n.prototype&&(N.prototype=n.prototype,i.prototype=new N,N.prototype=null),i}});var M=d.bind(t.hasOwnProperty),L=d.bind(t.toString),F=d.bind(u),U=g.bind(u),B=d.bind(i.slice),$=d.bind(i.split),H=d.bind(i.indexOf),W=d.bind(p),V=d.bind(t.propertyIsEnumerable),q=d.bind(e.sort),G=s.isArray||function(e){return"[object Array]"===L(e)},z=1!==[].unshift(0);A(e,{unshift:function(){return a.apply(this,arguments),this.length}},z),A(s,{isArray:G});var X=l("a"),K="a"!==X[0]||!(0 in X),Y=function(e){var i=!0,t=!0,n=!1;if(e)try{e.call("foo",function(e,t,n){"object"!=typeof n&&(i=!1)}),e.call([1],function(){"use strict";t="string"==typeof this},"x")}catch(e){n=!0}return!!e&&!n&&i&&t};A(e,{forEach:function(e){var t,n=j(this),i=K&&k(this)?$(this,""):n,r=-1,o=R(i.length);if(1<arguments.length&&(t=arguments[1]),!h(e))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++r<o;)r in i&&(void 0===t?e(i[r],r,n):e.call(t,i[r],r,n))}},!Y(e.forEach)),A(e,{map:function(e){var t,n=j(this),i=K&&k(this)?$(this,""):n,r=R(i.length),o=s(r);if(1<arguments.length&&(t=arguments[1]),!h(e))throw new TypeError("Array.prototype.map callback must be a function");for(var a=0;a<r;a++)a in i&&(o[a]=void 0===t?e(i[a],a,n):e.call(t,i[a],a,n));return o}},!Y(e.map)),A(e,{filter:function(e){var t,n,i=j(this),r=K&&k(this)?$(this,""):i,o=R(r.length),a=[];if(1<arguments.length&&(n=arguments[1]),!h(e))throw new TypeError("Array.prototype.filter callback must be a function");for(var s=0;s<o;s++)s in r&&(t=r[s],(void 0===n?e(t,s,i):e.call(n,t,s,i))&&W(a,t));return a}},!Y(e.filter)),A(e,{every:function(e){var t,n=j(this),i=K&&k(this)?$(this,""):n,r=R(i.length);if(1<arguments.length&&(t=arguments[1]),!h(e))throw new TypeError("Array.prototype.every callback must be a function");for(var o=0;o<r;o++)if(o in i&&!(void 0===t?e(i[o],o,n):e.call(t,i[o],o,n)))return!1;return!0}},!Y(e.every)),A(e,{some:function(e){var t,n=j(this),i=K&&k(this)?$(this,""):n,r=R(i.length);if(1<arguments.length&&(t=arguments[1]),!h(e))throw new TypeError("Array.prototype.some callback must be a function");for(var o=0;o<r;o++)if(o in i&&(void 0===t?e(i[o],o,n):e.call(t,i[o],o,n)))return!0;return!1}},!Y(e.some));var Q=!1;e.reduce&&(Q="object"==typeof e.reduce.call("es5",function(e,t,n,i){return i})),A(e,{reduce:function(e){var t=j(this),n=K&&k(this)?$(this,""):t,i=R(n.length);if(!h(e))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===i&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(2<=arguments.length)r=arguments[1];else for(;;){if(o in n){r=n[o++];break}if(++o>=i)throw new TypeError("reduce of empty array with no initial value")}for(;o<i;o++)o in n&&(r=e(r,n[o],o,t));return r}},!Q);var J=!1;e.reduceRight&&(J="object"==typeof e.reduceRight.call("es5",function(e,t,n,i){return i})),A(e,{reduceRight:function(e){var t,n=j(this),i=K&&k(this)?$(this,""):n,r=R(i.length);if(!h(e))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===r&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o=r-1;if(2<=arguments.length)t=arguments[1];else for(;;){if(o in i){t=i[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}if(o<0)return t;for(;o in i&&(t=e(t,i[o],o,n)),o--;);return t}},!J);var Z=e.indexOf&&-1!==[0,1].indexOf(1,2);A(e,{indexOf:function(e){var t=K&&k(this)?$(this,""):j(this),n=R(t.length);if(0===n)return-1;var i=0;for(1<arguments.length&&(i=D(arguments[1])),i=0<=i?i:v(0,n+i);i<n;i++)if(i in t&&t[i]===e)return i;return-1}},Z);var ee=e.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);A(e,{lastIndexOf:function(e){var t=K&&k(this)?$(this,""):j(this),n=R(t.length);if(0===n)return-1;var i=n-1;for(1<arguments.length&&(i=b(i,D(arguments[1]))),i=0<=i?i:n-Math.abs(i);0<=i;i--)if(i in t&&e===t[i])return i;return-1}},ee);var te,ne,ie=(ne=(te=[1,2]).splice(),2===te.length&&G(ne)&&0===ne.length);A(e,{splice:function(e,t){return 0===arguments.length?[]:o.apply(this,arguments)}},!ie);var re,oe=(re={},e.splice.call(re,0,0,1),1===re.length);A(e,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=v(D(this.length),0),0<arguments.length&&"number"!=typeof t&&((n=F(arguments)).length<2?W(n,this.length-e):n[1]=D(t)),o.apply(this,n)}},!oe);var ae,se,le=((ae=new s(1e5))[8]="x",ae.splice(1,1),7===ae.indexOf("x")),ue=((se=[])[256]="a",se.splice(257,0,"b"),"a"===se[256]);A(e,{splice:function(e,t){for(var n,i=j(this),r=[],o=R(i.length),a=D(e),s=a<0?v(o+a,0):b(a,o),l=b(v(D(t),0),o-s),u=0;u<l;)n=m(s+u),M(i,n)&&(r[u]=i[n]),u+=1;var c,d=F(arguments,2),h=d.length;if(h<l){for(u=s;u<o-l;)n=m(u+l),c=m(u+h),M(i,n)?i[c]=i[n]:delete i[c],u+=1;for(u=o;o-l+h<u;)delete i[u-1],u-=1}else if(l<h)for(u=o-l;s<u;)n=m(u+l-1),c=m(u+h-1),M(i,n)?i[c]=i[n]:delete i[c],u-=1;u=s;for(var f=0;f<d.length;++f)i[u]=d[f],u+=1;return i.length=o-l+h,r}},!le||!ue);var ce,de=e.join;try{ce="1,2,3"!==Array.prototype.join.call("123",",")}catch(e){ce=!0}ce&&A(e,{join:function(e){var t=void 0===e?",":e;return de.call(k(this)?$(this,""):this,t)}},ce);var he="1,2"!==[1,2].join(void 0);he&&A(e,{join:function(e){var t=void 0===e?",":e;return de.call(this,t)}},he);var fe,pe=function(e){for(var t=j(this),n=R(t.length),i=0;i<arguments.length;)t[n+i]=arguments[i],i+=1;return t.length=n+i,n+i},ge=(fe={},1!==Array.prototype.push.call(fe,void 0)||1!==fe.length||void 0!==fe[0]||!M(fe,0));A(e,{push:function(e){return G(this)?p.apply(this,arguments):pe.apply(this,arguments)}},ge);var ve,me=1!==(ve=[]).push(void 0)||1!==ve.length||void 0!==ve[0]||!M(ve,0);A(e,{push:pe},me),A(e,{slice:function(e,t){var n=k(this)?$(this,""):this;return U(n,arguments)}},K);var ye=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(e){}return!1}(),be=function(){try{return[1,2].sort(/a/),!1}catch(e){}return!0}(),_e=function(){try{return[1,2].sort(void 0),!0}catch(e){}return!1}();A(e,{sort:function(e){if(void 0===e)return q(this);if(!h(e))throw new TypeError("Array.prototype.sort callback must be a function");return q(this,e)}},ye||!_e||!be);var we=!{toString:null}.propertyIsEnumerable("toString"),Te=function(){}.propertyIsEnumerable("prototype"),ke=!M("x","0"),Se=function(e){var t=e.constructor;return t&&t.prototype===e},Ee={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},Ce=function(){if("undefined"==typeof window)return!1;for(var e in window)try{!Ee["$"+e]&&M(window,e)&&null!==window[e]&&"object"==typeof window[e]&&Se(window[e])}catch(e){return!0}return!1}(),xe=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Oe=xe.length,Ae=function(e){return"[object Arguments]"===L(e)},Pe=Ae(arguments)?Ae:function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&0<=e.length&&!G(e)&&h(e.callee)};A(l,{keys:function(e){var t=h(e),n=Pe(e),i=null!==e&&"object"==typeof e,r=i&&k(e);if(!i&&!t&&!n)throw new TypeError("Object.keys called on a non-object");var o=[],a=Te&&t;if(r&&ke||n)for(var s=0;s<e.length;++s)W(o,m(s));if(!n)for(var l in e)a&&"prototype"===l||!M(e,l)||W(o,m(l));if(we)for(var u=function(e){if("undefined"==typeof window||!Ce)return Se(e);try{return Se(e)}catch(e){return!1}}(e),c=0;c<Oe;c++){var d=xe[c];u&&"constructor"===d||!M(e,d)||W(o,d)}return o}});var Ie=l.keys&&function(){return 2===l.keys(arguments).length}(1,2),De=l.keys&&function(){var e=l.keys(arguments);return 1!==arguments.length||1!==e.length||1!==e[0]}(1),je=l.keys;A(l,{keys:function(e){return Pe(e)?je(F(e)):je(e)}},!Ie||De);var Re,Ne,Me=0!==new Date(-0xc782b5b342b24).getUTCMonth(),Le=new Date(-0x55d318d56a724),Fe=new Date(14496624e5),Ue="Mon, 01 Jan -45875 11:59:59 GMT"!==Le.toUTCString();Ne=Le.getTimezoneOffset()<-720?(Re="Tue Jan 02 -45875"!==Le.toDateString(),!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Fe.toString())):(Re="Mon Jan 01 -45875"!==Le.toDateString(),!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Fe.toString()));var Be=d.bind(Date.prototype.getFullYear),$e=d.bind(Date.prototype.getMonth),He=d.bind(Date.prototype.getDate),We=d.bind(Date.prototype.getUTCFullYear),Ve=d.bind(Date.prototype.getUTCMonth),qe=d.bind(Date.prototype.getUTCDate),Ge=d.bind(Date.prototype.getUTCDay),ze=d.bind(Date.prototype.getUTCHours),Xe=d.bind(Date.prototype.getUTCMinutes),Ke=d.bind(Date.prototype.getUTCSeconds),Ye=d.bind(Date.prototype.getUTCMilliseconds),Qe=["Sun","Mon","Tue","Wed","Thu","Fri"],Je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ze=function(e,t){return He(new Date(t,e,0))};A(Date.prototype,{getFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Be(this);return e<0&&11<$e(this)?e+1:e},getMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Be(this),t=$e(this);return e<0&&11<t?0:t},getDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Be(this),t=$e(this),n=He(this);return e<0&&11<t?12===t?n:Ze(0,e+1)-n+1:n},getUTCFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=We(this);return e<0&&11<Ve(this)?e+1:e},getUTCMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=We(this),t=Ve(this);return e<0&&11<t?0:t},getUTCDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=We(this),t=Ve(this),n=qe(this);return e<0&&11<t?12===t?n:Ze(0,e+1)-n+1:n}},Me),A(Date.prototype,{toUTCString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Ge(this),t=qe(this),n=Ve(this),i=We(this),r=ze(this),o=Xe(this),a=Ke(this);return Qe[e]+", "+(t<10?"0"+t:t)+" "+Je[n]+" "+i+" "+(r<10?"0"+r:r)+":"+(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)+" GMT"}},Me||Ue),A(Date.prototype,{toDateString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=this.getDay(),t=this.getDate(),n=this.getMonth(),i=this.getFullYear();return Qe[e]+" "+Je[n]+" "+(t<10?"0"+t:t)+" "+i}},Me||Re),(Me||Ne)&&(Date.prototype.toString=function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=this.getDay(),t=this.getDate(),n=this.getMonth(),i=this.getFullYear(),r=this.getHours(),o=this.getMinutes(),a=this.getSeconds(),s=this.getTimezoneOffset(),l=Math.floor(Math.abs(s)/60),u=Math.floor(Math.abs(s)%60);return Qe[e]+" "+Je[n]+" "+(t<10?"0"+t:t)+" "+i+" "+(r<10?"0"+r:r)+":"+(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)+" GMT"+(0<s?"-":"+")+(l<10?"0"+l:l)+(u<10?"0"+u:u)},O&&l.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var et=-621987552e5,tt=Date.prototype.toISOString&&-1===new Date(et).toISOString().indexOf("-000001"),nt=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString();A(Date.prototype,{toISOString:function(){if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var e=We(this),t=Ve(this);e+=Math.floor(t/12);var n=[1+(t=(t%12+12)%12),qe(this),ze(this),Xe(this),Ke(this)];e=(e<0?"-":9999<e?"+":"")+B("00000"+Math.abs(e),0<=e&&e<=9999?-4:-6);for(var i=0;i<n.length;++i)n[i]=B("00"+n[i],-2);return e+"-"+F(n,0,2).join("-")+"T"+F(n,2).join(":")+"."+B("000"+Ye(this),-3)+"Z"}},tt||nt),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(et).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}()||(Date.prototype.toJSON=function(e){var t=l(this),n=function(e){var t,n,i;if(P(e))return e;if(n=e.valueOf,h(n)&&(t=n.call(e),P(t)))return t;if(i=e.toString,h(i)&&(t=i.call(e),P(t)))return t;throw new TypeError}(t);if("number"==typeof n&&!isFinite(n))return null;var i=t.toISOString;if(!h(i))throw new TypeError("toISOString property is not callable");return i.call(t)});var it=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),rt=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||rt||!it){var ot=Math.pow(2,31)-1,at=I(new Date(1970,0,1,0,0,0,1+ot).getTime());Date=function(p){var f=function(e,t,n,i,r,o,a){var s,l=arguments.length;if(this instanceof p){var u=o,c=a;if(at&&7<=l&&ot<a){var d=Math.floor(a/ot)*ot,h=Math.floor(d/1e3);u+=h,c-=1e3*h}s=1===l&&m(e)===e?new p(f.parse(e)):7<=l?new p(e,t,n,i,r,u,c):6<=l?new p(e,t,n,i,r,u):5<=l?new p(e,t,n,i,r):4<=l?new p(e,t,n,i):3<=l?new p(e,t,n):2<=l?new p(e,t):1<=l?new p(e):new p}else s=p.apply(this,arguments);return P(s)||A(s,{constructor:f},!0),s},g=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),i=[0,31,59,90,120,151,181,212,243,273,304,334,365],v=function(e,t){var n=1<t?1:0;return i[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)};for(var e in p)M(p,e)&&(f[e]=p[e]);return A(f,{now:p.now,UTC:p.UTC},!0),f.prototype=p.prototype,A(f.prototype,{constructor:f},!0),A(f,{parse:function(e){var t=g.exec(e);if(t){var o,n=y(t[1]),i=y(t[2]||1)-1,r=y(t[3]||1)-1,a=y(t[4]||0),s=y(t[5]||0),l=y(t[6]||0),u=Math.floor(1e3*y(t[7]||0)),c=Boolean(t[4]&&!t[8]),d="-"===t[9]?1:-1,h=y(t[10]||0),f=y(t[11]||0);return a<(0<s||0<l||0<u?24:25)&&s<60&&l<60&&u<1e3&&-1<i&&i<12&&h<24&&f<60&&-1<r&&r<v(n,1+i)-v(n,i)&&(o=1e3*(60*((o=60*(24*(v(n,i)+r)+a+h*d))+s+f*d)+l)+u,c&&(o=function(e){var t=0,n=o;if(at&&ot<n){var i=Math.floor(n/ot)*ot,r=Math.floor(i/1e3);t+=r,n-=1e3*r}return y(new p(1970,0,1,0,0,t,n))}()),-864e13<=o&&o<=864e13)?o:NaN}return p.parse.apply(this,arguments)}}),f}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var st=r.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),lt={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1,i=t;++n<lt.size;)i+=e*lt.data[n],lt.data[n]=i%lt.base,i=Math.floor(i/lt.base)},divide:function(e){for(var t=lt.size,n=0;0<=--t;)n+=lt.data[t],lt.data[t]=Math.floor(n/e),n=n%e*lt.base},numToString:function(){for(var e=lt.size,t="";0<=--e;)if(""!==t||0===e||0!==lt.data[e]){var n=m(lt.data[e]);""===t?t=n:t+=B("0000000",0,7-n.length)+n}return t},pow:function e(t,n,i){return 0===n?i:n%2==1?e(t,n-1,i*t):e(t*t,n/2,i)},log:function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}};A(r,{toFixed:function(e){var t,n,i,r,o,a,s,l;if(t=y(e),(t=I(t)?0:Math.floor(t))<0||20<t)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=y(this),I(n))return"NaN";if(n<=-1e21||1e21<=n)return m(n);if(i="",n<0&&(i="-",n=-n),r="0",1e-21<n)if(a=(o=lt.log(n*lt.pow(2,69,1))-69)<0?n*lt.pow(2,-o,1):n/lt.pow(2,o,1),a*=4503599627370496,0<(o=52-o)){for(lt.multiply(0,a),s=t;7<=s;)lt.multiply(1e7,0),s-=7;for(lt.multiply(lt.pow(10,s,1),0),s=o-1;23<=s;)lt.divide(1<<23),s-=23;lt.divide(1<<s),lt.multiply(1,1),lt.divide(2),r=lt.numToString()}else lt.multiply(0,a),lt.multiply(1<<-o,0),r=lt.numToString()+B("0.00000000000000000000",2,2+t);return 0<t?(l=r.length)<=t?i+B("0.0000000000000000000",0,t-l+2)+r:i+B(r,0,l-t)+"."+B(r,l-t):i+r}},st);var ut,ct,dt=function(){try{return"1"===1..toPrecision(void 0)}catch(e){return!0}}(),ht=r.toPrecision;A(r,{toPrecision:function(e){return void 0===e?ht.call(this):ht.call(this,e)}},dt),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||1<".".split(/()()/).length?(ut=void 0===/()??/.exec("")[1],ct=Math.pow(2,32)-1,i.split=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!f(e))return $(this,e,t);var i,r,o,a,s=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,c=new RegExp(e.source,l+"g");ut||(i=new RegExp("^"+c.source+"$(?!\\s)",l));var d=void 0===t?ct:R(t);for(r=c.exec(n);r&&!(u<(o=r.index+r[0].length)&&(W(s,B(n,u,r.index)),!ut&&1<r.length&&r[0].replace(i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(r[e]=void 0)}),1<r.length&&r.index<n.length&&p.apply(s,F(r,1)),a=r[0].length,u=o,d<=s.length));)c.lastIndex===r.index&&c.lastIndex++,r=c.exec(n);return u===n.length?!a&&c.test("")||W(s,""):W(s,B(n,u)),d<s.length?B(s,0,d):s}):"0".split(void 0,0).length&&(i.split=function(e,t){return void 0===e&&0===t?[]:$(this,e,t)});var ft,pt=i.replace;ft=[],"x".replace(/x(.)?/g,function(e,t){W(ft,t)}),1===ft.length&&void 0===ft[0]||(i.replace=function(r,o){var e=h(o),t=f(r)&&/\)[*?]/.test(r.source);return e&&t?pt.call(this,r,function(e){var t=arguments.length,n=r.lastIndex;r.lastIndex=0;var i=r.exec(e)||[];return r.lastIndex=n,W(i,arguments[t-2],arguments[t-1]),o.apply(this,i)}):pt.call(this,r,o)});var gt=i.substr,vt="".substr&&"b"!=="0b".substr(-1);A(i,{substr:function(e,t){var n=e;return e<0&&(n=v(this.length+e,0)),gt.call(this,n,t)}},vt);var mt="\t\n\v\f\r \u2028\u2029\ufeff",yt="["+mt+"]",bt=new RegExp("^"+yt+yt+"*"),_t=new RegExp(yt+yt+"*$"),wt=i.trim&&(mt.trim()||!"".trim());A(i,{trim:function(){if(null==this)throw new TypeError("can't convert "+this+" to object");return m(this).replace(bt,"").replace(_t,"")}},wt);var Tt=d.bind(String.prototype.trim),kt=i.lastIndexOf&&-1!=="abc".lastIndexOf("",2);A(i,{lastIndexOf:function(e){if(null==this)throw new TypeError("can't convert "+this+" to object");for(var t=m(this),n=m(e),i=1<arguments.length?y(arguments[1]):NaN,r=I(i)?1/0:D(i),o=b(v(r,0),t.length),a=n.length,s=o+a;0<s;){s=v(0,s-a);var l=H(B(t,s,o+a),n);if(-1!==l)return s+l}return-1}},kt);var St,Et,Ct,xt=i.lastIndexOf;if(A(i,{lastIndexOf:function(e){return xt.apply(this,arguments)}},1!==i.lastIndexOf.length),8===parseInt(mt+"08")&&22===parseInt(mt+"0x16")||(parseInt=(St=parseInt,Et=/^[\-+]?0[xX]/,function(e,t){var n=Tt(e),i=y(t)||(Et.test(n)?16:10);return St(n,i)})),1/parseFloat("-0")!=-1/0&&(parseFloat=(Ct=parseFloat,function(e){var t=Tt(e),n=Ct(t);return 0===n&&"-"===B(t,0,1)?-0:n})),"RangeError: test"!==String(new RangeError("test"))&&(Error.prototype.toString=function(){if(null==this)throw new TypeError("can't convert "+this+" to object");var e=this.name;void 0===e?e="Error":"string"!=typeof e&&(e=m(e));var t=this.message;return void 0===t?t="":"string"!=typeof t&&(t=m(t)),e?t?e+": "+t:e:t}),O){var Ot=function(e,t){if(V(e,t)){var n=Object.getOwnPropertyDescriptor(e,t);n.enumerable=!1,Object.defineProperty(e,t,n)}};Ot(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),Ot(Error.prototype,"name")}"/a/gim"!==String(/a/gim)&&(RegExp.prototype.toString=function(){var e="/"+this.source+"/";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),e})}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){var r,o,s,l,e=Function.call,u=Object.prototype,c=e.bind(u.hasOwnProperty),d=e.bind(u.propertyIsEnumerable),n=e.bind(u.toString),h=c(u,"__defineGetter__");h&&(r=e.bind(u.__defineGetter__),o=e.bind(u.__defineSetter__),s=e.bind(u.__lookupGetter__),l=e.bind(u.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){var t=e.__proto__;return t||null===t?t:"[object Function]"===n(e.constructor)?e.constructor.prototype:e instanceof Object?u:null});var t=function(e){try{return(e.sentinel=0)===Object.getOwnPropertyDescriptor(e,"sentinel").value}catch(e){return!1}};if(Object.defineProperty){var i=t({});if("undefined"!=typeof document&&!t(document.createElement("div"))||!i)var f=Object.getOwnPropertyDescriptor}if(Object.getOwnPropertyDescriptor&&!f||(Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(f)try{return f.call(Object,e,t)}catch(e){}var n;if(!c(e,t))return n;if(n={enumerable:d(e,t),configurable:!0},h){var i=e.__proto__,r=e!==u;r&&(e.__proto__=u);var o=s(e,t),a=l(e,t);if(r&&(e.__proto__=i),o||a)return o&&(n.get=o),a&&(n.set=a),n}return n.value=e[t],n.writable=!0,n}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var p,a=!({__proto__:null}instanceof Object);p=a||"undefined"==typeof document?function(){return{__proto__:null}}:function(){var e,t,n,i,r,o=function(){if(!document.domain)return!1;try{return!!new ActiveXObject("htmlfile")}catch(e){return!1}}()?((r=new ActiveXObject("htmlfile")).write("<script><\/script>"),r.close(),i=r.parentWindow.Object.prototype,r=null,i):(t=document.createElement("iframe"),n=document.body||document.documentElement,t.style.display="none",n.appendChild(t),t.src="javascript:",e=t.contentWindow.Object.prototype,n.removeChild(t),t=null,e);delete o.constructor,delete o.hasOwnProperty,delete o.propertyIsEnumerable,delete o.isPrototypeOf,delete o.toLocaleString,delete o.toString,delete o.valueOf;var a=function(){};return a.prototype=o,p=function(){return new a},new a},Object.create=function(e,t){var n,i=function(){};if(null===e)n=p();else{if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype may only be an Object or null");i.prototype=e,(n=new i).__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}var g=function(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){return!1}};if(Object.defineProperty){var v=g({}),m="undefined"==typeof document||g(document.createElement("div"));if(!v||!m)var y=Object.defineProperty,b=Object.defineProperties}Object.defineProperty&&!y||(Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Property description must be an object: "+n);if(y)try{return y.call(Object,e,t,n)}catch(e){}if("value"in n)if(h&&(s(e,t)||l(e,t))){var i=e.__proto__;e.__proto__=u,delete e[t],e[t]=n.value,e.__proto__=i}else e[t]=n.value;else{if(!h&&("get"in n||"set"in n))throw new TypeError("getters & setters can not be defined on this javascript engine");"get"in n&&r(e,t,n.get),"set"in n&&o(e,t,n.set)}return e}),Object.defineProperties&&!b||(Object.defineProperties=function(t,n){if(b)try{return b.call(Object,t,n)}catch(e){}return Object.keys(n).forEach(function(e){"__proto__"!==e&&Object.defineProperty(t,e,n[e])}),t}),Object.seal||(Object.seal=function(e){if(Object(e)!==e)throw new TypeError("Object.seal can only be called on Objects.");return e}),Object.freeze||(Object.freeze=function(e){if(Object(e)!==e)throw new TypeError("Object.freeze can only be called on Objects.");return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(e){if(Object(e)!==e)throw new TypeError("Object.preventExtensions can only be called on Objects.");return e}),Object.isSealed||(Object.isSealed=function(e){if(Object(e)!==e)throw new TypeError("Object.isSealed can only be called on Objects.");return!1}),Object.isFrozen||(Object.isFrozen=function(e){if(Object(e)!==e)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)!==e)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var t="";c(e,t);)t+="?";e[t]=!0;var n=c(e,t);return delete e[t],n})}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojsContribAds=e()}(function(){return function o(a,s,l){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,o,a,s,l)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(n,e,i){(function(e){"use strict";i.__esModule=!0,i.default=function(e){if(!e.ads.cancelPlayTimeout){if(a.default.browser.IS_IOS&&a.default.browser.IS_IPHONE&&!e.el_.hasAttribute("playsinline")){var t=e.currentWidth?e.currentWidth():e.width(),n=e.currentHeight?e.currentHeight():e.height(),i=o.default.createElement("div");i.style.width=t+"px",i.style.height=n+"px",i.style.background="black",e.el_.parentNode.insertBefore(i,e.el_),e.el_.style.display="none",e.one(["adstart","adtimeout","adserror","adscanceled","adskip","playing"],function(){e.el_.style.display="block",i.remove()}),e.on("fullscreenchange",function(){i&&!e.isFullscreen()&&(e.el_.style.display="block",i.remove())})}e.ads.cancelPlayTimeout=r.default.setTimeout(function(){e.ads.cancelPlayTimeout=null,e.paused()||e.pause(),e.ads.cancelledPlay=!0},1)}};var r=t(n("global/window")),o=t(n("global/document")),a=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null);function t(e){return e&&e.__esModule?e:{default:e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/document":8,"global/window":9}],2:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(t){t.ads.contentSrc=t.currentSrc();var e=function(){if("ad-playback"!==t.ads.state){var e=t.currentSrc();e!==t.ads.contentSrc&&(t.trigger({type:"contentupdate",oldValue:t.ads.contentSrc,newValue:e}),t.ads.contentSrc=e)}};t.on("loadstart",e),r.default.setTimeout(e,1)};var i,r=(i=e("global/window"))&&i.__esModule?i:{default:i}},{"global/window":9}],3:[function(e,t,n){(function(e){"use strict";n.__esModule=!0,n.processMetadataTracks=function(t,n){var e=t.textTracks(),i=function(e){"metadata"===e.kind&&(t.ads.cueTextTracks.setMetadataTrackMode(e),n(t,e))};if(0<e.length)for(var r=0;r<e.length;r++){var o=e[r];i(o)}else e.addEventListener("addtrack",function(e){var t=e.track;i(t)})},n.setMetadataTrackMode=function(e){},n.getSupportedAdCue=function(e,t){return t},n.getCueId=function(e,t){return t.id},n.processAdTrack=function(e,t,n,i){e.ads.includedCues={};for(var r=0;r<t.length;r++){var o=t[r],a=this.getSupportedAdCue(e,o);if(-1===a)return void u.default.log.warn("Skipping as this is not a supported ad cue.",o);var s=this.getCueId(e,o),l=o.startTime;if(c(e,s))return void u.default.log("Skipping ad already seen with ID "+s);n(e,a,s,l),d(e,s),void 0!==i&&i(e,a)}};var t,u=(t="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null)&&t.__esModule?t:{default:t},c=function(e,t){return void 0!==t&&e.ads.includedCues[t]},d=function(e,t){void 0!==t&&""!==t&&(e.ads.includedCues[t]=!0)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(n,e,i){(function(e){"use strict";i.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.default=function(e,s,t){void 0===s&&(s=!1);var n={};for(var i in void 0!==t&&(n=t),n["{player.id}"]=this.options_["data-player"],n["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",n["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",n["{mediainfo.description}"]=this.mediainfo?this.mediainfo.description:"",n["{mediainfo.tags}"]=this.mediainfo?this.mediainfo.tags:"",n["{mediainfo.reference_id}"]=this.mediainfo?this.mediainfo.reference_id:"",n["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",n["{mediainfo.ad_keys}"]=this.mediainfo?this.mediainfo.ad_keys:"",n["{player.duration}"]=this.duration(),n["{timestamp}"]=(new Date).getTime(),n["{document.referrer}"]=r.default.referrer,n["{window.location.href}"]=u.default.location.href,n["{random}"]=Math.floor(1e12*Math.random()),o(this.mediainfo,n,"custom_fields"),o(this.mediainfo,n,"customFields"),n)e=e.split(i).join(d(n[i],s));return e.replace(/{pageVariable\.([^}]+)}/g,function(e,t){for(var n=void 0,i=u.default,r=t.split("."),o=0;o<r.length;o++)o===r.length-1?n=i[r[o]]:i=i[r[o]];var a=void 0===n?"undefined":l(n);return null===n?"null":void 0===n?(c.default.log.warn('Page variable "'+t+'" not found'),""):"string"!==a&&"number"!==a&&"boolean"!==a?(c.default.log.warn('Page variable "'+t+'" is not a supported type'),""):d(String(n),s)})};var u=t(n("global/window")),r=t(n("global/document")),c=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null);function t(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){return t?encodeURIComponent(e):e},o=function(e,t,n){if(e&&e[n])for(var i=e[n],r=Object.keys(i),o=0;o<r.length;o++)t["{mediainfo."+n+"."+r[o]+"}"]=i[r[o]]}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/document":8,"global/window":9}],5:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){if("playing"===e.type&&"preroll?"===this.ads.state)r(this,"ad",e);else if("playing"!==e.type||"ad-playback"!==this.ads.state||this.ads.videoElementRecycled())if("playing"===e.type&&"ads-ready?"===this.ads.state)r(this,"ad",e);else{if("playing"===e.type&&"ad-playback"===this.ads.state&&this.ads.videoElementRecycled())return void i(this,e);if("ad-playback"===this.ads.state)(this.ads.videoElementRecycled()||this.ads.stitchedAds())&&r(this,"ad",e);else if("content-playback"===this.ads.state&&"ended"===e.type)r(this,"content",e);else if("content-resuming"===this.ads.state){if(this.ads.snapshot&&this.currentSrc()!==this.ads.snapshot.currentSrc){if("loadstart"===e.type)return;return r(this,"content",e)}if(this.ads.snapshot&&this.ads.snapshot.ended){if("pause"===e.type||"ended"===e.type)return;return r(this,"content",e)}"playing"!==e.type&&r(this,"content",e)}}else r(this,"ad",e)};var i=function(e,t){t.isImmediatePropagationStopped=function(){return!0},t.cancelBubble=!0,t.isPropagationStopped=function(){return!0}},r=function(e,t,n){i(e,n),e.trigger({type:t+n.type,state:e.ads.state,originalEvent:n})}},{}],6:[function(n,e,i){(function(e){"use strict";i.__esModule=!0,i.getPlayerSnapshot=function(e){var t;t=h.default.browser.IS_IOS&&e.ads.isLive(e)&&0<e.seekable().length?e.currentTime()-e.seekable().end(0):e.currentTime();var n=e.$(".vjs-tech"),i=e.remoteTextTracks?e.remoteTextTracks():[],r=e.textTracks?e.textTracks():[],o=[],a=[],s={ended:e.ended(),currentSrc:e.currentSrc(),src:e.src(),currentTime:t,type:e.currentType()};n&&(s.nativePoster=n.poster,s.style=n.getAttribute("style"));for(var l=0;l<i.length;l++){var u=i[l];o.push({track:u,mode:u.mode}),u.mode="disabled"}s.suppressedRemoteTracks=o;for(var c=0;c<r.length;c++){var d=r[c];a.push({track:d,mode:d.mode}),d.mode="disabled"}return s.suppressedTracks=a,s},i.restorePlayerSnapshot=function(t,n){if(!0!==t.ads.disableNextSnapshotRestore){var i=t.$(".vjs-tech"),r=20,o=n.suppressedRemoteTracks,a=n.suppressedTracks,s=void 0,e=function(){for(var e=0;e<o.length;e++)(s=o[e]).track.mode=s.mode;for(var t=0;t<a.length;t++)(s=a[t]).track.mode=s.mode},l=function(){var e=void 0;h.default.browser.IS_IOS&&t.ads.isLive(t)?n.currentTime<0&&(e=0<t.seekable().length?t.seekable().end(0)+n.currentTime:t.currentTime(),t.currentTime(e)):n.ended?t.currentTime(t.duration()):t.currentTime(n.currentTime),n.ended||t.play()},u=function e(){if(t.off("contentcanplay",e),t.ads.tryToResumeTimeout_&&(t.clearTimeout(t.ads.tryToResumeTimeout_),t.ads.tryToResumeTimeout_=null),1<(i=t.el().querySelector(".vjs-tech")).readyState)return l();if(void 0===i.seekable)return l();if(0<i.seekable.length)return l();if(r--)c.default.setTimeout(e,50);else try{l()}catch(e){h.default.log.warn("Failed to resume the content after an advertisement",e)}};n.nativePoster&&(i.poster=n.nativePoster),"style"in n&&i.setAttribute("style",n.style||""),t.ads.videoElementRecycled()?(t.one("contentloadedmetadata",e),t.src({src:n.currentSrc,type:n.type}),t.load(),t.one("contentcanplay",u),t.ads.tryToResumeTimeout_=t.setTimeout(u,2e3)):t.ended()&&n.ended||(e(),t.play())}else t.ads.disableNextSnapshotRestore=!1};var c=t(n("global/window")),h=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null);function t(e){return e&&e.__esModule?e:{default:e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":9}],7:[function(e,t,n){},{}],8:[function(r,o,e){(function(e){var t=void 0!==e?e:"undefined"!=typeof window?window:{},n=r("min-document");if("undefined"!=typeof document)o.exports=document;else{var i=t["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=t["__GLOBAL_DOCUMENT_CACHE@4"]=n),o.exports=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":7}],9:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(a,e,t){(function(e){"use strict";var i=n(a("global/window")),u=n("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),r=n(a("./redispatch.js")),o=t(a("./snapshot.js")),c=n(a("./contentupdate.js")),d=n(a("./cancelContentPlay.js")),h=n(a("./macros.js")),f=t(a("./cueTextTracks.js"));function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}var p=u.default.getTech("Html5").Events,g=function(e){var t=e.$(".vjs-tech");t&&t.removeAttribute("poster")},v={timeout:5e3,prerollTimeout:100,postrollTimeout:100,debug:!1,stitchedAds:!1};(u.default.registerPlugin||u.default.plugin)("ads",function(e){var a=this,s=u.default.mergeOptions(v,e),t=p.concat(["firstplay","loadedalldata","playing"]);a.on(t,r.default),a.on("ended",function(){a.hasClass("vjs-has-started")||a.addClass("vjs-has-started")}),a.on(["addurationchange","adcanplay"],function(){a.currentSrc()!==a.ads.snapshot.currentSrc&&a.play()}),a.on("nopreroll",function(){a.ads.nopreroll_=!0}),a.on("nopostroll",function(){a.ads.nopostroll_=!0}),a.on(["ads-ad-started","playing"],function(){a.removeClass("vjs-ad-loading")}),a.ads={state:"content-set",disableNextSnapshotRestore:!1,_contentHasEnded:!1,adType:null,VERSION:"4.2.5",reset:function(){a.ads.disableNextSnapshotRestore=!1,a.ads._contentHasEnded=!1,a.ads.snapshot=null,a.ads.adType=null},startLinearAdMode:function(){"preroll?"!==a.ads.state&&"content-playback"!==a.ads.state&&"postroll?"!==a.ads.state||a.trigger("adstart")},endLinearAdMode:function(){"ad-playback"===a.ads.state&&(a.trigger("adend"),a.removeClass("vjs-ad-loading"))},skipLinearAdMode:function(){"ad-playback"!==a.ads.state&&a.trigger("adskip")},stitchedAds:function(e){return void 0!==e&&(this._stitchedAds=!!e),this._stitchedAds},videoElementRecycled:function(){if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var e=a.src()!==this.snapshot.src,t=a.currentSrc()!==this.snapshot.currentSrc;return e||t},isLive:function(e){return e.duration()===1/0||"8"===u.default.browser.IOS_VERSION&&0===e.duration()},shouldPlayContentBehindAd:function(e){return!u.default.browser.IS_IOS&&!u.default.browser.IS_ANDROID&&e.duration()===1/0}},a.ads.stitchedAds(s.stitchedAds),a.ads.cueTextTracks=f,a.ads.adMacroReplacement=h.default.bind(a),(0,c.default)(a),a.on("contentupdate",a.ads.reset);var l={"content-set":{events:{adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="ads-ready"},play:function(){this.state="ads-ready?",(0,d.default)(a),g(a)},adserror:function(){this.state="content-playback"},adskip:function(){this.state="content-playback"}}},"ads-ready":{events:{play:function(){this.state="preroll?",(0,d.default)(a)},adskip:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"preroll?":{enter:function(){a.ads.nopreroll_?(a.trigger("readyforpreroll"),i.default.setTimeout(function(){a.trigger("nopreroll")},1)):(a.addClass("vjs-ad-loading"),a.ads.adTimeoutTimeout=i.default.setTimeout(function(){a.trigger("adtimeout")},s.prerollTimeout),a.trigger("readyforpreroll"))},leave:function(){i.default.clearTimeout(a.ads.adTimeoutTimeout)},events:{play:function(){(0,d.default)(a)},adstart:function(){this.state="ad-playback",a.ads.adType="preroll"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"},nopreroll:function(){this.state="content-playback"}}},"ads-ready?":{enter:function(){a.addClass("vjs-ad-loading"),a.ads.adTimeoutTimeout=i.default.setTimeout(function(){a.trigger("adtimeout")},s.timeout)},leave:function(){i.default.clearTimeout(a.ads.adTimeoutTimeout),a.removeClass("vjs-ad-loading")},events:{play:function(){(0,d.default)(a)},adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="preroll?"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"ad-playback":{enter:function(){a.ads.shouldPlayContentBehindAd(a)||(this.snapshot=o.getPlayerSnapshot(a)),a.ads.shouldPlayContentBehindAd(a)&&(this.preAdVolume_=a.volume(),a.volume(0)),a.addClass("vjs-ad-playing"),a.hasClass("vjs-live")&&a.removeClass("vjs-live"),g(a),a.ads.cancelPlayTimeout&&i.default.setTimeout(function(){i.default.clearTimeout(a.ads.cancelPlayTimeout),a.ads.cancelPlayTimeout=null},1)},leave:function(){a.removeClass("vjs-ad-playing"),a.ads.isLive(a)&&a.addClass("vjs-live"),a.ads.shouldPlayContentBehindAd(a)||o.restorePlayerSnapshot(a,this.snapshot),a.ads.shouldPlayContentBehindAd(a)&&a.volume(this.preAdVolume_)},events:{adend:function(){this.state="content-resuming",a.ads.adType=null},adserror:function(){this.state="content-resuming",a.trigger("adend")}}},"content-resuming":{enter:function(){this._contentHasEnded&&(i.default.clearTimeout(a.ads._fireEndedTimeout),a.ads._fireEndedTimeout=i.default.setTimeout(function(){a.trigger("ended")},1e3))},leave:function(){i.default.clearTimeout(a.ads._fireEndedTimeout)},events:{contentupdate:function(){this.state="content-set"},contentresumed:function(){this.state="content-playback"},playing:function(){this.state="content-playback"},ended:function(){this.state="content-playback"}}},"postroll?":{enter:function(){this.snapshot=o.getPlayerSnapshot(a),a.ads.nopostroll_?i.default.setTimeout(function(){a.ads.state="content-resuming",a.trigger("ended")},1):(a.addClass("vjs-ad-loading"),a.ads.adTimeoutTimeout=i.default.setTimeout(function(){a.trigger("adtimeout")},s.postrollTimeout))},leave:function(){i.default.clearTimeout(a.ads.adTimeoutTimeout),a.removeClass("vjs-ad-loading")},events:{adstart:function(){this.state="ad-playback",a.ads.adType="postroll"},adskip:function(){this.state="content-resuming",i.default.setTimeout(function(){a.trigger("ended")},1)},adtimeout:function(){this.state="content-resuming",i.default.setTimeout(function(){a.trigger("ended")},1)},adserror:function(){this.state="content-resuming",i.default.setTimeout(function(){a.trigger("ended")},1)},contentupdate:function(){this.state="ads-ready?"}}},"content-playback":{enter:function(){a.ads.cancelPlayTimeout&&(i.default.clearTimeout(a.ads.cancelPlayTimeout),a.ads.cancelPlayTimeout=null),a.trigger({type:"contentplayback",triggerevent:a.ads.triggerevent}),a.ads.cancelledPlay&&(a.ads.cancelledPlay=!1,a.paused()&&a.play())},events:{adsready:function(){a.trigger("readyforpreroll")},adstart:function(){this.state="ad-playback","preroll"!==a.ads.adType&&(a.ads.adType="midroll")},contentupdate:function(){a.ads.shouldPlayContentBehindAd(a)||(0,d.default)(a),a.paused()?this.state="content-set":this.state="ads-ready?"},contentended:function(){this._contentHasEnded?this.state="content-resuming":(this._contentHasEnded=!0,this.state="postroll?")}}}},n=function(e){var t=a.ads.state,n=l[t].events;if(n){var i=n[e.type];i&&i.apply(a.ads)}if(t!==a.ads.state){var r=t,o=a.ads.state;a.ads.triggerevent=e.type,l[r].leave&&l[r].leave.apply(a.ads),l[o].enter&&l[o].enter.apply(a.ads),s.debug&&u.default.log("ads",a.ads.triggerevent+" triggered: "+r+" -> "+o)}};a.on(p.concat(["adtimeout","contentupdate","contentplaying","contentended","contentresumed","adstart","adend","adskip","adsready","adserror","adscanceled","nopreroll"]),n),a.paused()||n({type:"play"})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cancelContentPlay.js":1,"./contentupdate.js":2,"./cueTextTracks.js":3,"./macros.js":4,"./redispatch.js":5,"./snapshot.js":6,"global/window":9}]},{},[10])(10)}),function(e){"use strict";var q=function(e){var t,n,i;for(n=1;n<arguments.length;n++)for(i in t=arguments[n])t.hasOwnProperty(i)&&(e[i]=t[i]);return e},G={debug:!1,timeout:5e3,prerollTimeout:100,adLabel:"Advertisement"};videojs.plugin("ima",function(e,t){var i=this;i.ima.createAdContainer_=function(){a=i.getChild("controlBar"),(s=a.el().parentNode.appendChild(document.createElement("div"))).id="ima-ad-container",s.style.position="absolute",s.style.zIndex=1111,s.addEventListener("mouseover",i.ima.showAdControls_,!1),s.addEventListener("mouseout",i.ima.hideAdControls_,!1),i.ima.createControls_(),y=new google.ima.AdDisplayContainer(s,n)},i.ima.createControls_=function(){(l=document.createElement("div")).id="ima-controls-div",l.style.width="100%",(d=document.createElement("div")).id="ima-countdown-div",d.innerHTML=c.adLabel,d.style.display=r?"block":"none",(u=document.createElement("div")).id="ima-seek-bar-div",u.style.width="100%",(h=document.createElement("div")).id="ima-progress-div",(f=document.createElement("div")).id="ima-play-pause-div",f.className="ima-playing",f.addEventListener("click",i.ima.onAdPlayPauseClick_,!1),(p=document.createElement("div")).id="ima-mute-div",p.className="ima-non-muted",p.addEventListener("click",i.ima.onAdMuteClick_,!1),(g=document.createElement("div")).id="ima-slider-div",g.addEventListener("mousedown",i.ima.onAdVolumeSliderMouseDown_,!1),(v=document.createElement("div")).id="ima-slider-level-div",(m=document.createElement("div")).id="ima-fullscreen-div",m.className="ima-non-fullscreen",m.addEventListener("click",i.ima.onAdFullscreenClick_,!1),s.appendChild(l),l.appendChild(d),l.appendChild(u),l.appendChild(f),l.appendChild(p),l.appendChild(g),l.appendChild(m),u.appendChild(h),g.appendChild(v)},i.ima.initializeAdDisplayContainer=function(){C=!0,y.initialize()},i.ima.requestAds=function(){C||y.initialize();var e=new google.ima.AdsRequest;e.adTagUrl=c.adTagUrl,c.forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),e.linearAdSlotWidth=i.ima.getPlayerWidth(),e.linearAdSlotHeight=i.ima.getPlayerHeight(),e.nonLinearAdSlotWidth=c.nonLinearWidth||i.ima.getPlayerWidth(),e.nonLinearAdSlotHeight=c.nonLinearHeight||i.ima.getPlayerHeight()/3,b.requestAds(e)},i.ima.onAdsManagerLoaded_=function(e){if((_=e.getAdsManager(M,x)).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,i.ima.onAdError_),_.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,i.ima.onAdBreakReady_),_.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,i.ima.onContentPauseRequested_),_.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,i.ima.onContentResumeRequested_),_.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,i.ima.onAllAdsCompleted_),_.addEventListener(google.ima.AdEvent.Type.LOADED,i.ima.onAdLoaded_),_.addEventListener(google.ima.AdEvent.Type.STARTED,i.ima.onAdStarted_),_.addEventListener(google.ima.AdEvent.Type.CLICK,i.ima.onAdPlayPauseClick_),_.addEventListener(google.ima.AdEvent.Type.COMPLETE,i.ima.onAdComplete_),_.addEventListener(google.ima.AdEvent.Type.SKIPPED,i.ima.onAdComplete_),!o)try{var t=i.ima.getPlayerWidth(),n=i.ima.getPlayerHeight();L.width=t,L.height=n,_.init(t,n,google.ima.ViewMode.NORMAL),_.setVolume(i.muted()?0:i.volume())}catch(e){i.ima.onAdError_(e)}i.trigger("adsready")},i.ima.start=function(){if(o)try{_.init(i.ima.getPlayerWidth(),i.ima.getPlayerHeight(),google.ima.ViewMode.NORMAL),_.setVolume(i.muted()?0:i.volume()),_.start()}catch(e){i.ima.onAdError_(e)}},i.ima.onAdsLoaderError_=function(e){window.console.log("AdsLoader error: "+e.getError()),_&&_.destroy(),i.trigger("adserror")},i.ima.onAdError_=function(e){window.console.log("Ad error: "+e.getError()),a.show(),_.destroy(),s.style.display="none",i.trigger("adserror")},i.ima.onAdBreakReady_=function(e){B(e)},i.ima.playAdBreak=function(){o||_.start()},i.ima.onContentPauseRequested_=function(e){A=O=!0,i.off("ended",$),-1!=e.getAd().getAdPodInfo().getPodIndex()&&i.ads.startLinearAdMode(),s.style.display="block",l.style.display="block",a.hide(),i.pause()},i.ima.onContentResumeRequested_=function(e){A=O=!1,i.on("ended",$),w&&w.isLinear()&&(s.style.display="none"),a.show(),w&&(I||-1==w.getAdPodInfo().getPodIndex())||i.ads.endLinearAdMode(),d.innerHTML=""},i.ima.onAllAdsCompleted_=function(e){if(D=!0,1==I)for(var t in U)U[t]()},i.ima.onAdLoaded_=function(e){e.getAd().isLinear()||i.play()},i.ima.onAdStarted_=function(e){(w=e.getAd()).isLinear()?(T=setInterval(i.ima.onAdPlayheadTrackerInterval_,250),s.className=""):s.className="bumpable-ima-ad-container"},i.ima.onAdComplete_=function(e){w.isLinear()&&clearInterval(T)},i.ima.onAdPlayheadTrackerInterval_=function(){var e=_.getRemainingTime(),t=w.getDuration(),n=t-e;n=0<n?n:0;var i,r,o=!1;w.getAdPodInfo()&&(o=!0,i=w.getAdPodInfo().getAdPosition(),r=w.getAdPodInfo().getTotalAds());var a=Math.floor(e/60),s=Math.floor(e%60);s.toString().length<2&&(s="0"+s);var l=": ";o&&(l=" ("+i+" of "+r+"): "),d.innerHTML=c.adLabel+l+a+":"+s;var u=n/t*100;h.style.width=u+"%"},i.ima.getPlayerWidth=function(){return parseInt(getComputedStyle(i.el()).width,10)||i.width()},i.ima.getPlayerHeight=function(){return parseInt(getComputedStyle(i.el()).height,10)||i.height()},i.ima.hideAdControls_=function(){f.style.display="none",p.style.display="none",m.style.display="none",l.style.height="14px"},i.ima.showAdControls_=function(){l.style.height="37px",f.style.display="block",p.style.display="block",g.style.display="block",m.style.display="block"},i.ima.onAdPlayPauseClick_=function(){A=A?(f.className="ima-paused",_.pause(),!1):(f.className="ima-playing",_.resume(),!0)},i.ima.onAdMuteClick_=function(){P?(p.className="ima-non-muted",_.setVolume(1),i.muted(!1),P=!1,v.style.width=100*i.volume()+"%"):(p.className="ima-muted",_.setVolume(0),i.muted(!0),P=!0,v.style.width="0%")},i.ima.onAdVolumeSliderMouseDown_=function(){document.addEventListener("mouseup",i.ima.onMouseUp_,!1),document.addEventListener("mousemove",i.ima.onMouseMove_,!1)},i.ima.onMouseMove_=function(e){i.ima.setVolumeSlider_(e)},i.ima.onMouseUp_=function(e){i.ima.setVolumeSlider_(e),document.removeEventListener("mousemove",i.ima.onMouseMove_),document.removeEventListener("mouseup",i.ima.onMouseUp_)},i.ima.setVolumeSlider_=function(e){var t=(e.clientX-g.getBoundingClientRect().left)/g.offsetWidth;t*=100,t=Math.min(Math.max(t,0),100),v.style.width=t+"%",i.volume(t/100),_.setVolume(t/100),P=0==i.volume()?(p.className="ima-muted",i.muted(!0),!0):(p.className="ima-non-muted",i.muted(!1),!1)},i.ima.onAdFullscreenClick_=function(){i.isFullscreen()?i.exitFullscreen():i.requestFullscreen()},i.ima.onFullscreenChange_=function(){i.isFullscreen()?(m.className="ima-fullscreen",_&&_.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)):(m.className="ima-non-fullscreen",_&&_.resize(i.ima.getPlayerWidth(),i.ima.getPlayerHeight(),google.ima.ViewMode.NORMAL))},i.ima.onVolumeChange_=function(){var e=i.muted()?0:i.volume();_&&_.setVolume(e),0==e?(P=!0,p.className="ima-muted",v.style.width="0%"):(P=!1,p.className="ima-non-muted",v.style.width=100*e+"%")},i.ima.seekContentToZero_=function(){i.off("loadedmetadata",i.ima.seekContentToZero_),i.currentTime(0)},i.ima.playContentFromZero_=function(){i.off("loadedmetadata",i.ima.playContentFromZero_),i.currentTime(0),i.play()},i.ima.resetIMA_=function(){A=O=!1,i.on("ended",$),w&&w.isLinear()&&(s.style.display="none"),a.show(),i.ads.endLinearAdMode(),T&&clearInterval(T),_&&(_.destroy(),_=null),b&&!I&&b.contentComplete(),D=I=!1},i.ima.addEventListener=function(e,t){_&&_.addEventListener(e,t)},i.ima.getAdsManager=function(){return _},i.ima.setContent=function(e,t,n){i.ima.resetIMA_(),c.adTagUrl=t||c.adTagUrl,i.currentSrc()&&(i.currentTime(0),i.pause()),e&&i.src(e),n?i.on("loadedmetadata",i.ima.playContentFromZero_):i.on("loadedmetadata",i.ima.seekContentToZero_)},i.ima.addContentEndedListener=function(e){F.push(e)},i.ima.addContentAndAdsEndedListener=function(e){U.push(e)},i.ima.setAdBreakReadyListener=function(e){B=e},i.ima.pauseAd=function(){O&&A&&(f.className="ima-paused",_.pause(),A=!1)},i.ima.resumeAd=function(){O&&!A&&(f.className="ima-playing",_.resume(),A=!0)},i.ima.setUpPlayerIntervals_=function(){k=setInterval(i.ima.updateCurrentTime_,j),S=setInterval(i.ima.checkForSeeking_,j),E=setInterval(i.ima.checkForResize_,R)},i.ima.updateCurrentTime_=function(){M.seeking||(M.currentTime=i.currentTime())},i.ima.checkForSeeking_=function(){var e=1e3*(i.currentTime()-M.previousTime);Math.abs(e)>j+N?M.seeking=!0:M.seeking=!1,M.previousTime=i.currentTime()},i.ima.checkForResize_=function(){var e=i.ima.getPlayerWidth(),t=i.ima.getPlayerHeight();!_||e==L.width&&t==L.height||(L.width=e,L.height=t,_.resize(e,t,google.ima.ViewMode.NORMAL))};var c,n,r,o,a,s,l,d,u,h,f,p,g,v,m,y,b,_,w,T,k,S,E,C=!(i.ima.setShowCountdown=function(e){r=e,d.style.display=r?"block":"none"}),x=null,O=!1,A=!1,P=!1,I=!1,D=!1,j=1e3,R=250,N=100,M={currentTime:0,previousTime:0,seeking:!1,duration:0},L={width:0,height:0},F=[],U=[],B=void 0,$=function(){for(var e in b&&!I&&(b.contentComplete(),I=!0),F)F[e]();if(D)for(var e in U)U[e]();clearInterval(k),clearInterval(S),clearInterval(E),i.one("play",i.ima.setUpPlayerIntervals_)};if((c=q({},G,e||{})).id){n=document.getElementById(c.id+"_html5_api"),r=!0,0==c.showCountdown&&(r=!1),o=!0,0==c.autoPlayAdBreaks&&(o=!1),i.one("play",i.ima.setUpPlayerIntervals_),i.on("ended",$),i.on("dispose",function(){U=[],I=!0,i.off("ended",$),i.ads.adTimeoutTimeout&&clearTimeout(i.ads.adTimeoutTimeout);var e=[k,S,T,E];for(var t in e){var n=e[t];n&&clearInterval(n)}_&&(_.destroy(),_=null)});var H={debug:c.debug,timeout:c.timeout,prerollTimeout:c.prerollTimeout},W=q({},H,e.contribAdsSettings||{});if(i.ads(W),(x=new google.ima.AdsRenderingSettings).restoreCustomPlaybackStateOnAdBreakComplete=!0,c.adsRenderingSettings)for(var V in c.adsRenderingSettings)x[V]=c.adsRenderingSettings[V];c.locale&&google.ima.settings.setLocale(c.locale),i.ima.createAdContainer_(),(b=new google.ima.AdsLoader(y)).getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==c.vpaidAllowed&&b.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),c.vpaidMode&&b.getSettings().setVpaidMode(c.vpaidMode),c.locale&&b.getSettings().setLocale(c.locale),c.numRedirects&&b.getSettings().setNumRedirects(c.numRedirects),b.getSettings().setPlayerType("videojs-ima"),b.getSettings().setPlayerVersion("0.2.0"),b.getSettings().setAutoPlayAdBreaks(o),b.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,i.ima.onAdsManagerLoaded_,!1),b.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,i.ima.onAdsLoaderError_,!1),t||(t=i.ima.start),i.on("readyforpreroll",t),i.ready(function(){i.on("fullscreenchange",i.ima.onFullscreenChange_),i.on("volumechange",i.ima.onVolumeChange_)})}else window.console.log("Error: must provide id of video.js div")})}(window.videojs),function(e){"use strict";window.videojs.plugin("socialShare",function(i){i=i||{html:"<h1>Header</h1><p>Some content here...</p>"};var r=this;function o(e){$("#discover").click(function(){r.volume(1)})}r.ready(function(){var e,t,n;t=document.createDocumentFragment(),n=document.createElement("aside"),i.facebook&&((e=document.createElement("a")).className="vjs-social-share-link",e.setAttribute("data-network","facebook"),e.innerHTML='<img id="discover" class="vjs-social-share-svg" src="https://cdn1.iconfinder.com/data/icons/media-player-long-shadow/50/Volume_Mute-128.png"/>',e.addEventListener("click",o,!1),n.appendChild(e)),n.className="vjs-social-share is-visible",t.appendChild(n),r.el().appendChild(t)})})}(),function(e){"use strict";window.videojs.plugin("endcapCTA",function(n){n=n||{html:"<h1>Header</h1><p>Some content here...</p>"};var i=this;i.ready(function(){var e,t;e=document.createDocumentFragment(),(t=document.createElement("aside")).className="vjs-endcapCTA",t.innerHTML=n.html,e.appendChild(t),i.el().appendChild(e),document.getElementById("discover").onclick=function(){console.log(i),i.volume(1)}})})}(),function(e){e.fn.imgProgress=function(e){var t=null==e.img_url?"http://no.flyingtiger.com/Content/img/noPicture.png":e.img_url,n=null==e.size?200:e.size,i=null==e.barSize?12:e.barSize,r=null==e.backgroundColor?"white":e.backgroundColor,o=null==e.foregroundColor?"red":e.foregroundColor,a=null==e.percent?0:e.percent,s=null==e.backgroundSize?"cover":e.backgroundSize,l=this[0];l.classList.add("imgProgress-round"),l.classList.add("imgProgress-progress"),l.style.width=n+"px",l.style.height=n+"px";var u="http://www.w3.org/2000/svg",c=document.createElementNS(u,"svg");c.setAttribute("class","imgProgress-svg"),c.setAttributeNS(null,"viewBox","0 0 32 32"),c.style.background=r,c.style.border="1px solid"+r;var d=document.createElementNS(u,"circle");d.setAttribute("class","imgProgress-circle"),d.setAttributeNS(null,"r","16"),d.setAttributeNS(null,"cx","16"),d.setAttributeNS(null,"cy","16"),d.style.strokeDasharray=a+" 100",d.style.fill=r,d.style.stroke=o,c.appendChild(d),l.appendChild(c);var h=document.createElement("div");h.setAttribute("class","imgProgress-img"),h.style.background="url("+t+") 50% 50% no-repeat, white",h.style.backgroundSize=s,h.style.width=n-getPercent(i,n)+"px",h.style.height=n-getPercent(i,n)+"px",h.style.top=getPercent(i,n)/2+"px",h.style.left=getPercent(i,n)/2+"px",l.appendChild(h)},e.fn.imgProgressTo=function(e){return 0<=e&&e<=100?(this[0].querySelector(".imgProgress-circle").style.strokeDasharray=e+" 100",e):-1},e.fn.imgProgressUpdateOf=function(e){var t=this[0].querySelector(".imgProgress-circle"),n=t.style.strokeDasharray.split(", ")[0];return 0<=(n=Number(n)+e)&&n<=100?(t.style.strokeDasharray=n+" 100",n):-1},e.fn.imgProgressGet=function(){return this[0].querySelector(".imgProgress-circle").style.strokeDasharray.split(", ")[0]}}(jQuery),function(e,t,n){"use strict";"function"==typeof define&&define.amd?define(n):"undefined"!=typeof module&&module.exports?module.exports=n():t.exports?t.exports=n():t.Fingerprint2=n()}(0,this,function(){"use strict";var t=function(e){if(!(this instanceof t))return new t(e);this.options=this.extend(e,{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i],userDefinedFonts:[]}),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map};return t.prototype={extend:function(e,t){if(null==e)return t;for(var n in e)null!=e[n]&&t[n]!==e[n]&&(t[n]=e[n]);return t},get:function(i){var e=[];e=this.userAgentKey(e),e=this.languageKey(e),e=this.colorDepthKey(e),e=this.pixelRatioKey(e),e=this.hardwareConcurrencyKey(e),e=this.screenResolutionKey(e),e=this.availableScreenResolutionKey(e),e=this.timezoneOffsetKey(e),e=this.sessionStorageKey(e),e=this.localStorageKey(e),e=this.indexedDbKey(e),e=this.addBehaviorKey(e),e=this.openDatabaseKey(e),e=this.cpuClassKey(e),e=this.platformKey(e),e=this.doNotTrackKey(e),e=this.pluginsKey(e),e=this.canvasKey(e),e=this.webglKey(e),e=this.adBlockKey(e),e=this.hasLiedLanguagesKey(e),e=this.hasLiedResolutionKey(e),e=this.hasLiedOsKey(e),e=this.hasLiedBrowserKey(e),e=this.touchSupportKey(e),e=this.customEntropyFunction(e);var r=this;this.fontsKey(e,function(e){var n=[];r.each(e,function(e){var t=e.value;void 0!==e.value.join&&(t=e.value.join(";")),n.push(t)});var t=r.x64hash128(n.join("~~~"),31);return i(t,e)})},customEntropyFunction:function(e){return"function"==typeof this.options.customFunction&&e.push({key:"custom",value:this.options.customFunction()}),e},userAgentKey:function(e){return this.options.excludeUserAgent||e.push({key:"user_agent",value:this.getUserAgent()}),e},getUserAgent:function(){return navigator.userAgent},languageKey:function(e){return this.options.excludeLanguage||e.push({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}),e},colorDepthKey:function(e){return this.options.excludeColorDepth||e.push({key:"color_depth",value:screen.colorDepth||-1}),e},pixelRatioKey:function(e){return this.options.excludePixelRatio||e.push({key:"pixel_ratio",value:this.getPixelRatio()}),e},getPixelRatio:function(){return window.devicePixelRatio||""},screenResolutionKey:function(e){return this.options.excludeScreenResolution?e:this.getScreenResolution(e)},getScreenResolution:function(e){var t;return void 0!==(t=this.options.detectScreenOrientation&&screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height])&&e.push({key:"resolution",value:t}),e},availableScreenResolutionKey:function(e){return this.options.excludeAvailableScreenResolution?e:this.getAvailableScreenResolution(e)},getAvailableScreenResolution:function(e){var t;return screen.availWidth&&screen.availHeight&&(t=this.options.detectScreenOrientation?screen.availHeight>screen.availWidth?[screen.availHeight,screen.availWidth]:[screen.availWidth,screen.availHeight]:[screen.availHeight,screen.availWidth]),void 0!==t&&e.push({key:"available_resolution",value:t}),e},timezoneOffsetKey:function(e){return this.options.excludeTimezoneOffset||e.push({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),e},sessionStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&e.push({key:"session_storage",value:1}),e},localStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&e.push({key:"local_storage",value:1}),e},indexedDbKey:function(e){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&e.push({key:"indexed_db",value:1}),e},addBehaviorKey:function(e){return document.body&&!this.options.excludeAddBehavior&&document.body.addBehavior&&e.push({key:"add_behavior",value:1}),e},openDatabaseKey:function(e){return!this.options.excludeOpenDatabase&&window.openDatabase&&e.push({key:"open_database",value:1}),e},cpuClassKey:function(e){return this.options.excludeCpuClass||e.push({key:"cpu_class",value:this.getNavigatorCpuClass()}),e},platformKey:function(e){return this.options.excludePlatform||e.push({key:"navigator_platform",value:this.getNavigatorPlatform()}),e},doNotTrackKey:function(e){return this.options.excludeDoNotTrack||e.push({key:"do_not_track",value:this.getDoNotTrack()}),e},canvasKey:function(e){return!this.options.excludeCanvas&&this.isCanvasSupported()&&e.push({key:"canvas",value:this.getCanvasFp()}),e},webglKey:function(e){return this.options.excludeWebGL||this.isWebGlSupported()&&e.push({key:"webgl",value:this.getWebglFp()}),e},adBlockKey:function(e){return this.options.excludeAdBlock||e.push({key:"adblock",value:this.getAdBlock()}),e},hasLiedLanguagesKey:function(e){return this.options.excludeHasLiedLanguages||e.push({key:"has_lied_languages",value:this.getHasLiedLanguages()}),e},hasLiedResolutionKey:function(e){return this.options.excludeHasLiedResolution||e.push({key:"has_lied_resolution",value:this.getHasLiedResolution()}),e},hasLiedOsKey:function(e){return this.options.excludeHasLiedOs||e.push({key:"has_lied_os",value:this.getHasLiedOs()}),e},hasLiedBrowserKey:function(e){return this.options.excludeHasLiedBrowser||e.push({key:"has_lied_browser",value:this.getHasLiedBrowser()}),e},fontsKey:function(e,t){return this.options.excludeJsFonts?this.flashFontsKey(e,t):this.jsFontsKey(e,t)},flashFontsKey:function(t,n){return this.options.excludeFlashFonts?n(t):this.hasSwfObjectLoaded()&&this.hasMinFlashInstalled()?void 0===this.options.swfPath?n(t):void this.loadSwfAndDetectFonts(function(e){t.push({key:"swf_fonts",value:e.join(";")}),n(t)}):n(t)},jsFontsKey:function(v,m){var y=this;return setTimeout(function(){var c=["monospace","sans-serif","serif"],d=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];y.options.extendedJsFonts&&(d=d.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])),d=d.concat(y.options.userDefinedFonts);var e=document.getElementsByTagName("body")[0],r=document.createElement("div"),h=document.createElement("div"),i={},o={},f=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="72px",e.style.lineHeight="normal",e.innerHTML="mmmmmmmmmmlli",e},t=function(e){for(var t=!1,n=0;n<c.length;n++)if(t=e[n].offsetWidth!==i[c[n]]||e[n].offsetHeight!==o[c[n]])return t;return t},n=function(){for(var e=[],t=0,n=c.length;t<n;t++){var i=f();i.style.fontFamily=c[t],r.appendChild(i),e.push(i)}return e}();e.appendChild(r);for(var a=0,s=c.length;a<s;a++)i[c[a]]=n[a].offsetWidth,o[c[a]]=n[a].offsetHeight;var l=function(){for(var e,t,n,i={},r=0,o=d.length;r<o;r++){for(var a=[],s=0,l=c.length;s<l;s++){var u=(e=d[r],t=c[s],n=void 0,(n=f()).style.fontFamily="'"+e+"',"+t,n);h.appendChild(u),a.push(u)}i[d[r]]=a}return i}();e.appendChild(h);for(var u=[],p=0,g=d.length;p<g;p++)t(l[d[p]])&&u.push(d[p]);e.removeChild(h),e.removeChild(r),v.push({key:"js_fonts",value:u}),m(v)},1)},pluginsKey:function(e){return this.options.excludePlugins||(this.isIE()?this.options.excludeIEPlugins||e.push({key:"ie_plugins",value:this.getIEPlugins()}):e.push({key:"regular_plugins",value:this.getRegularPlugins()})),e},getRegularPlugins:function(){for(var e=[],t=0,n=navigator.plugins.length;t<n;t++)e.push(navigator.plugins[t]);return this.pluginsShouldBeSorted()&&(e=e.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),this.map(e,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this)},getIEPlugins:function(){var e=[];return(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window)&&(e=this.map(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],function(e){try{return new ActiveXObject(e),e}catch(e){return null}})),navigator.plugins&&(e=e.concat(this.getRegularPlugins())),e},pluginsShouldBeSorted:function(){for(var e=!1,t=0,n=this.options.sortPluginsFor.length;t<n;t++){var i=this.options.sortPluginsFor[t];if(navigator.userAgent.match(i)){e=!0;break}}return e},touchSupportKey:function(e){return this.options.excludeTouchSupport||e.push({key:"touch_support",value:this.getTouchSupport()}),e},hardwareConcurrencyKey:function(e){return this.options.excludeHardwareConcurrency||e.push({key:"hardware_concurrency",value:this.getHardwareConcurrency()}),e},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasIndexedDB:function(){try{return!!window.indexedDB}catch(e){return!0}},getHardwareConcurrency:function(){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:"unknown"},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:"unknown"},getTouchSupport:function(){var e=0,t=!1;void 0!==navigator.maxTouchPoints?e=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){}return[e,t,"ontouchstart"in window]},getCanvasFp:function(){var e=[],t=document.createElement("canvas");t.width=2e3,t.height=200,t.style.display="inline";var n=t.getContext("2d");return n.rect(0,0,10,10),n.rect(2,2,6,6),e.push("canvas winding:"+(!1===n.isPointInPath(5,5,"evenodd")?"yes":"no")),n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",this.options.dontUseFakeFontInCanvas?n.font="11pt Arial":n.font="11pt no-real-font-123",n.fillText("Cwm fjordbank glyphs vext quiz, ",2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, ",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),e.push("canvas fp:"+t.toDataURL()),e.join("~")},getWebglFp:function(){var t,e=function(e){return t.clearColor(0,0,0,1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),"["+e[0]+", "+e[1]+"]"};if(!(t=this.getWebglCanvas()))return null;var n=[],i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i);var r=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),i.itemSize=3,i.numItems=3;var o=t.createProgram(),a=t.createShader(t.VERTEX_SHADER);t.shaderSource(a,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),t.compileShader(a);var s,l,u,c=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(c,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),t.compileShader(c),t.attachShader(o,a),t.attachShader(o,c),t.linkProgram(o),t.useProgram(o),o.vertexPosAttrib=t.getAttribLocation(o,"attrVertex"),o.offsetUniform=t.getUniformLocation(o,"uniformOffset"),t.enableVertexAttribArray(o.vertexPosArray),t.vertexAttribPointer(o.vertexPosAttrib,i.itemSize,t.FLOAT,!1,0,0),t.uniform2f(o.offsetUniform,1,1),t.drawArrays(t.TRIANGLE_STRIP,0,i.numItems),null!=t.canvas&&n.push(t.canvas.toDataURL()),n.push("extensions:"+t.getSupportedExtensions().join(";")),n.push("webgl aliased line width range:"+e(t.getParameter(t.ALIASED_LINE_WIDTH_RANGE))),n.push("webgl aliased point size range:"+e(t.getParameter(t.ALIASED_POINT_SIZE_RANGE))),n.push("webgl alpha bits:"+t.getParameter(t.ALPHA_BITS)),n.push("webgl antialiasing:"+(t.getContextAttributes().antialias?"yes":"no")),n.push("webgl blue bits:"+t.getParameter(t.BLUE_BITS)),n.push("webgl depth bits:"+t.getParameter(t.DEPTH_BITS)),n.push("webgl green bits:"+t.getParameter(t.GREEN_BITS)),n.push("webgl max anisotropy:"+((u=(s=t).getExtension("EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic"))?(0===(l=s.getParameter(u.MAX_TEXTURE_MAX_ANISOTROPY_EXT))&&(l=2),l):null)),n.push("webgl max combined texture image units:"+t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),n.push("webgl max cube map texture size:"+t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE)),n.push("webgl max fragment uniform vectors:"+t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS)),n.push("webgl max render buffer size:"+t.getParameter(t.MAX_RENDERBUFFER_SIZE)),n.push("webgl max texture image units:"+t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),n.push("webgl max texture size:"+t.getParameter(t.MAX_TEXTURE_SIZE)),n.push("webgl max varying vectors:"+t.getParameter(t.MAX_VARYING_VECTORS)),n.push("webgl max vertex attribs:"+t.getParameter(t.MAX_VERTEX_ATTRIBS)),n.push("webgl max vertex texture image units:"+t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),n.push("webgl max vertex uniform vectors:"+t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS)),n.push("webgl max viewport dims:"+e(t.getParameter(t.MAX_VIEWPORT_DIMS))),n.push("webgl red bits:"+t.getParameter(t.RED_BITS)),n.push("webgl renderer:"+t.getParameter(t.RENDERER)),n.push("webgl shading language version:"+t.getParameter(t.SHADING_LANGUAGE_VERSION)),n.push("webgl stencil bits:"+t.getParameter(t.STENCIL_BITS)),n.push("webgl vendor:"+t.getParameter(t.VENDOR)),n.push("webgl version:"+t.getParameter(t.VERSION));try{var d=t.getExtension("WEBGL_debug_renderer_info");d&&(n.push("webgl unmasked vendor:"+t.getParameter(d.UNMASKED_VENDOR_WEBGL)),n.push("webgl unmasked renderer:"+t.getParameter(d.UNMASKED_RENDERER_WEBGL)))}catch(e){}return t.getShaderPrecisionFormat&&(n.push("webgl vertex shader high float precision:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision),n.push("webgl vertex shader high float precision rangeMin:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).rangeMin),n.push("webgl vertex shader high float precision rangeMax:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).rangeMax),n.push("webgl vertex shader medium float precision:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision),n.push("webgl vertex shader medium float precision rangeMin:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).rangeMin),n.push("webgl vertex shader medium float precision rangeMax:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).rangeMax),n.push("webgl vertex shader low float precision:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.LOW_FLOAT).precision),n.push("webgl vertex shader low float precision rangeMin:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.LOW_FLOAT).rangeMin),n.push("webgl vertex shader low float precision rangeMax:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.LOW_FLOAT).rangeMax),n.push("webgl fragment shader high float precision:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision),n.push("webgl fragment shader high float precision rangeMin:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).rangeMin),n.push("webgl fragment shader high float precision rangeMax:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).rangeMax),n.push("webgl fragment shader medium float precision:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision),n.push("webgl fragment shader medium float precision rangeMin:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).rangeMin),n.push("webgl fragment shader medium float precision rangeMax:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).rangeMax),n.push("webgl fragment shader low float precision:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.LOW_FLOAT).precision),n.push("webgl fragment shader low float precision rangeMin:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.LOW_FLOAT).rangeMin),n.push("webgl fragment shader low float precision rangeMax:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.LOW_FLOAT).rangeMax),n.push("webgl vertex shader high int precision:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_INT).precision),n.push("webgl vertex shader high int precision rangeMin:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_INT).rangeMin),n.push("webgl vertex shader high int precision rangeMax:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_INT).rangeMax),n.push("webgl vertex shader medium int precision:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_INT).precision),n.push("webgl vertex shader medium int precision rangeMin:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_INT).rangeMin),n.push("webgl vertex shader medium int precision rangeMax:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_INT).rangeMax),n.push("webgl vertex shader low int precision:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.LOW_INT).precision),n.push("webgl vertex shader low int precision rangeMin:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.LOW_INT).rangeMin),n.push("webgl vertex shader low int precision rangeMax:"+t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.LOW_INT).rangeMax),n.push("webgl fragment shader high int precision:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_INT).precision),n.push("webgl fragment shader high int precision rangeMin:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_INT).rangeMin),n.push("webgl fragment shader high int precision rangeMax:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_INT).rangeMax),n.push("webgl fragment shader medium int precision:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_INT).precision),n.push("webgl fragment shader medium int precision rangeMin:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_INT).rangeMin),n.push("webgl fragment shader medium int precision rangeMax:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_INT).rangeMax),n.push("webgl fragment shader low int precision:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.LOW_INT).precision),n.push("webgl fragment shader low int precision rangeMin:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.LOW_INT).rangeMin),n.push("webgl fragment shader low int precision rangeMax:"+t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.LOW_INT).rangeMax)),n.join("~")},getAdBlock:function(){var e=document.createElement("div");e.innerHTML="&nbsp;";var t=!(e.className="adsbox");try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(e){t=!1}return t},getHasLiedLanguages:function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},getHasLiedResolution:function(){return screen.width<screen.availWidth||screen.height<screen.availHeight},getHasLiedOs:function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.oscpu,i=navigator.platform.toLowerCase();if(e=0<=t.indexOf("windows phone")?"Windows Phone":0<=t.indexOf("win")?"Windows":0<=t.indexOf("android")?"Android":0<=t.indexOf("linux")?"Linux":0<=t.indexOf("iphone")||0<=t.indexOf("ipad")?"iOS":0<=t.indexOf("mac")?"Mac":"Other",("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&"Windows Phone"!=e&&"Android"!=e&&"iOS"!=e&&"Other"!=e)return!0;if(void 0!==n){if(0<=(n=n.toLowerCase()).indexOf("win")&&"Windows"!=e&&"Windows Phone"!=e)return!0;if(0<=n.indexOf("linux")&&"Linux"!=e&&"Android"!=e)return!0;if(0<=n.indexOf("mac")&&"Mac"!=e&&"iOS"!=e)return!0;if(0===n.indexOf("win")&&0===n.indexOf("linux")&&0<=n.indexOf("mac")&&"other"!=e)return!0}return 0<=i.indexOf("win")&&"Windows"!=e&&"Windows Phone"!=e||(0<=i.indexOf("linux")||0<=i.indexOf("android")||0<=i.indexOf("pike"))&&"Linux"!=e&&"Android"!=e||(0<=i.indexOf("mac")||0<=i.indexOf("ipad")||0<=i.indexOf("ipod")||0<=i.indexOf("iphone"))&&"Mac"!=e&&"iOS"!=e||0===i.indexOf("win")&&0===i.indexOf("linux")&&0<=i.indexOf("mac")&&"other"!=e||void 0===navigator.plugins&&"Windows"!=e&&"Windows Phone"!=e},getHasLiedBrowser:function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(("Chrome"==(e=0<=t.indexOf("firefox")?"Firefox":0<=t.indexOf("opera")||0<=t.indexOf("opr")?"Opera":0<=t.indexOf("chrome")?"Chrome":0<=t.indexOf("safari")?"Safari":0<=t.indexOf("trident")?"Internet Explorer":"Other")||"Safari"==e||"Opera"==e)&&"20030107"!==n)return!0;var i,r=eval.toString().length;if(37===r&&"Safari"!=e&&"Firefox"!=e&&"Other"!=e)return!0;if(39===r&&"Internet Explorer"!=e&&"Other"!=e)return!0;if(33===r&&"Chrome"!=e&&"Opera"!=e&&"Other"!=e)return!0;try{throw"a"}catch(e){try{e.toSource(),i=!0}catch(e){i=!1}}return!(!i||"Firefox"==e||"Other"==e)},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var e,t=document.createElement("canvas");try{e=t.getContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){e=!1}return!!window.WebGLRenderingContext&&!!e},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return void 0!==window.swfobject},hasMinFlashInstalled:function(){return swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var e=document.createElement("div");e.setAttribute("id",this.options.swfContainerId),document.body.appendChild(e)},loadSwfAndDetectFonts:function(t){var e="___fp_swf_loaded";window[e]=function(e){t(e)};var n=this.options.swfContainerId;this.addFlashDivNode();var i={onReady:e};swfobject.embedSWF(this.options.swfPath,n,"1","1","9.0.0",!1,i,{allowScriptAccess:"always",menu:"false"},{})},getWebglCanvas:function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t},each:function(e,t,n){if(null!==e)if(this.nativeForEach&&e.forEach===this.nativeForEach)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e)==={})return}else for(var o in e)if(e.hasOwnProperty(o)&&t.call(n,e[o],o,e)==={})return},map:function(e,i,r){var o=[];return null==e?o:this.nativeMap&&e.map===this.nativeMap?e.map(i,r):(this.each(e,function(e,t,n){o[o.length]=i.call(r,e,t,n)}),o)},x64Add:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Multiply:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Rotl:function(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},x64LeftShift:function(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},x64Xor:function(e,t){return[e[0]^t[0],e[1]^t[1]]},x64Fmix:function(e){return e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[4283543511,3981806797]),e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[3301882366,444984403]),this.x64Xor(e,[0,e[0]>>>1])},x64hash128:function(e,t){t=t||0;for(var n=(e=e||"").length%16,i=e.length-n,r=[0,t],o=[0,t],a=[0,0],s=[0,0],l=[2277735313,289559509],u=[1291169091,658871167],c=0;c<i;c+=16)a=[255&e.charCodeAt(c+4)|(255&e.charCodeAt(c+5))<<8|(255&e.charCodeAt(c+6))<<16|(255&e.charCodeAt(c+7))<<24,255&e.charCodeAt(c)|(255&e.charCodeAt(c+1))<<8|(255&e.charCodeAt(c+2))<<16|(255&e.charCodeAt(c+3))<<24],s=[255&e.charCodeAt(c+12)|(255&e.charCodeAt(c+13))<<8|(255&e.charCodeAt(c+14))<<16|(255&e.charCodeAt(c+15))<<24,255&e.charCodeAt(c+8)|(255&e.charCodeAt(c+9))<<8|(255&e.charCodeAt(c+10))<<16|(255&e.charCodeAt(c+11))<<24],a=this.x64Multiply(a,l),a=this.x64Rotl(a,31),a=this.x64Multiply(a,u),r=this.x64Xor(r,a),r=this.x64Rotl(r,27),r=this.x64Add(r,o),r=this.x64Add(this.x64Multiply(r,[0,5]),[0,1390208809]),s=this.x64Multiply(s,u),s=this.x64Rotl(s,33),s=this.x64Multiply(s,l),o=this.x64Xor(o,s),o=this.x64Rotl(o,31),o=this.x64Add(o,r),o=this.x64Add(this.x64Multiply(o,[0,5]),[0,944331445]);switch(a=[0,0],s=[0,0],n){case 15:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(c+14)],48));case 14:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(c+13)],40));case 13:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(c+12)],32));case 12:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(c+11)],24));case 11:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(c+10)],16));case 10:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(c+9)],8));case 9:s=this.x64Xor(s,[0,e.charCodeAt(c+8)]),s=this.x64Multiply(s,u),s=this.x64Rotl(s,33),s=this.x64Multiply(s,l),o=this.x64Xor(o,s);case 8:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(c+7)],56));case 7:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(c+6)],48));case 6:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(c+5)],40));case 5:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(c+4)],32));case 4:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(c+3)],24));case 3:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(c+2)],16));case 2:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(c+1)],8));case 1:a=this.x64Xor(a,[0,e.charCodeAt(c)]),a=this.x64Multiply(a,l),a=this.x64Rotl(a,31),a=this.x64Multiply(a,u),r=this.x64Xor(r,a)}return r=this.x64Xor(r,[0,e.length]),o=this.x64Xor(o,[0,e.length]),r=this.x64Add(r,o),o=this.x64Add(o,r),r=this.x64Fmix(r),o=this.x64Fmix(o),r=this.x64Add(r,o),o=this.x64Add(o,r),("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}},t.VERSION="1.5.1",t});var firebase=function(){var b=void 0===b?self:b;return function(l){function u(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,u),t.l=!0,t.exports}var c=b.webpackJsonp;b.webpackJsonp=function(e,t,n){for(var i,r,o,a=0,s=[];a<e.length;a++)r=e[a],d[r]&&s.push(d[r][0]),d[r]=0;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(l[i]=t[i]);for(c&&c(e,t,n);s.length;)s.shift()();if(n)for(a=0;a<n.length;a++)o=u(u.s=n[a]);return o};var n={},d={2:0};return u.e=function(n){function e(){r.onerror=r.onload=null,clearTimeout(o);var e=d[n];0!==e&&(e&&e[1](new Error("Loading chunk "+n+" failed.")),d[n]=void 0)}if(0===d[n])return Promise.resolve();if(d[n])return d[n][2];var t=new Promise(function(e,t){d[n]=[e,t]});d[n][2]=t;var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.timeout=12e4,u.nc&&r.setAttribute("nonce",u.nc),r.src=u.p+""+n+".js";var o=setTimeout(e,12e4);return r.onerror=r.onload=e,i.appendChild(r),t},u.m=l,u.c=n,u.i=function(e){return e},u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw console.error(e),e},u(u.s=4)}({10:function(e,i,r){"use strict";(function(e){Object.defineProperty(i,"__esModule",{value:!0});var t=void 0;if(void 0!==e)t=e;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise||r(52);i.local={Promise:n,GoogPromise:n}}).call(i,r(26))},17:function(e,t,n){"use strict";function a(){}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();t.createSubscribe=function(e,t){var n=new i(e,t);return n.subscribe.bind(n)},t.async=function(i,r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.resolve(!0).then(function(){i.apply(void 0,t)}).catch(function(e){r&&r(e)})}};var o=n(10).local.Promise,i=function(){function i(e,t){var n=this;(function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")})(this),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=o.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return r(i,[{key:"next",value:function(t){this.forEachObserver(function(e){e.next(t)})}},{key:"error",value:function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var i=this,r=void 0;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==(void 0===e?"undefined":l(e))||null===e)return!1;var n=!0,i=!1,r=void 0;try{for(var o,a=["next","error","complete"][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s in e&&"function"==typeof e[s])return!0}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=a),void 0===r.error&&(r.error=a),void 0===r.complete&&(r.complete=a);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),i}()},26:function(uj,vj){var wj;wj=function(){return this}();try{wj=wj||Function("return this")()||eval("this")}catch(uj){"object"==typeof b&&(wj=b)}uj.exports=wj},27:function(e,t,n){"use strict";function c(e,t){throw r.create(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();t.createFirebaseNamespace=function e(){function a(e){var t=o[e=e||v];return void 0===t&&c("no-app",{name:e}),t}function i(n,i){Object.keys(s).forEach(function(e){var t=r(n,e);null!==t&&l[t]&&l[t](i,n)})}function r(e,t){return"serverAuth"===t?null:(e.options,t)}var o={},s={},l={},u={__esModule:!0,initializeApp:function(e,t){void 0===t?t=v:"string"==typeof t&&""!==t||c("bad-app-name",{name:t+""}),void 0!==o[t]&&c("duplicate-app",{name:t});var n=new m(e,t,u);return i(o[t]=n,"create"),null!=n.INTERNAL&&null!=n.INTERNAL.getToken||(0,p.deepExtend)(n,{INTERNAL:{getUid:function(){return null},getToken:function(){return g.resolve(null)},addAuthTokenListener:function(e){setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(){}}}),n},app:a,apps:null,Promise:g,SDK_VERSION:"4.0.0",INTERNAL:{registerService:function(t,n,e,i,r){var o;return s[t]&&c("duplicate-service",{name:t}),s[t]=r?n:function(e,t){return n(e,t,v)},i&&(l[t]=i),o=function(e){return void 0===e&&(e=a()),"function"!=typeof e[t]&&c("invalid-app-argument",{name:t}),e[t]()},void 0!==e&&(0,p.deepExtend)(o,e),u[t]=o},createFirebaseNamespace:e,extendNamespace:function(e){(0,p.deepExtend)(u,e)},createSubscribe:d.createSubscribe,ErrorFactory:h.ErrorFactory,removeApp:function(e){i(o[e],"delete"),delete o[e]},factories:s,useAsService:r,Promise:f.local.GoogPromise,deepExtend:p.deepExtend}};return(0,p.patchProperty)(u,"default",u),Object.defineProperty(u,"apps",{get:function(){return Object.keys(o).map(function(e){return o[e]})}}),(0,p.patchProperty)(a,"App",m),u};var d=n(17),h=n(9),f=n(10),p=n(32),g=f.local.Promise,v="[DEFAULT]",m=function(){function n(e,t,i){var r=this;(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.firebase_=i,this.isDeleted_=!1,this.services_={},this.name_=t,this.options_=(0,p.deepCopy)(e),Object.keys(i.INTERNAL.factories).forEach(function(e){var t=i.INTERNAL.useAsService(r,e);if(null!==t){var n=r.getService.bind(r,t);(0,p.patchProperty)(r,e,n)}})}return i(n,[{key:"delete",value:function(){var i=this;return new g(function(e){i.checkDestroyed_(),e()}).then(function(){i.firebase_.INTERNAL.removeApp(i.name_);var n=[];return Object.keys(i.services_).forEach(function(t){Object.keys(i.services_[t]).forEach(function(e){n.push(i.services_[t][e])})}),g.all(n.map(function(e){return e.INTERNAL.delete()}))}).then(function(){i.isDeleted_=!0,i.services_={}})}},{key:"getService",value:function(e,t){this.checkDestroyed_(),void 0===this.services_[e]&&(this.services_[e]={});var n=t||v;if(void 0!==this.services_[e][n])return this.services_[e][n];var i=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),t);return this.services_[e][n]=i}},{key:"extendApp",value:function(e){(0,p.deepExtend)(this,e)}},{key:"checkDestroyed_",value:function(){this.isDeleted_&&c("app-deleted",{name:this.name_})}},{key:"name",get:function(){return this.checkDestroyed_(),this.name_}},{key:"options",get:function(){return this.checkDestroyed_(),this.options_}}]),n}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var r=new h.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."})},32:function(e,t,n){"use strict";function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=i(e[n],t[n]));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=function(e){return i(void 0,e)},t.deepExtend=i,t.patchProperty=function(e,t,n){e[t]=n}},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(0,n(27).createFirebaseNamespace)();t.default=i,e.exports=t.default},51:function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(){p&&h&&(p=!1,h.length?f=h.concat(f):g=-1,f.length&&a())}function a(){if(!p){var e=r(o);p=!0;for(var t=f.length;t;){for(h=f,f=[];++g<t;)h&&h[g].run();g=-1,t=f.length}h=null,p=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===i||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var u,c,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{c="function"==typeof clearTimeout?clearTimeout:i}catch(e){c=i}}();var h,f=[],p=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new s(e,t)),1!==f.length||p||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},52:function(d,e,t){(function(n){!function(e){function i(){}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function r(n,i){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn(function(){var e=1===n._state?i.onFulfilled:i.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void s(i.promise,e)}a(i.promise,t)}else(1===n._state?a:s)(i.promise,n._value)})):n._deferreds.push(i)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void c((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){s(e,t)}var i,r}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var t=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return r(this,new u(e,t,n)),n},o.all=function(e){var s=Array.prototype.slice.call(e);return new o(function(i,r){function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){o(t,e)},r)}s[t]=e,0==--a&&i(s)}catch(e){r(e)}}if(0===s.length)return i([]);for(var a=s.length,e=0;e<s.length;e++)o(e,s[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(r){return new o(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},o._immediateFn="function"==typeof n&&function(e){n(e)}||function(e){t(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==d&&d.exports?d.exports=o:e.Promise||(e.Promise=o)}(this)}).call(e,t(54).setImmediate)},53:function(e,t,n){(function(e,p){!function(n,i){"use strict";function r(e){delete l[e]}function o(e){if(u)setTimeout(o,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}(t)}finally{r(e),u=!1}}}}if(!n.setImmediate){var a,s=1,l={},u=!1,c=n.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(n);e=e&&e.setTimeout?e:n,a="[object process]"==={}.toString.call(n.process)?function(e){p.nextTick(function(){o(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(h="setImmediate$"+Math.random()+"$",f=function(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(h)&&o(+e.data.slice(h.length))},n.addEventListener?n.addEventListener("message",f,!1):n.attachEvent("onmessage",f),function(e){n.postMessage(h+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){o(e.data)},function(e){t.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){o(e),t.onreadystatechange=null,d.removeChild(t),t=null},d.appendChild(t)}):function(e){setTimeout(o,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[s]=i,a(s),s++},e.clearImmediate=r}var d,t,h,f}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(26),n(51))},54:function(e,t,n){function i(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;t.setTimeout=function(){return new i(r.call(setTimeout,b,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,b,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(b,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(53),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},9:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();t.patchCapture=function(e){var t=a;return a=e,t};var a=Error.captureStackTrace,s=t.FirebaseError=function e(t,n){if(r(this,e),this.code=t,this.message=n,a)a(this,l.prototype.create);else{var i=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return i.stack}})}};s.prototype=Object.create(Error.prototype),(s.prototype.constructor=s).prototype.name="FirebaseError";var l=t.ErrorFactory=function(){function i(e,t,n){r(this,i),this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return o(i,[{key:"create",value:function(e,i){void 0===i&&(i={});var t=this.errors[e],n=this.service+"/"+e,r=void 0;r=void 0===t?"Error":t.replace(this.pattern,function(e,t){var n=i[t];return void 0!==n?n.toString():"<"+t+"?>"}),r=this.serviceName+": "+r+" ("+n+").";var o=new s(n,r);for(var a in i)i.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=i[a]);return o}}]),i}()}})}();(function(){var e,l=l||{},c=this,u=function(e){return"string"==typeof e},t=function(e){return"boolean"==typeof e},r=function(e){return"number"==typeof e},o=function(){},d=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},n=function(e){return null===e},h=function(e){return"array"==d(e)},f=function(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length},a=function(e){return"function"==d(e)},p=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},i=function(e,t,n){return e.call.apply(e.bind,arguments)},s=function(t,n,e){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,i),t.apply(n,e)}}return function(){return t.apply(n,arguments)}},g=function(e,t,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:s).apply(null,arguments)},v=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},m=Date.now||function(){return+new Date},y=function(e,o){function t(){}t.prototype=o.prototype,e.Hd=o.prototype,e.prototype=new t,(e.prototype.constructor=e).ag=function(e,t,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return o.prototype[t].apply(e,i)}},b=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))};y(b,Error),b.prototype.name="CustomError";var _=function(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")},w=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},T=function(e){return A.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(k,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(S,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(E,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(C,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(x,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(O,"&#0;"))),e},k=/&/g,S=/</g,E=/>/g,C=/"/g,x=/'/g,O=/\x00/g,A=/[\x00&<>"']/,P=function(e,t){return-1!=e.indexOf(t)},I=function(e,t){return e<t?-1:t<e?1:0},D=function(e,t){t.unshift(e),b.call(this,_.apply(null,t)),t.shift()};y(D,b),D.prototype.name="AssertionError";var j,R=function(e,t,n,i){var r="Assertion failed";if(n){r+=": "+n;var o=i}else e&&(r+=": "+e,o=t);throw new D(""+r,o||[])},N=function(e,t,n){e||R("",null,t,Array.prototype.slice.call(arguments,2))},M=function(e,t){throw new D("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},L=function(e,t,n){return r(e)||R("Expected number but got %s: %s.",[d(e),e],t,Array.prototype.slice.call(arguments,2)),e},F=function(e,t,n){a(e)||R("Expected function but got %s: %s.",[d(e),e],t,Array.prototype.slice.call(arguments,2))},U=Array.prototype.indexOf?function(e,t,n){return N(null!=e.length),Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:n<0?Math.max(0,e.length+n):n,u(e))return u(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},B=Array.prototype.forEach?function(e,t,n){N(null!=e.length),Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=u(e)?e.split(""):e,o=0;o<i;o++)o in r&&t.call(n,r[o],o,e)},$=Array.prototype.map?function(e,t,n){return N(null!=e.length),Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=Array(i),o=u(e)?e.split(""):e,a=0;a<i;a++)a in o&&(r[a]=t.call(n,o[a],a,e));return r},H=Array.prototype.some?function(e,t,n){return N(null!=e.length),Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=u(e)?e.split(""):e,o=0;o<i;o++)if(o in r&&t.call(n,r[o],o,e))return!0;return!1},W=function(e,t){return 0<=U(e,t)},V=function(e,t){var n;return(n=0<=(t=U(e,t)))&&q(e,t),n},q=function(e,t){return N(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},G=function(n,i){!function(e,t){for(var n=u(e)?e.split(""):e,i=e.length-1;0<=i;--i)i in n&&t.call(void 0,n[i],i,e)}(n,function(e,t){i.call(void 0,e,t,n)&&q(n,t)})},z=function(e){return Array.prototype.concat.apply([],arguments)},X=function(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]};e:{var K=c.navigator;if(K){var Y=K.userAgent;if(Y){j=Y;break e}}j=""}var Q=function(e){return P(j,e)},J=function(e,t){for(var n in e)t.call(void 0,e[n],n,e)},Z=function(e){var t,n=[],i=0;for(t in e)n[i++]=e[t];return n},ee=function(e){var t,n=[],i=0;for(t in e)n[i++]=t;return n},te=function(e){for(var t in e)return!1;return!0},ne=function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(n in t)if(!(n in e))return!1;return!0},ie=function(e){var t,n={};for(t in e)n[t]=e[t];return n},re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),oe=function(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var o=0;o<re.length;o++)n=re[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}},ae=function(e){return ae[" "](e),e};ae[" "]=o;var se,le,ue=Q("Opera"),ce=Q("Trident")||Q("MSIE"),de=Q("Edge"),he=de||ce,fe=Q("Gecko")&&!(P(j.toLowerCase(),"webkit")&&!Q("Edge"))&&!(Q("Trident")||Q("MSIE"))&&!Q("Edge"),pe=P(j.toLowerCase(),"webkit")&&!Q("Edge"),ge=function(){var e=c.document;return e?e.documentMode:void 0};e:{var ve="",me=(le=j,fe?/rv\:([^\);]+)(\)|;)/.exec(le):de?/Edge\/([\d\.]+)/.exec(le):ce?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(le):pe?/WebKit\/(\S+)/.exec(le):ue?/(?:Version)[ \/]?(\S+)/.exec(le):void 0);if(me&&(ve=me?me[1]:""),ce){var ye=ge();if(null!=ye&&ye>parseFloat(ve)){se=String(ye);break e}}se=ve}var be,_e=se,we={},Te=function(s){return e=s,t=we,Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=function(){for(var e=0,t=w(String(_e)).split("."),n=w(String(s)).split("."),i=Math.max(t.length,n.length),r=0;0==e&&r<i;r++){var o=t[r]||"",a=n[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=I(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||I(0==o[2].length,0==a[2].length)||I(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}();var e,t},ke=c.document;be=ke&&ce?ge()||("CSS1Compat"==ke.compatMode?parseInt(_e,10):5):void 0;var Se,Ee=null,Ce=null,xe=function(){if(!Ee){Ee={},Ce={};for(var e=0;e<65;e++)Ee[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),62<=(Ce[Ee[e]]=e)&&(Ce["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}},Oe=function(e,t){this.Ea=64,this.kc=c.Uint8Array?new Uint8Array(this.Ea):Array(this.Ea),this.Qc=this.jb=0,this.i=[],this.tf=e,this.fe=t,this.Uf=c.Int32Array?new Int32Array(64):Array(64),void 0!==Se||(Se=c.Int32Array?new Int32Array(je):je),this.reset()};y(Oe,function(){this.Ea=-1});for(var Ae=[],Pe=0;Pe<63;Pe++)Ae[Pe]=0;var Ie=z(128,Ae);Oe.prototype.reset=function(){this.Qc=this.jb=0,this.i=c.Int32Array?new Int32Array(this.fe):X(this.fe)};var De=function(e){var t=e.kc;N(t.length==e.Ea);for(var n=e.Uf,i=0,r=0;r<t.length;)n[i++]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r=4*i;for(t=16;t<64;t++){i=0|n[t-15],r=((r=0|n[t-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10;var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+r|0;n[t]=o+a|0}i=0|e.i[0],r=0|e.i[1];var s=0|e.i[2],l=0|e.i[3],u=0|e.i[4],c=0|e.i[5],d=0|e.i[6];for(o=0|e.i[7],t=0;t<64;t++){var h=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&c^~u&d)+(0|Se[t])|0)+(0|n[t])|0)|0,o=d,d=c,c=u,u=l+a|0,l=s,s=r,r=i,i=a+h|0}e.i[0]=e.i[0]+i|0,e.i[1]=e.i[1]+r|0,e.i[2]=e.i[2]+s|0,e.i[3]=e.i[3]+l|0,e.i[4]=e.i[4]+u|0,e.i[5]=e.i[5]+c|0,e.i[6]=e.i[6]+d|0,e.i[7]=e.i[7]+o|0};Oe.prototype.update=function(e,t){void 0===t&&(t=e.length);var n=0,i=this.jb;if(u(e))for(;n<t;)this.kc[i++]=e.charCodeAt(n++),i==this.Ea&&(De(this),i=0);else{if(!f(e))throw Error("message must be string or array");for(;n<t;){var r=e[n++];if(!("number"==typeof r&&0<=r&&r<=255&&r==(0|r)))throw Error("message must be a byte array");this.kc[i++]=r,i==this.Ea&&(De(this),i=0)}}this.jb=i,this.Qc+=t},Oe.prototype.digest=function(){var e=[],t=8*this.Qc;this.jb<56?this.update(Ie,56-this.jb):this.update(Ie,this.Ea-(this.jb-56));for(var n=63;56<=n;n--)this.kc[n]=255&t,t/=256;for(De(this),n=t=0;n<this.tf;n++)for(var i=24;0<=i;i-=8)e[t++]=this.i[n]>>i&255;return e};var je=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Re=function(){Oe.call(this,8,Ne)};y(Re,Oe);var Ne=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Me=function(){this.Ha=this.Ha,this.Cc=this.Cc};Me.prototype.Ha=!1,Me.prototype.isDisposed=function(){return this.Ha},Me.prototype.fb=function(){if(this.Cc)for(;this.Cc.length;)this.Cc.shift()()};var Le=!ce||9<=Number(be),Fe=ce&&!Te("9");!pe||Te("528"),fe&&Te("1.9b")||ce&&Te("8")||ue&&Te("9.5")||pe&&Te("528"),fe&&!Te("8")||ce&&Te("9");var Ue=function(e,t){this.type=e,this.currentTarget=this.target=t,this.defaultPrevented=this.pb=!1,this.ne=!0};Ue.prototype.preventDefault=function(){this.defaultPrevented=!0,this.ne=!1};var Be=function(e,t){Ue.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.gb=this.state=null,e&&this.init(e,t)};y(Be,Ue),Be.prototype.init=function(e,t){var n=this.type=e.type,i=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.currentTarget=t,t=e.relatedTarget){if(fe){e:{try{ae(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===i?(this.offsetX=pe||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=pe||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.state=e.state,(this.gb=e).defaultPrevented&&this.preventDefault()},Be.prototype.preventDefault=function(){Be.Hd.preventDefault.call(this);var e=this.gb;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Fe)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},Be.prototype.Xe=function(){return this.gb};var $e="closure_listenable_"+(1e6*Math.random()|0),He=0,We=function(e,t,n,i,r){this.listener=e,this.Gc=null,this.src=t,this.type=n,this.capture=!!i,this.qc=r,this.key=++He,this.tb=this.jc=!1},Ve=function(e){e.tb=!0,e.listener=null,e.Gc=null,e.src=null,e.qc=null},qe=function(e){this.src=e,this.J={},this.ec=0};qe.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.J[o])||(e=this.J[o]=[],this.ec++);var a=ze(e,t,i,r);return-1<a?(t=e[a],n||(t.jc=!1)):((t=new We(t,this.src,o,!!i,r)).jc=n,e.push(t)),t},qe.prototype.remove=function(e,t,n,i){if(!((e=e.toString())in this.J))return!1;var r=this.J[e];return-1<(t=ze(r,t,n,i))&&(Ve(r[t]),q(r,t),0==r.length&&(delete this.J[e],this.ec--),!0)};var Ge=function(e,t){var n=t.type;n in e.J&&V(e.J[n],t)&&(Ve(t),0==e.J[n].length&&(delete e.J[n],e.ec--))};qe.prototype.fd=function(e,t,n,i){var r=-1;return(e=this.J[e.toString()])&&(r=ze(e,t,n,i)),-1<r?e[r]:null};var ze=function(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.tb&&o.listener==t&&o.capture==!!n&&o.qc==i)return r}return-1},Xe="closure_lm_"+(1e6*Math.random()|0),Ke={},Ye=function(e,t,n,i,r){if(h(t))for(var o=0;o<t.length;o++)Ye(e,t[o],n,i,r);else n=lt(n),e&&e[$e]?e.listen(t,n,i,r):Qe(e,t,n,!1,i,r)},Qe=function(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=!!r,s=at(e);if(s||(e[Xe]=s=new qe(e)),!(n=s.add(t,n,i,r,o)).Gc)if(i=Je(),(n.Gc=i).src=e,i.listener=n,e.addEventListener)e.addEventListener(t.toString(),i,a);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(nt(t.toString()),i)}},Je=function(){var t=ot,n=Le?function(e){return t.call(n.src,n.listener,e)}:function(e){if(!(e=t.call(n.src,n.listener,e)))return e};return n},Ze=function(e,t,n,i,r){if(h(t))for(var o=0;o<t.length;o++)Ze(e,t[o],n,i,r);else n=lt(n),e&&e[$e]?Zn(e,t,n,i,r):Qe(e,t,n,!0,i,r)},et=function(e,t,n,i,r){if(h(t))for(var o=0;o<t.length;o++)et(e,t[o],n,i,r);else n=lt(n),e&&e[$e]?e.ja.remove(String(t),n,i,r):e&&(e=at(e))&&(t=e.fd(t,n,!!i,r))&&tt(t)},tt=function(e){if(!r(e)&&e&&!e.tb){var t=e.src;if(t&&t[$e])Ge(t.ja,e);else{var n=e.type,i=e.Gc;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent&&t.detachEvent(nt(n),i),(n=at(t))?(Ge(n,e),0==n.ec&&(n.src=null,t[Xe]=null)):Ve(e)}}},nt=function(e){return e in Ke?Ke[e]:Ke[e]="on"+e},it=function(e,t,n,i){var r=!0;if((e=at(e))&&(t=e.J[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.tb&&(o=rt(o,i),r=r&&!1!==o)}return r},rt=function(e,t){var n=e.listener,i=e.qc||e.src;return e.jc&&tt(e),n.call(i,t)},ot=function(e,t){if(e.tb)return!0;if(Le)return rt(e,new Be(t,this));if(!t)e:{t=["window","event"];for(var n,i=c;n=t.shift();){if(null==i[n]){t=null;break e}i=i[n]}t=i}if(t=new Be(n=t,this),i=!0,!(n.keyCode<0||null!=n.returnValue)){e:{var r=!1;if(0==n.keyCode)try{n.keyCode=-1;break e}catch(e){r=!0}(r||null==n.returnValue)&&(n.returnValue=!0)}for(n=[],r=t.currentTarget;r;r=r.parentNode)n.push(r);r=e.type;for(var o=n.length-1;!t.pb&&0<=o;o--)t.currentTarget=n[o],e=it(n[o],r,!0,t),i=i&&e;for(o=0;!t.pb&&o<n.length;o++)t.currentTarget=n[o],e=it(n[o],r,!1,t),i=i&&e}return i},at=function(e){return(e=e[Xe])instanceof qe?e:null},st="__closure_events_fn_"+(1e9*Math.random()>>>0),lt=function(t){return N(t,"Listener can not be null."),a(t)?t:(N(t.handleEvent,"An object listener must have handleEvent method."),t[st]||(t[st]=function(e){return t.handleEvent(e)}),t[st])},ut=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,ct=function(){this.Mc="",this.Ee=ht};ct.prototype.Ib=!0,ct.prototype.Fb=function(){return this.Mc},ct.prototype.toString=function(){return"Const{"+this.Mc+"}"};var dt=function(e){return e instanceof ct&&e.constructor===ct&&e.Ee===ht?e.Mc:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")},ht={},ft=function(e){var t=new ct;return t.Mc=e,t};ft("");var pt=function(){this.Fc="",this.Fe=gt};pt.prototype.Ib=!0,pt.prototype.Fb=function(){return this.Fc},pt.prototype.toString=function(){return"TrustedResourceUrl{"+this.Fc+"}"};var gt={},vt=function(){this.qa="",this.De=_t};vt.prototype.Ib=!0,vt.prototype.Fb=function(){return this.qa},vt.prototype.toString=function(){return"SafeUrl{"+this.qa+"}"};var mt=function(e){return e instanceof vt&&e.constructor===vt&&e.De===_t?e.qa:(M("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")},yt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,bt=function(e){return e instanceof vt?e:(e=e.Ib?e.Fb():String(e),yt.test(e)||(e="about:invalid#zClosurez"),wt(e))},_t={},wt=function(e){var t=new vt;return t.qa=e,t};wt("about:blank");var Tt=function(e){var t=[];return St(new kt,e,t),t.join("")},kt=function(){this.Hc=void 0},St=function(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(h(t)){var i=t;t=i.length,n.push("[");for(var r="",o=0;o<t;o++)n.push(r),r=i[o],St(e,e.Hc?e.Hc.call(i,String(o),r):r,n),r=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(i in n.push("{"),o="",t)Object.prototype.hasOwnProperty.call(t,i)&&"function"!=typeof(r=t[i])&&(n.push(o),xt(i,n),n.push(":"),St(e,e.Hc?e.Hc.call(t,i,r):r,n),o=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":xt(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}},Et={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ct=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,xt=function(e,t){t.push('"',e.replace(Ct,function(e){var t=Et[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Et[e]=t),t}),'"')},Ot=function(){};Ot.prototype.Md=null;var At,Pt=function(e){return e.Md||(e.Md=e.md())},It=function(){};y(It,Ot),It.prototype.lc=function(){var e=Dt(this);return e?new ActiveXObject(e):new XMLHttpRequest},It.prototype.md=function(){var e={};return Dt(this)&&(e[0]=!0,e[1]=!0),e};var Dt=function(e){if(e.ee||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return e.ee;for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var i=t[n];try{return new ActiveXObject(i),e.ee=i}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")};At=new It;var jt=function(){};y(jt,Ot),jt.prototype.lc=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Rt;throw Error("Unsupported browser")},jt.prototype.md=function(){return{}};var Rt=function(){this.va=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.va.onload=g(this.Ze,this),this.va.onerror=g(this.ae,this),this.va.onprogress=g(this.$e,this),this.va.ontimeout=g(this.af,this)};(e=Rt.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.va.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.va.send(e)}else this.va.send()},e.abort=function(){this.va.abort()},e.setRequestHeader=function(){},e.Ze=function(){this.status=200,this.responseText=this.va.responseText,Nt(this,4)},e.ae=function(){this.status=500,this.responseText="",Nt(this,4)},e.af=function(){this.ae()},e.$e=function(){this.status=200,Nt(this,1)};var Nt=function(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()},Mt=function(e,t,n){this.mf=n,this.Me=e,this.Ef=t,this.Bc=0,this.rc=null};Mt.prototype.get=function(){if(0<this.Bc){this.Bc--;var e=this.rc;this.rc=e.next,e.next=null}else e=this.Me();return e},Mt.prototype.put=function(e){this.Ef(e),this.Bc<this.mf&&(this.Bc++,e.next=this.rc,this.rc=e)};var Lt,Ft=function(e){c.setTimeout(function(){throw e},0)},Ut=function(){this.Vc=this.ab=null},Bt=new Mt(function(){return new $t},function(e){e.reset()},100);Ut.prototype.add=function(e,t){var n=Bt.get();n.set(e,t),this.Vc?this.Vc.next=n:(N(!this.ab),this.ab=n),this.Vc=n},Ut.prototype.remove=function(){var e=null;return this.ab&&(e=this.ab,this.ab=this.ab.next,this.ab||(this.Vc=null),e.next=null),e};var $t=function(){this.next=this.scope=this.ed=null};$t.prototype.set=function(e,t){this.ed=e,this.scope=t,this.next=null},$t.prototype.reset=function(){this.next=this.scope=this.ed=null};var Ht,Wt=function(e,t){Ht||Vt(),qt||(Ht(),qt=!0),Gt.add(e,t)},Vt=function(){if(-1!=String(c.Promise).indexOf("[native code]")){var e=c.Promise.resolve(void 0);Ht=function(){e.then(zt)}}else Ht=function(){var e=zt;!a(c.setImmediate)||c.Window&&c.Window.prototype&&!Q("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Lt||(Lt=function(){var e=c.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Q("Presto")&&(e=function(){(i=document.createElement("IFRAME")).style.display="none",i.src="",document.documentElement.appendChild(i);var e=i.contentWindow;(i=e.document).open(),i.write(""),i.close();var t="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,i=g(function(e){"*"!=n&&e.origin!=n||e.data!=t||this.port1.onmessage()},this);e.addEventListener("message",i,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(t,n)}}}),void 0===e||Q("Trident")||Q("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){c.setTimeout(e,0)};var t=new e,n={},i=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Pd;n.Pd=null,e()}},function(e){i.next={Pd:e},i=i.next,t.port2.postMessage(0)}}()),Lt(e)):c.setImmediate(e)}},qt=!1,Gt=new Ut,zt=function(){for(var e;e=Gt.remove();){try{e.ed.call(e.scope)}catch(e){Ft(e)}Bt.put(e)}qt=!1},Xt=!ce||9<=Number(be);!fe&&!ce||ce&&9<=Number(be)||fe&&Te("1.9.1"),ce&&Te("9");var Kt=function(){this.qa="",this.Ce=Yt};Kt.prototype.Ib=!0,Kt.prototype.Fb=function(){return this.qa},Kt.prototype.toString=function(){return"SafeHtml{"+this.qa+"}"};var Yt={};Kt.prototype.gf=function(e){return this.qa=e,this};var Qt=function(e){var t=document;return u(e)?t.getElementById(e):e},Jt=function(n,e){J(e,function(e,t){e&&e.Ib&&(e=e.Fb()),"style"==t?n.style.cssText=e:"class"==t?n.className=e:"for"==t?n.htmlFor=e:Zt.hasOwnProperty(t)?n.setAttribute(Zt[t],e):0==t.lastIndexOf("aria-",0)||0==t.lastIndexOf("data-",0)?n.setAttribute(t,e):n[t]=e})},Zt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},en=function(e){if(e&&"number"==typeof e.length){if(p(e))return"function"==typeof e.item||"string"==typeof e.item;if(a(e))return"function"==typeof e.item}return!1},tn=function(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0},nn=function(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}},rn=function(e,t){if(this.V=0,this.sa=void 0,this.eb=this.oa=this.u=null,this.pc=this.dd=!1,e!=o)try{var n=this;e.call(t,function(e){pn(n,2,e)},function(e){if(!(e instanceof kn))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}pn(n,3,e)})}catch(e){pn(this,3,e)}},on=function(){this.next=this.context=this.lb=this.Pa=this.child=null,this.yb=!1};on.prototype.reset=function(){this.context=this.lb=this.Pa=this.child=null,this.yb=!1};var an=new Mt(function(){return new on},function(e){e.reset()},100),sn=function(e,t,n){var i=an.get();return i.Pa=e,i.lb=t,i.context=n,i},ln=function(e){if(e instanceof rn)return e;var t=new rn(o);return pn(t,2,e),t},un=function(n){return new rn(function(e,t){t(n)})};rn.prototype.then=function(e,t,n){return null!=e&&F(e,"opt_onFulfilled should be a function."),null!=t&&F(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),fn(this,a(e)?e:null,a(t)?t:null,n)},tn(rn);var cn=function(e,t){return(t=sn(t,t,void 0)).yb=!0,hn(e,t),e};rn.prototype.f=function(e,t){return fn(this,null,e,t)},rn.prototype.cancel=function(t){0==this.V&&Wt(function(){var e=new kn(t);dn(this,e)},this)};var dn=function(e,t){if(0==e.V)if(e.u){var n=e.u;if(n.oa){for(var i=0,r=null,o=null,a=n.oa;a&&(a.yb||(i++,a.child==e&&(r=a),!(r&&1<i)));a=a.next)r||(o=a);r&&(0==n.V&&1==i?dn(n,t):(o?(i=o,N(n.oa),N(null!=i),i.next==n.eb&&(n.eb=i),i.next=i.next.next):yn(n),bn(n,r,3,t)))}e.u=null}else pn(e,3,t)},hn=function(e,t){e.oa||2!=e.V&&3!=e.V||mn(e),N(null!=t.Pa),e.eb?e.eb.next=t:e.oa=t,e.eb=t},fn=function(e,r,o,a){var t=sn(null,null,null);return t.child=new rn(function(n,i){t.Pa=r?function(e){try{var t=r.call(a,e);n(t)}catch(e){i(e)}}:n,t.lb=o?function(e){try{var t=o.call(a,e);void 0===t&&e instanceof kn?i(e):n(t)}catch(e){i(e)}}:i}),t.child.u=e,hn(e,t),t.child};rn.prototype.Rf=function(e){N(1==this.V),this.V=0,pn(this,2,e)},rn.prototype.Sf=function(e){N(1==this.V),this.V=0,pn(this,3,e)};var pn=function(e,t,n){0==e.V&&(e===n&&(t=3,n=new TypeError("Promise cannot resolve to itself")),e.V=1,gn(n,e.Rf,e.Sf,e)||(e.sa=n,e.V=t,e.u=null,mn(e),3!=t||n instanceof kn||wn(e,n)))},gn=function(e,t,n,i){if(e instanceof rn)return null!=t&&F(t,"opt_onFulfilled should be a function."),null!=n&&F(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),hn(e,sn(t||o,n||null,i)),!0;if(nn(e))return e.then(t,n,i),!0;if(p(e))try{var r=e.then;if(a(r))return vn(e,r,t,n,i),!0}catch(e){return n.call(i,e),!0}return!1},vn=function(e,t,n,i,r){var o=!1,a=function(e){o||(o=!0,i.call(r,e))};try{t.call(e,function(e){o||(o=!0,n.call(r,e))},a)}catch(e){a(e)}},mn=function(e){e.dd||(e.dd=!0,Wt(e.Re,e))},yn=function(e){var t=null;return e.oa&&(t=e.oa,e.oa=t.next,t.next=null),e.oa||(e.eb=null),null!=t&&N(null!=t.Pa),t};rn.prototype.Re=function(){for(var e;e=yn(this);)bn(this,e,this.V,this.sa);this.dd=!1};var bn=function(e,t,n,i){if(3==n&&t.lb&&!t.yb)for(;e&&e.pc;e=e.u)e.pc=!1;if(t.child)t.child.u=null,_n(t,n,i);else try{t.yb?t.Pa.call(t.context):_n(t,n,i)}catch(e){Tn.call(null,e)}an.put(t)},_n=function(e,t,n){2==t?e.Pa.call(e.context,n):e.lb&&e.lb.call(e.context,n)},wn=function(e,t){e.pc=!0,Wt(function(){e.pc&&Tn.call(null,t)})},Tn=Ft,kn=function(e){b.call(this,e)};y(kn,b),kn.prototype.name="cancel";var Sn=function(e,t){this.Jc=[],this.je=e,this.Td=t||null,this.Gb=this.hb=!1,this.sa=void 0,this.Ed=this.Kd=this.Zc=!1,this.Rc=0,this.u=null,this.$c=0};Sn.prototype.cancel=function(e){if(this.hb)this.sa instanceof Sn&&this.sa.cancel();else{if(this.u){var t=this.u;delete this.u,e?t.cancel(e):(t.$c--,t.$c<=0&&t.cancel())}this.je?this.je.call(this.Td,this):this.Ed=!0,this.hb||xn(this,new jn)}},Sn.prototype.Rd=function(e,t){this.Zc=!1,En(this,e,t)};var En=function(e,t,n){e.hb=!0,e.sa=n,e.Gb=!t,In(e)},Cn=function(e){if(e.hb){if(!e.Ed)throw new Dn;e.Ed=!1}};Sn.prototype.callback=function(e){Cn(this),On(e),En(this,!0,e)};var xn=function(e,t){Cn(e),On(t),En(e,!1,t)},On=function(e){N(!(e instanceof Sn),"An execution sequence may not be initiated with a blocking Deferred.")},An=function(e,t,n,i){N(!e.Kd,"Blocking Deferreds can not be re-used"),e.Jc.push([t,n,i]),e.hb&&In(e)};Sn.prototype.then=function(e,t,n){var i,r,o=new rn(function(e,t){i=e,r=t});return An(this,i,function(e){e instanceof jn?o.cancel():r(e)}),o.then(e,t,n)},tn(Sn);var Pn=function(e){return H(e.Jc,function(e){return a(e[1])})},In=function(e){if(e.Rc&&e.hb&&Pn(e)){var t=e.Rc,n=Nn[t];n&&(c.clearTimeout(n.Hb),delete Nn[t]),e.Rc=0}e.u&&(e.u.$c--,delete e.u),t=e.sa;for(var i=n=!1;e.Jc.length&&!e.Zc;){var r=(a=e.Jc.shift())[0],o=a[1],a=a[2];if(r=e.Gb?o:r)try{var s=r.call(a||e.Td,t);void 0!==s&&(e.Gb=e.Gb&&(s==t||s instanceof Error),e.sa=t=s),(nn(t)||"function"==typeof c.Promise&&t instanceof c.Promise)&&(i=!0,e.Zc=!0)}catch(i){t=i,e.Gb=!0,Pn(e)||(n=!0)}}e.sa=t,i&&(s=g(e.Rd,e,!0),i=g(e.Rd,e,!1),t instanceof Sn?(An(t,s,i),t.Kd=!0):t.then(s,i)),n&&(t=new Rn(t),Nn[t.Hb]=t,e.Rc=t.Hb)},Dn=function(){b.call(this)};y(Dn,b),Dn.prototype.message="Deferred has already fired",Dn.prototype.name="AlreadyCalledError";var jn=function(){b.call(this)};y(jn,b),jn.prototype.message="Deferred was canceled",jn.prototype.name="CanceledError";var Rn=function(e){this.Hb=c.setTimeout(g(this.Qf,this),0),this.W=e};Rn.prototype.Qf=function(){throw N(Nn[this.Hb],"Cannot throw an error that is not scheduled."),delete Nn[this.Hb],this.W};var Nn={},Mn=function(e){var t=new pt;return t.Fc=e,Ln(t)},Ln=function(e){var t={},n=t.document||document;if(e instanceof pt&&e.constructor===pt&&e.Fe===gt)var i=e.Fc;else M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),i="type_error:TrustedResourceUrl";var r=document.createElement("SCRIPT"),o=new Sn(Un,e={oe:r,dc:void 0}),a=null,s=null!=t.timeout?t.timeout:5e3;return 0<s&&(a=window.setTimeout(function(){Bn(r,!0),xn(o,new $n(1,"Timeout reached for loading script "+i))},s),e.dc=a),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Bn(r,t.bg||!1,a),o.callback(null))},r.onerror=function(){Bn(r,!0,a),xn(o,new $n(0,"Error while loading script "+i))},oe(e=t.attributes||{},{type:"text/javascript",charset:"UTF-8",src:i}),Jt(r,e),Fn(n).appendChild(r),o},Fn=function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement},Un=function(){if(this&&this.oe){var e=this.oe;e&&"SCRIPT"==e.tagName&&Bn(e,!0,this.dc)}},Bn=function(e,t,n){null!=n&&c.clearTimeout(n),e.onload=o,e.onerror=o,e.onreadystatechange=o,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)},$n=function(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),b.call(this,n),this.code=e};y($n,b);var Hn=function(e,t,n,i,r){this.reset(e,t,n,i,r)};Hn.prototype.Vd=null,Hn.prototype.reset=function(e,t,n,i,r){i||m(),this.Nb=e,this.qf=t,delete this.Vd},Hn.prototype.re=function(e){this.Nb=e};var Wn=function(e){this.rf=e,this.be=this.ad=this.Nb=this.u=null},Vn=function(e,t){this.name=e,this.value=t};Vn.prototype.toString=function(){return this.name};var qn=new Vn("SEVERE",1e3),Gn=new Vn("CONFIG",700),zn=new Vn("FINE",500);Wn.prototype.getParent=function(){return this.u},Wn.prototype.re=function(e){this.Nb=e};var Xn=function(e){return e.Nb?e.Nb:e.u?Xn(e.u):(M("Root logger has no level set."),null)};Wn.prototype.log=function(e,t,n){if(e.value>=Xn(this).value)for(a(t)&&(t=t()),e=new Hn(e,String(t),this.rf),n&&(e.Vd=n),n="log:"+e.qf,c.console&&(c.console.timeStamp?c.console.timeStamp(n):c.console.markTimeline&&c.console.markTimeline(n)),c.msWriteProfilerMark&&c.msWriteProfilerMark(n),n=this;n;){var i=n,r=e;if(i.be)for(var o=0;t=i.be[o];o++)t(r);n=n.getParent()}};var Kn={},Yn=null,Qn=function(e){var t;if(Yn||(Yn=new Wn(""),(Kn[""]=Yn).re(Gn)),!(t=Kn[e])){t=new Wn(e);var n=e.lastIndexOf("."),i=e.substr(n+1);(n=Qn(e.substr(0,n))).ad||(n.ad={}),(n.ad[i]=t).u=n,Kn[e]=t}return t},Jn=function(){Me.call(this),this.ja=new qe(this),(this.He=this).rd=null};y(Jn,Me),Jn.prototype[$e]=!0,(e=Jn.prototype).addEventListener=function(e,t,n,i){Ye(this,e,t,n,i)},e.removeEventListener=function(e,t,n,i){et(this,e,t,n,i)},e.dispatchEvent=function(e){ti(this);var t=this.rd;if(t)for(var n=[],i=1;t;t=t.rd)n.push(t),N(++i<1e3,"infinite loop");if(t=this.He,i=e.type||e,u(e))e=new Ue(e,t);else if(e instanceof Ue)e.target=e.target||t;else{var r=e;e=new Ue(i,t),oe(e,r)}if(r=!0,n)for(var o=n.length-1;!e.pb&&0<=o;o--){var a=e.currentTarget=n[o];r=ei(a,i,!0,e)&&r}if(e.pb||(a=e.currentTarget=t,r=ei(a,i,!0,e)&&r,e.pb||(r=ei(a,i,!1,e)&&r)),n)for(o=0;!e.pb&&o<n.length;o++)a=e.currentTarget=n[o],r=ei(a,i,!1,e)&&r;return r},e.fb=function(){if(Jn.Hd.fb.call(this),this.ja){var e,t=this.ja;for(e in t.J){for(var n=t.J[e],i=0;i<n.length;i++)Ve(n[i]);delete t.J[e],t.ec--}}this.rd=null},e.listen=function(e,t,n,i){return ti(this),this.ja.add(String(e),t,!1,n,i)};var Zn=function(e,t,n,i,r){e.ja.add(String(t),n,!0,i,r)},ei=function(e,t,n,i){if(!(t=e.ja.J[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.tb&&a.capture==n){var s=a.listener,l=a.qc||a.src;a.jc&&Ge(e.ja,a),r=!1!==s.call(l,i)&&r}}return r&&0!=i.ne};Jn.prototype.fd=function(e,t,n,i){return this.ja.fd(String(e),t,n,i)};var ti=function(e){N(e.ja,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},ni="StopIteration"in c?c.StopIteration:{message:"StopIteration",stack:""},ii=function(){};ii.prototype.next=function(){throw ni},ii.prototype.Ge=function(){return this};var ri=function(e,t){e&&e.log(zn,t,void 0)},oi=function(e,t){this.ea={},this.A=[],this.$a=this.o=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else e&&this.addAll(e)};(e=oi.prototype).ca=function(){ai(this);for(var e=[],t=0;t<this.A.length;t++)e.push(this.ea[this.A[t]]);return e},e.pa=function(){return ai(this),this.A.concat()},e.Ab=function(e){return si(this.ea,e)},e.clear=function(){this.ea={},this.$a=this.o=this.A.length=0},e.remove=function(e){return!!si(this.ea,e)&&(delete this.ea[e],this.o--,this.$a++,this.A.length>2*this.o&&ai(this),!0)};var ai=function(e){var t,n;if(e.o!=e.A.length){for(t=n=0;n<e.A.length;){var i=e.A[n];si(e.ea,i)&&(e.A[t++]=i),n++}e.A.length=t}if(e.o!=e.A.length){var r={};for(t=n=0;n<e.A.length;)i=e.A[n],si(r,i)||(r[e.A[t++]=i]=1),n++;e.A.length=t}};(e=oi.prototype).get=function(e,t){return si(this.ea,e)?this.ea[e]:t},e.set=function(e,t){si(this.ea,e)||(this.o++,this.A.push(e),this.$a++),this.ea[e]=t},e.addAll=function(e){if(e instanceof oi){var t=e.pa();e=e.ca()}else t=ee(e),e=Z(e);for(var n=0;n<t.length;n++)this.set(t[n],e[n])},e.forEach=function(e,t){for(var n=this.pa(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);e.call(t,o,r,this)}},e.clone=function(){return new oi(this)},e.Ge=function(t){ai(this);var n=0,i=this.$a,r=this,e=new ii;return e.next=function(){if(i!=r.$a)throw Error("The map has changed since the iterator was created");if(n>=r.A.length)throw ni;var e=r.A[n++];return t?e:r.ea[e]},e};var si=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},li=function(e){if(e.ca&&"function"==typeof e.ca)return e.ca();if(u(e))return e.split("");if(f(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}return Z(e)},ui=function(e){if(e.pa&&"function"==typeof e.pa)return e.pa();if(!e.ca||"function"!=typeof e.ca){if(f(e)||u(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}return ee(e)}},ci=function(e,t,n){if(a(e))n&&(e=g(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:c.setTimeout(e,t||0)},di=function(n){var i=null;return new rn(function(e,t){-1==(i=ci(function(){e(void 0)},n))&&t(Error("Failed to schedule timer."))}).f(function(e){throw c.clearTimeout(i),e})},hi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,fi=function(e){Jn.call(this),this.headers=new oi,this.Xc=e||null,this.wa=!1,this.Wc=this.c=null,this.Mb=this.ie=this.yc="",this.La=this.kd=this.uc=this.cd=!1,this.ub=0,this.Oc=null,this.Ic="",this.Sc=this.Af=this.Be=!1};y(fi,Jn);var pi=fi.prototype,gi=Qn("goog.net.XhrIo");pi.K=gi;var vi=/^https?$/i,mi=["POST","PUT"];fi.prototype.send=function(e,t,n,i){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request="+this.yc+"; newUri="+e);t=t?t.toUpperCase():"GET",this.yc=e,this.Mb="",this.ie=t,this.cd=!1,this.wa=!0,this.c=this.Xc?this.Xc.lc():At.lc(),this.Wc=this.Xc?Pt(this.Xc):Pt(At),this.c.onreadystatechange=g(this.le,this),this.Af&&"onprogress"in this.c&&(this.c.onprogress=g(function(e){this.ke(e,!0)},this),this.c.upload&&(this.c.upload.onprogress=g(this.ke,this)));try{ri(this.K,xi(this,"Opening Xhr")),this.kd=!0,this.c.open(t,String(e),!0),this.kd=!1}catch(e){return ri(this.K,xi(this,"Error opening Xhr: "+e.message)),void this.W(5,e)}e=n||"";var r=this.headers.clone();i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||u(e))B(e,t,void 0);else for(var n=ui(e),i=li(e),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],n&&n[o],e)}(i,function(e,t){r.set(t,e)}),i=function(e){e:{for(var t=bi,n=e.length,i=u(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return t<0?null:u(e)?e.charAt(t):e[t]}(r.pa()),n=c.FormData&&e instanceof c.FormData,!W(mi,t)||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(e,t){this.c.setRequestHeader(t,e)},this),this.Ic&&(this.c.responseType=this.Ic),"withCredentials"in this.c&&this.c.withCredentials!==this.Be&&(this.c.withCredentials=this.Be);try{Si(this),0<this.ub&&(this.Sc=yi(this.c),ri(this.K,xi(this,"Will abort after "+this.ub+"ms if incomplete, xhr2 "+this.Sc)),this.Sc?(this.c.timeout=this.ub,this.c.ontimeout=g(this.dc,this)):this.Oc=ci(this.dc,this.ub,this)),ri(this.K,xi(this,"Sending request")),this.uc=!0,this.c.send(e),this.uc=!1}catch(e){ri(this.K,xi(this,"Send error: "+e.message)),this.W(5,e)}};var yi=function(e){return ce&&Te(9)&&r(e.timeout)&&void 0!==e.ontimeout},bi=function(e){return"content-type"==e.toLowerCase()};fi.prototype.dc=function(){void 0!==l&&this.c&&(this.Mb="Timed out after "+this.ub+"ms, aborting",ri(this.K,xi(this,this.Mb)),this.dispatchEvent("timeout"),this.abort(8))},fi.prototype.W=function(e,t){this.wa=!1,this.c&&(this.La=!0,this.c.abort(),this.La=!1),this.Mb=t,_i(this),ki(this)};var _i=function(e){e.cd||(e.cd=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))};fi.prototype.abort=function(){this.c&&this.wa&&(ri(this.K,xi(this,"Aborting")),this.wa=!1,this.La=!0,this.c.abort(),this.La=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ki(this))},fi.prototype.fb=function(){this.c&&(this.wa&&(this.wa=!1,this.La=!0,this.c.abort(),this.La=!1),ki(this,!0)),fi.Hd.fb.call(this)},fi.prototype.le=function(){this.isDisposed()||(this.kd||this.uc||this.La?wi(this):this.vf())},fi.prototype.vf=function(){wi(this)};var wi=function(e){if(e.wa&&void 0!==l)if(e.Wc[1]&&4==Ei(e)&&2==Ci(e))ri(e.K,xi(e,"Local request error detected and ignored"));else if(e.uc&&4==Ei(e))ci(e.le,0,e);else if(e.dispatchEvent("readystatechange"),4==Ei(e)){ri(e.K,xi(e,"Request complete")),e.wa=!1;try{var t,n=Ci(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(t=i)){var r;if(r=0===n){if(!(a=String(e.yc).match(hi)[1]||null)&&c.self&&c.self.location)var o=c.self.location.protocol,a=o.substr(0,o.length-1);r=!vi.test(a?a.toLowerCase():"")}t=r}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var s=2<Ei(e)?e.c.statusText:""}catch(t){ri(e.K,"Can not get status: "+t.message),s=""}e.Mb=s+" ["+Ci(e)+"]",_i(e)}}finally{ki(e)}}};fi.prototype.ke=function(e,t){N("progress"===e.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(Ti(e,"progress")),this.dispatchEvent(Ti(e,t?"downloadprogress":"uploadprogress"))};var Ti=function(e,t){return{type:t,lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}},ki=function(e,t){if(e.c){Si(e);var n=e.c,i=e.Wc[0]?o:null;e.c=null,e.Wc=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=i}catch(t){(e=e.K)&&e.log(qn,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}},Si=function(e){e.c&&e.Sc&&(e.c.ontimeout=null),r(e.Oc)&&(c.clearTimeout(e.Oc),e.Oc=null)},Ei=function(e){return e.c?e.c.readyState:0},Ci=function(e){try{return 2<Ei(e)?e.c.status:-1}catch(e){return-1}};fi.prototype.getResponse=function(){try{if(!this.c)return null;if("response"in this.c)return this.c.response;switch(this.Ic){case"":case"text":return this.c.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.c)return this.c.mozResponseArrayBuffer}var e=this.K;return e&&e.log(qn,"Response type "+this.Ic+" is not supported on this browser",void 0),null}catch(e){return ri(this.K,"Can not get response: "+e.message),null}};var xi=function(e,t){return t+" ["+e.ie+" "+e.yc+" "+Ci(e)+"]"},Oi=function(e,t){if(this.ia=this.Ya=this.ka="",this.nb=null,this.Ka=this.za="",this.Y=this.lf=!1,e instanceof Oi){this.Y=void 0!==t?t:e.Y,Ai(this,e.ka);var n=e.Ya;Mi(this),this.Ya=n,Pi(this,e.ia),Ii(this,e.nb),Di(this,e.za),ji(this,e.aa.clone()),e=e.Ka,Mi(this),this.Ka=e}else e&&(n=String(e).match(hi))?(this.Y=!!t,Ai(this,n[1]||"",!0),e=n[2]||"",Mi(this),this.Ya=Ui(e),Pi(this,n[3]||"",!0),Ii(this,n[4]),Di(this,n[5]||"",!0),ji(this,n[6]||"",!0),e=n[7]||"",Mi(this),this.Ka=Ui(e)):(this.Y=!!t,this.aa=new zi(null,0,this.Y))};Oi.prototype.toString=function(){var e=[],t=this.ka;t&&e.push(Bi(t,Hi,!0),":");var n=this.ia;return(n||"file"==t)&&(e.push("//"),(t=this.Ya)&&e.push(Bi(t,Hi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.nb)&&e.push(":",String(n))),(n=this.za)&&(this.ia&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bi(n,"/"==n.charAt(0)?Vi:Wi,!0))),(n=this.aa.toString())&&e.push("?",n),(n=this.Ka)&&e.push("#",Bi(n,Gi)),e.join("")},Oi.prototype.resolve=function(e){var t=this.clone(),n=!!e.ka;if(n?Ai(t,e.ka):n=!!e.Ya,n){var i=e.Ya;Mi(t),t.Ya=i}else n=!!e.ia;if(n?Pi(t,e.ia):n=null!=e.nb,i=e.za,n)Ii(t,e.nb);else if(n=!!e.za)if("/"!=i.charAt(0)&&(this.ia&&!this.za?i="/"+i:-1!=(r=t.za.lastIndexOf("/"))&&(i=t.za.substr(0,r+1)+i)),".."==(r=i)||"."==r)i="";else if(P(r,"./")||P(r,"/.")){i=0==r.lastIndexOf("/",0);for(var r=r.split("/"),o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r;return n?Di(t,i):n=""!==e.aa.toString(),n?ji(t,e.aa.clone()):n=!!e.Ka,n&&(e=e.Ka,Mi(t),t.Ka=e),t},Oi.prototype.clone=function(){return new Oi(this)};var Ai=function(e,t,n){Mi(e),e.ka=n?Ui(t,!0):t,e.ka&&(e.ka=e.ka.replace(/:$/,""))},Pi=function(e,t,n){Mi(e),e.ia=n?Ui(t,!0):t},Ii=function(e,t){if(Mi(e),t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.nb=t}else e.nb=null},Di=function(e,t,n){Mi(e),e.za=n?Ui(t,!0):t},ji=function(e,t,n){Mi(e),t instanceof zi?(e.aa=t,e.aa.Cd(e.Y)):(n||(t=Bi(t,qi)),e.aa=new zi(t,0,e.Y))},Ri=function(e,t,n){Mi(e),e.aa.set(t,n)},Ni=function(e,t){return e.aa.get(t)};Oi.prototype.removeParameter=function(e){return Mi(this),this.aa.remove(e),this};var Mi=function(e){if(e.lf)throw Error("Tried to modify a read-only Uri")};Oi.prototype.Cd=function(e){return this.Y=e,this.aa&&this.aa.Cd(e),this};var Li=function(e){return e instanceof Oi?e.clone():new Oi(e,void 0)},Fi=function(e,t){var n=new Oi(null,void 0);return Ai(n,"https"),e&&Pi(n,e),t&&Di(n,t),n},Ui=function(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""},Bi=function(e,t,n){return u(e)?(e=encodeURI(e).replace(t,$i),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null},$i=function(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)},Hi=/[#\/\?@]/g,Wi=/[\#\?:]/g,Vi=/[\#\?]/g,qi=/[\#\?@]/g,Gi=/#/g,zi=function(e,t,n){this.o=this.j=null,this.P=e||null,this.Y=!!n},Xi=function(l){l.j||(l.j=new oi,l.o=0,l.P&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];a=o,s=r?decodeURIComponent(r.replace(/\+/g," ")):"",l.add(decodeURIComponent(a.replace(/\+/g," ")),s)}}var a,s}(l.P))},Ki=function(e){var t=ui(e);if(void 0===t)throw Error("Keys are undefined");var n=new zi(null,0,void 0);e=li(e);for(var i=0;i<t.length;i++){var r=t[i],o=e[i];h(o)?Yi(n,r,o):n.add(r,o)}return n};(e=zi.prototype).add=function(e,t){Xi(this),this.P=null,e=this.X(e);var n=this.j.get(e);return n||this.j.set(e,n=[]),n.push(t),this.o=L(this.o)+1,this},e.remove=function(e){return Xi(this),e=this.X(e),!!this.j.Ab(e)&&(this.P=null,this.o=L(this.o)-this.j.get(e).length,this.j.remove(e))},e.clear=function(){this.j=this.P=null,this.o=0},e.Ab=function(e){return Xi(this),e=this.X(e),this.j.Ab(e)},e.forEach=function(n,i){Xi(this),this.j.forEach(function(e,t){B(e,function(e){n.call(i,e,t,this)},this)},this)},e.pa=function(){Xi(this);for(var e=this.j.ca(),t=this.j.pa(),n=[],i=0;i<t.length;i++)for(var r=e[i],o=0;o<r.length;o++)n.push(t[i]);return n},e.ca=function(e){Xi(this);var t=[];if(u(e))this.Ab(e)&&(t=z(t,this.j.get(this.X(e))));else{e=this.j.ca();for(var n=0;n<e.length;n++)t=z(t,e[n])}return t},e.set=function(e,t){return Xi(this),this.P=null,e=this.X(e),this.Ab(e)&&(this.o=L(this.o)-this.j.get(e).length),this.j.set(e,[t]),this.o=L(this.o)+1,this},e.get=function(e,t){return 0<(e=e?this.ca(e):[]).length?String(e[0]):t};var Yi=function(e,t,n){e.remove(t),0<n.length&&(e.P=null,e.j.set(e.X(t),X(n)),e.o=L(e.o)+n.length)};zi.prototype.toString=function(){if(this.P)return this.P;if(!this.j)return"";for(var e=[],t=this.j.pa(),n=0;n<t.length;n++)for(var i=t[n],r=encodeURIComponent(String(i)),o=(i=this.ca(i),0);o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),e.push(a)}return this.P=e.join("&")},zi.prototype.clone=function(){var e=new zi;return e.P=this.P,this.j&&(e.j=this.j.clone(),e.o=this.o),e},zi.prototype.X=function(e){return e=String(e),this.Y&&(e=e.toLowerCase()),e},zi.prototype.Cd=function(e){e&&!this.Y&&(Xi(this),this.P=null,this.j.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(this.remove(t),Yi(this,n,e))},this)),this.Y=e};var Qi=function(){var e=hr();return ce&&!!be&&11==be||/Edge\/\d+/.test(e)},Ji=function(){return c.window&&c.window.location.href||""},Zi=function(e,t){t=t||c.window;var n="about:blank";e&&(n=mt(bt(e))),t.location.href=n},er=function(e,t){var n,i=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?i.push(n):h(e[n])?ne(e[n],t[n])||i.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<er(e[n],t[n]).length&&i.push(n):e[n]!==t[n]&&i.push(n):i.push(n);for(n in t)n in e||i.push(n);return i},tr=function(e){return!!((e=(e||hr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))},nr=function(e){e=e||c.window;try{e.close()}catch(e){}},ir=function(e,t,n){var i=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=hr().toLowerCase(),i&&(t.target=i,P(n,"crios/")&&(t.target="_blank")),"Firefox"==cr(hr())&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"about:blank",(i=t)||(i={}),e=window,t=n instanceof vt?n:bt(void 0!==n.href?n.href:String(n)),n=i.target||n.target,r=[],i)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+i[s]);break;case"target":case"noreferrer":break;default:r.push(s+"="+(i[s]?1:0))}var a,s=r.join(",");if((Q("iPhone")&&!Q("iPod")&&!Q("iPad")||Q("iPad")||Q("iPod"))&&e.navigator&&e.navigator.standalone&&n&&"_self"!=n?(s=e.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&(r=s&&(s instanceof HTMLAnchorElement||!(s instanceof Location||s instanceof Element)),o=p(s)?s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s):void 0===s?"undefined":null===s?"null":typeof s,N(r,"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",o)),t=t instanceof vt?t:bt(t),s.href=mt(t),s.setAttribute("target",n),i.noreferrer&&s.setAttribute("rel","noreferrer"),(i=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),s.dispatchEvent(i),s={}):i.noreferrer?(s=e.open("",n,s),i=mt(t),s&&(he&&P(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),s.opener=null,e=ft("b/12014412, meta tag with sanitized URL"),i='<META HTTP-EQUIV="refresh" content="0; url='+T(i)+'">',function(e,t,n){u(e)||R("Expected string but got %s: %s.",[d(e),e],t,Array.prototype.slice.call(arguments,2))}(dt(e),"must provide justification"),N(!/^[\s\xa0]*$/.test(dt(e)),"must provide non-empty justification"),s.document.write((a=(new Kt).gf(i))instanceof Kt&&a.constructor===Kt&&a.Ce===Yt?a.qa:(M("expected object of type SafeHtml, got '"+a+"' of type "+d(a)),"type_error:SafeHtml")),s.document.close())):s=e.open(mt(t),n,s),s)try{s.focus()}catch(e){}return s},rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,or=function(){var t=null;return new rn(function(e){"complete"==c.document.readyState?e():(t=function(){e()},Ze(window,"load",t))}).f(function(e){throw et(window,"load",t),e})},ar=function(e){return e=e||hr(),!("file:"!==vr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))},sr=function(){var e=c.window;try{return!(!e||e==e.top)}catch(e){return!1}},lr=function(){return firebase.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":firebase.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},ur=function(){var e=lr();return"ReactNative"===e||"Node"===e},cr=function(e){var t=e.toLowerCase();return P(t,"opera/")||P(t,"opr/")||P(t,"opios/")?"Opera":P(t,"iemobile")?"IEMobile":P(t,"msie")||P(t,"trident/")?"IE":P(t,"edge/")?"Edge":P(t,"firefox/")?"Firefox":P(t,"silk/")?"Silk":P(t,"blackberry")?"Blackberry":P(t,"webos")?"Webos":!P(t,"safari/")||P(t,"chrome/")||P(t,"crios/")||P(t,"android")?!P(t,"chrome/")&&!P(t,"crios/")||P(t,"edge/")?P(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"},dr=function(e){var t=lr();return("Browser"===t?cr(hr()):t)+"/JsCore/"+e},hr=function(){return c.navigator&&c.navigator.userAgent||""},fr=function(e,t){e=e.split("."),t=t||c;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t},pr=function(){var e;if(e=(gr()||"chrome-extension:"===vr()||ar())&&!ur())e:{try{var t=c.localStorage,n=wr();if(t){t.setItem(n,"1"),t.removeItem(n),e=!Qi()||!!c.indexedDB;break e}}catch(e){}e=!1}return e},gr=function(){return"http:"===vr()||"https:"===vr()},vr=function(){return c.location&&c.location.protocol||null},mr=function(e){return e=e||hr(),!tr(e)&&"Firefox"!=cr(e)},yr=function(e){return void 0===e?null:Tt(e)},br=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n},_r=function(e){if(null!==e)return JSON.parse(e)},wr=function(e){return e||""+Math.floor(1e9*Math.random()).toString()},Tr=function(e){return e=e||hr(),"Safari"!=cr(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)},kr=function(){var e=c.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null},Sr=function(){return!c.navigator||"boolean"!=typeof c.navigator.onLine||c.navigator.onLine},Er=function(e,t,n,i){if(t<e)throw Error("Short delay should be less than long delay!");this.Nf=e,this.pf=t,e=n||hr(),i=i||lr(),this.kf=tr(e)||"ReactNative"===i};Er.prototype.get=function(){return this.kf?this.pf:this.Nf};var Cr,xr=function(){var e=c.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState},Or={};try{var Ar={};Object.defineProperty(Ar,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ar,"abcd",{configurable:!0,enumerable:!0,value:2}),Cr=2==Ar.abcd}catch(e){Cr=!1}var Pr=function(e,t,n){Cr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n},Ir=function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Pr(e,n,t[n])},Dr=function(e){var t={};return Ir(t,e),t},jr=function(e){var t,n=e;if("object"==typeof e&&null!=e)for(t in n="length"in e?[]:{},e)Pr(n,t,jr(e[t]));return n},Rr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Nr=["client_id","response_type","scope","redirect_uri","state"],Mr={Xf:{Rb:500,Qb:600,providerId:"facebook.com",zd:Nr},Yf:{Rb:500,Qb:620,providerId:"github.com",zd:Nr},Zf:{Rb:515,Qb:680,providerId:"google.com",zd:Nr},$f:{Rb:485,Qb:705,providerId:"twitter.com",zd:Rr}},Lr=function(e){for(var t in Mr)if(Mr[t].providerId==e)return Mr[t];return null},Fr=function(e,t){this.code="auth/"+e,this.message=t||Br[e]||""};y(Fr,Error),Fr.prototype.F=function(){return{code:this.code,message:this.message}},Fr.prototype.toJSON=function(){return this.F()};var Ur=function(e){var t=e&&e.code;return t?new Fr(t.substring(5),e.message):null},Br={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The SMS quota for this project has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},$r=function(e,t,n,i,r){if(this.ha=e,this.R=t||null,this.vb=n||null,this.Bd=i||null,this.W=r||null,!this.vb&&!this.W)throw new Fr("invalid-auth-event");if(this.vb&&this.W)throw new Fr("invalid-auth-event");if(this.vb&&!this.Bd)throw new Fr("invalid-auth-event")};$r.prototype.oc=function(){return this.Bd},$r.prototype.getError=function(){return this.W},$r.prototype.F=function(){return{type:this.ha,eventId:this.R,urlResponse:this.vb,sessionId:this.Bd,error:this.W&&this.W.F()}};var Hr=function(e){return(e=e||{}).type?new $r(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Ur(e.error)):null},Wr=function(e){var t="unauthorized-domain",n=void 0,i=Li(e);e=i.ia,"chrome-extension"==(i=i.ka)?n=_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==i||"https"==i?n=_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Fr.call(this,t,n)};y(Wr,Fr);var Vr=function(e){this.nf=e.sub,m(),this.mc=e.email||null},qr=function(e,s){return e.then(function(e){if(e.idToken){e:{if(3==(t=e.idToken.split(".")).length){for(var t,n=(4-(t=t[1]).length%4)%4,i=0;i<n;i++)t+=".";try{var r=JSON.parse((a="",function(i,e){function t(e){for(;r<i.length;){var t=i.charAt(r++),n=Ce[t];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(t))throw Error("Unknown base64 encoding at char: "+t)}return e}xe();for(var r=0;;){var n=t(-1),o=t(0),a=t(64),s=t(64);if(64===s&&-1===n)break;e(n<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(e){a+=String.fromCharCode(e)}),a));if(r.sub&&r.iss&&r.aud&&r.exp){var o=new Vr(r);break e}}catch(e){}}o=null}if(!o||s!=o.nf)throw new Fr("user-mismatch");return e}var a;throw new Fr("user-mismatch")}).f(function(e){throw e&&e.code&&"auth/user-not-found"==e.code?new Fr("user-mismatch"):e})},Gr=function(e,t){if(t.idToken||t.accessToken)t.idToken&&Pr(this,"idToken",t.idToken),t.accessToken&&Pr(this,"accessToken",t.accessToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Fr("internal-error","failed to construct a credential");Pr(this,"accessToken",t.oauthToken),Pr(this,"secret",t.oauthTokenSecret)}Pr(this,"providerId",e)};Gr.prototype.Eb=function(e){return Do(e,zr(this))},Gr.prototype.zc=function(e,t){var n=zr(this);return n.idToken=t,jo(e,n)},Gr.prototype.od=function(e,t){var n=zr(this);return qr(Ro(e,n),t)};var zr=function(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:Ki(t).toString(),requestUri:"http://localhost"}};Gr.prototype.F=function(){var e={providerId:this.providerId};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e};var Xr=function(e,t){this.Df=t||[],Ir(this,{providerId:e,isOAuthProvider:!0}),this.Sd={}};Xr.prototype.setCustomParameters=function(e){return this.Sd=ie(e),this};var Kr=function(e){Xr.call(this,e,Nr),this.Ad=[]};y(Kr,Xr),Kr.prototype.addScope=function(e){return W(this.Ad,e)||this.Ad.push(e),this},Kr.prototype.$d=function(){return X(this.Ad)},Kr.prototype.credential=function(e,t){if(!e&&!t)throw new Fr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Gr(this.providerId,{idToken:e||null,accessToken:t||null})};var Yr=function(){Kr.call(this,"facebook.com")};y(Yr,Kr),Pr(Yr,"PROVIDER_ID","facebook.com");var Qr=function(e){if(!e)throw new Fr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new Yr).credential(null,t)},Jr=function(){Kr.call(this,"github.com")};y(Jr,Kr),Pr(Jr,"PROVIDER_ID","github.com");var Zr=function(e){if(!e)throw new Fr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new Jr).credential(null,t)},eo=function(){Kr.call(this,"google.com"),this.addScope("profile")};y(eo,Kr),Pr(eo,"PROVIDER_ID","google.com");var to=function(e,t){var n=e;return p(e)&&(n=e.idToken,t=e.accessToken),(new eo).credential(n,t)},no=function(){Xr.call(this,"twitter.com",Rr)};y(no,Xr),Pr(no,"PROVIDER_ID","twitter.com");var io=function(e,t){var n=e;if(p(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Fr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Gr("twitter.com",n)},ro=function(e,t){this.mc=e,this.sd=t,Pr(this,"providerId","password")};ro.prototype.Eb=function(e){return aa(e,na,{email:this.mc,password:this.sd})},ro.prototype.zc=function(e,t){return aa(e,Yo,{idToken:t,email:this.mc,password:this.sd})},ro.prototype.od=function(e,t){return qr(this.Eb(e),t)},ro.prototype.F=function(){return{email:this.mc,password:this.sd}};var oo=function(){Ir(this,{providerId:"password",isOAuthProvider:!1})};Ir(oo,{PROVIDER_ID:"password"});var ao=function(e){if(!(e.verificationId&&e.Tc||e.cc&&e.phoneNumber))throw new Fr("internal-error");this.M=e,Pr(this,"providerId","phone")};ao.prototype.Eb=function(e){return e.verifyPhoneNumber(so(this))},ao.prototype.zc=function(e,t){var n=so(this);return n.idToken=t,aa(e,ra,n)},ao.prototype.od=function(e,t){var n=so(this);return n.operation="REAUTH",e=aa(e,oa,n),qr(e,t)},ao.prototype.F=function(){var e={providerId:"phone"};return this.M.verificationId&&(e.verificationId=this.M.verificationId),this.M.Tc&&(e.verificationCode=this.M.Tc),this.M.cc&&(e.temporaryProof=this.M.cc),this.M.phoneNumber&&(e.phoneNumber=this.M.phoneNumber),e};var so=function(e){return e.M.cc&&e.M.phoneNumber?{temporaryProof:e.M.cc,phoneNumber:e.M.phoneNumber}:{sessionInfo:e.M.verificationId,code:e.M.Tc}},lo=function(e){try{this.Ke=e||firebase.auth()}catch(e){throw new Fr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ir(this,{providerId:"phone",isOAuthProvider:!1})};lo.prototype.verifyPhoneNumber=function(t,n){var i=this.Ke.g;return ln(n.verify()).then(function(e){if(!u(e))throw new Fr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return aa(i,Xo,{phoneNumber:t,recaptchaToken:e});default:throw new Fr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};var uo=function(e,t){if(!e)throw new Fr("missing-verification-id");if(!t)throw new Fr("missing-verification-code");return new ao({verificationId:e,Tc:t})};Ir(lo,{PROVIDER_ID:"phone"});var co=function(e){if(e.temporaryProof&&e.phoneNumber)return new ao({cc:e.temporaryProof,phoneNumber:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,i=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{switch(t){case"google.com":return to(e,n);case"facebook.com":return Qr(n);case"github.com":return Zr(n);case"twitter.com":return io(n,i);default:return new Kr(t).credential(e,n)}}catch(e){return null}},ho=function(e){if(!e.isOAuthProvider)throw new Fr("invalid-oauth-provider")},fo=function(e,t,n){Fr.call(this,e,n),(e=t||{}).email&&Pr(this,"email",e.email),e.phoneNumber&&Pr(this,"phoneNumber",e.phoneNumber),e.credential&&Pr(this,"credential",e.credential)};y(fo,Fr),fo.prototype.F=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.F();return t&&oe(e,t),e},fo.prototype.toJSON=function(){return this.F()};var po=function(e){if(e.code){var t=e.code||"";0==t.indexOf("auth/")&&(t=t.substring(5));var n={credential:co(e)};if(e.email)n.email=e.email;else{if(!e.phoneNumber)return new Fr(t,e.message||void 0);n.phoneNumber=e.phoneNumber}return new fo(t,n,e.message)}return null},go=function(e){this.Wf=e};y(go,Ot),go.prototype.lc=function(){return new this.Wf},go.prototype.md=function(){return{}};var vo,mo=function(e,t,n){var i="Node"==lr();if(!(i=c.XMLHttpRequest||i&&firebase.INTERNAL.node&&firebase.INTERNAL.node.XMLHttpRequest))throw new Fr("internal-error","The XMLHttpRequest compatibility library was not found.");this.m=e,e=t||{},this.Jf=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.Kf=e.secureTokenTimeout||yo,this.pe=ie(e.secureTokenHeaders||bo),this.Te=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.Ue=e.firebaseTimeout||_o,this.Yd=ie(e.firebaseHeaders||wo),n&&(this.Yd["X-Client-Version"]=n,this.pe["X-Client-Version"]=n),this.Le=new jt,this.Vf=new go(i)},yo=new Er(3e4,6e4),bo={"Content-Type":"application/x-www-form-urlencoded"},_o=new Er(3e4,6e4),wo={"Content-Type":"application/json"},To=function(e,t,n,i,r,o,a){var s;Sr()?(s=hr(),(e=(s="Chrome"!=cr(s)?null:(s=s.match(/\sChrome\/(\d+)/i))&&2==s.length?parseInt(s[1],10):null)&&s<30||ce&&be&&!(9<be)?(vo||(vo=new rn(function(e,t){So(e,t)})),g(e.Lf,e)):g(e.Mf,e))(t,n,i,r,o,a)):n&&n(null)};mo.prototype.Mf=function(e,n,t,i,r,o){var a="Node"==lr(),s=ur()?a?new fi(this.Vf):new fi:new fi(this.Le);if(o){s.ub=Math.max(0,o);var l=setTimeout(function(){s.dispatchEvent("timeout")},o)}s.listen("complete",function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.c?t.c.responseText:""}catch(e){return ri(t.K,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}n&&n(t)}),Zn(s,"ready",function(){l&&clearTimeout(l),this.Ha||(this.Ha=!0,this.fb())}),Zn(s,"timeout",function(){l&&clearTimeout(l),this.Ha||(this.Ha=!0,this.fb()),n&&n(null)}),s.send(e,t,i,r)};var ko="__fcb"+Math.floor(1e6*Math.random()).toString(),So=function(e,t){var n;((window.gapi||{}).client||{}).request?e():(c[ko]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},n=Mn("https://apis.google.com/js/client.js?onload="+ko),An(n,null,function(){t(Error("CORS_UNSUPPORTED"))},void 0))};mo.prototype.Lf=function(e,n,i,r,o){var a=this;vo.then(function(){window.gapi.client.setApiKey(a.m);var t=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:i,body:r,headers:o,authType:"none",callback:function(e){window.gapi.auth.setToken(t),n&&n(e)}})}).f(function(e){n&&n({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})};var Eo=function(e){if(!ut.test(e.email))throw new Fr("invalid-email")},Co=function(e){"email"in e&&Eo(e)},xo=function(e){if(!e.idToken)throw new Fr("internal-error")},Oo=function(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Fr("internal-error")}else{if(!e.sessionInfo)throw new Fr("missing-verification-id");if(!e.code)throw new Fr("missing-verification-code")}};mo.prototype.signInAnonymously=function(){return aa(this,Qo,{})},mo.prototype.updateEmail=function(e,t){return aa(this,Ko,{idToken:e,email:t})},mo.prototype.updatePassword=function(e,t){return aa(this,Yo,{idToken:e,password:t})};var Ao={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};mo.prototype.updateProfile=function(e,i){var r={idToken:e},o=[];return J(Ao,function(e,t){var n=i[t];null===n?o.push(e):t in i&&(r[t]=n)}),o.length&&(r.deleteAttribute=o),aa(this,Ko,r)},mo.prototype.sendPasswordResetEmail=function(e){return aa(this,Vo,{requestType:"PASSWORD_RESET",email:e})},mo.prototype.sendEmailVerification=function(e){return aa(this,Wo,{requestType:"VERIFY_EMAIL",idToken:e})},mo.prototype.verifyPhoneNumber=function(e){return aa(this,ia,e)};var Po=function(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new Fr("internal-error")},Io=function(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=po(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=po(e)):"EMAIL_EXISTS"==e.errorMessage&&(e.code="email-already-in-use",t=po(e)),t)throw t;if(!e.idToken)throw new Fr("internal-error")},Do=function(e,t){return t.returnIdpCredential=!0,aa(e,Jo,t)},jo=function(e,t){return t.returnIdpCredential=!0,aa(e,ea,t)},Ro=function(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,aa(e,Zo,t)},No=function(e){if(!e.oobCode)throw new Fr("invalid-action-code")};mo.prototype.confirmPasswordReset=function(e,t){return aa(this,zo,{oobCode:e,newPassword:t})},mo.prototype.checkActionCode=function(e){return aa(this,Lo,{oobCode:e})},mo.prototype.applyActionCode=function(e){return aa(this,Mo,{oobCode:e})};var Mo={endpoint:"setAccountInfo",C:No,Xa:"email"},Lo={endpoint:"resetPassword",C:No,U:function(e){if(!e.email||!e.requestType)throw new Fr("internal-error")}},Fo={endpoint:"signupNewUser",C:function(e){if(Eo(e),!e.password)throw new Fr("weak-password")},U:xo,ta:!0},Uo={endpoint:"createAuthUri"},Bo={endpoint:"deleteAccount",Va:["idToken"]},$o={endpoint:"setAccountInfo",Va:["idToken","deleteProvider"],C:function(e){if(!h(e.deleteProvider))throw new Fr("internal-error")}},Ho={endpoint:"getAccountInfo"},Wo={endpoint:"getOobConfirmationCode",Va:["idToken","requestType"],C:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Fr("internal-error")},Xa:"email"},Vo={endpoint:"getOobConfirmationCode",Va:["requestType"],C:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Fr("internal-error");Eo(e)},Xa:"email"},qo={Ld:!0,endpoint:"getProjectConfig",de:"GET"},Go={Ld:!0,endpoint:"getRecaptchaParam",de:"GET",U:function(e){if(!e.recaptchaSiteKey)throw new Fr("internal-error")}},zo={endpoint:"resetPassword",C:No,Xa:"email"},Xo={endpoint:"sendVerificationCode",Va:["phoneNumber","recaptchaToken"],Xa:"sessionInfo"},Ko={endpoint:"setAccountInfo",Va:["idToken"],C:Co,ta:!0},Yo={endpoint:"setAccountInfo",Va:["idToken"],C:function(e){if(Co(e),!e.password)throw new Fr("weak-password")},U:xo,ta:!0},Qo={endpoint:"signupNewUser",U:xo,ta:!0},Jo={endpoint:"verifyAssertion",C:Po,U:Io,ta:!0},Zo={endpoint:"verifyAssertion",C:Po,U:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Fr("user-not-found");if(!e.idToken)throw new Fr("internal-error")},ta:!0},ea={endpoint:"verifyAssertion",C:function(e){if(Po(e),!e.idToken)throw new Fr("internal-error")},U:Io,ta:!0},ta={endpoint:"verifyCustomToken",C:function(e){if(!e.token)throw new Fr("invalid-custom-token")},U:xo,ta:!0},na={endpoint:"verifyPassword",C:function(e){if(Eo(e),!e.password)throw new Fr("wrong-password")},U:xo,ta:!0},ia={endpoint:"verifyPhoneNumber",C:Oo,U:xo},ra={endpoint:"verifyPhoneNumber",C:function(e){if(!e.idToken)throw new Fr("internal-error");Oo(e)},U:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",po(e);xo(e)}},oa={Oe:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Oo,U:xo},aa=function(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var i=e[t[n]];if(null==i||""===i)return!1}return!0}(n,t.Va))return un(new Fr("internal-error"));var i,r=t.de||"POST";return ln(n).then(t.C).then(function(){return t.ta&&(n.returnSecureToken=!0),function(e,t,i,r,o,n){var a=Li(e.Te+t);Ri(a,"key",e.m),n&&Ri(a,"cb",m().toString());var s="GET"==i;if(s)for(var l in r)r.hasOwnProperty(l)&&Ri(a,l,r[l]);return new rn(function(t,n){To(e,a.toString(),function(e){e?e.error?n(sa(e,o||{})):t(e):n(new Fr("network-request-failed"))},i,s?void 0:Tt(br(r)),e.Yd,e.Ue.get())})}(e,t.endpoint,r,n,t.Oe,t.Ld||!1)}).then(function(e){return i=e}).then(t.U).then(function(){if(!t.Xa)return i;if(!(t.Xa in i))throw new Fr("internal-error");return i[t.Xa]})},sa=function(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new Fr(i[n]):null)return n;for(var r in n=e.error&&e.error.message||"",oe(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,i)if(0===n.indexOf(r))return new Fr(i[r],t);return!t&&e&&(t=yr(e)),new Fr("internal-error",t)},la=function(e){this.$=e};la.prototype.value=function(){return this.$},la.prototype.se=function(e){return this.$.style=e,this};var ua=function(e){this.$=e||{}};ua.prototype.value=function(){return this.$},ua.prototype.se=function(e){return this.$.style=e,this};var ca=function(e){this.Tf=e,this.tc=null,this.qd=da(this)},da=function(o){return ga().then(function(){return new rn(function(i,r){var e,t;fr("gapi.iframes.getContext")().open((e=o,(t=new ua).$.where=document.body,t.$.url=e.Tf,t.$.messageHandlersFilter=fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),t.$.attributes=t.$.attributes||{},new la(t.$.attributes).se({position:"absolute",top:"-100px",width:"1px",height:"1px"}),t.$.dontclear=!0,t).value(),function(e){o.tc=e,o.tc.restyle({setHideOnLeave:!1});var t=setTimeout(function(){r(Error("Network Error"))},fa.get()),n=function(){clearTimeout(t),i()};e.ping(n).then(n,function(){r(Error("Network Error"))})})})})};ca.prototype.sendMessage=function(t){var n=this;return this.qd.then(function(){return new rn(function(e){n.tc.send(t.type,t,e,fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var ha=new Er(3e4,6e4),fa=new Er(5e3,15e3),pa=null,ga=function(){return pa||(pa=new rn(function(e,t){if(Sr()){var n=function(){kr(),fr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){kr(),t(Error("Network Error"))},timeout:ha.get()})};if(fr("gapi.iframes.Iframe"))e();else if(fr("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[i]=function(){fr("gapi.load")?n():t(Error("Network Error"))},ln(Mn("https://apis.google.com/js/api.js?onload="+i)).f(function(){t(Error("Network Error"))})}}else t(Error("Network Error"))}).f(function(e){throw pa=null,e}))},va=function(e,t,n){this.B=e,this.m=t,this.w=n,this.Za=null,this.fc=Fi(this.B,"/__/auth/iframe"),Ri(this.fc,"apiKey",this.m),Ri(this.fc,"appName",this.w)};va.prototype.Dd=function(e){return this.Za=e,this},va.prototype.toString=function(){return this.Za?Ri(this.fc,"v",this.Za):this.fc.removeParameter("v"),this.fc.toString()};var ma=function(e,t,n,i,r){this.B=e,this.m=t,this.w=n,this.Je=i,this.Za=this.R=this.yd=null,this.Ub=r};ma.prototype.Dd=function(e){return this.Za=e,this},ma.prototype.toString=function(){var e=Fi(this.B,"/__/auth/handler");if(Ri(e,"apiKey",this.m),Ri(e,"appName",this.w),Ri(e,"authType",this.Je),this.Ub.isOAuthProvider){Ri(e,"providerId",this.Ub.providerId);var t,n=this.Ub,i=br(n.Sd);for(t in i)i[t]=i[t].toString();for(n=n.Df,i=ie(i),t=0;t<n.length;t++){var r=n[t];r in i&&delete i[r]}te(i)||Ri(e,"customParameters",yr(i))}if("function"==typeof this.Ub.$d&&(n=this.Ub.$d()).length&&Ri(e,"scopes",n.join(",")),this.yd?Ri(e,"redirectUrl",this.yd):e.removeParameter("redirectUrl"),this.R?Ri(e,"eventId",this.R):e.removeParameter("eventId"),this.Za?Ri(e,"v",this.Za):e.removeParameter("v"),this.hc)for(var o in this.hc)this.hc.hasOwnProperty(o)&&!Ni(e,o)&&Ri(e,o,this.hc[o]);return e.toString()};var ya=function(e,t,n,i){this.B=e,this.m=t,this.w=n,this.We=(this.Fa=i||null)?dr(this.Fa):null,i=this.Fa,this.df=new va(e,t,n).Dd(i).toString(),this.na=[],this.g=new mo(t,null,this.We),this.vc=this.xa=null},ba=function(e){var s=Ji();return aa(e,qo,{}).then(function(e){return e.authorizedDomains||[]}).then(function(e){e:{for(var t=(n=Li(s)).ka,n=n.ia,i=0;i<e.length;i++){var r=e[i],o=n,a=t;if(o=0==r.indexOf("chrome-extension://")?Li(r).ia==o&&"chrome-extension"==a:("http"==a||"https"==a)&&(rr.test(r)?o==r:(r=r.split(".").join("\\."),new RegExp("^(.+\\."+r+"|"+r+")$","i").test(o)))){e=!0;break e}}e=!1}if(!e)throw new Wr(Ji())})};(e=ya.prototype).Kb=function(){if(this.vc)return this.vc;var e=this;return this.vc=or().then(function(){e.sc=new ca(e.df),wa(e)})},e.$b=function(t,n,e){var i=new Fr("popup-closed-by-user"),r=new Fr("web-storage-unsupported"),o=this,a=!1;return this.Ma().then(function(){Ta(o).then(function(e){e||(t&&nr(t),n(r),a=!0)})}).f(function(){}).then(function(){if(!a)return n=t,new rn(function(e){var t=function(){di(2e3).then(function(){if(n&&!n.closed)return t();e()})};return t()});var n}).then(function(){if(!a)return di(e).then(function(){n(i)})})},e.te=function(){var e=hr();return!mr(e)&&!Tr(e)},e.ce=function(){return!1},e.Sb=function(t,n,i,r,o,a,s){if(!t)return un(new Fr("popup-blocked"));if(s&&!mr())return this.Ma().f(function(e){nr(t),o(e)}),r(),ln();this.xa||(this.xa=ba(this.g));var l=this;return this.xa.then(function(){var e=l.Ma().f(function(e){throw nr(t),o(e),e});return r(),e}).then(function(){if(ho(i),!s){var e=_a(l.B,l.m,l.w,n,i,null,a,l.Fa);Zi(e,t)}}).f(function(e){throw"auth/network-request-failed"==e.code&&(l.xa=null),e})},e.Tb=function(t,n,i){this.xa||(this.xa=ba(this.g));var r=this;return this.xa.then(function(){ho(n);var e=_a(r.B,r.m,r.w,t,n,Ji(),i,r.Fa);Zi(e)})},e.Ma=function(){var e=this;return this.Kb().then(function(){return e.sc.qd}).f(function(){throw e.xa=null,new Fr("network-request-failed")})},e.we=function(){return!0};var _a=function(e,t,n,i,r,o,a,s,l){return(e=new ma(e,t,n,i,r)).yd=o,e.R=a,(o=e.Dd(s)).hc=ie(l||null),o.toString()},wa=function(i){if(!i.sc)throw Error("IfcHandler must be initialized!");var e,t;e=i.sc,t=function(e){var t={};if(e&&e.authEvent){var n=!1;for(e=Hr(e.authEvent),t=0;t<i.na.length;t++)n=i.na[t](e)||n;return(t={}).status=n?"ACK":"ERROR",ln(t)}return t.status="ERROR",ln(t)},e.qd.then(function(){e.tc.register("authEvent",t,fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},Ta=function(e){var t={type:"webStorageSupport"};return e.Kb().then(function(){return e.sc.sendMessage(t)}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})};ya.prototype.bb=function(e){this.na.push(e)},ya.prototype.Yb=function(t){G(this.na,function(e){return e==t})};var ka=function(e,t,n){if(Pr(this,"type","recaptcha"),this.Uc=this.zb=null,this.Bb=!1,this.Qd=e,this.ya=t||{theme:"light",type:"image"},this.G=[],this.ya.sitekey)throw new Fr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.wc="invisible"===this.ya.size,!Qt(e)||!this.wc&&Qt(e).hasChildNodes())throw new Fr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");try{this.h=n||firebase.app()}catch(e){throw new Fr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.h.options||!this.h.options.apiKey)throw new Fr("invalid-api-key");e=firebase.SDK_VERSION?dr(firebase.SDK_VERSION):null,this.g=new mo(this.h.options&&this.h.options.apiKey,null,e);var i=this;this.Pc=[];var r=this.ya.callback;this.ya.callback=function(e){if(i.Cb(e),"function"==typeof r)r(e);else if("string"==typeof r){var t=fr(r,c);"function"==typeof t&&t(e)}};var o=this.ya["expired-callback"];this.ya["expired-callback"]=function(){if(i.Cb(null),"function"==typeof o)o();else if("string"==typeof o){var e=fr(o,c);"function"==typeof e&&e()}}};ka.prototype.Cb=function(e){for(var t=0;t<this.Pc.length;t++)try{this.Pc[t](e)}catch(e){}},ka.prototype.b=function(e){var t=this;return this.G.push(e),cn(e,function(){V(t.G,e)}),e},ka.prototype.Lb=function(){var t=this;return this.zb?this.zb:this.zb=this.b(ln().then(function(){if(gr())return or();throw new Fr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return Ea()}).then(function(){return aa(t.g,Go,{})}).then(function(e){t.ya.sitekey=e.recaptchaSiteKey}).f(function(e){throw t.zb=null,e}))},ka.prototype.render=function(){Sa(this);var n=this;return this.b(this.Lb().then(function(){if(null===n.Uc){var e=n.Qd;if(!n.wc){var t=Qt(e);e=function(e,t,n){var i=arguments,r=document,o=String(i[0]),a=i[1];if(!Xt&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',T(a.name),'"'),a.type){o.push(' type="',T(a.type),'"');var s={};oe(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=r.createElement(o),a&&(u(a)?o.className=a:h(a)?o.className=a.join(" "):Jt(o,a)),2<i.length&&function(t,n,e){function i(e){e&&n.appendChild(u(e)?t.createTextNode(e):e)}for(var r=2;r<e.length;r++){var o=e[r];!f(o)||p(o)&&0<o.nodeType?i(o):B(en(o)?X(o):o,i)}}(r,o,i),o}("DIV"),t.appendChild(e)}n.Uc=grecaptcha.render(e,n.ya)}return n.Uc}))},ka.prototype.verify=function(){Sa(this);var r=this;return this.b(this.render().then(function(t){return new rn(function(n){var e=grecaptcha.getResponse(t);if(e)n(e);else{var i=function(e){var t;e&&(t=i,G(r.Pc,function(e){return e==t}),n(e))};r.Pc.push(i),r.wc&&grecaptcha.execute(r.Uc)}})}))};var Sa=function(e){if(e.Bb)throw new Fr("internal-error","RecaptchaVerifier instance has been destroyed.")};ka.prototype.clear=function(){Sa(this),this.Bb=!0;for(var e=0;e<this.G.length;e++)this.G[e].cancel("RecaptchaVerifier instance has been destroyed.");var t;if(!this.wc)for(e=Qt(this.Qd);t=e.firstChild;)e.removeChild(t)};var Ea=function(){return new rn(function(e,t){if(Sr())if(c.grecaptcha)e();else{var n="__rcb"+Math.floor(1e6*Math.random()).toString();c[n]=function(){c.grecaptcha?e():t(new Fr("internal-error")),delete c[n]},ln(Mn("https://www.google.com/recaptcha/api.js?onload="+n+"&render=explicit")).f(function(){t(new Fr("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else t(new Fr("network-request-failed"))})},Ca=function(e){if(this.D=e||firebase.INTERNAL.reactNative&&firebase.INTERNAL.reactNative.AsyncStorage,!this.D)throw new Fr("internal-error","The React Native compatibility library was not found.")};(e=Ca.prototype).get=function(e){return ln(this.D.getItem(e)).then(function(e){return e&&_r(e)})},e.set=function(e,t){return ln(this.D.setItem(e,yr(t)))},e.remove=function(e){return ln(this.D.removeItem(e))},e.cb=function(){},e.Ua=function(){};var xa=function(){this.D={}};(e=xa.prototype).get=function(e){return ln(this.D[e])},e.set=function(e,t){return this.D[e]=t,ln()},e.remove=function(e){return delete this.D[e],ln()},e.cb=function(){},e.Ua=function(){};var Oa=function(){if(!Aa()){if("Node"==lr())throw new Fr("internal-error","The LocalStorage compatibility library was not found.");throw new Fr("web-storage-unsupported")}this.D=c.localStorage||firebase.INTERNAL.node.localStorage},Aa=function(){var e="Node"==lr();if(!(e=c.localStorage||e&&firebase.INTERNAL.node&&firebase.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}};(e=Oa.prototype).get=function(t){var n=this;return ln().then(function(){var e=n.D.getItem(t);return _r(e)})},e.set=function(t,n){var i=this;return ln().then(function(){var e=yr(n);null===e?i.remove(t):i.D.setItem(t,e)})},e.remove=function(e){var t=this;return ln().then(function(){t.D.removeItem(e)})},e.cb=function(e){c.window&&Ye(c.window,"storage",e)},e.Ua=function(e){c.window&&et(c.window,"storage",e)};var Pa=function(){this.D={}};(e=Pa.prototype).get=function(){return ln(null)},e.set=function(){return ln()},e.remove=function(){return ln()},e.cb=function(){},e.Ua=function(){};var Ia=function(){if(!Da()){if("Node"==lr())throw new Fr("internal-error","The SessionStorage compatibility library was not found.");throw new Fr("web-storage-unsupported")}this.D=c.sessionStorage||firebase.INTERNAL.node.sessionStorage},Da=function(){var e="Node"==lr();if(!(e=c.sessionStorage||e&&firebase.INTERNAL.node&&firebase.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}};(e=Ia.prototype).get=function(t){var n=this;return ln().then(function(){var e=n.D.getItem(t);return _r(e)})},e.set=function(t,n){var i=this;return ln().then(function(){var e=yr(n);null===e?i.remove(t):i.D.setItem(t,e)})},e.remove=function(e){var t=this;return ln().then(function(){t.D.removeItem(e)})},e.cb=function(){},e.Ua=function(){};var ja,Ra=function(e,t,n,i,r,o){if(!window.indexedDB)throw new Fr("web-storage-unsupported");this.Pe=e,this.pd=t,this.bd=n,this.Ae=i,this.$a=r,this.da={},this.ac=[],this.Ob=0,this.ef=o||c.indexedDB},Na=function(e){return e.ge||(e.ge=(i=e,new rn(function(t,n){var e=i.ef.open(i.Pe,i.$a);e.onerror=function(e){n(Error(e.target.errorCode))},e.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore(i.pd,{keyPath:i.bd})}catch(e){n(e)}},e.onsuccess=function(e){t(e.target.result)}}))),e.ge;var i},Ma=function(e,t){return t.objectStore(e.pd)},La=function(e,t,n){return t.transaction([e.pd],n?"readwrite":"readonly")},Fa=function(e){return new rn(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}})};(e=Ra.prototype).set=function(n,i){var r,o=!1,a=this;return cn(Na(this).then(function(e){return e=Ma(a,La(a,r=e,!0)),Fa(e.get(n))}).then(function(e){var t=Ma(a,La(a,r,!0));return e?(e.value=i,Fa(t.put(e))):(a.Ob++,o=!0,(e={})[a.bd]=n,e[a.Ae]=i,Fa(t.add(e)))}).then(function(){a.da[n]=i}),function(){o&&a.Ob--})},e.get=function(t){var n=this;return Na(this).then(function(e){return Fa(Ma(n,La(n,e,!1)).get(t))}).then(function(e){return e&&e.value})},e.remove=function(t){var n=!1,i=this;return cn(Na(this).then(function(e){return n=!0,i.Ob++,Fa(Ma(i,La(i,e,!0)).delete(t))}).then(function(){delete i.da[t]}),function(){n&&i.Ob--})},e.Pf=function(){var i=this;return Na(this).then(function(e){var r=Ma(i,La(i,e,!1));return r.getAll?Fa(r.getAll()):new rn(function(t,n){var i=[],e=r.openCursor();e.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},e.onerror=function(e){n(Error(e.target.errorCode))}})}).then(function(e){var t={},n=[];if(0==i.Ob){for(n=0;n<e.length;n++)t[e[n][i.bd]]=e[n][i.Ae];n=er(i.da,t),i.da=t}return n})},e.cb=function(e){0==this.ac.length&&this.Fd(),this.ac.push(e)},e.Ua=function(t){G(this.ac,function(e){return e==t}),0==this.ac.length&&this.Lc()},e.Fd=function(){var e=this;this.Lc();var t=function(){return e.td=di(800).then(g(e.Pf,e)).then(function(t){0<t.length&&B(e.ac,function(e){e(t)})}).then(t).f(function(e){"STOP_EVENT"!=e.message&&t()}),e.td};t()},e.Lc=function(){this.td&&this.td.cancel("STOP_EVENT")};var Ua,Ba=function(){this.Ud={Browser:$a,Node:Ha,ReactNative:Wa}[lr()]},$a={T:Oa,Id:Ia},Ha={T:Oa,Id:Ia},Wa={T:Ca,Id:Pa},Va=function(e,t){this.Ne=t,Pr(this,"verificationId",e)};Va.prototype.confirm=function(e){return e=uo(this.verificationId,e),this.Ne(e)};var qa=function(e,t,n,i){return new lo(e).verifyPhoneNumber(t,n).then(function(e){return new Va(e,i)})},Ga=function(e){var t={},n=e.email,i=e.newEmail;if(e=e.requestType,!n||!e)throw Error("Invalid provider user info!");t.fromEmail=i||null,t.email=n,Pr(this,"operation",e),Pr(this,"data",jr(t))},za=function(e,t,n,i,r,o){if(this.xf=e,this.Ff=t,this.Ye=n,this.Ac=i,this.Jd=r,this.Gf=!!o,this.mb=null,this.Na=this.Ac,this.Jd<this.Ac)throw Error("Proactive refresh lower bound greater than upper bound!")};za.prototype.start=function(){this.Na=this.Ac,Xa(this,!0)};var Xa=function(i,e){var t,n;i.stop(),i.mb=di((t=i,(n=e)?(t.Na=t.Ac,t.Ye()):(n=t.Na,t.Na*=2,t.Na>t.Jd&&(t.Na=t.Jd),n))).then(function(){return i.Gf?ln():(t=c.document,n=null,xr()||!t?ln():new rn(function(e){n=function(){xr()&&(t.removeEventListener("visibilitychange",n,!1),e())},t.addEventListener("visibilitychange",n,!1)}).f(function(e){throw t.removeEventListener("visibilitychange",n,!1),e}));var t,n}).then(function(){return i.xf()}).then(function(){Xa(i,!0)}).f(function(e){i.Ff(e)&&Xa(i,!1)})};za.prototype.stop=function(){this.mb&&(this.mb.cancel(),this.mb=null)};var Ka=function(e){var t={};t["facebook.com"]=Qa,t["google.com"]=Za,t["github.com"]=Ja,t["twitter.com"]=es;var n=e&&e.providerId;return n?t[n]?new t[n](e):new Ya(e):null},Ya=function(e){var t=_r(e.rawUserInfo||"{}");if(!(e=e.providerId))throw Error("Invalid additional user info!");Pr(this,"profile",jr(t||{})),Pr(this,"providerId",e)},Qa=function(e){if(Ya.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider id!")};y(Qa,Ya);var Ja=function(e){if(Ya.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider id!");Pr(this,"username",this.profile&&this.profile.login||null)};y(Ja,Ya);var Za=function(e){if(Ya.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider id!")};y(Za,Ya);var es=function(e){if(Ya.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider id!");Pr(this,"username",e.screenName||null)};y(es,Ya);var ts,ns=function(e,t,n,i){this.sf=e,this.qe=t,this.Hf=n,this.Zb=i,this.Z={},Ua||(Ua=new Ba),e=Ua;try{if(Qi()){ja||(ja=new Ra("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var r=ja}else r=new e.Ud.T;this.Ra=r}catch(e){this.Ra=new xa,this.Zb=!0}try{this.Nc=new e.Ud.Id}catch(e){this.Nc=new xa}this.Gd=g(this.ue,this),this.da={}},is=function(){return ts||(ts=new ns("firebase",":",!(Tr(hr())||!sr()),mr())),ts};(e=ns.prototype).X=function(e,t){return this.sf+this.qe+e.name+(t?this.qe+t:"")},e.get=function(e,t){return(e.T?this.Ra:this.Nc).get(this.X(e,t))},e.remove=function(e,t){return t=this.X(e,t),e.T&&!this.Zb&&(this.da[t]=null),(e.T?this.Ra:this.Nc).remove(t)},e.set=function(t,e,n){var i=this.X(t,n),r=this,o=t.T?this.Ra:this.Nc;return o.set(i,e).then(function(){return o.get(i)}).then(function(e){t.T&&!this.Zb&&(r.da[i]=e)})},e.addListener=function(e,t,n){e=this.X(e,t),this.Zb||(this.da[e]=c.localStorage.getItem(e)),te(this.Z)&&this.Fd(),this.Z[e]||(this.Z[e]=[]),this.Z[e].push(n)},e.removeListener=function(e,t,n){e=this.X(e,t),this.Z[e]&&(G(this.Z[e],function(e){return e==n}),0==this.Z[e].length&&delete this.Z[e]),te(this.Z)&&this.Lc()},e.Fd=function(){this.Ra.cb(this.Gd),this.Zb||Qi()||rs(this)};var rs=function(i){os(i),i.nd=setInterval(function(){for(var e in i.Z){var t=c.localStorage.getItem(e),n=i.da[e];t!=n&&(i.da[e]=t,t=new Be({type:"storage",key:e,target:window,oldValue:n,newValue:t,zf:!0}),i.ue(t))}},1e3)},os=function(e){e.nd&&(clearInterval(e.nd),e.nd=null)};ns.prototype.Lc=function(){this.Ra.Ua(this.Gd),os(this)},ns.prototype.ue=function(e){if(e&&e.Xe){var t=e.gb.key;if(void 0!==e.gb.zf?this.Ra.Ua(this.Gd):os(this),this.Hf){var n=c.localStorage.getItem(t);(e=e.gb.newValue)!=n&&(e?c.localStorage.setItem(t,e):e||c.localStorage.removeItem(t))}this.da[t]=c.localStorage.getItem(t),this.Nd(t)}else B(e,g(this.Nd,this))},ns.prototype.Nd=function(e){this.Z[e]&&B(this.Z[e],function(e){e()})};var as=function(e,t){this.v=e,this.l=t||is()},ss={name:"authEvent",T:!0};as.prototype.bb=function(e){this.l.addListener(ss,this.v,e)};var ls=function(e){this.l=e||is()},us={name:"sessionId",T:(as.prototype.Yb=function(e){this.l.removeListener(ss,this.v,e)},!1)};ls.prototype.oc=function(e){return this.l.get(us,e)};var cs=function(e,t,n,i,r,o){this.B=e,this.m=t,this.w=n,this.Fa=i||null,this.ve=t+":"+n,this.If=new ls,this.Zd=new as(this.ve),this.ld=null,this.na=[],this.jf=r||500,this.Bf=o||2e3,this.Jb=this.Dc=null},ds=function(e){return new Fr("invalid-cordova-configuration",e)};cs.prototype.Ma=function(){return this.Lb?this.Lb:this.Lb=(ar(void 0)?or().then(function(){return new rn(function(e,t){var n=c.document,i=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),e()},!1)})}):un(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof fr("universalLinks.subscribe",c))throw ds("cordova-universal-links-plugin is not installed");if(void 0===fr("BuildInfo.packageName",c))throw ds("cordova-plugin-buildinfo is not installed");if("function"!=typeof fr("cordova.plugins.browsertab.openUrl",c))throw ds("cordova-plugin-browsertab is not installed");if("function"!=typeof fr("cordova.InAppBrowser.open",c))throw ds("cordova-plugin-inappbrowser is not installed")},function(){throw new Fr("cordova-not-ready")})};(e=cs.prototype).$b=function(e,t){return t(new Fr("operation-not-supported-in-this-environment")),ln()},e.Sb=function(){return un(new Fr("operation-not-supported-in-this-environment"))},e.we=function(){return!1},e.te=function(){return!0},e.ce=function(){return!0},e.Tb=function(e,t,n){if(this.Dc)return un(new Fr("redirect-operation-pending"));var i=this,r=c.document,o=null,a=null,s=null,l=null;return this.Dc=cn(ln().then(function(){return ho(t),fs(i)}).then(function(){return hs(i,e,t,n)}).then(function(){return new rn(function(t,e){a=function(){var e=fr("cordova.plugins.browsertab.close",c);return t(),"function"==typeof e&&e(),i.Jb&&"function"==typeof i.Jb.close&&(i.Jb.close(),i.Jb=null),!1},i.bb(a),s=function(){o||(o=di(i.Bf).then(function(){e(new Fr("redirect-cancelled-by-user"))}))},l=function(){xr()&&s()},r.addEventListener("resume",s,!1),hr().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",l,!1)}).f(function(e){return ps(i).then(function(){throw e})})}),function(){s&&r.removeEventListener("resume",s,!1),l&&r.removeEventListener("visibilitychange",l,!1),o&&o.cancel(),a&&i.Yb(a),i.Dc=null})};var hs=function(i,e,t,n){var r=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),o=new $r(e,n,null,r,new Fr("no-auth-event")),a=fr("BuildInfo.packageName",c);if("string"!=typeof a)throw new Fr("invalid-cordova-configuration");var s=fr("BuildInfo.displayName",c),l={};if(hr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=a;else{if(!hr().toLowerCase().match(/android/))return un(new Fr("operation-not-supported-in-this-environment"));l.apn=a}s&&(l.appDisplayName=s),r=function(e){var t,n=new Re;return n.update(e),t=n.digest(),$(t,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(r),l.sessionId=r;var u=_a(i.B,i.m,i.w,e,t,null,n,i.Fa,l);return i.Ma().then(function(){var e=i.ve;return i.If.l.set(ss,o.F(),e)}).then(function(){var e=fr("cordova.plugins.browsertab.isAvailable",c);if("function"!=typeof e)throw new Fr("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=fr("cordova.plugins.browsertab.openUrl",c)))throw new Fr("invalid-cordova-configuration");n(u)}else{if("function"!=typeof(n=fr("cordova.InAppBrowser.open",c)))throw new Fr("invalid-cordova-configuration");e=n;var t=hr();t=!(!t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),i.Jb=e(u,t?"_blank":"_system","location=yes")}})})};cs.prototype.Cb=function(e){for(var t=0;t<this.na.length;t++)try{this.na[t](e)}catch(e){}};var fs=function(i){return i.ld||(i.ld=i.Ma().then(function(){return new rn(function(t){var n=function(e){return t(e),i.Yb(n),!1};i.bb(n),gs(i)})})),i.ld},ps=function(t){var e,n=null;return(e=t.Zd).l.get(ss,e.v).then(function(e){return Hr(e)}).then(function(e){return n=e,(e=t.Zd).l.remove(ss,e.v)}).then(function(){return n})},gs=function(s){var e=fr("universalLinks.subscribe",c);if("function"!=typeof e)throw new Fr("invalid-cordova-configuration");var l=new $r("unknown",null,null,null,new Fr("no-auth-event")),t=!1,n=di(s.jf).then(function(){return ps(s).then(function(){t||s.Cb(l)})}),i=function(a){t=!0,n&&n.cancel(),ps(s).then(function(e){var t=l;if(e&&a&&a.url){t=null;var n=a.url,i=Li(n),r=Ni(i,"link"),o=Ni(Li(r),"link");i=Ni(i,"deep_link_id"),-1!=(n=Ni(Li(i),"link")||i||o||r||n).indexOf("/__/auth/callback")&&(t=Li(n),t=(t="object"==typeof(t=_r(Ni(t,"firebaseError")||null))?Ur(t):null)?new $r(e.ha,e.R,null,null,t):new $r(e.ha,e.R,n,e.oc())),t=t||l}s.Cb(t)})},r=c.handleOpenURL;c.handleOpenURL=function(e){if(0==e.indexOf(fr("BuildInfo.packageName",c)+"://")&&i({url:e}),"function"==typeof r)try{r(e)}catch(e){console.error(e)}},e(null,i)};cs.prototype.bb=function(t){this.na.push(t),fs(this).f(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new $r("unknown",null,null,null,new Fr("no-auth-event")),t(e))})};var vs=function(e){this.v=e,this.l=is()},ms={name:"pendingRedirect",T:(cs.prototype.Yb=function(t){G(this.na,function(e){return e==t})},!1)},ys=function(e){return e.l.remove(ms,e.v)},bs=function(e,t,n){this.B=e,this.m=t,this.w=n,this.bc=[],this.kb=!1,this.Yc=g(this.hd,this),this.Sa=new xs(this),this.ud=new Ds(this),this.Pb=new vs(this.m+":"+this.w),this.Ba={},this.Ba.unknown=this.Sa,this.Ba.signInViaRedirect=this.Sa,this.Ba.linkViaRedirect=this.Sa,this.Ba.reauthViaRedirect=this.Sa,this.Ba.signInViaPopup=this.ud,this.Ba.linkViaPopup=this.ud,this.Ba.reauthViaPopup=this.ud,this.S=_s(this.B,this.m,this.w)},_s=function(e,t,n){var i=firebase.SDK_VERSION||null;return ar()?new cs(e,t,n,i):new ya(e,t,n,i)};bs.prototype.reset=function(){this.kb=!1,this.S.Yb(this.Yc),this.S=_s(this.B,this.m,this.w)},bs.prototype.Kb=function(){var t=this;this.kb||(this.kb=!0,this.S.bb(this.Yc));var n=this.S;return this.S.Ma().f(function(e){throw t.S==n&&t.reset(),e})};var ws=function(n){n.S.te()&&n.Kb().f(function(e){var t=new $r("unknown",null,null,null,new Fr("operation-not-supported-in-this-environment"));Ss(e)&&n.hd(t)}),n.S.ce()||Os(n.Sa)};bs.prototype.subscribe=function(e){if(W(this.bc,e)||this.bc.push(e),!this.kb){var n=this;(t=this.Pb).l.get(ms,t.v).then(function(e){return"pending"==e}).then(function(e){e?ys(n.Pb).then(function(){n.Kb().f(function(e){var t=new $r("unknown",null,null,null,new Fr("operation-not-supported-in-this-environment"));Ss(e)&&n.hd(t)})}):ws(n)}).f(function(){ws(n)})}var t},bs.prototype.unsubscribe=function(t){G(this.bc,function(e){return e==t})},bs.prototype.hd=function(e){if(!e)throw new Fr("invalid-auth-event");for(var t=!1,n=0;n<this.bc.length;n++){var i=this.bc[n];if(i.Od(e.ha,e.R)){(t=this.Ba[e.ha])&&t.me(e,i),t=!0;break}}return Os(this.Sa),t};var Ts=new Er(2e3,1e4),ks=new Er(3e4,6e4);bs.prototype.getRedirectResult=function(){return this.Sa.getRedirectResult()},bs.prototype.Sb=function(e,t,n,i,r){var o=this;return this.S.Sb(e,t,n,function(){o.kb||(o.kb=!0,o.S.bb(o.Yc))},function(){o.reset()},i,r)};var Ss=function(e){return!(!e||"auth/cordova-not-ready"!=e.code)};bs.prototype.Tb=function(e,t,n){var i,r,o=this;return(r=this.Pb).l.set(ms,"pending",r.v).then(function(){return o.S.Tb(e,t,n).f(function(e){if(Ss(e))throw new Fr("operation-not-supported-in-this-environment");return i=e,ys(o.Pb).then(function(){throw i})}).then(function(){return o.S.we()?new rn(function(){}):ys(o.Pb).then(function(){return o.getRedirectResult()}).then(function(){}).f(function(){})})})},bs.prototype.$b=function(t,n,e,i){return this.S.$b(e,function(e){t.Wa(n,null,e,i)},Ts.get())};var Es={},Cs=function(e,t,n){var i=t+":"+n;return Es[i]||(Es[i]=new bs(e,t,n)),Es[i]},xs=function(e){this.l=e,this.sb=null,this.Wb=[],this.Vb=[],this.qb=null,this.xd=!1};xs.prototype.reset=function(){this.sb=null,this.qb&&(this.qb.cancel(),this.qb=null)},xs.prototype.me=function(e,t){if(!e)return un(new Fr("invalid-auth-event"));this.reset(),this.xd=!0;var n=e.ha,i=e.R,r=e.getError()&&"auth/web-storage-unsupported"==e.getError().code,o=e.getError()&&"auth/operation-not-supported-in-this-environment"==e.getError().code;return"unknown"!=n||r||o?e.W?this.vd(e,t):t.Db(n,i)?this.wd(e,t):un(new Fr("invalid-auth-event")):(Ps(this,!1,null,null),ln())};var Os=function(e){e.xd||(e.xd=!0,Ps(e,!1,null,null))};xs.prototype.vd=function(e){return Ps(this,!0,null,e.getError()),ln()},xs.prototype.wd=function(e,t){var n=this;t=t.Db(e.ha,e.R);var i=e.vb,r=e.oc(),o=!!e.ha.match(/Redirect$/);return t(i,r).then(function(e){Ps(n,o,e,null)}).f(function(e){Ps(n,o,null,e)})};var As=function(e,t){if(e.sb=function(){return ln(t)},e.Wb.length)for(var n=0;n<e.Wb.length;n++)e.Wb[n](t)},Ps=function(e,t,n,i){t?i?function(e,t){if(e.sb=function(){return un(t)},e.Vb.length)for(var n=0;n<e.Vb.length;n++)e.Vb[n](t)}(e,i):As(e,n):As(e,{user:null}),e.Wb=[],e.Vb=[]};xs.prototype.getRedirectResult=function(){var n=this;return new rn(function(e,t){n.sb?n.sb().then(e,t):(n.Wb.push(e),n.Vb.push(t),Is(n))})};var Is=function(e){var t=new Fr("timeout");e.qb&&e.qb.cancel(),e.qb=di(ks.get()).then(function(){e.sb||Ps(e,!0,null,t)})},Ds=function(e){this.l=e};Ds.prototype.me=function(e,t){if(!e)return un(new Fr("invalid-auth-event"));var n=e.ha,i=e.R;return e.W?this.vd(e,t):t.Db(n,i)?this.wd(e,t):un(new Fr("invalid-auth-event"))},Ds.prototype.vd=function(e,t){return t.Wa(e.ha,null,e.getError(),e.R),ln()},Ds.prototype.wd=function(e,t){var n=e.R,i=e.ha;return t.Db(i,n)(e.vb,e=e.oc()).then(function(e){t.Wa(i,e,null,n)}).f(function(e){t.Wa(i,null,e,n)})};var js=function(e){this.g=e,this.Ca=this.ba=null,this.Ia=0};js.prototype.F=function(){return{apiKey:this.g.m,refreshToken:this.ba,accessToken:this.Ca,expirationTime:this.Ia}};var Rs=function(e,t){var n=t.idToken,i=t.refreshToken;t=Ns(t.expiresIn),e.Ca=n,e.Ia=t,e.ba=i},Ns=function(e){return m()+1e3*parseInt(e,10)};js.prototype.getToken=function(e){return e=!!e,this.Ca&&!this.ba?un(new Fr("user-token-expired")):e||!this.Ca||m()>this.Ia-3e4?this.ba?function(t,e){return(i=t.g,r=e,new rn(function(t,n){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?To(i,i.Jf+"?key="+encodeURIComponent(i.m),function(e){e?e.error?n(sa(e)):e.access_token&&e.refresh_token?t(e):n(new Fr("internal-error")):n(new Fr("network-request-failed"))},"POST",Ki(r).toString(),i.pe,i.Kf.get()):n(new Fr("internal-error"))})).then(function(e){return t.Ca=e.access_token,t.Ia=Ns(e.expires_in),t.ba=e.refresh_token,{accessToken:t.Ca,expirationTime:t.Ia,refreshToken:t.ba}}).f(function(e){throw"auth/user-token-expired"==e.code&&(t.ba=null),e});var i,r}(this,{grant_type:"refresh_token",refresh_token:this.ba}):ln(null):ln({accessToken:this.Ca,expirationTime:this.Ia,refreshToken:this.ba})};var Ms=function(e,t,n,i,r){Ir(this,{uid:e,displayName:i||null,photoURL:r||null,email:n||null,providerId:t})},Ls=function(e,t){for(var n in Ue.call(this,e),t)this[n]=t[n]};y(Ls,Ue);var Fs=function(e,t,n){this.G=[],this.m=e.apiKey,this.w=e.appName,this.B=e.authDomain||null,e=firebase.SDK_VERSION?dr(firebase.SDK_VERSION):null,this.g=new mo(this.m,null,e),this.la=new js(this.g),Ws(this,t.idToken),Rs(this.la,t),Pr(this,"refreshToken",this.la.ba),Gs(this,n||{}),Jn.call(this),this.Ec=!1,this.B&&pr()&&(this.s=Cs(this.B,this.m,this.w)),this.Kc=[],this.ma=null,this.ob=Bs(this),this.xb=g(this.jd,this)};y(Fs,Jn),Fs.prototype.jd=function(){this.ob.mb&&(this.ob.stop(),this.ob.start())};var Us=function(t){try{return firebase.app(t.w).auth()}catch(e){throw new Fr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.w+"'!")}},Bs=function(t){return new za(function(){return t.getIdToken(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var e=t.la.Ia-m()-3e5;return 0<e?e:0},3e4,96e4,!1)},$s=function(e){e.Bb||e.ob.mb||(e.ob.start(),et(e,"tokenChanged",e.xb),Ye(e,"tokenChanged",e.xb))},Hs=function(e){et(e,"tokenChanged",e.xb),e.ob.stop()},Ws=function(e,t){e.he=t,Pr(e,"_lat",t)},Vs=function(e){for(var t=[],n=0;n<e.Kc.length;n++)t.push(e.Kc[n](e));return(l=t,new rn(function(i){var e,t,n,r=l.length,o=[];if(r)for(var a=function(e,t,n){r--,o[e]=t?{Ve:!0,value:n}:{Ve:!1,reason:n},0==r&&i(o)},s=0;s<l.length;s++)e=l[s],t=v(a,s,!0),n=v(a,s,!1),gn(e,t,n,null)||Wt(v(t,e));else i(o)})).then(function(){return e});var l},qs=function(e){e.s&&!e.Ec&&(e.Ec=!0,e.s.subscribe(e))},Gs=function(e,t){Ir(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,providerData:[]})};Pr(Fs.prototype,"providerId","firebase");var zs=function(){},Xs=function(e){return ln().then(function(){if(e.Bb)throw new Fr("app-deleted")})},Ks=function(e){return $(e.providerData,function(e){return e.providerId})},Ys=function(e,t){t&&(Qs(e,t.providerId),e.providerData.push(t))},Qs=function(e,t){G(e.providerData,function(e){return e.providerId==t})},Js=function(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Pr(e,t,n)};Fs.prototype.copy=function(e){var t=this;t!=e&&(Ir(this,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),B(e.providerData,function(e){Ys(t,e)}),this.la=e.la,Pr(this,"refreshToken",this.la.ba))},Fs.prototype.reload=function(){var e=this;return this.b(Xs(this).then(function(){return Zs(e).then(function(){return Vs(e)}).then(zs)}))};var Zs=function(n){return n.getIdToken().then(function(e){var t=n.isAnonymous;return tl(n,e).then(function(){return t||Js(n,"isAnonymous",!1),e})})};Fs.prototype.getIdToken=function(e){var t=this;return this.b(Xs(this).then(function(){return t.la.getToken(e)}).then(function(e){if(!e)throw new Fr("internal-error");return e.accessToken!=t.he&&(Ws(t,e.accessToken),t.Oa()),Js(t,"refreshToken",e.refreshToken),e.accessToken}))},Fs.prototype.getToken=function(e){return Or["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(Or["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.getIdToken(e)};var el=function(e,t){t.idToken&&e.he!=t.idToken&&(Rs(e.la,t),e.Oa(),Ws(e,t.idToken),Js(e,"refreshToken",e.la.ba))};Fs.prototype.Oa=function(){this.dispatchEvent(new Ls("tokenChanged"))};var tl=function(e,t){return aa(e.g,Ho,{idToken:t}).then(g(e.yf,e))};Fs.prototype.yf=function(e){if(!(e=e.users)||!e.length)throw new Fr("internal-error");e=e[0],Gs(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber});for(var t=nl(e),n=0;n<t.length;n++)Ys(this,t[n]);Js(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))};var nl=function(e){return(e=e.providerUserInfo)&&e.length?$(e,function(e){return new Ms(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl)}):[]};Fs.prototype.reauthenticateAndRetrieveDataWithCredential=function(e){var t=this,n=null;return this.b(e.od(this.g,this.uid).then(function(e){return el(t,e),n=rl(t,e,"reauthenticate"),t.ma=null,t.reload()}).then(function(){return n}),!0)},Fs.prototype.reauthenticateWithCredential=function(e){return this.reauthenticateAndRetrieveDataWithCredential(e).then(function(){})};var il=function(e,t){return Zs(e).then(function(){if(W(Ks(e),t))return Vs(e).then(function(){throw new Fr("provider-already-linked")})})};Fs.prototype.linkAndRetrieveDataWithCredential=function(t){var n=this,i=null;return this.b(il(this,t.providerId).then(function(){return n.getIdToken()}).then(function(e){return t.zc(n.g,e)}).then(function(e){return i=rl(n,e,"link"),ol(n,e)}).then(function(){return i}))},Fs.prototype.linkWithCredential=function(e){return this.linkAndRetrieveDataWithCredential(e).then(function(e){return e.user})},Fs.prototype.linkWithPhoneNumber=function(e,t){var n=this;return this.b(il(this,"phone").then(function(){return qa(Us(n),e,t,g(n.linkAndRetrieveDataWithCredential,n))}))},Fs.prototype.reauthenticateWithPhoneNumber=function(e,t){var n=this;return this.b(ln().then(function(){return qa(Us(n),e,t,g(n.reauthenticateAndRetrieveDataWithCredential,n))}),!0)};var rl=function(e,t,n){var i=co(t);return t=Ka(t),Dr({user:e,credential:i,additionalUserInfo:t,operationType:n})},ol=function(e,t){return el(e,t),e.reload().then(function(){return e})};(e=Fs.prototype).updateEmail=function(t){var n=this;return this.b(this.getIdToken().then(function(e){return n.g.updateEmail(e,t)}).then(function(e){return el(n,e),n.reload()}))},e.updatePhoneNumber=function(t){var n=this;return this.b(this.getIdToken().then(function(e){return t.zc(n.g,e)}).then(function(e){return el(n,e),n.reload()}))},e.updatePassword=function(t){var n=this;return this.b(this.getIdToken().then(function(e){return n.g.updatePassword(e,t)}).then(function(e){return el(n,e),n.reload()}))},e.updateProfile=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Xs(this);var n=this;return this.b(this.getIdToken().then(function(e){return n.g.updateProfile(e,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(e){return el(n,e),Js(n,"displayName",e.displayName||null),Js(n,"photoURL",e.photoUrl||null),B(n.providerData,function(e){"password"===e.providerId&&(Pr(e,"displayName",n.displayName),Pr(e,"photoURL",n.photoURL))}),Vs(n)}).then(zs))},e.unlink=function(n){var i=this;return this.b(Zs(this).then(function(e){return W(Ks(i),n)?(t=i.g,aa(t,$o,{idToken:e,deleteProvider:[n]})).then(function(e){var t={};return B(e.providerUserInfo||[],function(e){t[e.providerId]=!0}),B(Ks(i),function(e){t[e]||Qs(i,e)}),t[lo.PROVIDER_ID]||Pr(i,"phoneNumber",null),Vs(i)}):Vs(i).then(function(){throw new Fr("no-such-provider")});var t}))},e.delete=function(){var t=this;return this.b(this.getIdToken().then(function(e){return aa(t.g,Bo,{idToken:e})}).then(function(){t.dispatchEvent(new Ls("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");t.G=[],t.Bb=!0,Hs(t),Pr(t,"refreshToken",null),t.s&&t.s.unsubscribe(t)})},e.Od=function(e,t){return!!("linkViaPopup"==e&&(this.ga||null)==t&&this.fa||"reauthViaPopup"==e&&(this.ga||null)==t&&this.fa||"linkViaRedirect"==e&&(this.Aa||null)==t||"reauthViaRedirect"==e&&(this.Aa||null)==t)},e.Wa=function(e,t,n,i){"linkViaPopup"!=e&&"reauthViaPopup"!=e||i!=(this.ga||null)||(n&&this.Qa?this.Qa(n):t&&!n&&this.fa&&this.fa(t),this.I&&(this.I.cancel(),this.I=null),delete this.fa,delete this.Qa)},e.Db=function(e,t){return"linkViaPopup"==e&&t==(this.ga||null)?g(this.Wd,this):"reauthViaPopup"==e&&t==(this.ga||null)?g(this.Xd,this):"linkViaRedirect"==e&&(this.Aa||null)==t?g(this.Wd,this):"reauthViaRedirect"==e&&(this.Aa||null)==t?g(this.Xd,this):null},e.nc=function(){return wr(this.uid+":::")},e.linkWithPopup=function(e){var t=this;return al(this,"linkViaPopup",e,function(){return il(t,e.providerId).then(function(){return Vs(t)})},!1)},e.reauthenticateWithPopup=function(e){return al(this,"reauthViaPopup",e,function(){return ln()},!0)};var al=function(n,i,e,t,r){if(!pr())return un(new Fr("operation-not-supported-in-this-environment"));if(n.ma&&!r)return un(n.ma);var o=Lr(e.providerId),a=n.nc(),s=null;(!mr()||sr())&&n.B&&e.isOAuthProvider&&(s=_a(n.B,n.m,n.w,i,e,null,a,firebase.SDK_VERSION||null));var l=ir(s,o&&o.Rb,o&&o.Qb);return t=t().then(function(){if(ll(n),!r)return n.getIdToken().then(function(){})}).then(function(){return n.s.Sb(l,i,e,a,!!s)}).then(function(){return new rn(function(e,t){n.Wa(i,null,new Fr("cancelled-popup-request"),n.ga||null),n.fa=e,n.Qa=t,n.ga=a,n.I=n.s.$b(n,i,l,a)})}).then(function(e){return l&&nr(l),e?Dr(e):null}).f(function(e){throw l&&nr(l),e}),n.b(t,r)};Fs.prototype.linkWithRedirect=function(e){var t=this;return sl(this,"linkViaRedirect",e,function(){return il(t,e.providerId)},!1)},Fs.prototype.reauthenticateWithRedirect=function(e){return sl(this,"reauthViaRedirect",e,function(){return ln()},!0)};var sl=function(t,e,n,i,r){if(!pr())return un(new Fr("operation-not-supported-in-this-environment"));if(t.ma&&!r)return un(t.ma);var o=null,a=t.nc();return i=i().then(function(){if(ll(t),!r)return t.getIdToken().then(function(){})}).then(function(){return t.Aa=a,Vs(t)}).then(function(e){return t.Ta&&(e=(e=t.Ta).l.set(hl,t.F(),e.v)),e}).then(function(){return t.s.Tb(e,n,a)}).f(function(e){if(o=e,t.Ta)return fl(t.Ta);throw o}).then(function(){if(o)throw o}),t.b(i,r)},ll=function(e){if(!e.s||!e.Ec){if(e.s&&!e.Ec)throw new Fr("internal-error");throw new Fr("auth-domain-config-required")}};Fs.prototype.Wd=function(t,n){var i=this;this.I&&(this.I.cancel(),this.I=null);var r=null,e=this.getIdToken().then(function(e){return jo(i.g,{requestUri:t,sessionId:n,idToken:e})}).then(function(e){return r=rl(i,e,"link"),ol(i,e)}).then(function(){return r});return this.b(e)},Fs.prototype.Xd=function(e,t){var n=this;this.I&&(this.I.cancel(),this.I=null);var i=null,r=ln().then(function(){return qr(Ro(n.g,{requestUri:e,sessionId:t}),n.uid)}).then(function(e){return i=rl(n,e,"reauthenticate"),el(n,e),n.ma=null,n.reload()}).then(function(){return i});return this.b(r,!0)},Fs.prototype.sendEmailVerification=function(){var t=this;return this.b(this.getIdToken().then(function(e){return t.g.sendEmailVerification(e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},Fs.prototype.b=function(e,t){var n=this,i=ul(this,e,t);return this.G.push(i),cn(i,function(){V(n.G,i)}),i};var ul=function(t,e,n){return t.ma&&!n?(e.cancel(),un(t.ma)):e.f(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.ma||t.dispatchEvent(new Ls("userInvalidated")),t.ma=e),e})};Fs.prototype.toJSON=function(){return this.F()};var cl=function(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n.idToken=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-m())/1e3;var i=new Fs(t,n,e);return e.providerData&&B(e.providerData,function(e){e&&Ys(i,Dr(e))}),e.redirectEventId&&(i.Aa=e.redirectEventId),i},dl=function(e){this.v=e,this.l=is()},hl={name:"redirectUser",T:(Fs.prototype.F=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.w,authDomain:this.B,stsTokenManager:this.la.F(),redirectEventId:this.Aa||null};return B(this.providerData,function(e){t.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(e))}),t},!1)},fl=function(e){return e.l.remove(hl,e.v)},pl=function(e){this.v=e,this.l=is()},gl={name:"authUser",T:!0},vl=function(e,t){return e.l.set(gl,t.F(),e.v)},ml=function(e){return e.l.remove(gl,e.v)},yl=function(e,t){return e.l.get(gl,e.v).then(function(e){return e&&t&&(e.authDomain=t),cl(e||{})})},bl=function(e){if(this.Ga=!1,Pr(this,"app",e),!this.h().options||!this.h().options.apiKey)throw new Fr("invalid-api-key");e=firebase.SDK_VERSION?dr(firebase.SDK_VERSION):null,this.g=new mo(this.h().options&&this.h().options.apiKey,null,e),this.G=[],this.Da=[],this.wb=[],this.uf=firebase.INTERNAL.createSubscribe(g(this.ff,this)),this.gc=void 0,this.wf=firebase.INTERNAL.createSubscribe(g(this.hf,this)),kl(this,null),e=this.h().options.apiKey;var t=this.h().name;this.ua=new pl(e+":"+t),e=this.h().options.apiKey,t=this.h().name,this.rb=new dl(e+":"+t),this.ic=this.b(Sl(this)),this.ra=this.b(El(this)),this.xc=!1,this.gd=g(this.Of,this),this.ze=g(this.ib,this),this.xb=g(this.jd,this),this.xe=g(this.bf,this),this.ye=g(this.cf,this),wl(this),this.INTERNAL={},this.INTERNAL.delete=g(this.delete,this),this.Ja=0};bl.prototype.toJSON=function(){return{apiKey:this.h().options.apiKey,authDomain:this.h().options.authDomain,appName:this.h().name,currentUser:xl(this)&&xl(this).F()}};var _l=function(e){return e.Qe||un(new Fr("auth-domain-config-required"))},wl=function(e){var t=e.h().options.authDomain,n=e.h().options.apiKey;t&&pr()&&(e.Qe=e.ic.then(function(){if(!e.Ga)return e.s=Cs(t,n,e.h().name),e.s.subscribe(e),xl(e)&&qs(xl(e)),e.Xb&&(qs(e.Xb),e.Xb=null),e.s}))};(e=bl.prototype).Od=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.ga==t&&!!this.fa;default:return!1}},e.Wa=function(e,t,n,i){"signInViaPopup"==e&&this.ga==i&&(n&&this.Qa?this.Qa(n):t&&!n&&this.fa&&this.fa(t),this.I&&(this.I.cancel(),this.I=null),delete this.fa,delete this.Qa)},e.Db=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.ga==t&&this.fa?g(this.Se,this):null},e.Se=function(e,t){var n=this;e={requestUri:e,sessionId:t},this.I&&(this.I.cancel(),this.I=null);var i=null,r=null,o=Do(n.g,e).then(function(e){return i=co(e),r=Ka(e),e});return e=n.ic.then(function(){return o}).then(function(e){return Tl(n,e)}).then(function(){return Dr({user:xl(n),credential:i,additionalUserInfo:r,operationType:"signIn"})}),this.b(e)},e.nc=function(){return wr()},e.signInWithPopup=function(t){if(!pr())return un(new Fr("operation-not-supported-in-this-environment"));var n=this,e=Lr(t.providerId),i=this.nc(),r=null;(!mr()||sr())&&this.h().options.authDomain&&t.isOAuthProvider&&(r=_a(this.h().options.authDomain,this.h().options.apiKey,this.h().name,"signInViaPopup",t,null,i,firebase.SDK_VERSION||null));var o=ir(r,e&&e.Rb,e&&e.Qb);return e=_l(this).then(function(e){return e.Sb(o,"signInViaPopup",t,i,!!r)}).then(function(){return new rn(function(e,t){n.Wa("signInViaPopup",null,new Fr("cancelled-popup-request"),n.ga),n.fa=e,n.Qa=t,n.ga=i,n.I=n.s.$b(n,"signInViaPopup",o,i)})}).then(function(e){return o&&nr(o),e?Dr(e):null}).f(function(e){throw o&&nr(o),e}),this.b(e)},e.signInWithRedirect=function(e){if(!pr())return un(new Fr("operation-not-supported-in-this-environment"));var t=this,n=_l(this).then(function(){return t.s.Tb("signInViaRedirect",e)});return this.b(n)},e.getRedirectResult=function(){if(!pr())return un(new Fr("operation-not-supported-in-this-environment"));var e=this,t=_l(this).then(function(){return e.s.getRedirectResult()}).then(function(e){return e?Dr(e):null});return this.b(t)};var Tl=function(r,o){var a={};return a.apiKey=r.h().options.apiKey,a.authDomain=r.h().options.authDomain,a.appName=r.h().name,r.ic.then(function(){return e=a,t=o,n=r.rb,i=new Fs(e,t),n&&(i.Ta=n),i.reload().then(function(){return i});var e,t,n,i}).then(function(e){return xl(r)&&e.uid==xl(r).uid?xl(r).copy(e):(kl(r,e),qs(e)),r.ib(e)}).then(function(){r.Oa()})},kl=function(e,t){var n,i;xl(e)&&(n=xl(e),i=e.ze,G(n.Kc,function(e){return e==i}),et(xl(e),"tokenChanged",e.xb),et(xl(e),"userDeleted",e.xe),et(xl(e),"userInvalidated",e.ye),Hs(xl(e))),t&&(t.Kc.push(e.ze),Ye(t,"tokenChanged",e.xb),Ye(t,"userDeleted",e.xe),Ye(t,"userInvalidated",e.ye),0<e.Ja&&$s(t)),Pr(e,"currentUser",t)};bl.prototype.signOut=function(){var e=this,t=this.ra.then(function(){return xl(e)?(kl(e,null),ml(e.ua).then(function(){e.Oa()})):ln()});return this.b(t)};var Sl=function(n){var e=n.h().options.authDomain,t=function(t){var e,n,i=t.h().options.authDomain;return i=(e=t.rb,n=i,e.l.get(hl,e.v).then(function(e){return e&&n&&(e.authDomain=n),cl(e||{})})).then(function(e){return(t.Xb=e)&&(e.Ta=t.rb),fl(t.rb)}),t.b(i)}(n).then(function(){return yl(n.ua,e)}).then(function(t){return t?(t.Ta=n.rb,n.Xb&&(n.Xb.Aa||null)==(t.Aa||null)?t:t.reload().then(function(){return vl(n.ua,t).then(function(){return t})}).f(function(e){return"auth/network-request-failed"==e.code?t:ml(n.ua)})):null}).then(function(e){kl(n,e||null)});return n.b(t)},El=function(t){return t.ic.then(function(){return t.getRedirectResult()}).f(function(){}).then(function(){if(!t.Ga)return t.gd()}).f(function(){}).then(function(){if(!t.Ga){t.xc=!0;var e=t.ua;e.l.addListener(gl,e.v,t.gd)}})};(e=bl.prototype).Of=function(){var i=this,e=this.h().options.authDomain;return yl(this.ua,e).then(function(e){if(!i.Ga){var t;if(t=xl(i)&&e){t=xl(i).uid;var n=e.uid;t=null!=t&&""!==t&&null!=n&&""!==n&&t==n}if(t)return xl(i).copy(e),xl(i).getIdToken();(xl(i)||e)&&(kl(i,e),e&&(qs(e),e.Ta=i.rb),i.s&&i.s.subscribe(i),i.Oa())}})},e.ib=function(e){return vl(this.ua,e)},e.jd=function(){this.Oa(),this.ib(xl(this))},e.bf=function(){this.signOut()},e.cf=function(){this.signOut()};var Cl=function(t,e){var n=null,i=null;return t.b(e.then(function(e){return n=co(e),i=Ka(e),Tl(t,e)}).then(function(){return Dr({user:xl(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))};(e=bl.prototype).ff=function(e){var t=this;this.addAuthTokenListener(function(){e.next(xl(t))})},e.hf=function(e){var t=this;Al(this,function(){e.next(xl(t))})},e.onIdTokenChanged=function(e,t,n){var i=this;return this.xc&&firebase.Promise.resolve().then(function(){a(e)?e(xl(i)):a(e.next)&&e.next(xl(i))}),this.uf(e,t,n)},e.onAuthStateChanged=function(e,t,n){var i=this;return this.xc&&firebase.Promise.resolve().then(function(){i.gc=i.getUid(),a(e)?e(xl(i)):a(e.next)&&e.next(xl(i))}),this.wf(e,t,n)},e.getIdToken=function(e){var t=this,n=this.ra.then(function(){return xl(t)?xl(t).getIdToken(e).then(function(e){return{accessToken:e}}):null});return this.b(n)},e.signInWithCustomToken=function(e){var t=this;return this.ra.then(function(){return Cl(t,aa(t.g,ta,{token:e}))}).then(function(e){return e=e.user,Js(e,"isAnonymous",!1),t.ib(e)}).then(function(){return xl(t)})},e.signInWithEmailAndPassword=function(e,t){var n=this;return this.ra.then(function(){return Cl(n,aa(n.g,na,{email:e,password:t}))}).then(function(e){return e.user})},e.createUserWithEmailAndPassword=function(e,t){var n=this;return this.ra.then(function(){return Cl(n,aa(n.g,Fo,{email:e,password:t}))}).then(function(e){return e.user})},e.signInWithCredential=function(e){return this.signInAndRetrieveDataWithCredential(e).then(function(e){return e.user})},e.signInAndRetrieveDataWithCredential=function(e){var t=this;return this.ra.then(function(){return Cl(t,e.Eb(t.g))})},e.signInAnonymously=function(){var t=this;return this.ra.then(function(){var e=xl(t);return e&&e.isAnonymous?e:Cl(t,t.g.signInAnonymously()).then(function(e){return e=e.user,Js(e,"isAnonymous",!0),t.ib(e)}).then(function(){return xl(t)})})},e.h=function(){return this.app};var xl=function(e){return e.currentUser};bl.prototype.getUid=function(){return xl(this)&&xl(this).uid||null};var Ol=function(e){return xl(e)&&xl(e)._lat||null};(e=bl.prototype).Oa=function(){if(this.xc){for(var e=0;e<this.Da.length;e++)this.Da[e]&&this.Da[e](Ol(this));if(this.gc!==this.getUid()&&this.wb.length)for(this.gc=this.getUid(),e=0;e<this.wb.length;e++)this.wb[e]&&this.wb[e](Ol(this))}},e.Ie=function(e){this.addAuthTokenListener(e),this.Ja++,0<this.Ja&&xl(this)&&$s(xl(this))},e.Cf=function(t){var n=this;B(this.Da,function(e){e==t&&n.Ja--}),this.Ja<0&&(this.Ja=0),0==this.Ja&&xl(this)&&Hs(xl(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(e){var t=this;this.Da.push(e),this.b(this.ra.then(function(){t.Ga||W(t.Da,e)&&e(Ol(t))}))},e.removeAuthTokenListener=function(t){G(this.Da,function(e){return e==t})};var Al=function(e,t){e.wb.push(t),e.b(e.ra.then(function(){!e.Ga&&W(e.wb,t)&&e.gc!==e.getUid()&&(e.gc=e.getUid(),t(Ol(e)))}))};(e=bl.prototype).delete=function(){this.Ga=!0;for(var e=0;e<this.G.length;e++)this.G[e].cancel("app-deleted");return this.G=[],this.ua&&(e=this.ua).l.removeListener(gl,e.v,this.gd),this.s&&this.s.unsubscribe(this),firebase.Promise.resolve()},e.b=function(e){var t=this;return this.G.push(e),cn(e,function(){V(t.G,e)}),e},e.fetchProvidersForEmail=function(e){return this.b((t=this.g,aa(t,Uo,{identifier:e,continueUri:gr()?Ji():"http://localhost"}).then(function(e){return e.allProviders||[]})));var t},e.verifyPasswordResetCode=function(e){return this.checkActionCode(e).then(function(e){return e.data.email})},e.confirmPasswordReset=function(e,t){return this.b(this.g.confirmPasswordReset(e,t).then(function(){}))},e.checkActionCode=function(e){return this.b(this.g.checkActionCode(e).then(function(e){return new Ga(e)}))},e.applyActionCode=function(e){return this.b(this.g.applyActionCode(e).then(function(){}))},e.sendPasswordResetEmail=function(e){return this.b(this.g.sendPasswordResetEmail(e).then(function(){}))},e.signInWithPhoneNumber=function(e,t){return this.b(qa(this,e,t,g(this.signInAndRetrieveDataWithCredential,this)))};var Pl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),Il=function(e,t){return{name:e||"",N:"a valid string",optional:!!t,O:u}},Dl=function(){return{name:"opt_forceRefresh",N:"a boolean",optional:!0,O:t}},jl=function(e,t){return{name:e||"",N:"a valid object",optional:!!t,O:p}},Rl=function(e,t){return{name:e||"",N:"a function",optional:!!t,O:a}},Nl=function(){return{name:"",N:"null",optional:!1,O:n}},Ml=function(n){return{name:n?n+"Credential":"credential",N:n?"a valid "+n+" credential":"a valid credential",optional:!1,O:function(e){if(!e)return!1;var t=!n||e.providerId===n;return!(!e.Eb||!t)}}},Ll=function(){return{name:"applicationVerifier",N:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,O:function(e){return!!(e&&u(e.type)&&a(e.verify))}}},Fl=function(t,n,e,i){return{name:e||"",N:t.N+" or "+n.N,optional:!!i,O:function(e){return t.O(e)||n.O(e)}}},Ul=function(e,t){for(var n in t){var i=t[n].name;e[i]=$l(i,e[n],t[n].a)}},Bl=function(e,t,n,i){e[t]=$l(t,n,i)},$l=function(e,o,a){if(!a)return o;var s=Hl(e);for(var t in e=function(){var e=Array.prototype.slice.call(arguments);e:{for(var t=Array.prototype.slice.call(e),n=0,i=!1,r=0;r<a.length;r++)if(a[r].optional)i=!0;else{if(i)throw new Fr("internal-error","Argument validator encountered a required argument after an optional argument.");n++}if(i=a.length,t.length<n||i<t.length)t="Expected "+(n==i?1==n?"1 argument":n+" arguments":n+"-"+i+" arguments")+" but got "+t.length+".";else{for(n=0;n<t.length;n++)if(i=a[n].optional&&void 0===t[n],!a[n].O(t[n])&&!i){if(t=a[n],n<0||n>=Pl.length)throw new Fr("internal-error","Argument validator received an unsupported number of arguments.");t=Pl[n]+" argument "+(t.name?'"'+t.name+'" ':"")+"must be "+t.N+".";break e}t=null}}if(t)throw new Fr("argument-error",s+" failed: "+t);return o.apply(this,e)},o)e[t]=o[t];for(t in o.prototype)e.prototype[t]=o.prototype[t];return e},Hl=function(e){return(e=e.split("."))[e.length-1]};Ul(bl.prototype,{applyActionCode:{name:"applyActionCode",a:[Il("code")]},checkActionCode:{name:"checkActionCode",a:[Il("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[Il("code"),Il("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[Il("email"),Il("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[Il("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[Fl(jl(),Rl(),"nextOrObserver"),Rl("opt_error",!0),Rl("opt_completed",!0)]},onIdTokenChanged:{name:"onIdTokenChanged",a:[Fl(jl(),Rl(),"nextOrObserver"),Rl("opt_error",!0),Rl("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[Il("email")]},signInAndRetrieveDataWithCredential:{name:"signInAndRetrieveDataWithCredential",a:[Ml()]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[Ml()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[Il("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[Il("email"),Il("password")]},signInWithPhoneNumber:{name:"signInWithPhoneNumber",a:[Il("phoneNumber"),Ll()]},signInWithPopup:{name:"signInWithPopup",a:[{name:"authProvider",N:"a valid Auth provider",optional:!1,O:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},signInWithRedirect:{name:"signInWithRedirect",a:[{name:"authProvider",N:"a valid Auth provider",optional:!1,O:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[Il(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[Il("code")]}}),Ul(Fs.prototype,{delete:{name:"delete",a:[]},getIdToken:{name:"getIdToken",a:[Dl()]},getToken:{name:"getToken",a:[Dl()]},linkAndRetrieveDataWithCredential:{name:"linkAndRetrieveDataWithCredential",a:[Ml()]},linkWithCredential:{name:"linkWithCredential",a:[Ml()]},linkWithPhoneNumber:{name:"linkWithPhoneNumber",a:[Il("phoneNumber"),Ll()]},linkWithPopup:{name:"linkWithPopup",a:[{name:"authProvider",N:"a valid Auth provider",optional:!1,O:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},linkWithRedirect:{name:"linkWithRedirect",a:[{name:"authProvider",N:"a valid Auth provider",optional:!1,O:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reauthenticateAndRetrieveDataWithCredential:{name:"reauthenticateAndRetrieveDataWithCredential",a:[Ml()]},reauthenticateWithCredential:{name:"reauthenticateWithCredential",a:[Ml()]},reauthenticateWithPhoneNumber:{name:"reauthenticateWithPhoneNumber",a:[Il("phoneNumber"),Ll()]},reauthenticateWithPopup:{name:"reauthenticateWithPopup",a:[{name:"authProvider",N:"a valid Auth provider",optional:!1,O:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reauthenticateWithRedirect:{name:"reauthenticateWithRedirect",a:[{name:"authProvider",N:"a valid Auth provider",optional:!1,O:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[]},toJSON:{name:"toJSON",a:[Il(null,!0)]},unlink:{name:"unlink",a:[Il("provider")]},updateEmail:{name:"updateEmail",a:[Il("email")]},updatePassword:{name:"updatePassword",a:[Il("password")]},updatePhoneNumber:{name:"updatePhoneNumber",a:[Ml("phone")]},updateProfile:{name:"updateProfile",a:[jl("profile")]}}),Ul(rn.prototype,{f:{name:"catch"},then:{name:"then"}}),Ul(Va.prototype,{confirm:{name:"confirm",a:[Il("verificationCode")]}}),Bl(oo,"credential",function(e,t){return new ro(e,t)},[Il("email"),Il("password")]),Ul(Yr.prototype,{addScope:{name:"addScope",a:[Il("scope")]},setCustomParameters:{name:"setCustomParameters",a:[jl("customOAuthParameters")]}}),Bl(Yr,"credential",Qr,[Fl(Il(),jl(),"token")]),Ul(Jr.prototype,{addScope:{name:"addScope",a:[Il("scope")]},setCustomParameters:{name:"setCustomParameters",a:[jl("customOAuthParameters")]}}),Bl(Jr,"credential",Zr,[Fl(Il(),jl(),"token")]),Ul(eo.prototype,{addScope:{name:"addScope",a:[Il("scope")]},setCustomParameters:{name:"setCustomParameters",a:[jl("customOAuthParameters")]}}),Bl(eo,"credential",to,[Fl(Il(),Fl(jl(),Nl()),"idToken"),Fl(Il(),Nl(),"accessToken",!0)]),Ul(no.prototype,{setCustomParameters:{name:"setCustomParameters",a:[jl("customOAuthParameters")]}}),Bl(no,"credential",io,[Fl(Il(),jl(),"token"),Il("secret",!0)]),Ul(Kr.prototype,{addScope:{name:"addScope",a:[Il("scope")]},credential:{name:"credential",a:[Fl(Il(),Nl(),"idToken",!0),Fl(Il(),Nl(),"accessToken",!0)]},setCustomParameters:{name:"setCustomParameters",a:[jl("customOAuthParameters")]}}),Bl(lo,"credential",uo,[Il("verificationId"),Il("verificationCode")]),Ul(lo.prototype,{verifyPhoneNumber:{name:"verifyPhoneNumber",a:[Il("phoneNumber"),Ll()]}}),Ul(Fr.prototype,{toJSON:{name:"toJSON",a:[Il(null,!0)]}}),Ul(fo.prototype,{toJSON:{name:"toJSON",a:[Il(null,!0)]}}),Ul(Wr.prototype,{toJSON:{name:"toJSON",a:[Il(null,!0)]}}),Ul(ka.prototype,{clear:{name:"clear",a:[]},render:{name:"render",a:[]},verify:{name:"verify",a:[]}}),function(){if(void 0===firebase||!firebase.INTERNAL||!firebase.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:bl,Error:Fr};Bl(e,"EmailAuthProvider",oo,[]),Bl(e,"FacebookAuthProvider",Yr,[]),Bl(e,"GithubAuthProvider",Jr,[]),Bl(e,"GoogleAuthProvider",eo,[]),Bl(e,"TwitterAuthProvider",no,[]),Bl(e,"OAuthProvider",Kr,[Il("providerId")]),Bl(e,"PhoneAuthProvider",lo,[{name:"auth",N:"an instance of Firebase Auth",optional:!0,O:function(e){return!!(e&&e instanceof bl)}}]),Bl(e,"RecaptchaVerifier",ka,[Fl(Il(),{name:"",N:"an HTML element",optional:!1,O:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),jl("recaptchaParameters",!0),{name:"app",N:"an instance of Firebase App",optional:!0,O:function(e){return!!(e&&e instanceof firebase.app.App)}}]),firebase.INTERNAL.registerService("auth",function(e,t){return e=new bl(e),t({INTERNAL:{getUid:g(e.getUid,e),getToken:g(e.getIdToken,e),addAuthTokenListener:g(e.Ie,e),removeAuthTokenListener:g(e.Cf,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),firebase.INTERNAL.extendNamespace({User:Fs})}()}).call(this),function(){var g,aa=this;function n(e){return void 0!==e}function ba(){}function ca(e){e.Vb=function(){return e.Ye?e.Ye:e.Ye=new e}}function da(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function ea(e){return"array"==da(e)}function fa(e){var t=da(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"string"==typeof e}function ga(e){return"number"==typeof e}function ha(e){return"function"==da(e)}function ia(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ja(e,t,n){return e.call.apply(e.bind,arguments)}function ka(t,n,e){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,i),t.apply(n,e)}}return function(){return t.apply(n,arguments)}}function q(e,t,n){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka).apply(null,arguments)}function la(e,o){function t(){}t.prototype=o.prototype,e.wg=o.prototype,e.prototype=new t,(e.prototype.constructor=e).sg=function(e,t,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return o.prototype[t].apply(e,i)}}function ma(a){if(a=String(a),!/^\s*$/.test(a)&&/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(e){}throw Error("Invalid JSON string: "+a)}function na(){this.Fd=void 0}function oa(e,t,n){switch(typeof t){case"string":pa(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":n.push(t);break;case"undefined":n.push("null");break;case"object":if(null==t){n.push("null");break}if(ea(t)){var i=t.length;n.push("[");for(var r="",o=0;o<i;o++)n.push(r),r=t[o],oa(e,e.Fd?e.Fd.call(t,String(o),r):r,n),r=",";n.push("]");break}for(o in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,o)&&"function"!=typeof(r=t[o])&&(n.push(i),pa(o,n),n.push(":"),oa(e,e.Fd?e.Fd.call(t,o,r):r,n),i=",");n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}var qa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ra=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,r;function pa(e,t){t.push('"',e.replace(ra,function(e){if(e in qa)return qa[e];var t=e.charCodeAt(0),n="\\u";return t<16?n+="000":t<256?n+="00":t<4096&&(n+="0"),qa[e]=n+t.toString(16)}),'"')}function sa(){this.Wa=-1}function ta(){this.Wa=-1,this.Wa=64,this.M=[],this.Wd=[],this.Af=[],this.zd=[],this.zd[0]=128;for(var e=1;e<this.Wa;++e)this.zd[e]=0;this.Pd=this.$b=0,this.reset()}function ua(e,t,n){n||(n=0);var i=e.Af;if(p(t))for(var r=0;r<16;r++)i[r]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(r=0;r<16;r++)i[r]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(r=16;r<80;r++){var o=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=4294967295&(o<<1|o>>>31)}t=e.M[0],n=e.M[1];var a,s=e.M[2],l=e.M[3],u=e.M[4];for(r=0;r<80;r++)a=r<40?r<20?(o=l^n&(s^l),1518500249):(o=n^s^l,1859775393):r<60?(o=n&s|l&(n|s),2400959708):(o=n^s^l,3395469782),o=(t<<5|t>>>27)+o+u+a+i[r]&4294967295,u=l,l=s,s=4294967295&(n<<30|n>>>2),n=t,t=o;e.M[0]=e.M[0]+t&4294967295,e.M[1]=e.M[1]+n&4294967295,e.M[2]=e.M[2]+s&4294967295,e.M[3]=e.M[3]+l&4294967295,e.M[4]=e.M[4]+u&4294967295}la(ta,sa),ta.prototype.reset=function(){this.M[0]=1732584193,this.M[1]=4023233417,this.M[2]=2562383102,this.M[3]=271733878,this.M[4]=3285377520,this.Pd=this.$b=0},ta.prototype.update=function(e,t){if(null!=e){n(t)||(t=e.length);for(var i=t-this.Wa,r=0,o=this.Wd,a=this.$b;r<t;){if(0==a)for(;r<=i;)ua(this,e,r),r+=this.Wa;if(p(e)){for(;r<t;)if(o[a]=e.charCodeAt(r),++r,++a==this.Wa){ua(this,o),a=0;break}}else for(;r<t;)if(o[a]=e[r],++r,++a==this.Wa){ua(this,o),a=0;break}}this.$b=a,this.Pd+=t}};e:{var va=aa.navigator;if(va){var wa=va.userAgent;if(wa){r=wa;break e}}r=""}var t=Array.prototype,xa=t.indexOf?function(e,n,i){return t.indexOf.call(e,n,i)}:function(e,t,n){if(n=null==n?0:n<0?Math.max(0,e.length+n):n,p(e))return p(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ya=t.forEach?function(e,n,i){t.forEach.call(e,n,i)}:function(e,t,n){for(var i=e.length,r=p(e)?e.split(""):e,o=0;o<i;o++)o in r&&t.call(n,r[o],o,e)},za=t.filter?function(e,n,i){return t.filter.call(e,n,i)}:function(e,t,n){for(var i=e.length,r=[],o=0,a=p(e)?e.split(""):e,s=0;s<i;s++)if(s in a){var l=a[s];t.call(n,l,s,e)&&(r[o++]=l)}return r},Aa=t.map?function(e,n,i){return t.map.call(e,n,i)}:function(e,t,n){for(var i=e.length,r=Array(i),o=p(e)?e.split(""):e,a=0;a<i;a++)a in o&&(r[a]=t.call(n,o[a],a,e));return r},Ba=t.reduce?function(e,n,i,r){for(var o=[],a=1,s=arguments.length;a<s;a++)o.push(arguments[a]);return r&&(o[0]=q(n,r)),t.reduce.apply(e,o)}:function(n,i,e,r){var o=e;return ya(n,function(e,t){o=i.call(r,o,e,t,n)}),o},Ca=t.every?function(e,n,i){return t.every.call(e,n,i)}:function(e,t,n){for(var i=e.length,r=p(e)?e.split(""):e,o=0;o<i;o++)if(o in r&&!t.call(n,r[o],o,e))return!1;return!0};function Da(e,t){var n=Ea(e,t,void 0);return n<0?null:p(e)?e.charAt(n):e[n]}function Ea(e,t,n){for(var i=e.length,r=p(e)?e.split(""):e,o=0;o<i;o++)if(o in r&&t.call(n,r[o],o,e))return o;return-1}function Fa(e,n){var i=xa(e,n);0<=i&&t.splice.call(e,i,1)}function Ga(e,n,i){return arguments.length<=2?t.slice.call(e,n):t.slice.call(e,n,i)}function Ha(e,t){e.sort(t||Ia)}function Ia(e,t){return t<e?1:e<t?-1:0}function v(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function Ja(e,t){var n,i={};for(n in e)i[n]=t.call(void 0,e[n],n,e);return i}function Ka(e,t){for(var n in e)if(!t.call(void 0,e[n],n,e))return!1;return!0}function La(e){var t,n=0;for(t in e)n++;return n}function Ma(e){for(var t in e)return t}function Na(e){var t,n=[],i=0;for(t in e)n[i++]=e[t];return n}function Oa(e){var t,n=[],i=0;for(t in e)n[i++]=t;return n}function Pa(e,t){for(var n in e)if(e[n]==t)return!0;return!1}function Qa(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return i}function Ra(e,t){var n=Qa(e,t,void 0);return n&&e[n]}function Sa(e){for(var t in e)return!1;return!0}function Ta(e){var t,n={};for(t in e)n[t]=e[t];return n}var Ua=-1!=r.indexOf("Opera")||-1!=r.indexOf("OPR"),Va=-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE"),Wa=-1!=r.indexOf("Gecko")&&-1==r.toLowerCase().indexOf("webkit")&&!(-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE")),Xa=-1!=r.toLowerCase().indexOf("webkit"),Wba,Vba;Vba="",Ua&&aa.opera?ha(Vba=aa.opera.version)&&Vba():(Wa?Wba=/rv\:([^\);]+)(\)|;)/:Va?Wba=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(Wba=/WebKit\/(\S+)/),Wba&&(Vba=(Vba=Wba.exec(r))?Vba[1]:""),Va&&(Wba=(Wba=aa.document)?Wba.documentMode:void 0)>parseFloat(Vba)&&String(Wba));var Ya=null,Za=null,$a=null;function ab(e,t){if(!fa(e))throw Error("encodeByteArray takes an array as a parameter");bb();for(var n=t?Za:Ya,i=[],r=0;r<e.length;r+=3){var o=e[r],a=r+1<e.length,s=a?e[r+1]:0,l=r+2<e.length,u=o>>2,c=(o=(3&o)<<4|s>>4,s=(15&s)<<2|(c=l?e[r+2]:0)>>6,63&c);l||(c=64,a||(s=64)),i.push(n[u],n[o],n[s],n[c])}return i.join("")}function bb(){if(!Ya){Ya={},Za={},$a={};for(var e=0;e<65;e++)Ya[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Za[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),62<=($a[Za[e]]=e)&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)]=e)}}function cb(e,t){if(!e)throw db(t)}function db(e){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)}function eb(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function fb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gb(e){var n=[];return fb(e,function(t,e){ea(e)?ya(e,function(e){n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}):n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),n.length?"&"+n.join("&"):""}var hb=firebase.Promise;function ib(){var n=this;this.reject=this.resolve=null,this.ra=new hb(function(e,t){n.resolve=e,n.reject=t})}function jb(n,i){return function(e,t){e?n.reject(e):n.resolve(t),ha(i)&&(kb(n.ra),1===i.length?i(e):i(e,t))}}function kb(e){e.then(void 0,ba)}function lb(e){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(e):ma(e)}function x(e){if("undefined"!=typeof JSON&&n(JSON.stringify))e=JSON.stringify(e);else{var t=[];oa(new na,e,t),e=t.join("")}return e}function mb(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);55296<=r&&r<=56319&&(r-=55296,cb(++i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(r<<10)+(e.charCodeAt(i)-56320)),r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return t}function nb(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:55296<=i&&i<=56319?(t+=4,n++):t+=3}return t}function y(e,t,n,i){var r;if(i<t?r="at least "+t:n<i&&(r=0===n?"none":"no more than "+n),r)throw Error(e+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")}function A(e,t,n){var i="";switch(t){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+i+" argument "}function B(e,t,i,r){if((!r||n(i))&&!ha(i))throw Error(A(e,t,r)+"must be a valid function.")}function ob(e,t,i){if(n(i)&&(!ia(i)||null===i))throw Error(A(e,t,!0)+"must be a valid context object.")}function pb(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function C(e,t){this.name=e,this.R=t}function qb(e,t){return new C(e,t)}function rb(e,t){return sb(e.name,t.name)}function tb(e,t){return sb(e,t)}function ub(e){this.uc=e,this.Cd="firebase:"}function vb(){this.pc={}}function wb(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ub(t)}}catch(e){}return new vb}g=ub.prototype,g.set=function(e,t){null==t?this.uc.removeItem(this.Cd+e):this.uc.setItem(this.Cd+e,x(t))},g.get=function(e){return null==(e=this.uc.getItem(this.Cd+e))?null:lb(e)},g.remove=function(e){this.uc.removeItem(this.Cd+e)},g.Ze=!1,g.toString=function(){return this.uc.toString()},vb.prototype.set=function(e,t){null==t?delete this.pc[e]:this.pc[e]=t},vb.prototype.get=function(e){return eb(this.pc,e)?this.pc[e]:null},vb.prototype.remove=function(e){delete this.pc[e]},vb.prototype.Ze=!0;var xb=wb("localStorage"),yb=wb("sessionStorage");function zb(e,t,n,i,r){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Sc=t,this.pe=n,this.qg=i,this.gf=r||"",this.$a=xb.get("host:"+e)||this.host}function Ab(e,t){t!==e.$a&&(e.$a=t,"s-"===e.$a.substr(0,2)&&xb.set("host:"+e.host,e.$a))}function Bb(e,t,n){if(D("string"==typeof t,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),t===Cb)t=(e.Sc?"wss://":"ws://")+e.$a+"/.ws?";else{if(t!==Db)throw Error("Unknown connection type: "+t);t=(e.Sc?"https://":"http://")+e.$a+"/.lp?"}e.host!==e.$a&&(n.ns=e.pe);var i=[];return v(n,function(e,t){i.push(t+"="+e)}),t+i.join("&")}function Eb(e,t){return e&&"object"==typeof e?(D(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e}function Fb(e,n){var i=new Gb;return Hb(e,new E(""),function(e,t){Ib(i,e,Jb(t,n))}),i}function Jb(e,i){var r,t=Eb(t=e.C().H(),i);if(e.J()){var n=Eb(e.Ca(),i);return n!==e.Ca()||t!==e.C().H()?new Kb(n,G(t)):e}return t!==(r=e).C().H()&&(r=r.fa(new Kb(t))),e.O(H,function(e,t){var n=Jb(t,i);n!==t&&(r=r.T(e,n))}),r}zb.prototype.toString=function(){var e=(this.Sc?"https://":"http://")+this.host;return this.gf&&(e+="<"+this.gf+">"),e};var Lb=(_da=1,function(){return _da++}),D=cb,Mb=db,_da;function Nb(e){try{var t;bb();for(var n=$a,i=[],r=0;r<e.length;){var o=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0,s=++r<e.length?n[e.charAt(r)]:64,l=++r<e.length?n[e.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==l)throw Error();i.push(o<<2|a>>4),64!=s&&(i.push(a<<4&240|s>>2),64!=l&&i.push(s<<6&192|l))}if(i.length<8192)t=String.fromCharCode.apply(null,i);else{for(e="",n=0;n<i.length;n+=8192)e+=String.fromCharCode.apply(null,Ga(i,n,n+8192));t=e}return t}catch(e){I("base64Decode failed: ",e)}return null}function Ob(e){var t=mb(e);(e=new ta).update(t),t=[];var n=8*e.Pd;e.$b<56?e.update(e.zd,56-e.$b):e.update(e.zd,e.Wa-(e.$b-56));for(var i=e.Wa-1;56<=i;i--)e.Wd[i]=255&n,n/=256;for(ua(e,e.Wd),i=n=0;i<5;i++)for(var r=24;0<=r;r-=8)t[n]=e.M[i]>>r&255,++n;return ab(t)}function Pb(e){for(var t="",n=0;n<arguments.length;n++)t=fa(arguments[n])?t+Pb.apply(null,arguments[n]):"object"==typeof arguments[n]?t+x(arguments[n]):t+arguments[n],t+=" ";return t}var Qb=null,Rb=!0;function Sb(e,t){cb(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?Qb=q(console.log,console):"object"==typeof console.log&&(Qb=function(e){console.log(e)})),t&&yb.set("logging_enabled",!0)):ha(e)?Qb=e:(Qb=null,yb.remove("logging_enabled"))}function I(e){if(!0===Rb&&(Rb=!1,null===Qb&&!0===yb.get("logging_enabled")&&Sb(!0)),Qb){var t=Pb.apply(null,arguments);Qb(t)}}function Tb(e){return function(){I(e,arguments)}}function Ub(e){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+Pb.apply(null,arguments);void 0!==console.error?console.error(t):console.log(t)}}function Vb(e){var t=Pb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function J(e){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+Pb.apply(null,arguments);void 0!==console.warn?console.warn(t):console.log(t)}}function Wb(e){var t,n,i,r,o,a=e;if(o=n=e=t="",i=!0,r="https",p(a)){var s=a.indexOf("//");for(0<=s&&(r=a.substring(0,s-1),a=a.substring(s+2)),-1===(s=a.indexOf("/"))&&(s=a.length),t=a.substring(0,s),o="",a=a.substring(s).split("/"),s=0;s<a.length;s++)if(0<a[s].length){var l=a[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(e){}o+="/"+l}3===(a=t.split(".")).length?(e=a[1],n=a[0].toLowerCase()):2===a.length&&(e=a[0]),0<=(s=t.indexOf(":"))&&(i="https"===r||"wss"===r)}return"firebase"===e&&Vb(t+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||Vb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&J("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{jc:new zb(t,i,n,"ws"===r||"wss"===r),path:new E(o)}}function Xb(e){return ga(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function Yb(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function sb(e,t){if(e===t)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return-1;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return 1;var n=Zb(e),i=Zb(t);return null!==n?null!==i?0==n-i?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}function $b(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+x(t))}function ac(e){if("object"!=typeof e||null===e)return x(e);var t,n=[];for(t in e)n.push(t);n.sort(),t="{";for(var i=0;i<n.length;i++)0!==i&&(t+=","),t+=x(n[i]),t+=":",t+=ac(e[n[i]]);return t+"}"}function bc(e,t){if(e.length<=t)return[e];for(var n=[],i=0;i<e.length;i+=t)e<i+t?n.push(e.substring(i,e.length)):n.push(e.substring(i,i+t));return n}function cc(e,t){if(ea(e))for(var n=0;n<e.length;++n)t(n,e[n]);else v(e,t)}function dc(e){var t,n,i,r;for(D(!Xb(e),"Invalid JSON number"),0===e?(i=n=0,t=-1/0==1/e?1:0):(t=e<0,i=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074)))),r=[],e=52;e;--e)r.push(i%2?1:0),i=Math.floor(i/2);for(e=11;e;--e)r.push(n%2?1:0),n=Math.floor(n/2);for(r.push(t?1:0),r.reverse(),t=r.join(""),n="",e=0;e<64;e+=8)1===(i=parseInt(t.substr(e,8),2).toString(16)).length&&(i="0"+i),n+=i;return n.toLowerCase()}var ec=/^-?\d{1,10}$/;function Zb(e){return ec.test(e)&&-2147483648<=(e=Number(e))&&e<=2147483647?e:null}function fc(e){try{e()}catch(e){setTimeout(function(){throw J("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function gc(e,t,n){Object.defineProperty(e,t,{get:n})}function hc(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n}function ic(e){var t={},n={},i={},r="";try{var o=e.split(".");t=lb(Nb(o[0])||""),n=lb(Nb(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(e){}return{tg:t,Je:n,data:i,mg:r}}function jc(e){var t=(e=ic(e)).Je;return!!e.mg&&!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}function kc(e){return"object"==typeof(e=ic(e).Je)&&!0===w(e,"admin")}function lc(){}var mc={};function nc(e){return q(e.compare,e)}function pc(e){D(!e.e()&&".priority"!==K(e),"Can't create PathIndex with empty path or .priority key"),this.bc=e}function rc(){}lc.prototype.nd=function(e,t){return 0!==this.compare(new C("[MIN_NAME]",e),new C("[MIN_NAME]",t))},lc.prototype.Hc=function(){return oc},la(pc,lc),g=pc.prototype,g.xc=function(e){return!e.P(this.bc).e()},g.compare=function(e,t){var n=e.R.P(this.bc),i=t.R.P(this.bc);return 0===(n=n.sc(i))?sb(e.name,t.name):n},g.Ec=function(e,t){var n=G(e);return new C(t,n=L.F(this.bc,n))},g.Fc=function(){return new C("[MAX_NAME]",L.F(this.bc,qc))},g.toString=function(){return this.bc.slice().join("/")},la(rc,lc),g=rc.prototype,g.compare=function(e,t){var n=e.R.C(),i=t.R.C();return 0===(n=n.sc(i))?sb(e.name,t.name):n},g.xc=function(e){return!e.C().e()},g.nd=function(e,t){return!e.C().Z(t.C())},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",new Kb("[PRIORITY-POST]",qc))},g.Ec=function(e,t){return new C(t,new Kb("[PRIORITY-POST]",G(e)))},g.toString=function(){return".priority"};var H=new rc;function sc(){}la(sc,lc),g=sc.prototype,g.compare=function(e,t){return sb(e.name,t.name)},g.xc=function(){throw Mb("KeyIndex.isDefinedOn not expected to be called.")},g.nd=function(){return!1},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",L)},g.Ec=function(e){return D(p(e),"KeyIndex indexValue must always be a string."),new C(e,L)},g.toString=function(){return".key"};var tc=new sc;function uc(){}la(uc,lc),g=uc.prototype,g.compare=function(e,t){var n=e.R.sc(t.R);return 0===n?sb(e.name,t.name):n},g.xc=function(){return!0},g.nd=function(e,t){return!e.Z(t)},g.Hc=function(){return oc},g.Fc=function(){return vc},g.Ec=function(e,t){return new C(t,G(e))},g.toString=function(){return".value"};var wc=new uc;function xc(e,t){this.od=e,this.cc=t}function yc(a,s,l){return new xc(Ja(a.od,function(e,t){var n=w(a.cc,t);if(D(n,"Missing index implementation for "+t),e!==mc)return i=e,(n=l.get(s.name))&&(i=i.remove(new C(s.name,n))),i.Oa(s,s.R);if(n.xc(s.R)){for(var i=[],r=l.Wb(qb),o=M(r);o;)o.name!=s.name&&i.push(o),o=M(r);return i.push(s),zc(i,nc(n))}return mc}),a.cc)}function Ac(e,n,i){return new xc(Ja(e.od,function(e){if(e===mc)return e;var t=i.get(n.name);return t?e.remove(new C(n.name,t)):e}),e.cc)}xc.prototype.get=function(e){var t=w(this.od,e);if(!t)throw Error("No index defined for "+e);return t===mc?null:t};var Bc=new xc({".priority":mc},{".priority":H});function Kb(e,t){this.B=e,D(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=t||L,Cc(this.aa),this.Db=null}var Dc=["object","boolean","number","string"];function Gc(){this.set={}}function Hc(e,n){v(e.set,function(e,t){n(t,e)})}function Ic(e){D(ea(e)&&0<e.length,"Requires a non-empty array"),this.Bf=e,this.Dc={}}function Jc(e,t){D(Da(e.Bf,function(e){return e===t}),"Unknown event: "+t)}g=Kb.prototype,g.J=function(){return!0},g.C=function(){return this.aa},g.fa=function(e){return new Kb(this.B,e)},g.Q=function(e){return".priority"===e?this.aa:L},g.P=function(e){return e.e()?this:".priority"===K(e)?this.aa:L},g.Da=function(){return!1},g.Ve=function(){return null},g.T=function(e,t){return".priority"===e?this.fa(t):t.e()&&".priority"!==e?this:L.T(e,t).fa(this.aa)},g.F=function(e,t){var n=K(e);return null===n?t:t.e()&&".priority"!==n?this:(D(".priority"!==n||1===Ec(e),".priority must be the last token in a path"),this.T(n,L.F(N(e),t)))},g.e=function(){return!1},g.Eb=function(){return 0},g.O=function(){return!1},g.H=function(e){return e&&!this.C().e()?{".value":this.Ca(),".priority":this.C().H()}:this.Ca()},g.hash=function(){if(null===this.Db){var e="";this.aa.e()||(e+="priority:"+Fc(this.aa.H())+":");var t=typeof this.B;e=e+t+":",e="number"==t?e+dc(this.B):e+this.B,this.Db=Ob(e)}return this.Db},g.Ca=function(){return this.B},g.sc=function(e){if(e===L)return 1;if(e instanceof O)return-1;D(e.J(),"Unknown node type");var t=typeof e.B,n=typeof this.B,i=xa(Dc,t),r=xa(Dc,n);return D(0<=i,"Unknown leaf type: "+t),D(0<=r,"Unknown leaf type: "+n),i===r?"object"==n?0:this.B<e.B?-1:this.B===e.B?0:1:r-i},g.nb=function(){return this},g.yc=function(){return!0},g.Z=function(e){return e===this||!!e.J()&&this.B===e.B&&this.aa.Z(e.aa)},g.toString=function(){return x(this.H(!0))},g=Gc.prototype,g.add=function(e,t){this.set[e]=null===t||t},g.contains=function(e){return eb(this.set,e)},g.get=function(e){return this.contains(e)?this.set[e]:void 0},g.remove=function(e){delete this.set[e]},g.clear=function(){this.set={}},g.e=function(){return Sa(this.set)},g.count=function(){return La(this.set)},g.keys=function(){var n=[];return v(this.set,function(e,t){n.push(t)}),n},Ic.prototype.Ge=function(e,t){var n,i=(n=this.Dc[e]||[]).length;if(0<i){for(var r=Array(i),o=0;o<i;o++)r[o]=n[o];n=r}else n=[];for(i=0;i<n.length;i++)n[i].Ie.apply(n[i].Ma,Array.prototype.slice.call(arguments,1))},Ic.prototype.gc=function(e,t,n){Jc(this,e),this.Dc[e]=this.Dc[e]||[],this.Dc[e].push({Ie:t,Ma:n}),(e=this.Ue(e))&&t.apply(n,e)},Ic.prototype.Ic=function(e,t,n){Jc(this,e),e=this.Dc[e]||[];for(var i=0;i<e.length;i++)if(e[i].Ie===t&&(!n||n===e[i].Ma)){e.splice(i,1);break}};var Kc=(zha=0,Aha=[],function(e){var t=e===zha;zha=e;for(var n=Array(8),i=7;0<=i;i--)n[i]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e%64),e=Math.floor(e/64);if(D(0===e,"Cannot push at time == 0"),e=n.join(""),t){for(i=11;0<=i&&63===Aha[i];i--)Aha[i]=0;Aha[i]++}else for(i=0;i<12;i++)Aha[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)e+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(Aha[i]);return D(20===e.length,"nextPushId: Length should be 20."),e}),zha,Aha;function Lc(){if(Ic.call(this,["online"]),this.hc=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!pb()){var e=this;window.addEventListener("online",function(){e.hc||(e.hc=!0,e.Ge("online",!0))},!1),window.addEventListener("offline",function(){e.hc&&(e.hc=!1,e.Ge("online",!1))},!1)}}function Mc(){var t,e;if(Ic.call(this,["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.Mb=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.Mb&&(n.Mb=e,n.Ge("visible",e))},!1)}}function E(e,t){if(1==arguments.length){this.o=e.split("/");for(var n=0,i=0;i<this.o.length;i++)0<this.o[i].length&&(this.o[n]=this.o[i],n++);this.o.length=n,this.Y=0}else this.o=e,this.Y=t}function P(e,t){var n=K(e);if(null===n)return t;if(n===K(t))return P(N(e),N(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Nc(e,t){for(var n=e.slice(),i=t.slice(),r=0;r<n.length&&r<i.length;r++){var o=sb(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1}function K(e){return e.Y>=e.o.length?null:e.o[e.Y]}function Ec(e){return e.o.length-e.Y}function N(e){var t=e.Y;return t<e.o.length&&t++,new E(e.o,t)}function Oc(e){return e.Y<e.o.length?e.o[e.o.length-1]:null}la(Lc,Ic),Lc.prototype.Ue=function(e){return D("online"===e,"Unknown event type: "+e),[this.hc]},ca(Lc),la(Mc,Ic),Mc.prototype.Ue=function(e){return D("visible"===e,"Unknown event type: "+e),[this.Mb]},ca(Mc),g=E.prototype,g.toString=function(){for(var e="",t=this.Y;t<this.o.length;t++)""!==this.o[t]&&(e+="/"+this.o[t]);return e||"/"},g.slice=function(e){return this.o.slice(this.Y+(e||0))},g.parent=function(){if(this.Y>=this.o.length)return null;for(var e=[],t=this.Y;t<this.o.length-1;t++)e.push(this.o[t]);return new E(e,0)},g.n=function(e){for(var t=[],n=this.Y;n<this.o.length;n++)t.push(this.o[n]);if(e instanceof E)for(n=e.Y;n<e.o.length;n++)t.push(e.o[n]);else for(e=e.split("/"),n=0;n<e.length;n++)0<e[n].length&&t.push(e[n]);return new E(t,0)},g.e=function(){return this.Y>=this.o.length},g.Z=function(e){if(Ec(this)!==Ec(e))return!1;for(var t=this.Y,n=e.Y;t<=this.o.length;t++,n++)if(this.o[t]!==e.o[n])return!1;return!0},g.contains=function(e){var t=this.Y,n=e.Y;if(Ec(this)>Ec(e))return!1;for(;t<this.o.length;){if(this.o[t]!==e.o[n])return!1;++t,++n}return!0};var Q=new E("");function Pc(e,t){this.Qa=e.slice(),this.Ha=Math.max(1,this.Qa.length),this.Qe=t;for(var n=0;n<this.Qa.length;n++)this.Ha+=nb(this.Qa[n]);Qc(this)}function Qc(e){if(768<e.Ha)throw Error(e.Qe+"has a key path longer than 768 bytes ("+e.Ha+").");if(32<e.Qa.length)throw Error(e.Qe+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rc(e))}function Rc(e){return 0==e.Qa.length?"":"in property '"+e.Qa.join(".")+"'"}function Sc(){this.children={},this.bd=0,this.value=null}function Tc(e,t,n){this.ud=e||"",this.Pc=t||null,this.A=n||new Sc}function Uc(e,t){for(var n,i=t instanceof E?t:new E(t),r=e;null!==(n=K(i));)r=new Tc(n,r,w(r.A.children,n)||new Sc),i=N(i);return r}function Vc(e,t){D(void 0!==t,"Cannot set value to undefined"),e.A.value=t,Wc(e)}function Xc(e,t,n,i){n&&!i&&t(e),e.O(function(e){Xc(e,t,!0,i)}),n&&i&&t(e)}function Yc(e,t){for(var n=e.parent();null!==n&&!t(n);)n=n.parent()}function Wc(e){if(null!==e.Pc){var t=e.Pc,n=e.ud,i=e.e(),r=eb(t.A.children,n);i&&r?(delete t.A.children[n],t.A.bd--,Wc(t)):i||r||(t.A.children[n]=e.A,t.A.bd++,Wc(t))}}function Zc(e,t){this.La=e,this.ba=t||$c}function ad(e,t){for(var n,i=e.ba,r=null;!i.e();){if(0===(n=e.La(t,i.key))){if(i.left.e())return r?r.key:null;for(i=i.left;!i.right.e();)i=i.right;return i.key}n<0?i=i.left:0<n&&(i=(r=i).right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function bd(e,t,n,i,r){for(this.Hd=r||null,this.le=i,this.Pa=[],r=1;!e.e();)if(r=t?n(e.key,t):1,i&&(r*=-1),r<0)e=this.le?e.left:e.right;else{if(0===r){this.Pa.push(e);break}this.Pa.push(e),e=this.le?e.right:e.left}}function M(e){if(0===e.Pa.length)return null;var t,n=e.Pa.pop();if(t=e.Hd?e.Hd(n.key,n.value):{key:n.key,value:n.value},e.le)for(n=n.left;!n.e();)e.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)e.Pa.push(n),n=n.left;return t}function cd(e){return 0===e.Pa.length?null:(t=(t=e.Pa)[t.length-1],e.Hd?e.Hd(t.key,t.value):{key:t.key,value:t.value});var t}function dd(e,t,n,i,r){this.key=e,this.value=t,this.color=null==n||n,this.left=null!=i?i:$c,this.right=null!=r?r:$c}function ed(e){return e.left.e()?e:ed(e.left)}function hd(e){return e.left.e()?$c:(e.left.ea()||e.left.left.ea()||(e=id(e)),gd(e=e.X(null,null,null,hd(e.left),null)))}function gd(e){return e.right.ea()&&!e.left.ea()&&(e=ld(e)),e.left.ea()&&e.left.left.ea()&&(e=jd(e)),e.left.ea()&&e.right.ea()&&(e=kd(e)),e}function id(e){return(e=kd(e)).right.left.ea()&&(e=kd(e=ld(e=e.X(null,null,null,null,jd(e.right))))),e}function ld(e){return e.right.X(null,null,e.color,e.X(null,null,!0,null,e.right.left),null)}function jd(e){return e.left.X(null,null,e.color,null,e.X(null,null,!0,e.left.right,null))}function kd(e){return e.X(null,null,!e.color,e.left.X(null,null,!e.left.color,null,null),e.right.X(null,null,!e.right.color,null,null))}function md(){}Pc.prototype.push=function(e){0<this.Qa.length&&(this.Ha+=1),this.Qa.push(e),this.Ha+=nb(e),Qc(this)},Pc.prototype.pop=function(){var e=this.Qa.pop();this.Ha-=nb(e),0<this.Qa.length&&--this.Ha},g=Tc.prototype,g.Ca=function(){return this.A.value},g.clear=function(){this.A.value=null,this.A.children={},this.A.bd=0,Wc(this)},g.kd=function(){return 0<this.A.bd},g.e=function(){return null===this.Ca()&&!this.kd()},g.O=function(n){var i=this;v(this.A.children,function(e,t){n(new Tc(t,i,e))})},g.path=function(){return new E(null===this.Pc?this.ud:this.Pc.path()+"/"+this.ud)},g.name=function(){return this.ud},g.parent=function(){return this.Pc},g=Zc.prototype,g.Oa=function(e,t){return new Zc(this.La,this.ba.Oa(e,t,this.La).X(null,null,!1,null,null))},g.remove=function(e){return new Zc(this.La,this.ba.remove(e,this.La).X(null,null,!1,null,null))},g.get=function(e){for(var t,n=this.ba;!n.e();){if(0===(t=this.La(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null},g.e=function(){return this.ba.e()},g.count=function(){return this.ba.count()},g.Gc=function(){return this.ba.Gc()},g.ec=function(){return this.ba.ec()},g.ha=function(e){return this.ba.ha(e)},g.Wb=function(e){return new bd(this.ba,null,this.La,!1,e)},g.Xb=function(e,t){return new bd(this.ba,e,this.La,!1,t)},g.Zb=function(e,t){return new bd(this.ba,e,this.La,!0,t)},g.We=function(e){return new bd(this.ba,null,this.La,!0,e)},g=dd.prototype,g.X=function(e,t,n,i,r){return new dd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ha=function(e){return this.left.ha(e)||e(this.key,this.value)||this.right.ha(e)},g.Gc=function(){return ed(this).key},g.ec=function(){return this.right.e()?this.key:this.right.ec()},g.Oa=function(e,t,n){var i,r;return gd(r=(i=n(e,(r=this).key))<0?r.X(null,null,null,r.left.Oa(e,t,n),null):0===i?r.X(null,t,null,null,null):r.X(null,null,null,null,r.right.Oa(e,t,n)))},g.remove=function(e,t){var n,i;if(t(e,(n=this).key)<0)n.left.e()||n.left.ea()||n.left.left.ea()||(n=id(n)),n=n.X(null,null,null,n.left.remove(e,t),null);else{if(n.left.ea()&&(n=jd(n)),n.right.e()||n.right.ea()||n.right.left.ea()||(n=kd(n)).left.left.ea()&&(n=kd(n=jd(n))),0===t(e,n.key)){if(n.right.e())return $c;i=ed(n.right),n=n.X(i.key,i.value,null,null,hd(n.right))}n=n.X(null,null,null,null,n.right.remove(e,t))}return gd(n)},g.ea=function(){return this.color},g=md.prototype,g.X=function(){return this},g.Oa=function(e,t){return new dd(e,t,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ha=function(){return!1},g.Gc=function(){return null},g.ec=function(){return null},g.ea=function(){return!1};var $c=new md;function O(e,t,n){this.k=e,(this.aa=t)&&Cc(this.aa),e.e()&&D(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.yb=n,this.Db=null}g=O.prototype,g.J=function(){return!1},g.C=function(){return this.aa||L},g.fa=function(e){return this.k.e()?this:new O(this.k,e,this.yb)},g.Q=function(e){return".priority"===e?this.C():null===(e=this.k.get(e))?L:e},g.P=function(e){var t=K(e);return null===t?this:this.Q(t).P(N(e))},g.Da=function(e){return null!==this.k.get(e)},g.T=function(e,t){if(D(t,"We should always be passing snapshot nodes"),".priority"===e)return this.fa(t);var n,i,r=new C(e,t);return r=t.e()?(n=this.k.remove(e),Ac(this.yb,r,this.k)):(n=this.k.Oa(e,t),yc(this.yb,r,this.k)),i=n.e()?L:this.aa,new O(n,i,r)},g.F=function(e,t){var n=K(e);if(null===n)return t;D(".priority"!==K(e)||1===Ec(e),".priority must be the last token in a path");var i=this.Q(n).F(N(e),t);return this.T(n,i)},g.e=function(){return this.k.e()},g.Eb=function(){return this.k.count()};var nd=/^(0|[1-9]\d*)$/;function pd(e,t){var n;return(n=(n=od(e,t))?(n=n.Gc())&&n.name:e.k.Gc())?new C(n,e.k.get(n)):null}function qd(e,t){var n;return(n=(n=od(e,t))?(n=n.ec())&&n.name:e.k.ec())?new C(n,e.k.get(n)):null}function od(e,t){return t===tc?null:e.yb.get(t.toString())}function G(e,t){if(null===e)return L;var n=null;if("object"==typeof e&&".priority"in e?n=e[".priority"]:void 0!==t&&(n=t),D(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Kb(e,G(n));if(e instanceof Array){var i=L,r=e;return v(r,function(e,t){if(eb(r,t)&&"."!==t.substring(0,1)){var n=G(e);!n.J()&&n.e()||(i=i.T(t,n))}}),i.fa(G(n))}var o=[],a=!1,s=e;if(fb(s,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=G(s[e]);t.e()||(a=a||!t.C().e(),o.push(new C(e,t)))}}),0==o.length)return L;var l=zc(o,rb,function(e){return e.name},tb);if(a){var u=zc(o,nc(H));return new O(l,G(n),new xc({".priority":u},{".priority":H}))}return new O(l,G(n),Bc)}g=O.prototype,g.H=function(n){if(this.e())return null;var i={},r=0,o=0,a=!0;if(this.O(H,function(e,t){i[e]=t.H(n),r++,a&&nd.test(e)?o=Math.max(o,Number(e)):a=!1}),!n&&a&&o<2*r){var e,t=[];for(e in i)t[e]=i[e];return t}return n&&!this.C().e()&&(i[".priority"]=this.C().H()),i},g.hash=function(){if(null===this.Db){var i="";this.C().e()||(i+="priority:"+Fc(this.C().H())+":"),this.O(H,function(e,t){var n=t.hash();""!==n&&(i+=":"+e+":"+n)}),this.Db=""===i?"":Ob(i)}return this.Db},g.Ve=function(e,t,n){return(n=od(this,n))?(e=ad(n,new C(e,t)))?e.name:null:ad(this.k,e)},g.O=function(e,t){var n=od(this,e);return n?n.ha(function(e){return t(e.name,e.R)}):this.k.ha(t)},g.Wb=function(e){return this.Xb(e.Hc(),e)},g.Xb=function(e,t){if(n=od(this,t))return n.Xb(e,function(e){return e});for(var n,i=cd(n=this.k.Xb(e.name,qb));null!=i&&t.compare(i,e)<0;)M(n),i=cd(n);return n},g.We=function(e){return this.Zb(e.Fc(),e)},g.Zb=function(e,t){if(n=od(this,t))return n.Zb(e,function(e){return e});for(var n,i=cd(n=this.k.Zb(e.name,qb));null!=i&&0<t.compare(i,e);)M(n),i=cd(n);return n},g.sc=function(e){return this.e()?e.e()?0:-1:e.J()||e.e()?1:e===qc?-1:0},g.nb=function(e){if(e===tc||Pa(this.yb.cc,e.toString()))return this;var t=this.yb,n=this.k;D(e!==tc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],r=!1,o=M(n=n.Wb(qb));o;)r=r||e.xc(o.R),i.push(o),o=M(n);return i=r?zc(i,nc(e)):mc,r=e.toString(),(n=Ta(t.cc))[r]=e,(e=Ta(t.od))[r]=i,new O(this.k,this.aa,new xc(e,n))},g.yc=function(e){return e===tc||Pa(this.yb.cc,e.toString())},g.Z=function(e){if(e===this)return!0;if(e.J())return!1;if(this.C().Z(e.C())&&this.k.count()===e.k.count()){var t=this.Wb(H);e=e.Wb(H);for(var n=M(t),i=M(e);n&&i;){if(n.name!==i.name||!n.R.Z(i.R))return!1;n=M(t),i=M(e)}return null===n&&null===i}return!1},g.toString=function(){return x(this.H(!0))};var rd=Math.log(2);function sd(e){this.count=parseInt(Math.log(e+1)/rd,10),this.Oe=this.count-1,this.Cf=e+1&parseInt(Array(this.count+1).join("1"),2)}function td(e){var t=!(e.Cf&1<<e.Oe);return e.Oe--,t}function zc(l,e,u,t){l.sort(e);var n=function(e){function t(e,t){var n=a-e,i=a;a-=e,i=function e(t,n){if(0==(r=n-t))return null;if(1==r){var i=l[t];return new dd(u?u(i):i,i.R,!1,null,null)}var r=e(t,i=parseInt(r/2,10)+t),o=e(i+1,n);return i=l[i],new dd(u?u(i):i,i.R,!1,r,o)}(n+1,i),n=l[n],i=new dd(u?u(n):n,n.R,t,null,i),r?r.left=i:o=i,r=i}for(var r=null,o=null,a=l.length,n=0;n<e.count;++n){var i=td(e),s=Math.pow(2,e.count-(n+1));i?t(s,!1):(t(s,!1),t(s,!0))}return o}(new sd(l.length));return null!==n?new Zc(t||e,n):new Zc(t||e)}function Fc(e){return"number"==typeof e?"number:"+dc(e):"string:"+e}function Cc(e){if(e.J()){var t=e.H();D("string"==typeof t||"number"==typeof t||"object"==typeof t&&eb(t,".sv"),"Priority must be a string or number.")}else D(e===qc||e.e(),"priority of unexpected type.");D(e===qc||e.C().e(),"Priority nodes can't have a priority of their own.")}var L=new O(new Zc(tb),null,Bc);function ud(){O.call(this,new Zc(tb),L,Bc)}la(ud,O),g=ud.prototype,g.sc=function(e){return e===this?0:1},g.Z=function(e){return e===this},g.C=function(){return this},g.Q=function(){return L},g.e=function(){return!1};var qc=new ud,oc=new C("[MIN_NAME]",L),vc=new C("[MAX_NAME]",qc);function vd(e,t){this.value=e,this.children=t||wd}var wd=new Zc(function(e,t){return e===t?0:e<t?-1:1});function xd(e){var n=R;return v(e,function(e,t){n=n.set(new E(t),e)}),n}function yd(e,t,n){if(null!=e.value&&n(e.value))return{path:Q,value:e.value};if(t.e())return null;var i=K(t);return null!==(e=e.children.get(i))&&null!=(t=yd(e,N(t),n))?{path:new E(i).n(t.path),value:t.value}:null}function zd(e,t){return yd(e,t,function(){return!0})}function Ad(e,t,n){if(t.e())return n;var i=K(t);return i=(t=Ad(e.children.get(i)||R,N(t),n)).e()?e.children.remove(i):e.children.Oa(i,t),new vd(e.value,i)}function Bd(e,t){return Cd(e,Q,t)}function Cd(e,n,i){var r={};return e.children.ha(function(e,t){r[e]=Cd(t,n.n(e),i)}),i(n,e.value,r)}function Dd(e,t,n){return Ed(e,t,Q,n)}function Ed(e,t,n,i){var r=!!e.value&&i(n,e.value);return r||(t.e()?null:(r=K(t),(e=e.children.get(r))?Ed(e,N(t),n.n(r),i):null))}function Fd(e,t,n){Gd(e,t,Q,n)}function Gd(e,t,n,i){if(t.e())return e;e.value&&i(n,e.value);var r=K(t);return(e=e.children.get(r))?Gd(e,N(t),n.n(r),i):R}function Hd(e,t){Id(e,Q,t)}function Id(e,n,i){e.children.ha(function(e,t){Id(t,n.n(e),i)}),e.value&&i(n,e.value)}function Jd(e,n){e.children.ha(function(e,t){t.value&&n(e,t.value)})}g=vd.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(e){if(e.e())return this;var t=this.children.get(K(e));return null!==t?t.subtree(N(e)):R},g.set=function(e,t){if(e.e())return new vd(t,this.children);var n=K(e),i=(this.children.get(n)||R).set(N(e),t);return n=this.children.Oa(n,i),new vd(this.value,n)},g.remove=function(e){if(e.e())return this.children.e()?R:new vd(null,this.children);var t=K(e),n=this.children.get(t);return n?(t=(e=n.remove(N(e))).e()?this.children.remove(t):this.children.Oa(t,e),null===this.value&&t.e()?R:new vd(this.value,t)):this},g.get=function(e){if(e.e())return this.value;var t=this.children.get(K(e));return t?t.get(N(e)):null};var R=new vd(null);vd.prototype.toString=function(){var n={};return Hd(this,function(e,t){n[e.toString()]=t.toString()}),x(n)};var Kd=/[\[\].#$\/\u0000-\u001F\u007F]/,Ld=/[\[\].#$\u0000-\u001F\u007F]/;function Md(e){return p(e)&&0!==e.length&&!Kd.test(e)}function Nd(e){return null===e||p(e)||ga(e)&&!Xb(e)||ia(e)&&eb(e,".sv")}function Od(e,t,i,r){r&&!n(t)||Pd(A(e,1,r),t,i)}function Pd(i,e,r){if(r instanceof E&&(r=new Pc(r,i)),!n(e))throw Error(i+"contains undefined "+Rc(r));if(ha(e))throw Error(i+"contains a function "+Rc(r)+" with contents: "+e.toString());if(Xb(e))throw Error(i+"contains "+e.toString()+" "+Rc(r));if(p(e)&&e.length>10485760/3&&10485760<nb(e))throw Error(i+"contains a string greater than 10485760 utf8 bytes "+Rc(r)+" ('"+e.substring(0,50)+"...')");if(ia(e)){var o=!1,a=!1;if(fb(e,function(e,t){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(a=!0,!Md(e)))throw Error(i+" contains an invalid key ("+e+") "+Rc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),Pd(i,t,r),r.pop()}),o&&a)throw Error(i+' contains ".value" child '+Rc(r)+" in addition to actual children.")}}function Qd(e,t){var n,i;for(n=0;n<t.length;n++)for(var r=(i=t[n]).slice(),o=0;o<r.length;o++)if((".priority"!==r[o]||o!==r.length-1)&&!Md(r[o]))throw Error(e+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');for(t.sort(Nc),r=null,n=0;n<t.length;n++){if(i=t[n],null!==r&&r.contains(i))throw Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}function Rd(e,t,i){var r=A(e,1,!1);if(!ia(t)||ea(t))throw Error(r+" must be an object containing the children to replace.");var o=[];fb(t,function(e,t){var n=new E(e);if(Pd(r,t,i.n(n)),".priority"===Oc(n)&&!Nd(t))throw Error(r+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(n)}),Qd(r,o)}function Sd(e,t,n){if(Xb(n))throw Error(A(e,t,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nd(n))throw Error(A(e,t,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Td(e,t,i){if(!i||n(t))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(A(e,1,i)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Ud(e,t){if(n(t)&&!Md(t))throw Error(A(e,2,!0)+'was an invalid key: "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Vd(e,t){if(!p(t)||0===t.length||Ld.test(t))throw Error(A(e,1,!1)+'was an invalid path: "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Wd(e,t){if(".info"===K(t))throw Error(e+" failed: Can't modify data under /.info/")}function Xd(e,t){var n,i=t.path.toString();if(!(n=!p(t.jc.host)||0===t.jc.host.length||!Md(t.jc.pe))&&(n=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),n=!(p(i)&&0!==i.length&&!Ld.test(i))),n)throw Error(A(e,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}function Gb(){this.k=this.B=null}function Ib(e,t,n){if(t.e())e.B=n,e.k=null;else if(null!==e.B)e.B=e.B.F(t,n);else{null==e.k&&(e.k=new Gc);var i=K(t);e.k.contains(i)||e.k.add(i,new Gb),Ib(e=e.k.get(i),t=N(t),n)}}function Yd(n,e){if(e.e())return n.B=null,!(n.k=null);if(null===n.B)return null===n.k||(t=K(e),e=N(e),n.k.contains(t)&&Yd(n.k.get(t),e)&&n.k.remove(t),!!n.k.e()&&!(n.k=null));if(n.B.J())return!1;var t=n.B;return n.B=null,t.O(H,function(e,t){Ib(n,new E(e),t)}),Yd(n,e)}function Hb(e,n,i){null!==e.B?i(n,e.B):e.O(function(e,t){Hb(t,new E(n.toString()+"/"+e),i)})}function Zd(e,t){this.type=$d,this.source=e,this.path=t}function ae(e,t,n){this.type=be,this.source=e,this.path=t,this.children=n}function de(e,t,n){this.type=ee,this.source=fe,this.path=e,this.Ob=t,this.Id=n}function ce(e,t,n){this.type=ge,this.source=e,this.path=t,this.Ga=n}Gb.prototype.find=function(e){if(null!=this.B)return this.B.P(e);if(e.e()||null==this.k)return null;var t=K(e);return e=N(e),this.k.contains(t)?this.k.get(t).find(e):null},Gb.prototype.O=function(n){null!==this.k&&Hc(this.k,function(e,t){n(e,t)})},Zd.prototype.Mc=function(){return this.path.e()?new Zd(this.source,Q):new Zd(this.source,N(this.path))},Zd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},ae.prototype.Mc=function(e){return this.path.e()?(e=this.children.subtree(new E(e))).e()?null:e.value?new ce(this.source,Q,e.value):new ae(this.source,Q,e):(D(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ae(this.source,N(this.path),this.children))},ae.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},de.prototype.Mc=function(e){return this.path.e()?null!=this.Ob.value?(D(this.Ob.children.e(),"affectedTree should not have overlapping affected paths."),this):(e=this.Ob.subtree(new E(e)),new de(Q,e,this.Id)):(D(K(this.path)===e,"operationForChild called for unrelated child."),new de(N(this.path),this.Ob,this.Id))},de.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Ob+")"},ce.prototype.Mc=function(e){return this.path.e()?new ce(this.source,Q,this.Ga.Q(e)):new ce(this.source,N(this.path),this.Ga)},ce.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"};var ge=0,be=1,ee=2,$d=3;function he(e,t,n,i){this.ee=e,this.Se=t,this.Hb=n,this.Ee=i,D(!i||t,"Tagged queries must be from server.")}var fe=new he(!0,!1,null,!1),ie=new he(!1,!0,null,!1);function je(e,t,n){this.A=e,this.da=t,this.Sb=n}function ke(e){return e.da}function le(e){return e.Sb}function me(e,t){return t.e()?e.da&&!e.Sb:ne(e,K(t))}function ne(e,t){return e.da&&!e.Sb||e.A.Da(t)}function oe(e,t){this.N=e,this.Ld=t}function pe(e,t,n,i){return new oe(new je(t,n,i),e.Ld)}function qe(e){return e.N.da?e.N.j():null}function re(e){return e.Ld.da?e.Ld.j():null}function se(){}he.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Hb+")":"server"},je.prototype.j=function(){return this.A},oe.prototype.w=function(){return this.Ld},se.prototype.Te=function(){return null},se.prototype.fe=function(){return null};var te=new se;function ue(e,t,n){this.xf=e,this.Ka=t,this.yd=n}function ve(e,t){this.Sd=e,this.Df=t}function we(e){this.U=e}function De(e,t,n,i,r,o){var a,s=t.N;if(null!=i.lc(n))return t;if(n.e())D(ke(t.w()),"If change path is empty, we must have complete server data"),i=le(t.w())?(r=re(t),i.rc(r instanceof O?r:L)):i.Aa(re(t)),o=e.U.ya(t.N.j(),i,o);else{var l=K(n);if(".priority"==l)D(1==Ec(n),"Can't have a priority with additional path components"),o=s.j(),a=t.w().j(),o=null!=(i=i.ad(n,o,a))?e.U.fa(o,i):s.j();else{var u=N(n);o=null!=(i=ne(s,l)?(a=t.w().j(),null!=(i=i.ad(n,s.j(),a))?s.j().Q(l).F(u,i):s.j().Q(l)):i.qc(l,t.w()))?e.U.F(s.j(),l,i,u,r,o):s.j()}}return pe(t,o,s.da||n.e(),e.U.Na())}function ze(e,t,n,i,r,o,a,s){var l=t.w();if(a=a?e.U:e.U.Ub(),n.e())i=a.ya(l.j(),i,null);else if(a.Na()&&!l.Sb)i=l.j().F(n,i),i=a.ya(l.j(),i,null);else{var u=K(n);if(!me(l,n)&&1<Ec(n))return t;var c=N(n);i=l.j().Q(u).F(c,i),i=".priority"==u?a.fa(l.j(),i):a.F(l.j(),u,i,c,te,null)}return l=l.da||n.e(),De(e,t=new oe(t.N,new je(i,l,a.Na())),n,r,new ue(r,t,o),s)}function ye(e,t,n,i,r,o,a){var s=t.N;if(r=new ue(r,t,o),n.e())a=e.U.ya(t.N.j(),i,a),e=pe(t,a,!0,e.U.Na());else if(".priority"===(o=K(n)))a=e.U.fa(t.N.j(),i),e=pe(t,a,s.da,s.Sb);else{n=N(n);var l=s.j().Q(o);if(!n.e()){var u=r.Te(o);i=null!=u?".priority"===Oc(n)&&u.P(n.parent()).e()?u:u.F(n,i):L}e=l.Z(i)?t:pe(t,a=e.U.F(s.j(),o,i,n,r,a),s.da,e.U.Na())}return e}function Ae(i,r,o,e,a,s,l){var u=r;return Hd(e,function(e,t){var n=o.n(e);ne(r.N,K(n))&&(u=ye(i,u,n,t,a,s,l))}),Hd(e,function(e,t){var n=o.n(e);ne(r.N,K(n))||(u=ye(i,u,n,t,a,s,l))}),u}function Fe(n,e){return Hd(e,function(e,t){n=n.F(e,t)}),n}function Be(i,r,e,t,o,a,s,l){if(r.w().j().e()&&!ke(r.w()))return r;var u=r;e=e.e()?t:Ad(R,e,t);var c=r.w().j();return e.children.ha(function(e,t){if(c.Da(e)){var n=Fe(n=r.w().j().Q(e),t);u=ze(i,u,new E(e),n,o,a,s,l)}}),e.children.ha(function(e,t){var n=!ne(r.w(),e)&&null==t.value;c.Da(e)||n||(n=Fe(n=r.w().j().Q(e),t),u=ze(i,u,new E(e),n,o,a,s,l))}),u}function Ce(e,t,n,i,r,o,a){if(null!=r.lc(n))return t;var s=le(t.w()),l=t.w();if(null==i.value)return u=R,Hd(i,function(e){var t=n.n(e);me(l,t)&&(u=u.set(e,l.j().P(t)))}),Be(e,t,n,u,r,o,s,a);if(n.e()&&l.da||me(l,n))return ze(e,t,n,l.j().P(n),r,o,s,a);if(n.e()){var u=R;return l.j().O(tc,function(e,t){u=u.set(new E(e),t)}),Be(e,t,n,u,r,o,s,a)}return t}function Ge(e){this.V=e,this.g=e.m.g}function He(t,e,n,i){var r=[],o=[];return ya(e,function(e){e.type===Ie&&t.g.nd(e.qe,e.Ja)&&o.push(new S(Je,e.Ja,e.Xa))}),Ke(t,r,Le,e,i,n),Ke(t,r,Me,e,i,n),Ke(t,r,Je,o,i,n),Ke(t,r,Ie,e,i,n),Ke(t,r,Ne,e,i,n),r}function Ke(i,r,t,e,o,a){Ha(e=za(e,function(e){return e.type===t}),q(i.Ff,i)),ya(e,function(t){var n=Oe(i,t,a);ya(o,function(e){e.nf(t.type)&&r.push(e.createEvent(n,i.V))})})}function Oe(e,t,n){return"value"!==t.type&&"child_removed"!==t.type&&(t.Dd=n.Ve(t.Xa,t.Ja,e.g)),t}function Pe(e,t){var n=new Qe((i=(this.V=e).m).g),i=T(i)?new Qe(i.g):i.xa?new Re(i):new Se(i);this.hf=new we(i);var r=t.w(),o=t.N,a=n.ya(L,r.j(),null),s=i.ya(L,o.j(),null);this.Ka=new oe(new je(s,o.da,i.Na()),new je(a,r.da,n.Na())),this.Za=[],this.Jf=new Ge(e)}function Te(e){return e.V}function Ve(e,t){var n=e.Ka.N,i=[];return n.j().J()||n.j().O(H,function(e,t){i.push(new S(Me,t,e))}),n.da&&i.push(Ee(n.j())),Ue(e,i,n.j(),t)}function Ue(e,t,n,i){return He(e.Jf,t,n,i?[i]:e.Za)}function We(e,t,n,i){this.ae=t,this.Md=n,this.Dd=i,this.hd=e}function Xe(e,t,n){this.ae=e,this.error=t,this.path=n}function Ye(){this.vb=[]}function Ze(e,t){for(var n=null,i=0;i<t.length;i++){var r=t[i],o=r.Yb();null===n||o.Z(n.Yb())||(e.vb.push(n),n=null),null===n&&(n=new $e(o)),n.add(r)}n&&e.vb.push(n)}function af(e,t,n){Ze(e,n),bf(e,function(e){return e.Z(t)})}function cf(e,t,n){Ze(e,n),bf(e,function(e){return e.contains(t)||t.contains(e)})}function bf(e,t){for(var n=!0,i=0;i<e.vb.length;i++)if(r=e.vb[i])if(t(r=r.Yb())){for(var r=e.vb[i],o=0;o<r.jd.length;o++){var a=r.jd[o];if(null!==a){r.jd[o]=null;var s=a.Tb();Qb&&I("event: "+a.toString()),fc(s)}}e.vb[i]=null}else n=!1;n&&(e.vb=[])}function $e(e){this.qa=e,this.jd=[]}function Qe(e){this.g=e}function Se(e){var t;this.he=new Qe(e.g),this.g=e.g,t=e.ka?(t=ef(e),e.g.Ec(ff(e),t)):e.g.Hc(),this.Uc=t,e=e.na?(t=gf(e),e.g.Ec(hf(e),t)):e.g.Fc(),this.vc=e}function Re(e){this.sa=new Se(e),this.g=e.g,D(e.xa,"Only valid if limit has been set"),this.oa=e.oa,this.Ib=!jf(e)}function kf(e,t,n,i,r,o){var a;if(e.Ib){var s=nc(e.g);a=function(e,t){return s(t,e)}}else a=nc(e.g);D(t.Eb()==e.oa,"");var l=new C(n,i),u=e.Ib?pd(t,e.g):qd(t,e.g),c=e.sa.matches(l);if(t.Da(n)){var d=t.Q(n);for(u=r.fe(e.g,u,e.Ib);null!=u&&(u.name==n||t.Da(u.name));)u=r.fe(e.g,u,e.Ib);return r=null==u?1:a(u,l),c&&!i.e()&&0<=r?(null!=o&&df(o,new S(Ie,i,n,d)),t.T(n,i)):(null!=o&&df(o,new S(Le,d,n)),t=t.T(n,L),null!=u&&e.sa.matches(u)?(null!=o&&df(o,new S(Me,u.R,u.name)),t.T(u.name,u.R)):t)}return i.e()?t:c&&0<=a(u,l)?(null!=o&&(df(o,new S(Le,u.R,u.name)),df(o,new S(Me,i,n))),t.T(n,i).T(u.name,L)):t}function S(e,t,n,i){this.type=e,this.Ja=t,this.Xa=n,this.qe=i,this.Dd=void 0}function Ee(e){return new S(Ne,e)}ue.prototype.Te=function(e){var t=this.Ka.N;return ne(t,e)?t.j().Q(e):(t=null!=this.yd?new je(this.yd,!0,!1):this.Ka.w(),this.xf.qc(e,t))},ue.prototype.fe=function(e,t,n){var i=null!=this.yd?this.yd:re(this.Ka);return 0===(e=this.xf.Xd(i,t,1,n,e)).length?null:e[0]},we.prototype.eb=function(e,t,n,i){var r,o=new xe;if(t.type===ge)n=t.source.ee?ye(this,e,t.path,t.Ga,n,i,o):(D(t.source.Se,"Unknown source."),r=t.source.Ee||le(e.w())&&!t.path.e(),ze(this,e,t.path,t.Ga,n,i,r,o));else if(t.type===be)n=t.source.ee?Ae(this,e,t.path,t.children,n,i,o):(D(t.source.Se,"Unknown source."),r=t.source.Ee||le(e.w()),Be(this,e,t.path,t.children,n,i,r,o));else if(t.type===ee)if(t.Id)if(t=t.path,null!=n.lc(t))n=e;else{if(r=new ue(n,e,i),i=e.N.j(),t.e()||".priority"===K(t))t=ke(e.w())?n.Aa(re(e)):(t=e.w().j(),D(t instanceof O,"serverChildren would be complete if leaf node"),n.rc(t)),t=this.U.ya(i,t,o);else{var a=K(t),s=n.qc(a,e.w());null==s&&ne(e.w(),a)&&(s=i.Q(a)),(t=null!=s?this.U.F(i,a,s,N(t),r,o):e.N.j().Da(a)?this.U.F(i,a,L,N(t),r,o):i).e()&&ke(e.w())&&(i=n.Aa(re(e))).J()&&(t=this.U.ya(t,i,o))}i=ke(e.w())||null!=n.lc(Q),n=pe(e,t,i,this.U.Na())}else n=Ce(this,e,t.path,t.Ob,n,i,o);else{if(t.type!==$d)throw Mb("Unknown operation type: "+t.type);i=t.path,r=(t=e.w()).j(),a=t.da||i.e(),n=De(this,new oe(e.N,new je(r,a,t.Sb)),i,n,te,o)}return o=Na(o.fb),(t=(i=n).N).da&&(r=t.j().J()||t.j().e(),a=qe(e),(0<o.length||!e.N.da||r&&!t.j().Z(a)||!t.j().C().Z(a.C()))&&o.push(Ee(qe(i)))),new ve(n,o)},Ge.prototype.Ff=function(e,t){if(null==e.Xa||null==t.Xa)throw Mb("Should only compare child_ events.");return this.g.compare(new C(e.Xa,e.Ja),new C(t.Xa,t.Ja))},g=Pe.prototype,g.w=function(){return this.Ka.w().j()},g.hb=function(e){var t=re(this.Ka);return t&&(T(this.V.m)||!e.e()&&!t.Q(K(e)).e())?t.P(e):null},g.e=function(){return 0===this.Za.length},g.Nb=function(e){this.Za.push(e)},g.kb=function(e,t){var n=[];if(t){D(null==e,"A cancel should cancel all event registrations.");var i=this.V.path;ya(this.Za,function(e){(e=e.Me(t,i))&&n.push(e)})}if(e){for(var r=[],o=0;o<this.Za.length;++o){var a=this.Za[o];if(a.matches(e)){if(e.Xe()){r=r.concat(this.Za.slice(o+1));break}}else r.push(a)}this.Za=r}else this.Za=[];return n},g.eb=function(e,t,n){e.type===be&&null!==e.source.Hb&&(D(re(this.Ka),"We should always have a full cache before handling merges"),D(qe(this.Ka),"Missing event cache, even though we have a server cache"));var i=this.Ka;return e=this.hf.eb(i,e,t,n),t=this.hf,n=e.Sd,D(n.N.j().yc(t.U.g),"Event snap not indexed"),D(n.w().j().yc(t.U.g),"Server snap not indexed"),D(ke(e.Sd.w())||!ke(i.w()),"Once a server snap is complete, it should never go back"),this.Ka=e.Sd,Ue(this,e.Df,e.Sd.N.j(),null)},We.prototype.Yb=function(){var e=this.Md.wb();return"value"===this.hd?e.path:e.getParent().path},We.prototype.ge=function(){return this.hd},We.prototype.Tb=function(){return this.ae.Tb(this)},We.prototype.toString=function(){return this.Yb().toString()+":"+this.hd+":"+x(this.Md.be())},Xe.prototype.Yb=function(){return this.path},Xe.prototype.ge=function(){return"cancel"},Xe.prototype.Tb=function(){return this.ae.Tb(this)},Xe.prototype.toString=function(){return this.path.toString()+":cancel"},$e.prototype.add=function(e){this.jd.push(e)},$e.prototype.Yb=function(){return this.qa},g=Qe.prototype,g.F=function(e,t,n,i,r,o){return D(e.yc(this.g),"A node must be indexed if only a child is updated"),(r=e.Q(t)).P(i).Z(n.P(i))&&r.e()==n.e()?e:(null!=o&&(n.e()?e.Da(t)?df(o,new S(Le,r,t)):D(e.J(),"A child remove without an old child only makes sense on a leaf node"):r.e()?df(o,new S(Me,n,t)):df(o,new S(Ie,n,t,r))),e.J()&&n.e()?e:e.T(t,n).nb(this.g))},g.ya=function(i,n,r){return null!=r&&(i.J()||i.O(H,function(e,t){n.Da(e)||df(r,new S(Le,t,e))}),n.J()||n.O(H,function(e,t){if(i.Da(e)){var n=i.Q(e);n.Z(t)||df(r,new S(Ie,t,e,n))}else df(r,new S(Me,t,e))})),n.nb(this.g)},g.fa=function(e,t){return e.e()?L:e.fa(t)},g.Na=function(){return!1},g.Ub=function(){return this},g=Se.prototype,g.matches=function(e){return this.g.compare(this.Uc,e)<=0&&this.g.compare(e,this.vc)<=0},g.F=function(e,t,n,i,r,o){return this.matches(new C(t,n))||(n=L),this.he.F(e,t,n,i,r,o)},g.ya=function(e,t,n){t.J()&&(t=L);var i=(i=t.nb(this.g)).fa(L),r=this;return t.O(H,function(e,t){r.matches(new C(e,t))||(i=i.T(e,L))}),this.he.ya(e,i,n)},g.fa=function(e){return e},g.Na=function(){return!0},g.Ub=function(){return this.he},g=Re.prototype,g.F=function(e,t,n,i,r,o){return this.sa.matches(new C(t,n))||(n=L),e.Q(t).Z(n)?e:e.Eb()<this.oa?this.sa.Ub().F(e,t,n,i,r,o):kf(this,e,t,n,r,o)},g.ya=function(e,t,n){var i;if(t.J()||t.e())i=L.nb(this.g);else if(2*this.oa<t.Eb()&&t.yc(this.g)){i=L.nb(this.g),t=this.Ib?t.Zb(this.sa.vc,this.g):t.Xb(this.sa.Uc,this.g);for(var r=0;0<t.Pa.length&&r<this.oa;){var o=M(t);if(!(this.Ib?this.g.compare(this.sa.Uc,o)<=0:this.g.compare(o,this.sa.vc)<=0))break;i=i.T(o.name,o.R),r++}}else{var a,s,l;if(i=(i=t.nb(this.g)).fa(L),this.Ib){t=i.We(this.g),a=this.sa.vc,s=this.sa.Uc;var u=nc(this.g);l=function(e,t){return u(t,e)}}else t=i.Wb(this.g),a=this.sa.Uc,s=this.sa.vc,l=nc(this.g);r=0;for(var c=!1;0<t.Pa.length;)o=M(t),!c&&l(a,o)<=0&&(c=!0),c&&r<this.oa&&l(o,s)<=0?r++:i=i.T(o.name,L)}return this.sa.Ub().ya(e,i,n)},g.fa=function(e){return e},g.Na=function(){return!0},g.Ub=function(){return this.sa.Ub()};var Me="child_added",Le="child_removed",Ie="child_changed",Je="child_moved",Ne="value";function xe(){this.fb={}}function df(e,t){var n=t.type,i=t.Xa;D(n==Me||n==Ie||n==Le,"Only child changes supported for tracking"),D(".priority"!==i,"Only non-priority child changes can be tracked.");var r=w(e.fb,i);if(r){var o=r.type;if(n==Me&&o==Le)e.fb[i]=new S(Ie,t.Ja,i,r.Ja);else if(n==Le&&o==Me)delete e.fb[i];else if(n==Le&&o==Ie)e.fb[i]=new S(Le,r.qe,i);else if(n==Ie&&o==Me)e.fb[i]=new S(Me,t.Ja,i);else{if(n!=Ie||o!=Ie)throw Mb("Illegal combination of changes: "+t+" occurred after "+r);e.fb[i]=new S(Ie,t.Ja,i,r.qe)}}else e.fb[i]=t}function lf(){this.Rb=this.na=this.Kb=this.ka=this.xa=!1,this.oa=0,this.mb="",this.dc=null,this.zb="",this.ac=null,this.xb="",this.g=H}var mf=new lf;function jf(e){return""===e.mb?e.ka:"l"===e.mb}function ff(e){return D(e.ka,"Only valid if start has been set"),e.dc}function ef(e){return D(e.ka,"Only valid if start has been set"),e.Kb?e.zb:"[MIN_NAME]"}function hf(e){return D(e.na,"Only valid if end has been set"),e.ac}function gf(e){return D(e.na,"Only valid if end has been set"),e.Rb?e.xb:"[MAX_NAME]"}function nf(e){var t=new lf;return t.xa=e.xa,t.oa=e.oa,t.ka=e.ka,t.dc=e.dc,t.Kb=e.Kb,t.zb=e.zb,t.na=e.na,t.ac=e.ac,t.Rb=e.Rb,t.xb=e.xb,t.g=e.g,t.mb=e.mb,t}function of(e,t){var n=nf(e);return n.g=t,n}function pf(e){var t={};if(e.ka&&(t.sp=e.dc,e.Kb&&(t.sn=e.zb)),e.na&&(t.ep=e.ac,e.Rb&&(t.en=e.xb)),e.xa){t.l=e.oa;var n=e.mb;""===n&&(n=jf(e)?"l":"r"),t.vf=n}return e.g!==H&&(t.i=e.g.toString()),t}function T(e){return!(e.ka||e.na||e.xa)}function qf(e){return T(e)&&e.g==H}function rf(e){var t,n={};return qf(e)||(t=e.g===H?"$priority":e.g===wc?"$value":e.g===tc?"$key":(D(e.g instanceof pc,"Unrecognized index type!"),e.g.toString()),n.orderBy=x(t),e.ka&&(n.startAt=x(e.dc),e.Kb&&(n.startAt+=","+x(e.zb))),e.na&&(n.endAt=x(e.ac),e.Rb&&(n.endAt+=","+x(e.xb))),e.xa&&(jf(e)?n.limitToFirst=e.oa:n.limitToLast=e.oa)),n}function sf(e){this.W=e}g=lf.prototype,g.ne=function(e){var t=nf(this);return t.xa=!0,t.oa=e,t.mb="l",t},g.oe=function(e){var t=nf(this);return t.xa=!0,t.oa=e,t.mb="r",t},g.Nd=function(e,t){var i=nf(this);return i.ka=!0,n(e)||(e=null),i.dc=e,null!=t?(i.Kb=!0,i.zb=t):(i.Kb=!1,i.zb=""),i},g.gd=function(e,t){var i=nf(this);return i.na=!0,n(e)||(e=null),i.ac=e,n(t)?(i.Rb=!0,i.xb=t):(i.vg=!1,i.xb=""),i},g.toString=function(){return x(pf(this))};var tf=new sf(new vd(null));function uf(e,t,n){if(t.e())return new sf(new vd(n));if(null==(r=zd(e.W,t)))return new sf(e=Ad(e.W,t,new vd(n)));var i=r.path,r=r.value;return t=P(i,t),r=r.F(t,n),new sf(e.W.set(i,r))}function vf(e,n,t){var i=e;return fb(t,function(e,t){i=uf(i,n.n(e),t)}),i}function wf(e,t){var n=zd(e.W,t);return null!=n?e.W.get(n.path).P(P(n.path,t)):null}function xf(e){var n=[],t=e.W.value;return null!=t?t.J()||t.O(H,function(e,t){n.push(new C(e,t))}):e.W.children.ha(function(e,t){null!=t.value&&n.push(new C(e,t.value))}),n}function yf(e,t){if(t.e())return e;var n=wf(e,t);return new sf(null!=n?new vd(n):e.W.subtree(t))}function zf(n,e,i){if(null!=e.value)return i.F(n,e.value);var r=null;return e.children.ha(function(e,t){".priority"===e?(D(null!==t.value,"Priority writes must always be leaf nodes"),r=t.value):i=zf(n.n(e),t,i)}),i.P(n).e()||null===r||(i=i.F(n.n(".priority"),r)),i}function Af(){this.Jd=L}function Bf(e){this.oc=e}function Cf(e,t){e.oc.INTERNAL.addAuthTokenListener(t)}function Df(){this.S=tf,this.la=[],this.Bc=-1}function Ef(e,t){for(var n=0;n<e.la.length;n++){var i=e.la[n];if(i.Zc===t)return i}return null}function Ff(n,i){return n.Ga?n.path.contains(i):!!Qa(n.children,function(e,t){return n.path.n(t).contains(i)})}function Hf(e){return e.visible}function Gf(e,t,n){for(var i=tf,r=0;r<e.length;++r){var o=e[r];if(t(o)){var a=o.path;if(o.Ga)n.contains(a)?i=uf(i,a=P(n,a),o.Ga):a.contains(n)&&(a=P(a,n),i=uf(i,Q,o.Ga.P(a)));else{if(!o.children)throw Mb("WriteRecord should have .snap or .children");n.contains(a)?i=vf(i,a=P(n,a),o.children):a.contains(n)&&((a=P(a,n)).e()?i=vf(i,Q,o.children):(o=w(o.children,K(a)))&&(o=o.P(N(a)),i=uf(i,Q,o)))}}}return i}function If(e,t){this.Lb=e,this.W=t}function Jf(e,t){this.rf={},this.Vc=new Kf(e),this.va=t;var n=1e4+2e4*Math.random();hc(q(this.lf,this),Math.floor(n))}function Lf(){this.tc={}}function Mf(e,t,i){n(i)||(i=1),eb(e.tc,t)||(e.tc[t]=0),e.tc[t]+=i}function Kf(e){this.Ef=e,this.rd=null}sf.prototype.Ed=function(e){return e.e()?tf:new sf(e=Ad(this.W,e,R))},sf.prototype.e=function(){return this.W.e()},sf.prototype.apply=function(e){return zf(Q,this.W,e)},Af.prototype.j=function(e){return this.Jd.P(e)},Af.prototype.toString=function(){return this.Jd.toString()},Bf.prototype.getToken=function(e){return this.oc.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},g=Df.prototype,g.Ed=function(t){var e=Ea(this.la,function(e){return e.Zc===t});D(0<=e,"removeWrite called with nonexistent writeId.");var n=this.la[e];this.la.splice(e,1);for(var i=n.visible,r=!1,o=this.la.length-1;i&&0<=o;){var a=this.la[o];a.visible&&(e<=o&&Ff(a,n.path)?i=!1:n.path.contains(a.path)&&(r=!0)),o--}if(i){if(r)this.S=Gf(this.la,Hf,Q),this.Bc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(n.Ga)this.S=this.S.Ed(n.path);else{var s=this;v(n.children,function(e,t){s.S=s.S.Ed(n.path.n(t))})}return!0}return!1},g.Aa=function(t,e,n,i){if(n||i){var r=yf(this.S,t);return!i&&r.e()?e:i||null!=e||null!=wf(r,Q)?(r=Gf(this.la,function(e){return(e.visible||i)&&(!n||!(0<=xa(n,e.Zc)))&&(e.path.contains(t)||t.contains(e.path))},t),e=e||L,r.apply(e)):null}return null!=(r=wf(this.S,t))?r:(r=yf(this.S,t)).e()?e:null!=e||null!=wf(r,Q)?(e=e||L,r.apply(e)):null},g.rc=function(e,t){var i=L,n=wf(this.S,e);if(n)n.J()||n.O(H,function(e,t){i=i.T(e,t)});else if(t){var r=yf(this.S,e);t.O(H,function(e,t){var n=yf(r,new E(e)).apply(t);i=i.T(e,n)}),ya(xf(r),function(e){i=i.T(e.name,e.R)})}else r=yf(this.S,e),ya(xf(r),function(e){i=i.T(e.name,e.R)});return i},g.ad=function(e,t,n,i){return D(n||i,"Either existingEventSnap or existingServerSnap must exist"),e=e.n(t),null!=wf(this.S,e)?null:(e=yf(this.S,e)).e()?i.P(t):e.apply(i.P(t))},g.qc=function(e,t,n){e=e.n(t);var i=wf(this.S,e);return null!=i?i:ne(n,t)?yf(this.S,e).apply(n.j().Q(t)):null},g.lc=function(e){return wf(this.S,e)},g.Xd=function(e,t,n,i,r,o){var a;if(null==(a=wf(e=yf(this.S,e),Q))){if(null==t)return[];a=e.apply(t)}if((a=a.nb(o)).e()||a.J())return[];for(t=[],e=nc(o),o=M(r=r?a.Zb(n,o):a.Xb(n,o));o&&t.length<i;)0!==e(o,n)&&t.push(o),o=M(r);return t},g=If.prototype,g.Aa=function(e,t,n){return this.W.Aa(this.Lb,e,t,n)},g.rc=function(e){return this.W.rc(this.Lb,e)},g.ad=function(e,t,n){return this.W.ad(this.Lb,e,t,n)},g.lc=function(e){return this.W.lc(this.Lb.n(e))},g.Xd=function(e,t,n,i,r){return this.W.Xd(this.Lb,e,t,n,i,r)},g.qc=function(e,t){return this.W.qc(this.Lb,e,t)},g.n=function(e){return new If(this.Lb.n(e),this.W)},Jf.prototype.lf=function(){var e,t=this.Vc.get(),n={},i=!1;for(e in t)0<t[e]&&eb(this.rf,e)&&(n[e]=t[e],i=!0);i&&this.va.ye(n),hc(q(this.lf,this),Math.floor(6e5*Math.random()))},Lf.prototype.get=function(){return Ta(this.tc)},Kf.prototype.get=function(){var e=this.Ef.get(),t=Ta(e);if(this.rd)for(var n in this.rd)t[n]-=this.rd[n];return this.rd=e,t};var Nf={},Of={};function Pf(e){return e=e.toString(),Nf[e]||(Nf[e]=new Lf),Nf[e]}function Qf(e,t){var n=e.toString();return Of[n]||(Of[n]=t()),Of[n]}function Rf(e,t,n){this.f=Tb("p:rest:"),this.L=e,this.Gb=t,this.$c=n,this.$={}}function Sf(e,t){return n(t)?"tag$"+t:(D(qf(e.m),"should have a tag if it's not a default query."),e.path.toString())}function Tf(i,r,o,a){(o=o||{}).format="export",i.$c.getToken(!1).then(function(e){(e=e&&e.accessToken)&&(o.auth=e);var t=(i.L.Sc?"https://":"http://")+i.L.host+r+"?"+gb(o);i.f("Sending REST request for "+t);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(a&&4===n.readyState){i.f("REST Response for "+t+" received. status:",n.status,"response:",n.responseText);var e=null;if(200<=n.status&&n.status<300){try{e=lb(n.responseText)}catch(e){J("Failed to parse JSON response for "+t+": "+n.responseText)}a(null,e)}else 401!==n.status&&404!==n.status&&J("Got unsuccessful REST response for "+t+" Status: "+n.status),a(n.status);a=null}},n.open("GET",t,!0),n.send()})}function Uf(e){this.te=e,this.Bd=[],this.Qb=0,this.Yd=-1,this.Fb=null}function Vf(e,t,n){e.Yd=t,e.Fb=n,e.Yd<e.Qb&&(e.Fb(),e.Fb=null)}function Wf(e,t,n){for(e.Bd[t]=n;e.Bd[e.Qb];){var i=e.Bd[e.Qb];delete e.Bd[e.Qb];for(var r=0;r<i.length;++r)if(i[r]){var o=e;fc(function(){o.te(i[r])})}if(e.Qb===e.Yd){e.Fb&&(clearTimeout(e.Fb),e.Fb(),e.Fb=null);break}e.Qb++}}g=Rf.prototype,g.$e=function(e,t,i,r){var o=e.path.toString();this.f("Listen called for "+o+" "+e.ja());var a=Sf(e,i),s={};this.$[a]=s,e=rf(e.m);var l=this;Tf(this,o+".json",e,function(e,t){var n=t;404===e&&(e=n=null),null===e&&l.Gb(o,n,!1,i),w(l.$,a)===s&&r(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},g.uf=function(e,t){var n=Sf(e,t);delete this.$[n]},g.kf=function(){},g.re=function(){},g.cf=function(){},g.xd=function(){},g.put=function(){},g.af=function(){},g.ye=function(){};var Cb="websocket",Db="long_polling",Xf=null,Zf,dg,eg;function Yf(e,t,n,i){this.Zd=e,this.f=Tb(this.Zd),this.frames=this.zc=null,this.pb=this.qb=this.Fe=0,this.Va=Pf(t),e={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),n&&(e.s=n),i&&(e.ls=i),this.Ke=Bb(t,Cb,e)}function ag(e,t){if(e.frames.push(t),e.frames.length==e.Fe){var n=e.frames.join("");e.frames=null,n=lb(n),e.Xf(n)}}function $f(e){clearInterval(e.zc),e.zc=setInterval(function(){e.Ia&&bg(e,"0"),$f(e)},Math.floor(45e3))}function bg(e,t){try{e.Ia.send(t)}catch(t){e.f("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(q(e.bb,e),0)}}function cg(e,t,n,i){this.Zd=e,this.f=Tb(e),this.jc=t,this.pb=this.qb=0,this.Va=Pf(t),this.tf=n,this.wc=!1,this.Cb=i,this.Yc=function(e){return Bb(t,Db,e)}}function gg(e,t){var n=x(t).length;e.pb+=n,Mf(e.Va,"bytes_received",n)}function fg(e,t,n,i){if(this.Yc=i,this.ib=n,this.ve=new Gc,this.Qc=[],this.$d=Math.floor(1e8*Math.random()),this.Kd=!0,this.Qd=Lb(),window["pLPCommand"+this.Qd]=e,window["pRTLPCB"+this.Qd]=t,(e=document.createElement("iframe")).style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||I("No IE domain setting required")}catch(t){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}e.contentDocument?e.gb=e.contentDocument:e.contentWindow?e.gb=e.contentWindow.document:e.document&&(e.gb=e.document),this.Ea=e,e="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";<\/script>'),e="<html><body>"+e+"</body></html>";try{this.Ea.gb.open(),this.Ea.gb.write(e),this.Ea.gb.close()}catch(t){I("frame writing exception"),t.stack&&I(t.stack),I(t)}}function ig(e){if(e.Ud&&e.Kd&&e.ve.count()<(0<e.Qc.length?2:1)){e.$d++,(t={}).id=e.Vf,t.pw=e.Wf,t.ser=e.$d;for(var t=e.Yc(t),n="",i=0;0<e.Qc.length&&e.Qc[0].Pe.length+30+n.length<=1870;){var r=e.Qc.shift();n=n+"&seg"+i+"="+r.jg+"&ts"+i+"="+r.pg+"&d"+i+"="+r.Pe,i++}return jg(e,t+n,e.$d),!0}return!1}function jg(e,t,n){function i(){e.ve.remove(n),ig(e)}e.ve.add(n,1);var r=setTimeout(i,Math.floor(25e3));hg(e,t,function(){clearTimeout(r),i()})}function hg(e,n,i){setTimeout(function(){try{if(e.Kd){var t=e.Ea.gb.createElement("script");t.type="text/javascript",t.async=!0,t.src=n,t.onload=t.onreadystatechange=function(){var e=t.readyState;e&&"loaded"!==e&&"complete"!==e||(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),i())},t.onerror=function(){I("Long-poll script failed to load: "+n),e.Kd=!1,e.close()},e.Ea.gb.body.appendChild(t)}}catch(e){}},Math.floor(1))}function kg(e){lg(this,e)}"undefined"!=typeof MozWebSocket?Xf=MozWebSocket:"undefined"!=typeof WebSocket&&(Xf=WebSocket),Yf.prototype.open=function(e,t){this.ib=t,this.Xf=e,this.f("Websocket connecting to "+this.Ke),this.wc=!1,xb.set("previous_websocket_failure",!0);try{this.Ia=new Xf(this.Ke)}catch(e){this.f("Error instantiating WebSocket.");var n=e.message||e.data;return n&&this.f(n),void this.bb()}var i=this;this.Ia.onopen=function(){i.f("Websocket connected."),i.wc=!0},this.Ia.onclose=function(){i.f("Websocket connection was disconnected."),i.Ia=null,i.bb()},this.Ia.onmessage=function(e){if(null!==i.Ia)if(e=e.data,i.pb+=e.length,Mf(i.Va,"bytes_received",e.length),$f(i),null!==i.frames)ag(i,e);else{e:{if(D(null===i.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t)){i.Fe=t,i.frames=[],e=null;break e}}i.Fe=1,i.frames=[]}null!==e&&ag(i,e)}},this.Ia.onerror=function(e){i.f("WebSocket error.  Closing connection."),(e=e.message||e.data)&&i.f(e),i.bb()}},Yf.prototype.start=function(){},Yf.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&parseFloat(t[1])<4.4&&(e=!0)}return!e&&null!==Xf&&!Zf},Yf.responsesRequiredToBeHealthy=2,Yf.healthyTimeout=3e4,g=Yf.prototype,g.sd=function(){xb.remove("previous_websocket_failure")},g.send=function(e){$f(this),e=x(e),this.qb+=e.length,Mf(this.Va,"bytes_sent",e.length),1<(e=bc(e,16384)).length&&bg(this,String(e.length));for(var t=0;t<e.length;t++)bg(this,e[t])},g.Tc=function(){this.Ab=!0,this.zc&&(clearInterval(this.zc),this.zc=null),this.Ia&&(this.Ia.close(),this.Ia=null)},g.bb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.Tc(),this.ib&&(this.ib(this.wc),this.ib=null))},g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.Tc())},cg.prototype.open=function(e,t){this.Ne=0,this.ia=t,this.bf=new Uf(e),this.Ab=!1;var o=this;this.sb=setTimeout(function(){o.f("Timed out trying to connect."),o.bb(),o.sb=null},Math.floor(3e4)),Yb(function(){if(!o.Ab){o.Ta=new fg(function(e,t,n,i,r){if(gg(o,arguments),o.Ta)if(o.sb&&(clearTimeout(o.sb),o.sb=null),o.wc=!0,"start"==e)o.id=t,o.ff=n;else{if("close"!==e)throw Error("Unrecognized command received: "+e);t?(o.Ta.Kd=!1,Vf(o.bf,t,function(){o.bb()})):o.bb()}},function(e,t){gg(o,arguments),Wf(o.bf,e,t)},function(){o.bb()},o.Yc);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),o.Ta.Qd&&(e.cb=o.Ta.Qd),e.v="5",o.tf&&(e.s=o.tf),o.Cb&&(e.ls=o.Cb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),e=o.Yc(e),o.f("Connecting via long-poll to "+e),hg(o.Ta,e,function(){})}})},cg.prototype.start=function(){var e=this.Ta,t=this.ff;for(e.Vf=this.id,e.Wf=t,e.Ud=!0;ig(e););e=this.id,t=this.ff,this.fc=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.fc.src=this.Yc(n),this.fc.style.display="none",document.body.appendChild(this.fc)},cg.isAvailable=function(){return dg||!eg&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.rg)&&!0},g=cg.prototype,g.sd=function(){},g.Tc=function(){this.Ab=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.sb&&(clearTimeout(this.sb),this.sb=null)},g.bb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.Tc(),this.ia&&(this.ia(this.wc),this.ia=null))},g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.Tc())},g.send=function(e){e=x(e),this.qb+=e.length,Mf(this.Va,"bytes_sent",e.length),e=bc(e=ab(e=mb(e),!0),1840);for(var t=0;t<e.length;t++){var n=this.Ta;n.Qc.push({jg:this.Ne,pg:e.length,Pe:e[t]}),n.Ud&&ig(n),this.Ne++}},fg.prototype.close=function(){if(this.Ud=!1,this.Ea){this.Ea.gb.body.innerHTML="";var e=this;setTimeout(function(){null!==e.Ea&&(document.body.removeChild(e.Ea),e.Ea=null)},Math.floor(0))}var t=this.ib;t&&(this.ib=null,t())};var mg=[cg,Yf];function lg(e,t){var n=Yf&&Yf.isAvailable(),i=n&&!(xb.Ze||!0===xb.get("previous_websocket_failure"));if(t.qg&&(n||J("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)e.Wc=[Yf];else{var r=e.Wc=[];cc(mg,function(e,t){t&&t.isAvailable()&&r.push(t)})}}function ng(e){if(0<e.Wc.length)return e.Wc[0];throw Error("No transports available")}function og(e,t,n,i,r,o,a){this.id=e,this.f=Tb("c:"+this.id+":"),this.te=n,this.Lc=i,this.ia=r,this.se=o,this.L=t,this.Ad=[],this.Le=0,this.sf=new kg(t),this.Ua=0,this.Cb=a,this.f("Connection created"),pg(this)}function pg(e){var t=ng(e.sf);e.I=new t("c:"+e.id+":"+e.Le++,e.L,void 0,e.Cb),e.xe=t.responsesRequiredToBeHealthy||0;var n=qg(e,e.I),i=rg(e,e.I);e.Xc=e.I,e.Rc=e.I,e.D=null,e.Bb=!1,setTimeout(function(){e.I&&e.I.open(n,i)},Math.floor(0)),0<(t=t.healthyTimeout||0)&&(e.md=hc(function(){e.md=null,e.Bb||(e.I&&102400<e.I.pb?(e.f("Connection exceeded healthy timeout but has received "+e.I.pb+" bytes.  Marking connection healthy."),e.Bb=!0,e.I.sd()):e.I&&10240<e.I.qb?e.f("Connection exceeded healthy timeout but has sent "+e.I.qb+" bytes.  Leaving connection alive."):(e.f("Closing unhealthy connection after timeout."),e.close()))},Math.floor(t)))}function rg(t,n){return function(e){n===t.I?(t.I=null,e||0!==t.Ua?1===t.Ua&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.L.$a.substr(0,2)&&(xb.remove("host:"+t.L.host),t.L.$a=t.L.host)),t.close()):n===t.D?(t.f("Secondary connection lost."),e=t.D,t.D=null,t.Xc!==e&&t.Rc!==e||t.close()):t.f("closing an old connection")}}function qg(r,o){return function(e){if(2!=r.Ua)if(o===r.Rc){var t=$b("t",e);if(e=$b("d",e),"c"==t){if(t=$b("t",e),"d"in e)if(e=e.d,"h"===t){t=e.ts;var n=e.v,i=e.h;r.qf=e.s,Ab(r.L,i),0==r.Ua&&(r.I.start(),sg(r,r.I,t),"5"!==n&&J("Protocol version mismatch detected"),(e=1<(e=r.sf).Wc.length?e.Wc[1]:null)&&tg(r,e))}else if("n"===t){for(r.f("recvd end transmission on primary"),r.Rc=r.D,e=0;e<r.Ad.length;++e)r.wd(r.Ad[e]);r.Ad=[],ug(r)}else"s"===t?(r.f("Connection shutdown command received. Shutting down..."),r.se&&(r.se(e),r.se=null),r.ia=null,r.close()):"r"===t?(r.f("Reset packet received.  New host: "+e),Ab(r.L,e),1===r.Ua?r.close():(vg(r),pg(r))):"e"===t?Ub("Server Error: "+e):"o"===t?(r.f("got pong on primary."),wg(r),xg(r)):Ub("Unknown control packet command: "+t)}else"d"==t&&r.wd(e)}else if(o===r.D)if(t=$b("t",e),e=$b("d",e),"c"==t)"t"in e&&("a"===(e=e.t)?yg(r):"r"===e?(r.f("Got a reset on secondary, closing it"),r.D.close(),r.Xc!==r.D&&r.Rc!==r.D||r.close()):"o"===e&&(r.f("got pong on secondary."),r.pf--,yg(r)));else{if("d"!=t)throw Error("Unknown protocol layer: "+t);r.Ad.push(e)}else r.f("message on old connection")}}function ug(e){e.Xc===e.D&&e.Rc===e.D&&(e.f("cleaning up and promoting a connection: "+e.D.Zd),e.I=e.D,e.D=null)}function yg(e){e.pf<=0?(e.f("Secondary connection is healthy."),e.Bb=!0,e.D.sd(),e.D.start(),e.f("sending client ack on secondary"),e.D.send({t:"c",d:{t:"a",d:{}}}),e.f("Ending transmission on primary"),e.I.send({t:"c",d:{t:"n",d:{}}}),e.Xc=e.D,ug(e)):(e.f("sending ping on secondary."),e.D.send({t:"c",d:{t:"p",d:{}}}))}function wg(e){e.Bb||(e.xe--,e.xe<=0&&(e.f("Primary connection is healthy."),e.Bb=!0,e.I.sd()))}function tg(e,t){e.D=new t("c:"+e.id+":"+e.Le++,e.L,e.qf),e.pf=t.responsesRequiredToBeHealthy||0,e.D.open(qg(e,e.D),rg(e,e.D)),hc(function(){e.D&&(e.f("Timed out trying to upgrade."),e.D.close())},Math.floor(6e4))}function sg(e,t,n){e.f("Realtime connection established."),e.I=t,e.Ua=1,e.Lc&&(e.Lc(n,e.qf),e.Lc=null),0===e.xe?(e.f("Primary connection is healthy."),e.Bb=!0):hc(function(){xg(e)},Math.floor(5e3))}function xg(e){e.Bb||1!==e.Ua||(e.f("sending ping on primary."),zg(e,{t:"c",d:{t:"p",d:{}}}))}function zg(e,t){if(1!==e.Ua)throw"Connection is not connected";e.Xc.send(t)}function vg(e){e.f("Shutting down all connections"),e.I&&(e.I.close(),e.I=null),e.D&&(e.D.close(),e.D=null),e.md&&(clearTimeout(e.md),e.md=null)}function Ag(e,t,n,i,r,o){if(this.id=Bg++,this.f=Tb("p:"+this.id+":"),this.qd={},this.$={},this.pa=[],this.Oc=0,this.Kc=[],this.ma=!1,this.Sa=1e3,this.td=3e5,this.Gb=t,this.Jc=n,this.ue=i,this.L=e,this.ob=this.Fa=this.Cb=this.ze=null,this.$c=r,this.de=!1,this.ke=0,o)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Vd=o,this.ub=null,this.Mb=!1,this.Gd={},this.ig=0,this.Re=!0,this.Ac=this.me=null,Cg(this,0),Mc.Vb().gc("visible",this.Zf,this),-1===e.host.indexOf("fblocal")&&Lc.Vb().gc("online",this.Yf,this)}og.prototype.ua=function(e){zg(this,{t:"d",d:e})},og.prototype.wd=function(e){wg(this),this.te(e)},og.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,vg(this),this.ia&&(this.ia(),this.ia=null))};var Bg=0,Dg=0;function Eg(r,o){var a=o.eg,s=a.path.toString(),l=a.ja();r.f("Listen on "+s+" for "+l);var e={p:s};o.tag&&(e.q=pf(a.m),e.t=o.tag),e.h=o.ld(),r.ua("q",e,function(e){var t=e.d,n=e.s;if(t&&"object"==typeof t&&eb(t,"w")){var i=w(t,"w");ea(i)&&0<=xa(i,"no_index")&&J('Using an unspecified index. Consider adding ".indexOn": "'+a.m.g.toString()+'" at '+a.path.toString()+" to your security rules for better performance")}(r.$[s]&&r.$[s][l])===o&&(r.f("listen response",e),"ok"!==n&&Fg(r,s,l),o.G&&o.G(n,t))})}function Gg(n){if(n.ma&&n.ob){var i=n.ob,e=jc(i)?"auth":"gauth",t={cred:i};null===n.Vd?t.noauth=!0:"object"==typeof n.Vd&&(t.authvar=n.Vd),n.ua(e,t,function(e){var t=e.s;e=e.d||"error",n.ob===i&&("ok"===t?n.ke=0:Hg(n,t,e))})}}function Ig(e,t,n,i,r){n={p:n,d:i},e.f("onDisconnect "+t,n),e.ua(t,n,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})}function Jg(e,t,i,r,o,a){r={p:i,d:r},n(a)&&(r.h=a),e.pa.push({action:t,mf:r,G:o}),e.Oc++,t=e.pa.length-1,e.ma?Kg(e,t):e.f("Buffering put: "+i)}function Kg(t,n){var i=t.pa[n].action,e=t.pa[n].mf,r=t.pa[n].G;t.pa[n].fg=t.ma,t.ua(i,e,function(e){t.f(i+" response",e),delete t.pa[n],t.Oc--,0===t.Oc&&(t.pa=[]),r&&r(e.s,e.d)})}function Cg(e,t){D(!e.Fa,"Scheduling a connect when we're already connected/ing?"),e.ub&&clearTimeout(e.ub),e.ub=setTimeout(function(){e.ub=null,Ng(e)},Math.floor(t))}function Ng(t){if(Og(t)){t.f("Making a connection attempt"),t.me=(new Date).getTime(),t.Ac=null;var n=q(t.wd,t),i=q(t.Lc,t),r=q(t.df,t),o=t.id+":"+Dg++,a=t.Cb,s=!1,l=null,u=function(){l?l.close():(s=!0,r())};t.Fa={close:u,ua:function(e){D(l,"sendRequest call when we're not connected not allowed."),l.ua(e)}};var e=t.de;t.de=!1,t.$c.getToken(e).then(function(e){s?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),t.ob=e&&e.accessToken,l=new og(o,t.L,n,i,r,function(e){J(e+" ("+t.L.toString()+")"),t.ab("server_kill")},a))}).then(null,function(e){t.f("Failed to get token: "+e),s||u()})}}function Lg(e,t,n){(e=Fg(e,t,n=n?Aa(n,function(e){return ac(e)}).join("$"):"default"))&&e.G&&e.G("permission_denied")}function Fg(e,t,i){var r;return t=new E(t).toString(),n(e.$[t])?(r=e.$[t][i],delete e.$[t][i],0===La(e.$[t])&&delete e.$[t]):r=void 0,r}function Hg(e,t,n){I("Auth token revoked: "+t+"/"+n),e.ob=null,e.de=!0,e.Fa.close(),"invalid_token"!==t&&"permission_denied"!==t||(e.ke++,3<=e.ke&&(e.Sa=3e4,t='Provided authentication credentials for the app named "'+(e=e.$c).oc.name+'" are invalid. This usually indicates your app was not initialized correctly. ',J(t="credential"in e.oc.options?t+'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in e.oc.options?t+'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')))}function Mg(t){Gg(t),v(t.$,function(e){v(e,function(e){Eg(t,e)})});for(var e=0;e<t.pa.length;e++)t.pa[e]&&Kg(t,e);for(;t.Kc.length;)e=t.Kc.shift(),Ig(t,e.action,e.we,e.data,e.G)}function Og(e){var t;return t=Lc.Vb().hc,Sa(e.qd)&&t}function Pg(e){e instanceof Qg||Vb("Don't call new Database() directly - please use firebase.database()."),this.ta=e,this.ba=new U(e,Q),this.INTERNAL=new Rg(this)}g=Ag.prototype,g.ua=function(e,t,n){var i=++this.ig;e={r:i,a:e,b:t},this.f(x(e)),D(this.ma,"sendRequest call when we're not connected not allowed."),this.Fa.ua(e),n&&(this.Gd[i]=n)},g.$e=function(e,t,n,i){var r=e.ja(),o=e.path.toString();this.f("Listen called for "+o+" "+r),this.$[o]=this.$[o]||{},D(qf(e.m)||!T(e.m),"listen() called for non-default but complete query"),D(!this.$[o][r],"listen() called twice for same path/queryId."),e={G:i,ld:t,eg:e,tag:n},this.$[o][r]=e,this.ma&&Eg(this,e)},g.kf=function(e){this.ob=e,this.f("Auth token refreshed"),this.ob?Gg(this):this.ma&&this.ua("unauth",{},function(){}),(e&&40===e.length||kc(e))&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3e4)},g.uf=function(e,t){var n=e.path.toString(),i=e.ja();if(this.f("Unlisten called for "+n+" "+i),D(qf(e.m)||!T(e.m),"unlisten() called for non-default but complete query"),Fg(this,n,i)&&this.ma){var r=pf(e.m);this.f("Unlisten on "+n+" for "+i),n={p:n},t&&(n.q=r,n.t=t),this.ua("n",n)}},g.re=function(e,t,n){this.ma?Ig(this,"o",e,t,n):this.Kc.push({we:e,action:"o",data:t,G:n})},g.cf=function(e,t,n){this.ma?Ig(this,"om",e,t,n):this.Kc.push({we:e,action:"om",data:t,G:n})},g.xd=function(e,t){this.ma?Ig(this,"oc",e,null,t):this.Kc.push({we:e,action:"oc",data:null,G:t})},g.put=function(e,t,n,i){Jg(this,"p",e,t,n,i)},g.af=function(e,t,n,i){Jg(this,"m",e,t,n,i)},g.ye=function(e){this.ma&&(e={c:e},this.f("reportStats",e),this.ua("s",e,function(e){"ok"!==e.s&&this.f("reportStats","Error sending stats: "+e.d)}))},g.wd=function(e){if("r"in e){this.f("from server: "+x(e));var t=e.r,n=this.Gd[t];n&&(delete this.Gd[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&(t=e.a,e=e.b,this.f("handleServerMessage",t,e),"d"===t?this.Gb(e.p,e.d,!1,e.t):"m"===t?this.Gb(e.p,e.d,!0,e.t):"c"===t?Lg(this,e.p,e.q):"ac"===t?Hg(this,e.s,e.d):"sd"===t?this.ze?this.ze(e):"msg"in e&&"undefined"!=typeof console&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: ")):Ub("Unrecognized action received from server: "+x(t)+"\nAre you using the latest client?"))}},g.Lc=function(e,t){if(this.f("connection ready"),this.ma=!0,this.Ac=(new Date).getTime(),this.ue({serverTimeOffset:e-(new Date).getTime()}),this.Cb=t,this.Re){var n={};n["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1,pb()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.ye(n)}Mg(this),this.Re=!1,this.Jc(!0)},g.Zf=function(e){e&&!this.Mb&&this.Sa===this.td&&(this.f("Window became visible.  Reducing delay."),this.Sa=1e3,this.Fa||Cg(this,0)),this.Mb=e},g.Yf=function(e){e?(this.f("Browser went online."),this.Sa=1e3,this.Fa||Cg(this,0)):(this.f("Browser went offline.  Killing connection."),this.Fa&&this.Fa.close())},g.df=function(){this.f("data client disconnected"),this.ma=!1,this.Fa=null;for(var e=0;e<this.pa.length;e++){var t=this.pa[e];t&&"h"in t.mf&&t.fg&&(t.G&&t.G("disconnect"),delete this.pa[e],this.Oc--)}0===this.Oc&&(this.pa=[]),this.Gd={},Og(this)&&(this.Mb?this.Ac&&(3e4<(new Date).getTime()-this.Ac&&(this.Sa=1e3),this.Ac=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Sa=this.td,this.me=(new Date).getTime()),e=Math.max(0,this.Sa-((new Date).getTime()-this.me)),e*=Math.random(),this.f("Trying to reconnect in "+e+"ms"),Cg(this,e),this.Sa=Math.min(this.td,1.3*this.Sa)),this.Jc(!1)},g.ab=function(e){I("Interrupting connection for reason: "+e),this.qd[e]=!0,this.Fa?this.Fa.close():(this.ub&&(clearTimeout(this.ub),this.ub=null),this.ma&&this.df())},g.kc=function(e){I("Resuming connection for reason: "+e),delete this.qd[e],Sa(this.qd)&&(this.Sa=1e3,this.Fa||Cg(this,0))};var Sg={TIMESTAMP:{".sv":"timestamp"}};function Tg(e,t){null===e.ta&&Vb("Cannot call "+t+" on a deleted database.")}function Rg(e){this.Ya=e}function V(e,t,n){this.A=e,this.V=t,this.g=n}function Vg(e,t,n){this.Pb=e,this.rb=t,this.tb=n||null}function Wg(e,t,n){this.ga=e,this.rb=t,this.tb=n}function Xg(){this.za={}}function Zg(e){return za(Na(e.za),function(e){return!T(e.V.m)})}function $g(e,t){if(T(t.m))return Yg(e);var n=t.ja();return w(e.za,n)}function Yg(e){return Ra(e.za,function(e){return T(e.V.m)})||null}function ah(e){this.wa=R,this.jb=new Df,this.De={},this.ic={},this.Cc=e}function bh(e,t,i,r,o){var a=e.jb,s=o;return D(r>a.Bc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.la.push({path:t,Ga:i,Zc:r,visible:s}),s&&(a.S=uf(a.S,t,i)),a.Bc=r,o?ch(e,new ce(fe,t,i)):[]}function dh(e,t,n,i){var r=e.jb;return D(i>r.Bc,"Stacking an older merge on top of newer ones"),r.la.push({path:t,children:n,Zc:i,visible:!0}),r.S=vf(r.S,t,n),r.Bc=i,n=xd(n),ch(e,new ae(fe,t,n))}function eh(e,t,n){n=n||!1;var i=Ef(e.jb,t);if(e.jb.Ed(t)){var r=R;return null!=i.Ga?r=r.set(Q,!0):fb(i.children,function(e,t){r=r.set(new E(e),t)}),ch(e,new de(i.path,r,n))}return[]}function fh(e,t,n){return n=xd(n),ch(e,new ae(ie,t,n))}function gh(e,t,n,i){if(null==(i=hh(e,i)))return[];var r=ih(i);return i=r.path,r=r.Hb,t=P(i,t),jh(e,i,n=new ce(new he(!1,!0,r,!0),t,n))}function kh(e,t,n,i){if(i=hh(e,i)){var r=ih(i);return i=r.path,r=r.Hb,t=P(i,t),n=xd(n),jh(e,i,n=new ae(new he(!1,!0,r,!0),t,n))}return[]}function oh(e){return Bd(e,function(e,t,n){if(t&&null!=Yg(t))return[Yg(t)];var i=[];return t&&(i=Zg(t)),v(n,function(e){i=i.concat(e)}),i})}function sh(e,t){for(var n=0;n<t.length;++n)if(!T((i=t[n]).m)){var i=lh(i),r=e.ic[i];delete e.ic[i],delete e.De["_"+r]}}function qh(e){return T(e.m)&&!qf(e.m)?e.wb():e}function nh(e,t,n){var i=t.path,r=rh(e,t);if(n=ph(e,n),t=e.Cc.Ae(qh(t),r,n.ld,n.G),i=e.wa.subtree(i),r)D(null==Yg(i.value),"If we're adding a query, it shouldn't be shadowed");else for(r=Bd(i,function(e,t,n){if(!e.e()&&t&&null!=Yg(t))return[Te(Yg(t))];var i=[];return t&&(i=i.concat(Aa(Zg(t),function(e){return e.V}))),v(n,function(e){i=i.concat(e)}),i}),i=0;i<r.length;++i)n=r[i],e.Cc.Od(qh(n),rh(e,n));return t}function ph(i,e){var r=e.V,o=rh(i,r);return{ld:function(){return(e.w()||L).hash()},G:function(e){if("ok"!==e)return t="Unknown Error","too_big"===e?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?t="Client doesn't have permission to access the desired data.":"unavailable"==e&&(t="The service is unavailable"),(t=Error(e+" at "+r.path.toString()+": "+t)).code=e.toUpperCase(),i.kb(r,null,t);if(o){var t=r.path;if(e=hh(i,o)){var n=ih(e);e=n.path,n=n.Hb,t=P(e,t),t=new Zd(new he(!1,!0,n,!0),t),e=jh(i,e,t)}else e=[]}else e=ch(i,new Zd(ie,r.path));return e}}}function lh(e){return e.path.toString()+"$"+e.ja()}function ih(e){var t=e.indexOf("$");return D(-1!==t&&t<e.length-1,"Bad queryKey."),{Hb:e.substr(t+1),path:new E(e.substr(0,t))}}function hh(e,t){var n=e.De,i="_"+t;return i in n?n[i]:void 0}function rh(e,t){var n=lh(t);return w(e.ic,n)}g=Pg.prototype,g.app=null,g.jf=function(e){return Tg(this,"ref"),y("database.ref",0,1,arguments.length),n(e)?this.ba.n(e):this.ba},g.gg=function(e){Tg(this,"database.refFromURL"),y("database.refFromURL",1,1,arguments.length);var t=Wb(e);Xd("database.refFromURL",t);var n=t.jc;return n.host!==this.ta.L.host&&Vb("database.refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+this.ta.L.host+")"),this.jf(t.path.toString())},g.Pf=function(){y("database.goOffline",0,0,arguments.length),Tg(this,"goOffline"),this.ta.ab()},g.Qf=function(){y("database.goOnline",0,0,arguments.length),Tg(this,"goOnline"),this.ta.kc()},Object.defineProperty(Pg.prototype,"app",{get:function(){return this.ta.app}}),Rg.prototype.delete=function(){Tg(this.Ya,"delete");var e=Ug.Vb(),t=this.Ya.ta;return w(e.lb,t.app.name)!==t&&Vb("Database "+t.app.name+" has already been deleted."),t.ab(),delete e.lb[t.app.name],this.Ya.ta=null,this.Ya.ba=null,this.Ya=this.Ya.INTERNAL=null,firebase.Promise.resolve()},Pg.prototype.ref=Pg.prototype.jf,Pg.prototype.refFromURL=Pg.prototype.gg,Pg.prototype.goOnline=Pg.prototype.Qf,Pg.prototype.goOffline=Pg.prototype.Pf,Rg.prototype.delete=Rg.prototype.delete,V.prototype.H=function(){return y("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.H()},V.prototype.val=V.prototype.H,V.prototype.be=function(){return y("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.H(!0)},V.prototype.exportVal=V.prototype.be,V.prototype.toJSON=function(){return y("Firebase.DataSnapshot.toJSON",0,1,arguments.length),this.be()},V.prototype.toJSON=V.prototype.toJSON,V.prototype.Lf=function(){return y("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},V.prototype.exists=V.prototype.Lf,V.prototype.n=function(e){y("Firebase.DataSnapshot.child",0,1,arguments.length),ga(e)&&(e=String(e)),Vd("Firebase.DataSnapshot.child",e);var t=new E(e),n=this.V.n(t);return new V(this.A.P(t),n,H)},V.prototype.child=V.prototype.n,V.prototype.Da=function(e){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Vd("Firebase.DataSnapshot.hasChild",e);var t=new E(e);return!this.A.P(t).e()},V.prototype.hasChild=V.prototype.Da,V.prototype.C=function(){return y("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().H()},V.prototype.getPriority=V.prototype.C,V.prototype.forEach=function(n){if(y("Firebase.DataSnapshot.forEach",1,1,arguments.length),B("Firebase.DataSnapshot.forEach",1,n,!1),this.A.J())return!1;var i=this;return!!this.A.O(this.g,function(e,t){return n(new V(t,i.V.n(e),H))})},V.prototype.forEach=V.prototype.forEach,V.prototype.kd=function(){return y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.J()&&!this.A.e()},V.prototype.hasChildren=V.prototype.kd,V.prototype.getKey=function(){return y("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.getKey()},gc(V.prototype,"key",V.prototype.getKey),V.prototype.Eb=function(){return y("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Eb()},V.prototype.numChildren=V.prototype.Eb,V.prototype.wb=function(){return y("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},gc(V.prototype,"ref",V.prototype.wb),g=Vg.prototype,g.nf=function(e){return"value"===e},g.createEvent=function(e,t){var n=t.m.g;return new We("value",this,new V(e.Ja,t.wb(),n))},g.Tb=function(e){var t=this.tb;if("cancel"===e.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(t,e.error)}}var i=this.Pb;return function(){i.call(t,e.Md)}},g.Me=function(e,t){return this.rb?new Xe(this,e,t):null},g.matches=function(e){return e instanceof Vg&&(!e.Pb||!this.Pb||e.Pb===this.Pb&&e.tb===this.tb)},g.Xe=function(){return null!==this.Pb},g=Wg.prototype,g.nf=function(e){return("children_removed"===(e="children_added"===e?"child_added":e)?"child_removed":e)in this.ga},g.Me=function(e,t){return this.rb?new Xe(this,e,t):null},g.createEvent=function(e,t){D(null!=e.Xa,"Child events should have a childName.");var n=t.wb().n(e.Xa);return new We(e.type,this,new V(e.Ja,n,t.m.g),e.Dd)},g.Tb=function(e){var t=this.tb;if("cancel"===e.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(t,e.error)}}var i=this.ga[e.hd];return function(){i.call(t,e.Md,e.Dd)}},g.matches=function(n){if(n instanceof Wg){if(!this.ga||!n.ga)return!0;if(this.tb===n.tb&&(e=La(n.ga))===La(this.ga)){if(1!==e)return Ka(this.ga,function(e,t){return n.ga[t]===e});var e=Ma(n.ga),t=Ma(this.ga);return!(t!==e||n.ga[e]&&this.ga[t]&&n.ga[e]!==this.ga[t])}}return!1},g.Xe=function(){return null!==this.ga},g=Xg.prototype,g.e=function(){return Sa(this.za)},g.eb=function(t,n,i){var e=t.source.Hb;if(null!==e)return e=w(this.za,e),D(null!=e,"SyncTree gave us an op for an invalid query."),e.eb(t,n,i);var r=[];return v(this.za,function(e){r=r.concat(e.eb(t,n,i))}),r},g.Nb=function(e,t,n,i,r){var o=e.ja();if(!(a=w(this.za,o))){var a,s;s=!!(a=n.Aa(r?i:null))||(a=i instanceof O?n.rc(i):L,!1),a=new Pe(e,new oe(new je(a,s,!1),new je(i,r,!1))),this.za[o]=a}return a.Nb(t),Ve(a,t)},g.kb=function(e,n,i){var t=e.ja(),r=[],o=[],a=null!=Yg(this);if("default"===t){var s=this;v(this.za,function(e,t){o=o.concat(e.kb(n,i)),e.e()&&(delete s.za[t],T(e.V.m)||r.push(e.V))})}else{var l=w(this.za,t);l&&(o=o.concat(l.kb(n,i)),l.e()&&(delete this.za[t],T(l.V.m)||r.push(l.V)))}return a&&null==Yg(this)&&r.push(new U(e.u,e.path)),{hg:r,Kf:o}},g.hb=function(t){var n=null;return v(this.za,function(e){n=n||e.hb(t)}),n},ah.prototype.Nb=function(e,t){var i=e.path,r=null,o=!1;Fd(this.wa,i,function(e,t){var n=P(e,i);r=r||t.hb(n),o=o||null!=Yg(t)});var n,a=this.wa.get(i);a?(o=o||null!=Yg(a),r=r||a.hb(Q)):(a=new Xg,this.wa=this.wa.set(i,a)),null!=r?n=!0:(n=!1,r=L,Jd(this.wa.subtree(i),function(e,t){var n=t.hb(Q);n&&(r=r.T(e,n))}));var s=null!=$g(a,e);if(!s&&!T(e.m)){var l=lh(e);D(!(l in this.ic),"View does not exist, but we have a tag");var u=mh++;this.ic[l]=u,this.De["_"+u]=l}return n=a.Nb(e,t,new If(i,this.jb),r,n),s||o||(a=$g(a,e),n=n.concat(nh(this,e,a))),n},ah.prototype.kb=function(e,t,n){var i=e.path,r=this.wa.get(i),o=[];if(r&&("default"===e.ja()||null!=$g(r,e))){o=r.kb(e,t,n),r.e()&&(this.wa=this.wa.remove(i)),r=o.hg,o=o.Kf,t=-1!==Ea(r,function(e){return T(e.m)});var a=Dd(this.wa,i,function(e,t){return null!=Yg(t)});if(t&&!a&&!(i=this.wa.subtree(i)).e()){i=oh(i);for(var s=0;s<i.length;++s){var l=(u=i[s]).V,u=ph(this,u);this.Cc.Ae(qh(l),rh(this,l),u.ld,u.G)}}if(!a&&0<r.length&&!n)if(t)this.Cc.Od(qh(e),null);else{var c=this;ya(r,function(e){e.ja();var t=c.ic[lh(e)];c.Cc.Od(qh(e),t)})}sh(this,r)}return o},ah.prototype.Aa=function(i,e){var t=this.jb,n=Dd(this.wa,i,function(e,t){var n=P(e,i);if(n=t.hb(n))return n});return t.Aa(i,n,e,!0)};var mh=1;function jh(e,t,n){var i=e.wa.get(t);return D(i,"Missing sync point for query tag that we're tracking"),i.eb(n,new If(t,e.jb),null)}function ch(e,t){return th(e,t,e.wa,null,new If(Q,e.jb))}function th(e,t,n,i,r){if(t.path.e())return uh(e,t,n,i,r);var o=n.get(Q);null==i&&null!=o&&(i=o.hb(Q));var a=[],s=K(t.path),l=t.Mc(s);if((n=n.children.get(s))&&l){var u=i?i.Q(s):null;s=r.n(s),a=a.concat(th(e,l,n,u,s))}return o&&(a=a.concat(o.eb(t,r,i))),a}function uh(o,a,e,s,l){var t=e.get(Q);null==s&&null!=t&&(s=t.hb(Q));var u=[];return e.children.ha(function(e,t){var n=s?s.Q(e):null,i=l.n(e),r=a.Mc(e);r&&(u=u.concat(uh(o,r,t,n,i)))}),t&&(u=u.concat(t.eb(a,l,s))),u}function Qg(e,t,n){var i=new Bf(this.app=n);if(this.L=e,this.Va=Pf(e),this.Vc=null,this.ca=new Ye,this.vd=1,this.Ra=null,t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Rf(this.L,q(this.Gb,this),i),setTimeout(q(this.Jc,this,!0),0);else{if("undefined"!==da(t=n.options.databaseAuthVariableOverride)&&null!==t){if("object"!==da(t))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{x(t)}catch(e){throw Error("Invalid authOverride provided: "+e)}}this.va=this.Ra=new Ag(this.L,q(this.Gb,this),q(this.Jc,this),q(this.ue,this),i,t)}var o=this;Cf(i,function(e){o.va.kf(e)}),this.og=Qf(e,q(function(){return new Jf(this.Va,this.va)},this)),this.mc=new Tc,this.ie=new Af,this.pd=new ah({Ae:function(e,t,n,i){return t=[],(n=o.ie.j(e.path)).e()||(t=ch(o.pd,new ce(ie,e.path,n)),setTimeout(function(){i("ok")},0)),t},Od:ba}),vh(this,"connected",!1),this.ia=new Gb,this.Ya=new Pg(this),this.fd=0,this.je=null,this.K=new ah({Ae:function(i,e,t,r){return o.va.$e(i,t,e,function(e,t){var n=r(e,t);cf(o.ca,i.path,n)}),[]},Od:function(e,t){o.va.uf(e,t)}})}function wh(e){return e=e.ie.j(new E(".info/serverTimeOffset")).H()||0,(new Date).getTime()+e}function xh(e){return(e=e={timestamp:wh(e)}).timestamp=e.timestamp||(new Date).getTime(),e}function vh(e,t,n){t=new E("/.info/"+t),n=G(n);var i=e.ie;i.Jd=i.Jd.F(t,n),n=ch(e.pd,new ce(ie,t,n)),cf(e.ca,t,n)}function zh(i){i.f("onDisconnectEvents");var e=xh(i),r=[];Hb(Fb(i.ia,e),Q,function(e,t){r=r.concat(ch(i.K,new ce(ie,e,t)));var n=Bh(i,e);yh(i,n)}),i.ia=new Gb,cf(i.ca,Q,r)}function Ch(n,i,e,r){var o=G(e);n.va.re(i.toString(),o.H(!0),function(e,t){"ok"===e&&Ib(n.ia,i,o),Ah(r,e,t)})}function Dh(n,i,e,t,r){var o=G(e,t);n.va.re(i.toString(),o.H(!0),function(e,t){"ok"===e&&Ib(n.ia,i,o),Ah(r,e,t)})}function Eh(r,o,a,s){var e,t=!0;for(e in a)t=!1;t?(I("onDisconnect().update() called with empty data.  Don't do anything."),Ah(s,"ok")):r.va.cf(o.toString(),a,function(e,t){if("ok"===e)for(var n in a){var i=G(a[n]);Ib(r.ia,o.n(n),i)}Ah(s,e,t)})}function Fh(e,t,n){n=".info"===K(t.path)?e.pd.Nb(t,n):e.K.Nb(t,n),af(e.ca,t.path,n)}function Ah(n,i,r){n&&fc(function(){if("ok"==i)n(null);else{var e=(i||"error").toUpperCase(),t=e;r&&(t+=": "+r),(t=Error(t)).code=e,n(t)}})}function Gh(e,t,i,r,o){function a(){}e.f("transaction on "+t);var s=new U(e,t);if(s.gc("value",a),i={path:t,update:i,G:r,status:null,ef:Lb(),He:o,of:0,Rd:function(){s.Ic("value",a)},Td:null,Ba:null,cd:null,dd:null,ed:null},r=e.K.Aa(t,void 0)||L,i.cd=r,n(r=i.update(r.H()))){Pd("transaction failed: Data returned ",r,i.path),i.status=1;var l=(o=Uc(e.mc,t)).Ca()||[];l.push(i),Vc(o,l),"object"==typeof r&&null!==r&&eb(r,".priority")?(l=w(r,".priority"),D(Nd(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):l=(e.K.Aa(t)||L).C().H(),o=xh(e),o=Jb(r=G(r,l),o),i.dd=r,i.ed=o,i.Ba=e.vd++,i=bh(e.K,t,o,i.Ba,i.He),cf(e.ca,t,i),Hh(e)}else i.Rd(),i.dd=null,i.ed=null,i.G&&(e=new V(i.cd,new U(e,i.path),H),i.G(null,!1,e))}function Hh(t,e){var n=e||t.mc;if(e||Ih(t,n),null!==n.Ca()){var i=Jh(t,n);D(0<i.length,"Sending zero length transaction queue"),Ca(i,function(e){return 1===e.status})&&Kh(t,n.path(),i)}else n.kd()&&n.O(function(e){Hh(t,e)})}function Kh(r,o,a){for(var e=Aa(a,function(e){return e.Ba}),t=(e=t=r.K.Aa(o,e)||L,t.hash()),s=0;s<a.length;s++){var n=a[s];D(1===n.status,"tryToSendTransactionQueue_: items in queue should all be run."),n.status=2,n.of++;var i=P(o,n.path);e=e.F(i,n.dd)}e=e.H(!0),r.va.put(o.toString(),e,function(e){r.f("transaction put response",{path:o.toString(),status:e});var t=[];if("ok"===e){for(e=[],s=0;s<a.length;s++){if(a[s].status=3,t=t.concat(eh(r.K,a[s].Ba)),a[s].G){var n=a[s].ed,i=new U(r,a[s].path);e.push(q(a[s].G,null,null,!0,new V(n,i,H)))}a[s].Rd()}for(Ih(r,Uc(r.mc,o)),Hh(r),cf(r.ca,o,t),s=0;s<e.length;s++)fc(e[s])}else{if("datastale"===e)for(s=0;s<a.length;s++)a[s].status=4===a[s].status?5:1;else for(J("transaction at "+o.toString()+" failed: "+e),s=0;s<a.length;s++)a[s].status=5,a[s].Td=e;yh(r,o)}},t)}function yh(e,t){var n,i=(n=Lh(e,t)).path();return Mh(e,n=Jh(e,n),i),i}function Mh(e,t,i){if(0!==t.length){for(var r=[],o=[],a=za(t,function(e){return 1===e.status}),s=(a=Aa(a,function(e){return e.Ba}),0);s<t.length;s++){var l,u=t[s],c=P(i,u.path),d=!1;if(D(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),5===u.status)d=!0,l=u.Td,o=o.concat(eh(e.K,u.Ba,!0));else if(1===u.status)if(25<=u.of)d=!0,l="maxretry",o=o.concat(eh(e.K,u.Ba,!0));else{var h=e.K.Aa(u.path,a)||L;u.cd=h;var f=t[s].update(h.H());o=n(f)?(Pd("transaction failed: Data returned ",f,u.path),c=G(f),"object"==typeof f&&null!=f&&eb(f,".priority")||(c=c.fa(h.C())),h=u.Ba,f=Jb(c,f=xh(e)),u.dd=c,u.ed=f,u.Ba=e.vd++,Fa(a,h),(o=o.concat(bh(e.K,u.path,f,u.Ba,u.He))).concat(eh(e.K,h,!0))):(d=!0,l="nodata",o.concat(eh(e.K,u.Ba,!0)))}cf(e.ca,i,o),o=[],d&&(t[s].status=3,setTimeout(t[s].Rd,Math.floor(0)),t[s].G&&("nodata"===l?(u=new U(e,t[s].path),r.push(q(t[s].G,null,null,!1,new V(t[s].cd,u,H)))):r.push(q(t[s].G,null,Error(l),!1,null))))}for(Ih(e,e.mc),s=0;s<r.length;s++)fc(r[s]);Hh(e)}}function Lh(e,t){for(var n,i=e.mc;null!==(n=K(t))&&null===i.Ca();)i=Uc(i,n),t=N(t);return i}function Jh(e,t){var n=[];return Nh(e,t,n),n.sort(function(e,t){return e.ef-t.ef}),n}function Nh(t,e,n){var i=e.Ca();if(null!==i)for(var r=0;r<i.length;r++)n.push(i[r]);e.O(function(e){Nh(t,e,n)})}function Ih(t,e){var n=e.Ca();if(n){for(var i=0,r=0;r<n.length;r++)3!==n[r].status&&(n[i]=n[r],i++);n.length=i,Vc(e,0<n.length?n:null)}e.O(function(e){Ih(t,e)})}function Bh(t,e){var n=Lh(t,e).path(),i=Uc(t.mc,e);return Yc(i,function(e){Oh(t,e)}),Oh(t,i),Xc(i,function(e){Oh(t,e)}),n}function Oh(e,t){var n=t.Ca();if(null!==n){for(var i=[],r=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(D(o===a-1,"All SENT items should be at beginning of queue."),n[o=a].status=4,n[a].Td="set"):(D(1===n[a].status,"Unexpected transaction status in abort"),n[a].Rd(),r=r.concat(eh(e.K,n[a].Ba,!0)),n[a].G&&i.push(q(n[a].G,null,Error("set"),!1,null))));for(-1===o?Vc(t,null):n.length=o+1,cf(e.ca,t.path(),r),a=0;a<i.length;a++)fc(i[a])}}function Ug(){this.lb={},this.wf=!1}g=Qg.prototype,g.toString=function(){return(this.L.Sc?"https://":"http://")+this.L.host},g.name=function(){return this.L.pe},g.Gb=function(e,t,n,i){this.fd++;var r=new E(e);t=this.je?this.je(e,t):t,e=[],e=i?n?(t=Ja(t,function(e){return G(e)}),kh(this.K,r,t,i)):(t=G(t),gh(this.K,r,t,i)):n?(i=Ja(t,function(e){return G(e)}),fh(this.K,r,i)):(i=G(t),ch(this.K,new ce(ie,r,i))),i=r,0<e.length&&(i=yh(this,r)),cf(this.ca,i,e)},g.Jc=function(e){vh(this,"connected",e),!1===e&&zh(this)},g.ue=function(e){var n=this;cc(e,function(e,t){vh(n,t,e)})},g.Jb=function(i,e,t,r){this.f("set",{path:i.toString(),value:e,ug:t});var n=xh(this),o=(n=Jb(e=G(e,t),n),this.vd++);n=bh(this.K,i,n,o,!0),Ze(this.ca,n);var a=this;this.va.put(i.toString(),e.H(!0),function(e,t){var n="ok"===e;n||J("set at "+i+" failed: "+e),n=eh(a.K,o,!n),cf(a.ca,i,n),Ah(r,e,t)}),yh(this,n=Bh(this,i)),cf(this.ca,n,[])},g.update=function(r,e,o){this.f("update",{path:r.toString(),value:e});var i=!0,a=xh(this),s={};if(v(e,function(e,t){i=!1;var n=G(e);s[t]=Jb(n,a)}),i)I("update() called with empty data.  Don't do anything."),Ah(o,"ok");else{var l=this.vd++,t=dh(this.K,r,s,l);Ze(this.ca,t);var u=this;this.va.af(r.toString(),e,function(e,t){(n="ok"===e)||J("update at "+r+" failed: "+e);var n=eh(u.K,l,!n),i=r;0<n.length&&(i=yh(u,r)),cf(u.ca,i,n),Ah(o,e,t)}),v(e,function(e,t){var n=Bh(u,r.n(t));yh(u,n)}),cf(this.ca,r,[])}},g.xd=function(n,i){var r=this;this.va.xd(n.toString(),function(e,t){"ok"===e&&Yd(r.ia,n),Ah(i,e,t)})},g.ab=function(){this.Ra&&this.Ra.ab("repo_interrupt")},g.kc=function(){this.Ra&&this.Ra.kc("repo_interrupt")},g.Be=function(e){if("undefined"!=typeof console){e=e?(this.Vc||(this.Vc=new Kf(this.Va)),this.Vc.get()):this.Va.get();var t,n=Ba(Oa(e),function(e,t){return Math.max(t.length,e)},0);for(t in e){for(var i=e[t],r=t.length;r<n+2;r++)t+=" ";console.log(t+i)}}},g.Ce=function(e){Mf(this.Va,e),this.og.rf[e]=!0},g.f=function(e){var t="";this.Ra&&(t=this.Ra.id+":"),I(t,arguments)},Ug.prototype.ab=function(){for(var e in this.lb)this.lb[e].ab()},Ug.prototype.kc=function(){for(var e in this.lb)this.lb[e].kc()},Ug.prototype.ce=function(e){this.wf=e},ca(Ug),Ug.prototype.interrupt=Ug.prototype.ab,Ug.prototype.resume=Ug.prototype.kc;var W={};function Ph(e,t){this.committed=e,this.snapshot=t}function X(e,t,n,i){this.u=e,this.path=t,this.m=n,this.Nc=i}function Qh(e){var t=null,n=null;if(e.ka&&(t=ff(e)),e.na&&(n=hf(e)),e.g===tc){if(e.ka){if("[MIN_NAME]"!=ef(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof t)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(e.na){if("[MAX_NAME]"!=gf(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(e.g===H){if(null!=t&&!Nd(t)||null!=n&&!Nd(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(D(e.g instanceof pc||e.g===wc,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function Rh(e){if(e.ka&&e.na&&e.xa&&(!e.xa||""===e.mb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function Sh(e,t){if(!0===e.Nc)throw Error(t+": You can't combine multiple orderBy calls.")}function Th(e,t,n){var i={cancel:null,Ma:null};if(t&&n)i.cancel=t,B(e,3,i.cancel,!0),i.Ma=n,ob(e,4,i.Ma);else if(t)if("object"==typeof t&&null!==t)i.Ma=t;else{if("function"!=typeof t)throw Error(A(e,3,!0)+" must either be a cancel callback or a context object.");i.cancel=t}return i}function Y(e,t){this.ta=e,this.qa=t}W.nc=Ag,W.DataConnection=W.nc,Ag.prototype.ng=function(e,t){this.ua("q",{p:e},t)},W.nc.prototype.simpleListen=W.nc.prototype.ng,Ag.prototype.Hf=function(e,t){this.ua("echo",{d:e},t)},W.nc.prototype.echo=W.nc.prototype.Hf,Ag.prototype.interrupt=Ag.prototype.ab,W.zf=og,W.RealTimeConnection=W.zf,og.prototype.sendRequest=og.prototype.ua,og.prototype.close=og.prototype.close,W.Rf=function(o){var a=Ag.prototype.put;return Ag.prototype.put=function(e,t,i,r){n(r)&&(r=o()),a.call(this,e,t,i,r)},function(){Ag.prototype.put=a}},W.hijackHash=W.Rf,W.yf=zb,W.ConnectionTarget=W.yf,W.ja=function(e){return e.ja()},W.queryIdentifier=W.ja,W.Uf=function(e){return e.u.Ra.$},W.listens=W.Uf,W.ce=function(e){Ug.Vb().ce(e)},W.forceRestClient=W.ce,W.Context=Ug,g=X.prototype,g.wb=function(){return y("Query.ref",0,0,arguments.length),new U(this.u,this.path)},g.gc=function(e,t,n,i){y("Query.on",2,4,arguments.length),Td("Query.on",e,!1),B("Query.on",2,t,!1);var r=Th("Query.on",n,i);if("value"===e)Fh(this.u,this,new Vg(t,r.cancel||null,r.Ma||null));else{var o={};o[e]=t,Fh(this.u,this,new Wg(o,r.cancel,r.Ma))}return t},g.Ic=function(e,t,n){y("Query.off",0,3,arguments.length),Td("Query.off",e,!0),B("Query.off",2,t,!0),ob("Query.off",3,n);var i=null,r=null;"value"===e?i=new Vg(t||null,null,n||null):e&&(t&&((r={})[e]=t),i=new Wg(r,null,n||null)),r=this.u,i=".info"===K(this.path)?r.pd.kb(this,i):r.K.kb(this,i),af(r.ca,this.path,i)},g.$f=function(t,n){function i(e){a&&(a=!1,o.Ic(t,i),n&&n.call(r.Ma,e),s.resolve(e))}y("Query.once",1,4,arguments.length),Td("Query.once",t,!1),B("Query.once",2,n,!0);var r=Th("Query.once",arguments[2],arguments[3]),o=this,a=!0,s=new ib;return kb(s.ra),this.gc(t,i,function(e){o.Ic(t,i),r.cancel&&r.cancel.call(r.Ma,e),s.reject(e)}),s.ra},g.ne=function(e){if(y("Query.limitToFirst",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||e<=0)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.ne(e),this.Nc)},g.oe=function(e){if(y("Query.limitToLast",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||e<=0)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.oe(e),this.Nc)},g.ag=function(e){if(y("Query.orderByChild",1,1,arguments.length),"$key"===e)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Vd("Query.orderByChild",e),Sh(this,"Query.orderByChild");var t=new E(e);if(t.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new pc(t),Qh(t=of(this.m,t)),new X(this.u,this.path,t,!0)},g.bg=function(){y("Query.orderByKey",0,0,arguments.length),Sh(this,"Query.orderByKey");var e=of(this.m,tc);return Qh(e),new X(this.u,this.path,e,!0)},g.cg=function(){y("Query.orderByPriority",0,0,arguments.length),Sh(this,"Query.orderByPriority");var e=of(this.m,H);return Qh(e),new X(this.u,this.path,e,!0)},g.dg=function(){y("Query.orderByValue",0,0,arguments.length),Sh(this,"Query.orderByValue");var e=of(this.m,wc);return Qh(e),new X(this.u,this.path,e,!0)},g.Nd=function(e,t){y("Query.startAt",0,2,arguments.length),Od("Query.startAt",e,this.path,!0),Ud("Query.startAt",t);var i=this.m.Nd(e,t);if(Rh(i),Qh(i),this.m.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(e)||(t=e=null),new X(this.u,this.path,i,this.Nc)},g.gd=function(e,t){y("Query.endAt",0,2,arguments.length),Od("Query.endAt",e,this.path,!0),Ud("Query.endAt",t);var n=this.m.gd(e,t);if(Rh(n),Qh(n),this.m.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.u,this.path,n,this.Nc)},g.If=function(e,t){if(y("Query.equalTo",1,2,arguments.length),Od("Query.equalTo",e,this.path,!1),Ud("Query.equalTo",t),this.m.ka)throw Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.m.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(e,t).gd(e,t)},g.toString=function(){y("Query.toString",0,0,arguments.length);for(var e=this.path,t="",n=e.Y;n<e.o.length;n++)""!==e.o[n]&&(t+="/"+encodeURIComponent(String(e.o[n])));return this.u.toString()+(t||"/")},g.toJSON=function(){return y("Query.toJSON",0,1,arguments.length),this.toString()},g.ja=function(){var e=ac(pf(this.m));return"{}"===e?"default":e},g.isEqual=function(e){if(y("Query.isEqual",1,1,arguments.length),!(e instanceof X))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var t=this.u===e.u,n=this.path.Z(e.path),i=this.ja()===e.ja();return t&&n&&i},X.prototype.on=X.prototype.gc,X.prototype.off=X.prototype.Ic,X.prototype.once=X.prototype.$f,X.prototype.limitToFirst=X.prototype.ne,X.prototype.limitToLast=X.prototype.oe,X.prototype.orderByChild=X.prototype.ag,X.prototype.orderByKey=X.prototype.bg,X.prototype.orderByPriority=X.prototype.cg,X.prototype.orderByValue=X.prototype.dg,X.prototype.startAt=X.prototype.Nd,X.prototype.endAt=X.prototype.gd,X.prototype.equalTo=X.prototype.If,X.prototype.toString=X.prototype.toString,X.prototype.isEqual=X.prototype.isEqual,gc(X.prototype,"ref",X.prototype.wb),Y.prototype.cancel=function(e){y("Firebase.onDisconnect().cancel",0,1,arguments.length),B("Firebase.onDisconnect().cancel",1,e,!0);var t=new ib;return this.ta.xd(this.qa,jb(t,e)),t.ra},Y.prototype.cancel=Y.prototype.cancel,Y.prototype.remove=function(e){y("Firebase.onDisconnect().remove",0,1,arguments.length),Wd("Firebase.onDisconnect().remove",this.qa),B("Firebase.onDisconnect().remove",1,e,!0);var t=new ib;return Ch(this.ta,this.qa,null,jb(t,e)),t.ra},Y.prototype.remove=Y.prototype.remove,Y.prototype.set=function(e,t){y("Firebase.onDisconnect().set",1,2,arguments.length),Wd("Firebase.onDisconnect().set",this.qa),Od("Firebase.onDisconnect().set",e,this.qa,!1),B("Firebase.onDisconnect().set",2,t,!0);var n=new ib;return Ch(this.ta,this.qa,e,jb(n,t)),n.ra},Y.prototype.set=Y.prototype.set,Y.prototype.Jb=function(e,t,n){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Wd("Firebase.onDisconnect().setWithPriority",this.qa),Od("Firebase.onDisconnect().setWithPriority",e,this.qa,!1),Sd("Firebase.onDisconnect().setWithPriority",2,t),B("Firebase.onDisconnect().setWithPriority",3,n,!0);var i=new ib;return Dh(this.ta,this.qa,e,t,jb(i,n)),i.ra},Y.prototype.setWithPriority=Y.prototype.Jb,Y.prototype.update=function(e,t){if(y("Firebase.onDisconnect().update",1,2,arguments.length),Wd("Firebase.onDisconnect().update",this.qa),ea(e)){for(var n={},i=0;i<e.length;++i)n[""+i]=e[i];e=n,J("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.onDisconnect().update",e,this.qa),B("Firebase.onDisconnect().update",2,t,!0),n=new ib,Eh(this.ta,this.qa,e,jb(n,t)),n.ra},Y.prototype.update=Y.prototype.update;var Z={Mf:function(){dg=Zf=!0}};function U(e,t){if(!(e instanceof Qg))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,e,t,mf,!1),this.then=void 0,this.catch=void 0}if(Z.forceLongPolling=Z.Mf,Z.Nf=function(){eg=!0},Z.forceWebSockets=Z.Nf,Z.Tf=function(){return Yf.isAvailable()},Z.isWebSocketsAvailable=Z.Tf,Z.lg=function(e,t){e.u.Ra.ze=t},Z.setSecurityDebugCallback=Z.lg,Z.Be=function(e,t){e.u.Be(t)},Z.stats=Z.Be,Z.Ce=function(e,t){e.u.Ce(t)},Z.statsIncrementCounter=Z.Ce,Z.fd=function(e){return e.u.fd},Z.dataUpdateCount=Z.fd,Z.Sf=function(e,t){e.u.je=t},Z.interceptServerData=Z.Sf,la(U,X),g=U.prototype,g.getKey=function(){return y("Firebase.key",0,0,arguments.length),this.path.e()?null:Oc(this.path)},g.n=function(e){if(y("Firebase.child",1,1,arguments.length),ga(e))e=String(e);else if(!(e instanceof E))if(null===K(this.path)){var t=e;t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Vd("Firebase.child",t)}else Vd("Firebase.child",e);return new U(this.u,this.path.n(e))},g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new U(this.u,e)},g.Of=function(){y("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},g.Gf=function(){return this.u.Ya},g.set=function(e,t){y("Firebase.set",1,2,arguments.length),Wd("Firebase.set",this.path),Od("Firebase.set",e,this.path,!1),B("Firebase.set",2,t,!0);var n=new ib;return this.u.Jb(this.path,e,null,jb(n,t)),n.ra},g.update=function(e,t){if(y("Firebase.update",1,2,arguments.length),Wd("Firebase.update",this.path),ea(e)){for(var n={},i=0;i<e.length;++i)n[""+i]=e[i];e=n,J("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.update",e,this.path),B("Firebase.update",2,t,!0),n=new ib,this.u.update(this.path,e,jb(n,t)),n.ra},g.Jb=function(e,t,n){if(y("Firebase.setWithPriority",2,3,arguments.length),Wd("Firebase.setWithPriority",this.path),Od("Firebase.setWithPriority",e,this.path,!1),Sd("Firebase.setWithPriority",2,t),B("Firebase.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new ib;return this.u.Jb(this.path,e,t,jb(i,n)),i.ra},g.remove=function(e){return y("Firebase.remove",0,1,arguments.length),Wd("Firebase.remove",this.path),B("Firebase.remove",1,e,!0),this.set(null,e)},g.transaction=function(e,i,t){if(y("Firebase.transaction",1,3,arguments.length),Wd("Firebase.transaction",this.path),B("Firebase.transaction",1,e,!1),B("Firebase.transaction",2,i,!0),n(t)&&"boolean"!=typeof t)throw Error(A("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";void 0===t&&(t=!0);var r=new ib;return ha(i)&&kb(r.ra),Gh(this.u,this.path,e,function(e,t,n){e?r.reject(e):r.resolve(new Ph(t,n)),ha(i)&&i(e,t,n)},t),r.ra},g.kg=function(e,t){y("Firebase.setPriority",1,2,arguments.length),Wd("Firebase.setPriority",this.path),Sd("Firebase.setPriority",1,e),B("Firebase.setPriority",2,t,!0);var n=new ib;return this.u.Jb(this.path.n(".priority"),e,null,jb(n,t)),n.ra},g.push=function(e,t){y("Firebase.push",0,2,arguments.length),Wd("Firebase.push",this.path),Od("Firebase.push",e,this.path,!0),B("Firebase.push",2,t,!0);var n=wh(this.u),i=Kc(n),r=(n=this.n(i),this.n(i));return i=null!=e?n.set(e,t).then(function(){return r}):hb.resolve(r),n.then=q(i.then,i),n.catch=q(i.then,i,void 0),ha(t)&&kb(i),n},g.ib=function(){return Wd("Firebase.onDisconnect",this.path),new Y(this.u,this.path)},U.prototype.child=U.prototype.n,U.prototype.set=U.prototype.set,U.prototype.update=U.prototype.update,U.prototype.setWithPriority=U.prototype.Jb,U.prototype.remove=U.prototype.remove,U.prototype.transaction=U.prototype.transaction,U.prototype.setPriority=U.prototype.kg,U.prototype.push=U.prototype.push,U.prototype.onDisconnect=U.prototype.ib,gc(U.prototype,"database",U.prototype.Gf),gc(U.prototype,"key",U.prototype.getKey),gc(U.prototype,"parent",U.prototype.getParent),gc(U.prototype,"root",U.prototype.Of),void 0===firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",function(e){var t=Ug.Vb();n(r=e.options.databaseURL)||Vb("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var i=Wb(r),r=i.jc;return Xd("Invalid Firebase Database URL",i),i.path.e()||Vb("Database URL must point to the root of a Firebase Database (not including a child path)."),(i=w(t.lb,e.name))&&Vb("FIREBASE INTERNAL ERROR: Database initialized multiple times."),i=new Qg(r,t.wf,e),(t.lb[e.name]=i).Ya},{Reference:U,Query:X,Database:Pg,enableLogging:Sb,INTERNAL:Z,TEST_ACCESS:W,ServerValue:Sg})}catch(t){Vb("Failed to register the Firebase Database Service ("+t+")")}}();try{webpackJsonp([1],[,,,,,function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r,o={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},a=(i(r={},o.AVAILABLE_IN_WINDOW,"This method is available in a Window context."),i(r,o.AVAILABLE_IN_SW,"This method is available in a service worker context."),i(r,o.SHOULD_BE_INHERITED,"This method should be overriden by extended classes."),i(r,o.BAD_SENDER_ID,"Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp()."),i(r,o.PERMISSION_DEFAULT,"The required permissions were not granted and dismissed instead."),i(r,o.PERMISSION_BLOCKED,"The required permissions were not granted and blocked instead."),i(r,o.UNSUPPORTED_BROWSER,"This browser doesn't support the API's required to use the firebase SDK."),i(r,o.NOTIFICATIONS_BLOCKED,"Notifications have been blocked."),i(r,o.FAILED_DEFAULT_REGISTRATION,"We are unable to register the default service worker. {$browserErrorMessage}"),i(r,o.SW_REGISTRATION_EXPECTED,"A service worker registration was the expected input."),i(r,o.GET_SUBSCRIPTION_FAILED,"There was an error when trying to get any existing Push Subscriptions."),i(r,o.INVALID_SAVED_TOKEN,"Unable to access details of the saved token."),i(r,o.SW_REG_REDUNDANT,"The service worker being used for push was made redundant."),i(r,o.TOKEN_SUBSCRIBE_FAILED,"A problem occured while subscribing the user to FCM: {$message}"),i(r,o.TOKEN_SUBSCRIBE_NO_TOKEN,"FCM returned no token when subscribing the user to push."),i(r,o.TOKEN_SUBSCRIBE_NO_PUSH_SET,"FCM returned an invalid response when getting an FCM token."),i(r,o.USE_SW_BEFORE_GET_TOKEN,"You must call useServiceWorker() before calling getToken() to ensure your service worker is used."),i(r,o.INVALID_DELETE_TOKEN,"You must pass a valid token into deleteToken(), i.e. the token from getToken()."),i(r,o.DELETE_TOKEN_NOT_FOUND,"The deletion attempt for token could not be performed as the token was not found."),i(r,o.DELETE_SCOPE_NOT_FOUND,"The deletion attempt for service worker scope could not be performed as the scope was not found."),i(r,o.BG_HANDLER_FUNCTION_EXPECTED,"The input to setBackgroundMessageHandler() must be a function."),i(r,o.NO_WINDOW_CLIENT_TO_MSG,"An attempt was made to message a non-existant window client."),i(r,o.UNABLE_TO_RESUBSCRIBE,"There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}"),i(r,o.NO_FCM_TOKEN_FOR_RESUBSCRIBE,"Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit."),i(r,o.FAILED_TO_DELETE_TOKEN,"Unable to delete the currently saved token."),i(r,o.NO_SW_IN_REG,"Even though the service worker registration was successful, there was a problem accessing the service worker itself."),i(r,o.INCORRECT_GCM_SENDER_ID,"Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging."),i(r,o.BAD_SCOPE,"The service worker scope must be a string with at least one character."),i(r,o.BAD_VAPID_KEY,"The public VAPID key must be a string with at least one character."),i(r,o.BAD_SUBSCRIPTION,"The subscription must be a valid PushSubscription."),i(r,o.BAD_TOKEN,"The FCM Token used for storage / lookup was not a valid token string."),i(r,o.BAD_PUSH_SET,"The FCM push set used for storage / lookup was not not a valid push set string."),i(r,o.FAILED_DELETE_VAPID_KEY,"The VAPID key could not be deleted."),r);t.default={codes:o,map:a},e.exports=t.default},,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=n(9),a=i(n(5)),s=i(n(36)),l=i(n(20)),u="messagingSenderId",c=function(){function n(e){var t=this;if(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.errorFactory_=new o.ErrorFactory("messaging","Messaging",a.default.map),!e.options[u]||"string"!=typeof e.options[u])throw this.errorFactory_.create(a.default.codes.BAD_SENDER_ID);this.messagingSenderId_=e.options[u],this.tokenManager_=new s.default,this.app=e,this.INTERNAL={},this.INTERNAL.delete=function(){return t.delete}}return r(n,[{key:"getToken",value:function(){var n=this,e=this.getNotificationPermission_();return e!==l.default.granted?e===l.default.denied?Promise.reject(this.errorFactory_.create(a.default.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this.getSWRegistration_().then(function(t){return n.tokenManager_.getSavedToken(n.messagingSenderId_,t).then(function(e){return e||n.tokenManager_.createToken(n.messagingSenderId_,t)})})}},{key:"deleteToken",value:function(e){var t=this;return this.tokenManager_.deleteToken(e).then(function(){return t.getSWRegistration_().then(function(e){if(e)return e.pushManager.getSubscription()}).then(function(e){if(e)return e.unsubscribe()})})}},{key:"getSWRegistration_",value:function(){throw this.errorFactory_.create(a.default.codes.SHOULD_BE_INHERITED)}},{key:"requestPermission",value:function(){throw this.errorFactory_.create(a.default.codes.AVAILABLE_IN_WINDOW)}},{key:"useServiceWorker",value:function(){throw this.errorFactory_.create(a.default.codes.AVAILABLE_IN_WINDOW)}},{key:"onMessage",value:function(){throw this.errorFactory_.create(a.default.codes.AVAILABLE_IN_WINDOW)}},{key:"onTokenRefresh",value:function(){throw this.errorFactory_.create(a.default.codes.AVAILABLE_IN_WINDOW)}},{key:"setBackgroundMessageHandler",value:function(){throw this.errorFactory_.create(a.default.codes.AVAILABLE_IN_SW)}},{key:"delete",value:function(){this.tokenManager_.closeDatabase()}},{key:"getNotificationPermission_",value:function(){return Notification.permission}},{key:"getTokenManager",value:function(){return this.tokenManager_}}]),n}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],r={userVisibleOnly:!0,applicationServerKey:new Uint8Array(i)};t.default={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:i,SUBSCRIPTION_OPTIONS:r},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={granted:"granted",default:"default",denied:"denied"},e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"};t.default={PARAMS:r,TYPES_OF_MSG:{PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},createNewMsg:function(e,t){var n;return i(n={},r.TYPE_OF_MSG,e),i(n,r.DATA,t),n}},e.exports=t.default},,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=i(n(18)),s=i(n(5)),l=i(n(21)),u=i(n(19)),c=function(e){function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return self.addEventListener("push",function(e){return t.onPush_(e)},!1),self.addEventListener("pushsubscriptionchange",function(e){return t.onSubChange_(e)},!1),self.addEventListener("notificationclick",function(e){return t.onNotificationClick_(e)},!1),t.bgMessageHandler_=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),r(n,[{key:"onPush_",value:function(e){var i=this,r=void 0;try{r=e.data.json()}catch(e){return}var t=this.hasVisibleClients_().then(function(e){if(e){if(r.notification||i.bgMessageHandler_)return i.sendMessageToWindowClients_(r)}else{var t=i.getNotificationData_(r);if(t){var n=t.title||"";return self.registration.showNotification(n,t)}if(i.bgMessageHandler_)return i.bgMessageHandler_(r)}});e.waitUntil(t)}},{key:"onSubChange_",value:function(e){var i=this,t=this.getToken().then(function(e){if(!e)throw i.errorFactory_.create(s.default.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var t=null,n=i.getTokenManager();return n.getTokenDetailsFromToken(e).then(function(e){if(!(t=e))throw i.errorFactory_.create(s.default.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(u.default.SUBSCRIPTION_OPTIONS)}).then(function(e){return n.subscribeToFCM(t.fcmSenderId,e,t.fcmPushSet)}).catch(function(e){return n.deleteToken(t.fcmToken).then(function(){throw i.errorFactory_.create(s.default.codes.UNABLE_TO_RESUBSCRIBE,{message:e})})})});e.waitUntil(t)}},{key:"onNotificationClick_",value:function(e){var n=this;if(e.notification&&e.notification.data&&e.notification.data.FCM_MSG){e.stopImmediatePropagation(),e.notification.close();var i=e.notification.data.FCM_MSG,t=i.notification.click_action;if(t){var r=this.getWindowClient_(t).then(function(e){return e||self.clients.openWindow(t)}).then(function(e){if(e){i.notification,delete i.notification;var t=l.default.createNewMsg(l.default.TYPES_OF_MSG.NOTIFICATION_CLICKED,i);return n.attemptToMessageClient_(e,t)}});e.waitUntil(r)}}}},{key:"getNotificationData_",value:function(e){if(e&&"object"===o(e.notification)){var t=Object.assign({},e.notification);return t.data=(r=e,(i="FCM_MSG")in(n={})?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n),t}var n,i,r}},{key:"setBackgroundMessageHandler",value:function(e){if(e&&"function"!=typeof e)throw this.errorFactory_.create(s.default.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=e}},{key:"getWindowClient_",value:function(e){var i=new URL(e).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){for(var t=null,n=0;n<e.length;n++)if(new URL(e[n].url).href===i){t=e[n];break}if(t)return t.focus(),t})}},{key:"attemptToMessageClient_",value:function(n,i){var r=this;return new Promise(function(e,t){if(!n)return t(r.errorFactory_.create(s.default.codes.NO_WINDOW_CLIENT_TO_MSG));n.postMessage(i),e()})}},{key:"hasVisibleClients_",value:function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){return e.some(function(e){return"visible"===e.visibilityState})})}},{key:"sendMessageToWindowClients_",value:function(n){var i=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){var t=l.default.createNewMsg(l.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED,n);return Promise.all(e.map(function(e){return i.attemptToMessageClient_(e,t)}))})}},{key:"getSWRegistration_",value:function(){return Promise.resolve(self.registration)}}]),n}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=i(n(18)),a=i(n(5)),s=i(n(21)),l=i(n(35)),u=i(n(20)),c=n(17),d=function(e){function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.registrationToUse_,t.manifestCheckPromise_,t.messageObserver_=null,t.onMessage_=(0,c.createSubscribe)(function(e){t.messageObserver_=e}),t.tokenRefreshObserver_=null,t.onTokenRefresh_=(0,c.createSubscribe)(function(e){t.tokenRefreshObserver_=e}),t.setupSWMessageListener_(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),r(n,[{key:"getToken",value:function(){var e=this;return this.isSupported_()?this.manifestCheck_().then(function(){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getToken",e).call(e)}):Promise.reject(this.errorFactory_.create(a.default.codes.UNSUPPORTED_BROWSER))}},{key:"manifestCheck_",value:function(){var t=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var e=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise_=e?fetch(e.href).then(function(e){return e.json()}).catch(function(){return Promise.resolve()}).then(function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw t.errorFactory_.create(a.default.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise_}},{key:"requestPermission",value:function(){var o=this;return Notification.permission===u.default.granted?Promise.resolve():new Promise(function(t,n){var i=function(e){return e===u.default.granted?t():n(e===u.default.denied?o.errorFactory_.create(a.default.codes.PERMISSION_BLOCKED):o.errorFactory_.create(a.default.codes.PERMISSION_DEFAULT))},r=Notification.requestPermission(function(e){r||i(e)});r&&r.then(i)})}},{key:"useServiceWorker",value:function(e){if(!(e instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(a.default.codes.SW_REGISTRATION_EXPECTED);if(void 0!==this.registrationToUse_)throw this.errorFactory_.create(a.default.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=e}},{key:"onMessage",value:function(e,t,n){return this.onMessage_(e,t,n)}},{key:"onTokenRefresh",value:function(e,t,n){return this.onTokenRefresh_(e,t,n)}},{key:"waitForRegistrationToActivate_",value:function(i){var r=this,o=i.installing||i.waiting||i.active;return new Promise(function(e,t){if(o)if("activated"!==o.state)if("redundant"!==o.state){var n=function(){if("activated"===o.state)e(i);else{if("redundant"!==o.state)return;t(r.errorFactory_.create(a.default.codes.SW_REG_REDUNDANT))}o.removeEventListener("statechange",n)};o.addEventListener("statechange",n)}else t(r.errorFactory_.create(a.default.codes.SW_REG_REDUNDANT));else e(i);else t(r.errorFactory_.create(a.default.codes.NO_SW_IN_REG))})}},{key:"getSWRegistration_",value:function(){var t=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register(l.default.path,{scope:l.default.scope}).catch(function(e){throw t.errorFactory_.create(a.default.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:e.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return(t.registrationToUse_=e).update(),e})}))}},{key:"setupSWMessageListener_",value:function(){var i=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[s.default.PARAMS.TYPE_OF_MSG]){var t=e.data;switch(t[s.default.PARAMS.TYPE_OF_MSG]){case s.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case s.default.TYPES_OF_MSG.NOTIFICATION_CLICKED:var n=t[s.default.PARAMS.DATA];i.messageObserver_.next(n)}}},!1)}},{key:"isSupported_",value:function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}}]),n}();t.default=d,e.exports=t.default},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){e.INTERNAL.registerService("messaging",function(e){return self&&"ServiceWorkerGlobalScope"in self?new a.default(e):new o.default(e)},{Messaging:o.default})}Object.defineProperty(t,"__esModule",{value:!0}),t.registerMessaging=r;var o=i(n(29)),a=i(n(28));r(i(n(4)).default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(t=new Uint8Array(e),window.btoa(String.fromCharCode.apply(null,t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");var t},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=n(9),u=i(n(5)),c=i(n(34)),d=i(n(19)),s="fcm_token_object_Store",a=function(){function n(){(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.errorFactory_=new o.ErrorFactory("messaging","Messaging",u.default.map),this.openDbPromise_=null}return r(n,[{key:"openDatabase_",value:function(){return this.openDbPromise_||(this.openDbPromise_=new Promise(function(t,n){var e=indexedDB.open("fcm_token_details_db",1);e.onerror=function(e){n(e.target.error)},e.onsuccess=function(e){t(e.target.result)},e.onupgradeneeded=function(e){var t=e.target.result.createObjectStore(s,{keyPath:"swScope"});t.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),t.createIndex("fcmToken","fcmToken",{unique:!0})}})),this.openDbPromise_}},{key:"closeDatabase",value:function(){var t=this;return this.openDbPromise_?this.openDbPromise_.then(function(e){e.close(),t.openDbPromise_=null}):Promise.resolve()}},{key:"getTokenDetailsFromToken",value:function(r){return this.openDatabase_().then(function(i){return new Promise(function(t,n){var e=i.transaction([s]).objectStore(s).index("fcmToken").get(r);e.onerror=function(e){n(e.target.error)},e.onsuccess=function(e){t(e.target.result)}})})}},{key:"getTokenDetailsFromSWScope_",value:function(r){return this.openDatabase_().then(function(i){return new Promise(function(t,n){var e=i.transaction([s]).objectStore(s).get(r);e.onerror=function(e){n(e.target.error)},e.onsuccess=function(e){t(e.target.result)}})})}},{key:"getAllTokenDetailsForSenderId_",value:function(a){return this.openDatabase_().then(function(o){return new Promise(function(n,t){var e=o.transaction([s]).objectStore(s),i=[],r=e.openCursor();r.onerror=function(e){t(e.target.error)},r.onsuccess=function(e){var t=e.target.result;t?(t.value.fcmSenderId===a&&i.push(t.value),t.continue()):n(i)}})})}},{key:"subscribeToFCM",value:function(e,t,n){var i=this,r=(0,c.default)(t.getKey("p256dh")),o=(0,c.default)(t.getKey("auth")),a="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+r+"&encryption_auth="+o;n&&(a+="&pushSet="+n);var s=new Headers;s.append("Content-Type","application/x-www-form-urlencoded");var l={method:"POST",headers:s,body:a};return fetch(d.default.ENDPOINT+"/fcm/connect/subscribe",l).then(function(e){return e.json()}).then(function(e){var t=e;if(t.error){var n=t.error.message;throw i.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_FAILED,{message:n})}if(!t.token)throw i.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!t.pushSet)throw i.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:t.token,pushSet:t.pushSet}})}},{key:"isSameSubscription_",value:function(e,t){return e.endpoint===t.endpoint&&(0,c.default)(e.getKey("auth"))===t.auth&&(0,c.default)(e.getKey("p256dh"))===t.p256dh}},{key:"saveTokenDetails_",value:function(e,t,n,i,r){var o={swScope:t.scope,endpoint:n.endpoint,auth:(0,c.default)(n.getKey("auth")),p256dh:(0,c.default)(n.getKey("p256dh")),fcmToken:i,fcmPushSet:r,fcmSenderId:e};return this.openDatabase_().then(function(i){return new Promise(function(e,t){var n=i.transaction([s],"readwrite").objectStore(s).put(o);n.onerror=function(e){t(e.target.error)},n.onsuccess=function(){e()}})})}},{key:"getSavedToken",value:function(n,i){var r=this;return i instanceof ServiceWorkerRegistration?"string"!=typeof n||0===n.length?Promise.reject(this.errorFactory_.create(u.default.codes.BAD_SENDER_ID)):this.getAllTokenDetailsForSenderId_(n).then(function(e){if(0!==e.length){var t=e.findIndex(function(e){return i.scope===e.swScope&&n===e.fcmSenderId});if(-1!==t)return e[t]}}).then(function(t){if(t)return i.pushManager.getSubscription().catch(function(){throw r.errorFactory_.create(u.default.codes.GET_SUBSCRIPTION_FAILED)}).then(function(e){if(e&&r.isSameSubscription_(e,t))return t.fcmToken})}):Promise.reject(this.errorFactory_.create(u.default.codes.SW_REGISTRATION_EXPECTED))}},{key:"createToken",value:function(t,n){var i=this;if("string"!=typeof t||0===t.length)return Promise.reject(this.errorFactory_.create(u.default.codes.BAD_SENDER_ID));if(!(n instanceof ServiceWorkerRegistration))return Promise.reject(this.errorFactory_.create(u.default.codes.SW_REGISTRATION_EXPECTED));var r=void 0,o=void 0;return n.pushManager.getSubscription().then(function(e){return e||n.pushManager.subscribe(d.default.SUBSCRIPTION_OPTIONS)}).then(function(e){return r=e,i.subscribeToFCM(t,r)}).then(function(e){return o=e,i.saveTokenDetails_(t,n,r,o.token,o.pushSet)}).then(function(){return o.token})}},{key:"deleteToken",value:function(e){var o=this;return"string"!=typeof e||0===e.length?Promise.reject(this.errorFactory_.create(u.default.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(e).then(function(r){if(!r)throw o.errorFactory_.create(u.default.codes.DELETE_TOKEN_NOT_FOUND);return o.openDatabase_().then(function(i){return new Promise(function(t,n){var e=i.transaction([s],"readwrite").objectStore(s).delete(r.swScope);e.onerror=function(e){n(e.target.error)},e.onsuccess=function(e){0!==e.target.result?t(r):n(o.errorFactory_.create(u.default.codes.FAILED_TO_DELETE_TOKEN))}})})})}}]),n}();t.default=a,e.exports=t.default}],[33])}catch(e){throw new Error("Cannot instantiate firebase-messaging.js - be sure to load firebase-app.js first.")}try{webpackJsonp([0],[function(e,t,n){"use strict";function i(e){return"object"===(void 0===e?"undefined":o(e))}function r(){return"undefined"!=typeof Blob}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isDef=function(e){return null!=e},t.isJustDef=function(e){return void 0!==e},t.isFunction=function(e){return"function"==typeof e},t.isObject=i,t.isNonNullObject=function(e){return i(e)&&null!==e},t.isNonArrayObject=function(e){return i(e)&&!Array.isArray(e)},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isNumber=function(e){return"number"==typeof e||e instanceof Number},t.isNativeBlob=function(e){return r()&&e instanceof Blob},t.isNativeBlobDefined=r},function(e,t,n){"use strict";function i(e){return"storage/"+e}Object.defineProperty(t,"__esModule",{value:!0}),t.Code=t.errors=t.FirebaseStorageError=void 0;var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();t.prependCode=i,t.unknown=function(){return new a(s.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")},t.objectNotFound=function(e){return new a(s.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")},t.bucketNotFound=function(e){return new a(s.BUCKET_NOT_FOUND,"Bucket '"+e+"' does not exist.")},t.projectNotFound=function(e){return new a(s.PROJECT_NOT_FOUND,"Project '"+e+"' does not exist.")},t.quotaExceeded=function(e){return new a(s.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")},t.unauthenticated=function(){return new a(s.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")},t.unauthorized=function(e){return new a(s.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")},t.retryLimitExceeded=function(){return new a(s.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")},t.invalidChecksum=function(e,t,n){return new a(s.INVALID_CHECKSUM,"Uploaded/downloaded object '"+e+"' has checksum '"+t+"' which does not match '"+n+"'. Please retry the upload/download.")},t.canceled=function(){return new a(s.CANCELED,"User canceled the upload/download.")},t.invalidEventName=function(e){return new a(s.INVALID_EVENT_NAME,"Invalid event name '"+e+"'.")},t.invalidUrl=function(e){return new a(s.INVALID_URL,"Invalid URL '"+e+"'.")},t.invalidDefaultBucket=function(e){return new a(s.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.noDefaultBucket=function(){return new a(s.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+o.configOption+"' property when initializing the app?")},t.cannotSliceBlob=function(){return new a(s.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")},t.serverFileWrongSize=function(){return new a(s.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")},t.noDownloadURL=function(){return new a(s.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")},t.invalidArgument=function(e,t,n){return new a(s.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)},t.invalidArgumentCount=function(e,t,n,i){var r,o=void 0;return r=e===t?1===(o=e)?"argument":"arguments":(o="between "+e+" and "+t,"arguments"),new a(s.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+o+" "+r+", received "+i+".")},t.appDeleted=function(){return new a(s.APP_DELETED,"The Firebase app was deleted.")},t.invalidRootOperation=function(e){return new a(s.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},t.invalidFormat=function(e,t){return new a(s.INVALID_FORMAT,"String does not match format '"+e+"': "+t)},t.internalError=function(e){throw new a(s.INTERNAL_ERROR,"Internal error: "+e)};var o=n(6),a=t.FirebaseStorageError=function(){function n(e,t){(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.code_=i(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return r(n,[{key:"codeProp",value:function(){return this.code}},{key:"codeEquals",value:function(e){return i(e)===this.codeProp()}},{key:"serverResponseProp",value:function(){return this.serverResponse_}},{key:"setServerResponseProp",value:function(e){this.serverResponse_=e}},{key:"name",get:function(){return this.name_}},{key:"code",get:function(){return this.code_}},{key:"message",get:function(){return this.message_}},{key:"serverResponse",get:function(){return this.serverResponse_}}]),n}(),s=(t.errors={},t.Code={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=function(e){return new i.local.Promise(e)},t.resolve=function(e){return i.local.Promise.resolve(e)},t.reject=function(e){return i.local.Promise.reject(e)};var i=n(10)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e,t){for(var n in e)i(e,n)&&t(n,e[n])}Object.defineProperty(t,"__esModule",{value:!0}),t.contains=i,t.forEach=r,t.clone=function(e){if(null==e)return{};var n={};return r(e,function(e,t){n[e]=t}),n}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDomainBase=function(e){e=e},t.domainBase="https://firebasestorage.googleapis.com",t.downloadBase="https://firebasestorage.googleapis.com",t.apiBaseUrl="/v0",t.apiUploadBaseUrl="/v0",t.configOption="storageBucket",t.shortMaxOperationRetryTime=6e4,t.defaultMaxOperationRetryTime=12e4,t.defaultMaxUploadRetryTime=6e4,t.minSafeInteger=-9007199254740991},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Location=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.Location=function(){function l(e,t){(function(e,t){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")})(this),this.bucket=e,this.path_=t}return i(l,[{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}},{key:"path",get:function(){return this.path_}}],[{key:"makeFromBucketSpec",value:function(e){var t=void 0;try{t=l.makeFromUrl(e)}catch(t){return new l(e,"")}if(""===t.path)return t;throw u.invalidDefaultBucket(e)}},{key:"makeFromUrl",value:function(e){for(var t=null,n=[{regex:new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],i=0;i<n.length;i++){var r=n[i],o=r.regex.exec(e);if(o){var a=o[r.indices.bucket],s=o[r.indices.path];s||(s=""),t=new l(a,s),r.postModify(t);break}}if(null==t)throw u.invalidUrl(e);return t}}]),l}()},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(i=65536|(1023&i)<<10|1023&e.charCodeAt(++n),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function r(e){var t=void 0;try{t=decodeURIComponent(e)}catch(e){throw d.invalidFormat(h.DATA_URL,"Malformed data URL.")}return i(t)}function o(e,t){switch(e){case h.BASE64:var n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i){var r=n?"-":"_";throw d.invalidFormat(e,"Invalid character '"+r+"' found: is it base64url encoded?")}break;case h.BASE64URL:var o=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(o||a){var s=o?"+":"/";throw d.invalidFormat(e,"Invalid character '"+s+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/")}var l=void 0;try{l=atob(t)}catch(t){throw d.invalidFormat(e,"Invalid character found")}for(var u=new Uint8Array(l.length),c=0;c<l.length;c++)u[c]=l.charCodeAt(c);return u}function s(e){var t=new c(e);return t.base64?o(h.BASE64,t.rest):r(t.rest)}function l(e){return new c(e).contentType}Object.defineProperty(t,"__esModule",{value:!0}),t.StringData=t.StringFormat=void 0,t.formatValidator=function(e){switch(e){case h.RAW:case h.BASE64:case h.BASE64URL:case h.DATA_URL:return;default:throw"Expected one of the event types: ["+h.RAW+", "+h.BASE64+", "+h.BASE64URL+", "+h.DATA_URL+"]."}},t.dataFromString=function(e,t){switch(e){case h.RAW:return new u(i(t));case h.BASE64:case h.BASE64URL:return new u(o(e,t));case h.DATA_URL:return new u(s(t),l(t))}throw d.unknown()},t.utf8Bytes_=i,t.percentEncodedBytes_=r,t.base64Bytes_=o,t.dataURLBytes_=s,t.dataURLContentType_=l;var d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),h=t.StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},u=t.StringData=function e(t,n){a(this,e),this.data=t,this.contentType=n||null},c=function e(t){a(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw d.invalidFormat(h.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i,r,o=n[1]||null;null!=o&&(this.base64=(r=";base64",!!((i=o).length>=r.length)&&i.substring(i.length-r.length)===r),this.contentType=this.base64?o.substring(0,o.length-";base64".length):o),this.rest=t.substring(t.indexOf(",")+1)}},,,function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(t,n){return function(e){t(e),n(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ArgSpec=void 0,t.validate=function(e,t,n){for(var i=t.length,r=t.length,o=0;o<t.length;o++)if(t[o].optional){i=o;break}if(!(i<=n.length&&n.length<=r))throw s.invalidArgumentCount(i,r,e,n.length);for(var a=0;a<n.length;a++)try{t[a].validator(n[a])}catch(t){throw t instanceof Error?s.invalidArgument(a,e,t.message):s.invalidArgument(a,e,t)}},t.and_=r,t.stringSpec=function(e,t){function n(e){if(!a.isString(e))throw"Expected string."}var i;return i=e?r(n,e):n,new l(i,t)},t.uploadDataSpec=function(){return new l(function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||a.isNativeBlobDefined()&&e instanceof Blob))throw"Expected Blob or File."})},t.metadataSpec=function(e){return new l(o.metadataValidator,e)},t.nonNegativeNumberSpec=function(){return new l(function(e){if(!(a.isNumber(e)&&0<=e))throw"Expected a number 0 or greater."})},t.looseObjectSpec=function(t,e){return new l(function(e){if(!(null===e||a.isDef(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)},e)},t.nullFunctionSpec=function(e){return new l(function(e){if(null!==e&&!a.isFunction(e))throw"Expected a Function."},e)};var s=i(n(1)),o=i(n(13)),a=i(n(0)),l=t.ArgSpec=function n(t,e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var i=this;this.validator=function(e){i.optional&&!a.isJustDef(e)||t(e)},this.optional=!!e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contains=function(e,t){return-1!==e.indexOf(t)},t.clone=function(e){return Array.prototype.slice.call(e)},t.remove=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){return t}function r(e){return!d.isString(e)||e.length<2?e:(e=e,c.lastComponent(e))}function s(i,r){Object.defineProperty(i,"ref",{get:function(){var e=i.bucket,t=i.fullPath,n=new u.Location(e,t);return r.makeStorageReference(n)}})}function a(e,t,n){for(var i={type:"file"},r=n.length,o=0;o<r;o++){var a=n[o];i[a.local]=a.xform(i,t[a.server])}return s(i,e),i}Object.defineProperty(t,"__esModule",{value:!0}),t.Mapping=void 0,t.noXform_=o,t.xformPath=r,t.getMappings=function(){if(p)return p;var e=[];e.push(new f("bucket")),e.push(new f("generation")),e.push(new f("metageneration")),e.push(new f("name","fullPath",!0));var t=new f("name");t.xform=function(e,t){return r(t)},e.push(t);var n=new f("size");return n.xform=function(e,t){return d.isDef(t)?+t:t},e.push(n),e.push(new f("timeCreated")),e.push(new f("updated")),e.push(new f("md5Hash",null,!0)),e.push(new f("cacheControl",null,!0)),e.push(new f("contentDisposition",null,!0)),e.push(new f("contentEncoding",null,!0)),e.push(new f("contentLanguage",null,!0)),e.push(new f("contentType",null,!0)),e.push(new f("metadata","customMetadata",!0)),e.push(new f("downloadTokens","downloadURLs",!1,function(r,e){if(!(d.isString(e)&&0<e.length))return[];var o=encodeURIComponent;return e.split(",").map(function(e){var t=r.bucket,n=r.fullPath,i="/b/"+o(t)+"/o/"+o(n);return h.makeDownloadUrl(i)+h.makeQueryString({alt:"media",token:e})})})),p=e},t.addRef=s,t.fromResource=a,t.fromResourceString=function(e,t,n){var i=l.jsonObjectOrNull(t);return null===i?null:a(e,i,n)},t.toResourceString=function(e,t){for(var n={},i=t.length,r=0;r<i;r++){var o=t[r];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)},t.metadataValidator=function(e){if(!e||!d.isObject(e))throw"Expected Metadata object.";for(var t in e){var n=e[t];if("customMetadata"===t){if(!d.isObject(n))throw"Expected object for 'customMetadata' mapping."}else if(d.isNonNullObject(n))throw"Mapping for '"+t+"' cannot be an object."}};var l=i(n(43)),u=n(7),c=i(n(23)),d=i(n(0)),h=i(n(14)),f=t.Mapping=function n(e,t,i,r){(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||o},p=null},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.makeNormalUrl=function(e){return r.domainBase+r.apiBaseUrl+e},t.makeDownloadUrl=function(e){return r.downloadBase+r.apiBaseUrl+e},t.makeUploadUrl=function(e){return r.domainBase+r.apiUploadBaseUrl+e},t.makeQueryString=function(e){var i=encodeURIComponent,r="?";return o.forEach(e,function(e,t){var n=i(e)+"="+i(t);r=r+n+"&"}),r=r.slice(0,-1)};var r=i(n(6)),o=i(n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.taskStateFromInternalTaskState=function(e){switch(e){case i.RUNNING:case i.PAUSING:case i.CANCELING:return r.RUNNING;case i.PAUSED:return r.PAUSED;case i.SUCCESS:return r.SUCCESS;case i.CANCELED:return r.CANCELED;case i.ERROR:default:return r.ERROR}};var i=(t.TaskEvent={STATE_CHANGED:"state_changed"},t.InternalTaskState={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"}),r=t.TaskState={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Reference=void 0;var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=i(n(11)),a=n(22),s=i(n(1)),l=n(7),u=i(n(13)),c=i(n(3)),d=i(n(23)),h=i(n(24)),f=n(8),p=i(f),g=i(n(0)),v=n(49);t.Reference=function(){function n(e,t){(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.authWrapper=e,t instanceof l.Location?this.location=t:this.location=l.Location.makeFromUrl(t)}return r(n,[{key:"toString",value:function(){return o.validate("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path}},{key:"newRef",value:function(e,t){return new n(e,t)}},{key:"mappings",value:function(){return u.getMappings()}},{key:"child",value:function(e){o.validate("child",[o.stringSpec()],arguments);var t=d.child(this.location.path,e),n=new l.Location(this.location.bucket,t);return this.newRef(this.authWrapper,n)}},{key:"put",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o.validate("put",[o.uploadDataSpec(),o.metadataSpec(!0)],arguments),this.throwIfRoot_("put"),new v.UploadTask(this,this.authWrapper,this.location,this.mappings(),new a.FbsBlob(e),t)}},{key:"putString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f.StringFormat.RAW,n=arguments[2];o.validate("putString",[o.stringSpec(),o.stringSpec(p.formatValidator,!0),o.metadataSpec(!0)],arguments),this.throwIfRoot_("putString");var i=p.dataFromString(t,e),r=c.clone(n);return!g.isDef(r.contentType)&&g.isDef(i.contentType)&&(r.contentType=i.contentType),new v.UploadTask(this,this.authWrapper,this.location,this.mappings(),new a.FbsBlob(i.data,!0),r)}},{key:"delete",value:function(){o.validate("delete",[],arguments),this.throwIfRoot_("delete");var n=this;return this.authWrapper.getAuthToken().then(function(e){var t=h.deleteObject(n.authWrapper,n.location);return n.authWrapper.makeRequest(t,e).getPromise()})}},{key:"getMetadata",value:function(){o.validate("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var n=this;return this.authWrapper.getAuthToken().then(function(e){var t=h.getMetadata(n.authWrapper,n.location,n.mappings());return n.authWrapper.makeRequest(t,e).getPromise()})}},{key:"updateMetadata",value:function(n){o.validate("updateMetadata",[o.metadataSpec()],arguments),this.throwIfRoot_("updateMetadata");var i=this;return this.authWrapper.getAuthToken().then(function(e){var t=h.updateMetadata(i.authWrapper,i.location,n,i.mappings());return i.authWrapper.makeRequest(t,e).getPromise()})}},{key:"getDownloadURL",value:function(){return o.validate("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(e){var t=e.downloadURLs[0];if(g.isDef(t))return t;throw s.noDownloadURL()})}},{key:"throwIfRoot_",value:function(e){if(""===this.location.path)throw s.invalidRootOperation(e)}},{key:"parent",get:function(){var e=d.parent(this.location.path);if(null===e)return null;var t=new l.Location(this.location.bucket,e);return this.newRef(this.authWrapper,t)}},{key:"root",get:function(){var e=new l.Location(this.location.bucket,"");return this.newRef(this.authWrapper,e)}},{key:"bucket",get:function(){return this.location.bucket}},{key:"fullPath",get:function(){return this.location.path}},{key:"name",get:function(){return d.lastComponent(this.location.path)}},{key:"storage",get:function(){return this.authWrapper.service()}}]),n}()},,,,,,function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.FbsBlob=void 0;var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),u=i(n(42)),c=n(8),d=i(c),h=i(n(0));t.FbsBlob=function(){function l(e,t){!function(e,t){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var n=0,i="";h.isNativeBlob(e)?(n=(this.data_=e).size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}return r(l,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(e,t){if(h.isNativeBlob(this.data_)){var n=this.data_,i=u.sliceBlob(n,e,t);return null===i?null:new l(i)}return new l(new Uint8Array(this.data_.buffer,e,t-e),!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(h.isNativeBlobDefined()){var i=t.map(function(e){return e instanceof l?e.data_:e});return new l(u.getBlob.apply(null,i))}var r=t.map(function(e){return h.isString(e)?d.dataFromString(c.StringFormat.RAW,e).data:e.data_}),o=0;r.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return r.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new l(a,!0)}}]),l}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parent=function(e){if(0==e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)},t.child=function(e,t){var n=t.split("/").filter(function(e){return 0<e.length}).join("/");return 0===e.length?n:e+"/"+n},t.lastComponent=function(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){if(!e)throw _.unknown()}function m(i,r){return function(e,t){var n=w.fromResourceString(i,t,r);return f(null!==n),n}}function y(i){return function(e,t){var n=void 0;return(n=401===e.getStatus()?_.unauthenticated():402===e.getStatus()?_.quotaExceeded(i.bucket):403===e.getStatus()?_.unauthorized(i.path):t).setServerResponseProp(t.serverResponseProp()),n}}function u(i){var r=y(i);return function(e,t){var n=r(e,t);return 404===e.getStatus()&&(n=_.objectNotFound(i.path)),n.setServerResponseProp(t.serverResponseProp()),n}}function r(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function g(e,t,n){var i=a.clone(n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=r(null,t)),i}function b(e,t){var n=void 0;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){f(!1)}return f(o.contains(t||["active"],n)),n}Object.defineProperty(t,"__esModule",{value:!0}),t.resumableUploadChunkSize=t.ResumableUploadStatus=void 0,t.handlerCheck=f,t.metadataHandler=m,t.sharedErrorHandler=y,t.objectErrorHandler=u,t.getMetadata=function(e,t,n){var i=t.fullServerUrl(),r=k.makeNormalUrl(i),o=e.maxOperationRetryTime(),a=new T.RequestInfo(r,"GET",m(e,n),o);return a.errorHandler=u(t),a},t.updateMetadata=function(e,t,n,i){var r=t.fullServerUrl(),o=k.makeNormalUrl(r),a=w.toResourceString(n,i),s=e.maxOperationRetryTime(),l=new T.RequestInfo(o,"PATCH",m(e,i),s);return l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=a,l.errorHandler=u(t),l},t.deleteObject=function(e,t){var n=t.fullServerUrl(),i=k.makeNormalUrl(n),r=e.maxOperationRetryTime(),o=new T.RequestInfo(i,"DELETE",function(){},r);return o.successCodes=[200,204],o.errorHandler=u(t),o},t.determineContentType_=r,t.metadataForUpload_=g,t.multipartUpload=function(e,t,n,i,r){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var l=g(t,i,r),u="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w.toResourceString(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c=v.FbsBlob.getBlob(u,i,"\r\n--"+s+"--");if(null===c)throw _.cannotSliceBlob();var d={name:l.fullPath},h=k.makeUploadUrl(o),f=e.maxUploadRetryTime(),p=new T.RequestInfo(h,"POST",m(e,n),f);return p.urlParams=d,p.headers=a,p.body=c.uploadData(),p.errorHandler=y(t),p},t.checkResumeHeader_=b,t.createResumableUpload=function(e,t,n,i,r){var o=t.bucketOnlyServerUrl(),a=g(t,i,r),s={name:a.fullPath},l=k.makeUploadUrl(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=w.toResourceString(a,n),d=e.maxUploadRetryTime(),h=new T.RequestInfo(l,"POST",function(e){b(e);var t=void 0;try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){f(!1)}return f(p.isString(t)),t},d);return h.urlParams=s,h.headers=u,h.body=c,h.errorHandler=y(t),h},t.getResumableUploadStatus=function(e,t,n,r){var i=e.maxUploadRetryTime(),o=new T.RequestInfo(n,"POST",function(e){var t=b(e,["active","final"]),n=void 0;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){f(!1)}var i=parseInt(n,10);return f(!isNaN(i)),new S(i,r.size(),"final"===t)},i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=y(t),o},t.continueResumableUpload=function(e,a,t,s,n,l,i,r){var u=new S(0,0);if(i?(u.current=i.current,u.total=i.total):(u.current=0,u.total=s.size()),s.size()!==u.total)throw _.serverFileWrongSize();var o=u.total-u.current,c=o;0<n&&(c=Math.min(c,n));var d=u.current,h=d+c,f={"X-Goog-Upload-Command":c===o?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=s.slice(d,h);if(null===p)throw _.cannotSliceBlob();var g=a.maxUploadRetryTime(),v=new T.RequestInfo(t,"POST",function(e,t){var n,i=b(e,["active","final"]),r=u.current+c,o=s.size();return n="final"===i?m(a,l)(e,t):null,new S(r,o,"final"===i,n)},g);return v.headers=f,v.body=p.uploadData(),v.progressCallback=r||null,v.errorHandler=y(e),v};var o=i(n(12)),v=n(22),_=i(n(1)),w=i(n(13)),a=i(n(3)),T=n(46),p=i(n(0)),k=i(n(14)),S=t.ResumableUploadStatus=function n(e,t,i,r){(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null};t.resumableUploadChunkSize=262144},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=t.ErrorCode=void 0;(i=r||(t.ErrorCode=r={}))[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XhrIoPool=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=n(48);t.XhrIoPool=function(){function n(){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this)}return i(n,[{key:"createXhrIo",value:function(){return new r.NetworkXhrIo}}]),n}()},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceInternals=t.Service=void 0;var a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=i(n(11)),l=n(39),u=n(7),r=i(n(2)),c=i(n(45)),d=n(16),h=(t.Service=function(){function r(e,t,n){if(o(this,r),this.bucket_=null,this.authWrapper_=new l.AuthWrapper(e,function(e,t){return new d.Reference(e,t)},c.makeRequest,this,t),this.app_=e,null!=n)this.bucket_=u.Location.makeFromBucketSpec(n);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new u.Location(i,""))}this.internals_=new h(this)}return a(r,[{key:"ref",value:function(e){if(s.validate("ref",[s.stringSpec(function(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var t=new d.Reference(this.authWrapper_,this.bucket_);return null!=e?t.child(e):t}},{key:"refFromURL",value:function(e){return s.validate("refFromURL",[s.stringSpec(function(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{u.Location.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new d.Reference(this.authWrapper_,e)}},{key:"setMaxUploadRetryTime",value:function(e){s.validate("setMaxUploadRetryTime",[s.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)}},{key:"setMaxOperationRetryTime",value:function(e){s.validate("setMaxOperationRetryTime",[s.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)}},{key:"maxUploadRetryTime",get:function(){return this.authWrapper_.maxUploadRetryTime()}},{key:"maxOperationRetryTime",get:function(){return this.authWrapper_.maxOperationRetryTime()}},{key:"app",get:function(){return this.app_}},{key:"INTERNAL",get:function(){return this.internals_}}]),r}(),t.ServiceInternals=function(){function t(e){o(this,t),this.service_=e}return a(t,[{key:"delete",value:function(){return this.service_.authWrapper_.deleteApp(),r.resolve(void 0)}}]),t}())},,,,,,function(e,t,n){"use strict";function i(e,t,n){return new c.Service(e,new l.XhrIoPool,n)}function r(e){e.INTERNAL.registerService(h,i,{TaskState:s.TaskState,TaskEvent:s.TaskEvent,StringFormat:a.StringFormat,Storage:c.Service,Reference:u.Reference},void 0,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerStorage=r;var o,a=n(8),s=n(15),l=n(30),u=n(16),c=n(31),d=n(4),h="storage";r(((o=d)&&o.__esModule?o:{default:o}).default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.async=function(i){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.resolve(!0).then(function(){i.apply(null,t)})}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthWrapper=void 0;var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=i(n(6)),o=i(n(1)),l=n(41),u=n(7),c=i(n(2)),d=n(47),h=i(n(0));t.AuthWrapper=function(){function a(e,t,n,i,r){if(function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var o=this.app_.options;h.isDef(o)&&(this.bucket_=a.extractBucket_(o))}this.storageRefMaker_=t,this.requestMaker_=n,this.pool_=r,this.service_=i,this.maxOperationRetryTime_=s.defaultMaxOperationRetryTime,this.maxUploadRetryTime_=s.defaultMaxUploadRetryTime,this.requestMap_=new d.RequestMap}return r(a,[{key:"getAuthToken",value:function(){return null!==this.app_&&h.isDef(this.app_.INTERNAL)&&h.isDef(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(){return null}):c.resolve(null)}},{key:"bucket",value:function(){if(this.deleted_)throw o.appDeleted();return this.bucket_}},{key:"service",value:function(){return this.service_}},{key:"makeStorageReference",value:function(e){return this.storageRefMaker_(this,e)}},{key:"makeRequest",value:function(e,t){if(this.deleted_)return new l.FailRequest(o.appDeleted());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n}},{key:"deleteApp",value:function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()}},{key:"maxUploadRetryTime",value:function(){return this.maxUploadRetryTime_}},{key:"setMaxUploadRetryTime",value:function(e){this.maxUploadRetryTime_=e}},{key:"maxOperationRetryTime",value:function(){return this.maxOperationRetryTime_}},{key:"setMaxOperationRetryTime",value:function(e){this.maxOperationRetryTime_=e}}],[{key:"extractBucket_",value:function(e){var t=e[s.configOption]||null;return null==t?null:u.Location.makeFromBucketSpec(t).bucket}}]),a}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=function(t,e,n){function r(){return 2===d}function o(){h||(h=!0,e.apply(null,arguments))}function a(e){u=setTimeout(function(){u=null,t(i,r())},e)}function i(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!h){if(e)return void o.apply(null,arguments);if(r()||c)return void o.apply(null,arguments);l<64&&(l*=2),a(1===d?(d=2,0):1e3*(l+Math.random()))}}function s(e){f||(f=!0,h||(null!==u?(e||(d=2),clearTimeout(u),a(0)):e||(d=1)))}var l=1,u=null,c=!1,d=0,h=!1,f=!1;return a(0),setTimeout(function(){s(c=!0)},n),s},t.stop=function(e){e(!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FailRequest=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.FailRequest=function(){function n(e){(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.promise_=r.reject(e)}return i(n,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}}]),n}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBlob=function(){for(var e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(void 0!==e){for(var r=new e,o=0;o<n.length;o++)r.append(n[o]);return r.getBlob()}if(a.isNativeBlobDefined())return new Blob(n);throw Error("This browser doesn't seem to support creating Blobs")},t.sliceBlob=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsonObjectOrNull=function(e){var t=void 0;try{t=JSON.parse(e)}catch(e){return null}return i.isNonArrayObject(t)?t:null};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Observer=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));t.Observer=function n(e,t,i){if(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),o.isFunction(e)||o.isDef(t)||o.isDef(i))this.next=e,this.error=t||null,this.complete=i||null;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){null!==t&&0<t.length&&(e.Authorization="Firebase "+t)}function s(e){var t=void 0!==firebase?firebase.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}Object.defineProperty(t,"__esModule",{value:!0}),t.RequestEndStatus=void 0;var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();t.addAuthHeader_=a,t.addVersionHeader_=s,t.makeRequest=function(e,t,n){var i=h.makeQueryString(e.urlParams),r=e.url+i,o=c.clone(e.headers);return a(o,t),s(o),new v(r,e.method,o,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)};var l=i(n(12)),o=i(n(40)),u=i(n(1)),c=i(n(3)),p=i(n(2)),d=i(n(0)),h=i(n(14)),g=i(n(25)),v=function(){function h(e,t,n,i,r,o,a,s,l,u,c){f(this,h),this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=u,this.timeout_=l,this.pool_=c;var d=this;this.promise_=p.make(function(e,t){d.resolve_=e,d.reject_=t,d.start_()})}return r(h,[{key:"start_",value:function(){function e(e,t){var n=s.resolve_,i=s.reject_,r=t.xhr;if(t.wasSuccessCode)try{var o=s.callback_(r,r.getResponseText());d.isJustDef(o)?n(o):n()}catch(e){i(e)}else if(null!==r){var a=u.unknown();a.setServerResponseProp(r.getResponseText()),i(s.errorCallback_?s.errorCallback_(r,a):a)}else t.canceled?i(s.appDelete_?u.appDeleted():u.canceled()):i(u.retryLimitExceeded())}var s=this;this.canceled_?e(0,new m(!1,null,!0)):this.backoffId_=o.start(function(o,e){function a(e){var t=e.loaded,n=e.lengthComputable?e.total:-1;null!==s.progressCallback_&&s.progressCallback_(t,n)}if(e)o(!1,new m(!1,null,!0));else{var t=s.pool_.createXhrIo();s.pendingXhr_=t,null!==s.progressCallback_&&t.addUploadProgressListener(a),t.send(s.url_,s.method_,s.body_,s.headers_).then(function(e){null!==s.progressCallback_&&e.removeUploadProgressListener(a),s.pendingXhr_=null;var t=(e=e).getErrorCode()===g.ErrorCode.NO_ERROR,n=e.getStatus();if(t&&!s.isRetryStatusCode_(n)){var i=l.contains(s.successCodes_,n);o(!0,new m(i,e))}else{var r=e.getErrorCode()===g.ErrorCode.ABORT;o(!1,new m(!1,null,r))}})}},e,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&o.stop(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=l.contains([408,429],e),n=l.contains(this.additionalRetryCodes_,e);return 500<=e&&e<600||t||n}}]),h}(),m=t.RequestEndStatus=function e(t,n,i){f(this,e),this.wasSuccessCode=t,this.xhr=n,this.canceled=!!i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestInfo=function n(e,t,i,r){(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.RequestMap=void 0;var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=i(n(3)),a=i(n(6));t.RequestMap=function(){function n(){(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.map_={},this.id_=a.minSafeInteger}return r(n,[{key:"addRequest",value:function(e){function t(){delete i.map_[n]}var n=this.id_;this.id_++,this.map_[n]=e;var i=this;e.getPromise().then(t,t)}},{key:"clear",value:function(){o.forEach(this.map_,function(e,t){t&&t.cancel(!0)}),this.map_={}}}]),n}()},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkXhrIo=void 0;var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=i(n(1)),a=i(n(3)),s=i(n(2)),l=i(n(0)),u=i(n(25));t.NetworkXhrIo=function(){function n(){var t=this;(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=u.ErrorCode.NO_ERROR,this.sendPromise_=s.make(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=u.ErrorCode.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=u.ErrorCode.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return r(n,[{key:"send",value:function(e,t,n,i){var r=this;if(this.sent_)throw o.internalError("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(t,e,!0),l.isDef(i)&&a.forEach(i,function(e,t){r.xhr_.setRequestHeader(e,t.toString())}),l.isDef(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw o.internalError("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw o.internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponseText",value:function(){if(!this.sent_)throw o.internalError("cannot .getResponseText() before sending");return this.xhr_.responseText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){l.isDef(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){l.isDef(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)}}]),n}()},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.UploadTask=void 0;var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),h=n(15),o=i(h),f=n(44),a=n(50),p=i(n(11)),l=i(n(12)),u=n(38),c=i(n(1)),d=i(n(2)),g=i(n(24)),v=i(n(0));t.UploadTask=function(){function s(e,t,n,i,r){var o=this,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;(function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")})(this),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=r,this.metadata_=a,this.mappings_=i,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=h.InternalTaskState.RUNNING,this.errorHandler_=function(e){o.request_=null,o.chunkMultiplier_=1,e.codeEquals(c.Code.CANCELED)?(o.needToFetchStatus_=!0,o.completeTransitions_()):(o.error_=e,o.transition_(h.InternalTaskState.ERROR))},this.metadataErrorHandler_=function(e){o.request_=null,e.codeEquals(c.Code.CANCELED)?o.completeTransitions_():(o.error_=e,o.transition_(h.InternalTaskState.ERROR))},this.promise_=d.make(function(e,t){o.resolve_=e,o.reject_=t,o.start_()}),this.promise_.then(null,function(){})}return r(s,[{key:"makeProgressCallback_",value:function(){var t=this,n=this.transferred_;return function(e){t.updateProgress_(n+e)}}},{key:"shouldDoResumable_",value:function(e){return 262144<e.size()}},{key:"start_",value:function(){this.state_===h.InternalTaskState.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())}},{key:"resolveToken_",value:function(t){var n=this;this.authWrapper_.getAuthToken().then(function(e){switch(n.state_){case h.InternalTaskState.RUNNING:t(e);break;case h.InternalTaskState.CANCELING:n.transition_(h.InternalTaskState.CANCELED);break;case h.InternalTaskState.PAUSING:n.transition_(h.InternalTaskState.PAUSED)}})}},{key:"createResumable_",value:function(){var i=this;this.resolveToken_(function(e){var t=g.createResumableUpload(i.authWrapper_,i.location_,i.mappings_,i.blob_,i.metadata_),n=i.authWrapper_.makeRequest(t,e);(i.request_=n).getPromise().then(function(e){i.request_=null,i.uploadUrl_=e,i.needToFetchStatus_=!1,i.completeTransitions_()},i.errorHandler_)})}},{key:"fetchStatus_",value:function(){var i=this,r=this.uploadUrl_;this.resolveToken_(function(e){var t=g.getResumableUploadStatus(i.authWrapper_,i.location_,r,i.blob_),n=i.authWrapper_.makeRequest(t,e);(i.request_=n).getPromise().then(function(e){e=e,i.request_=null,i.updateProgress_(e.current),i.needToFetchStatus_=!1,e.finalized&&(i.needToFetchMetadata_=!0),i.completeTransitions_()},i.errorHandler_)})}},{key:"continueUpload_",value:function(){var i=this,r=g.resumableUploadChunkSize*this.chunkMultiplier_,o=new g.ResumableUploadStatus(this.transferred_,this.blob_.size()),a=this.uploadUrl_;this.resolveToken_(function(e){var t=void 0;try{t=g.continueResumableUpload(i.location_,i.authWrapper_,a,i.blob_,r,i.mappings_,o,i.makeProgressCallback_())}catch(e){return i.error_=e,void i.transition_(h.InternalTaskState.ERROR)}var n=i.authWrapper_.makeRequest(t,e);(i.request_=n).getPromise().then(function(e){i.increaseMultiplier_(),i.request_=null,i.updateProgress_(e.current),e.finalized?(i.metadata_=e.metadata,i.transition_(h.InternalTaskState.SUCCESS)):i.completeTransitions_()},i.errorHandler_)})}},{key:"increaseMultiplier_",value:function(){g.resumableUploadChunkSize*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)}},{key:"fetchMetadata_",value:function(){var i=this;this.resolveToken_(function(e){var t=g.getMetadata(i.authWrapper_,i.location_,i.mappings_),n=i.authWrapper_.makeRequest(t,e);(i.request_=n).getPromise().then(function(e){i.request_=null,i.metadata_=e,i.transition_(h.InternalTaskState.SUCCESS)},i.metadataErrorHandler_)})}},{key:"oneShotUpload_",value:function(){var i=this;this.resolveToken_(function(e){var t=g.multipartUpload(i.authWrapper_,i.location_,i.mappings_,i.blob_,i.metadata_),n=i.authWrapper_.makeRequest(t,e);(i.request_=n).getPromise().then(function(e){i.request_=null,i.metadata_=e,i.updateProgress_(i.blob_.size()),i.transition_(h.InternalTaskState.SUCCESS)},i.errorHandler_)})}},{key:"updateProgress_",value:function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()}},{key:"transition_",value:function(e){if(this.state_!==e)switch(e){case h.InternalTaskState.CANCELING:case h.InternalTaskState.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case h.InternalTaskState.RUNNING:var t=this.state_===h.InternalTaskState.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case h.InternalTaskState.PAUSED:this.state_=e,this.notifyObservers_();break;case h.InternalTaskState.CANCELED:this.error_=c.canceled(),this.state_=e,this.notifyObservers_();break;case h.InternalTaskState.ERROR:case h.InternalTaskState.SUCCESS:this.state_=e,this.notifyObservers_()}}},{key:"completeTransitions_",value:function(){switch(this.state_){case h.InternalTaskState.PAUSING:this.transition_(h.InternalTaskState.PAUSED);break;case h.InternalTaskState.CANCELING:this.transition_(h.InternalTaskState.CANCELED);break;case h.InternalTaskState.RUNNING:this.start_()}}},{key:"on",value:function(e){function t(e){try{return void s(e)}catch(e){}try{if(l(e),!(v.isJustDef(e.next)||v.isJustDef(e.error)||v.isJustDef(e.complete)))throw""}catch(e){throw a}}function n(i){return function(e,t){null!==i&&p.validate("on",i,arguments);var n=new f.Observer(e,t,o);return c.addObserver_(n),function(){c.removeObserver_(n)}}}var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,a="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=p.nullFunctionSpec(!0).validator,l=p.looseObjectSpec(null,!0).validator,u=[p.stringSpec(function(){if(e!==h.TaskEvent.STATE_CHANGED)throw"Expected one of the event types: ["+h.TaskEvent.STATE_CHANGED+"]."}),p.looseObjectSpec(t,!0),p.nullFunctionSpec(!0),p.nullFunctionSpec(!0)];p.validate("on",u,arguments);var c=this,d=[p.looseObjectSpec(function(e){if(null===e)throw a;t(e)}),p.nullFunctionSpec(!0),p.nullFunctionSpec(!0)];return v.isJustDef(i)||v.isJustDef(r)||v.isJustDef(o)?n(null)(i,r,o):n(d)}},{key:"then",value:function(e,t){return this.promise_.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"addObserver_",value:function(e){this.observers_.push(e),this.notifyObserver_(e)}},{key:"removeObserver_",value:function(e){l.remove(this.observers_,e)}},{key:"notifyObservers_",value:function(){var t=this;this.finishPromise_(),l.clone(this.observers_).forEach(function(e){t.notifyObserver_(e)})}},{key:"finishPromise_",value:function(){if(null!==this.resolve_){var e=!0;switch(o.taskStateFromInternalTaskState(this.state_)){case h.TaskState.SUCCESS:(0,u.async)(this.resolve_.bind(null,this.snapshot))();break;case h.TaskState.CANCELED:case h.TaskState.ERROR:var t=this.reject_;(0,u.async)(t.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}}},{key:"notifyObserver_",value:function(e){switch(o.taskStateFromInternalTaskState(this.state_)){case h.TaskState.RUNNING:case h.TaskState.PAUSED:null!==e.next&&(0,u.async)(e.next.bind(e,this.snapshot))();break;case h.TaskState.SUCCESS:null!==e.complete&&(0,u.async)(e.complete.bind(e))();break;case h.TaskState.CANCELED:case h.TaskState.ERROR:null!==e.error&&(0,u.async)(e.error.bind(e,this.error_))();break;default:null!==e.error&&(0,u.async)(e.error.bind(e,this.error_))()}}},{key:"resume",value:function(){p.validate("resume",[],arguments);var e=this.state_===h.InternalTaskState.PAUSED||this.state_===h.InternalTaskState.PAUSING;return e&&this.transition_(h.InternalTaskState.RUNNING),e}},{key:"pause",value:function(){p.validate("pause",[],arguments);var e=this.state_===h.InternalTaskState.RUNNING;return e&&this.transition_(h.InternalTaskState.PAUSING),e}},{key:"cancel",value:function(){p.validate("cancel",[],arguments);var e=this.state_===h.InternalTaskState.RUNNING||this.state_===h.InternalTaskState.PAUSING;return e&&this.transition_(h.InternalTaskState.CANCELING),e}},{key:"snapshot",get:function(){var e=o.taskStateFromInternalTaskState(this.state_);return new a.UploadTaskSnapshot(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)}}]),s}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();t.UploadTaskSnapshot=function(){function a(e,t,n,i,r,o){(function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")})(this),this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=i,this.task=r,this.ref=o}return i(a,[{key:"downloadURL",get:function(){if(null===this.metadata)return null;var e=this.metadata.downloadURLs;return null!=e&&null!=e[0]?e[0]:null}}]),a}()}],[37])}catch(e){throw new Error("Cannot instantiate firebase-storage.js - be sure to load firebase-app.js first.")}var firebase=function(){var a=void 0===a?self:a;return function(l){function u(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,u),t.l=!0,t.exports}var c=a.webpackJsonp;a.webpackJsonp=function(e,t,n){for(var i,r,o,a=0,s=[];a<e.length;a++)r=e[a],d[r]&&s.push(d[r][0]),d[r]=0;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(l[i]=t[i]);for(c&&c(e,t,n);s.length;)s.shift()();if(n)for(a=0;a<n.length;a++)o=u(u.s=n[a]);return o};var n={},d={2:0};return u.e=function(n){function e(){r.onerror=r.onload=null,clearTimeout(o);var e=d[n];0!==e&&(e&&e[1](new Error("Loading chunk "+n+" failed.")),d[n]=void 0)}if(0===d[n])return Promise.resolve();if(d[n])return d[n][2];var t=new Promise(function(e,t){d[n]=[e,t]});d[n][2]=t;var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.timeout=12e4,u.nc&&r.setAttribute("nonce",u.nc),r.src=u.p+""+n+".js";var o=setTimeout(e,12e4);return r.onerror=r.onload=e,i.appendChild(r),t},u.m=l,u.c=n,u.i=function(e){return e},u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw console.error(e),e},u(u.s=4)}({10:function(e,i,r){"use strict";(function(e){Object.defineProperty(i,"__esModule",{value:!0});var t=void 0;if(void 0!==e)t=e;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise||r(52);i.local={Promise:n,GoogPromise:n}}).call(i,r(26))},17:function(e,t,n){"use strict";function a(){}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();t.createSubscribe=function(e,t){var n=new i(e,t);return n.subscribe.bind(n)},t.async=function(i,r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.resolve(!0).then(function(){i.apply(void 0,t)}).catch(function(e){r&&r(e)})}};var o=n(10).local.Promise,i=function(){function i(e,t){var n=this;(function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")})(this),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=o.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return r(i,[{key:"next",value:function(t){this.forEachObserver(function(e){e.next(t)})}},{key:"error",value:function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var i=this,r=void 0;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==(void 0===e?"undefined":l(e))||null===e)return!1;var n=!0,i=!1,r=void 0;try{for(var o,a=["next","error","complete"][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s in e&&"function"==typeof e[s])return!0}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=a),void 0===r.error&&(r.error=a),void 0===r.complete&&(r.complete=a);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),i}()},26:function(ab,bb){var cb;cb=function(){return this}();try{cb=cb||Function("return this")()||eval("this")}catch(ab){"object"==typeof a&&(cb=a)}ab.exports=cb},27:function(e,t,n){"use strict";function c(e,t){throw r.create(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();t.createFirebaseNamespace=function e(){function a(e){var t=o[e=e||v];return void 0===t&&c("no-app",{name:e}),t}function i(n,i){Object.keys(s).forEach(function(e){var t=r(n,e);null!==t&&l[t]&&l[t](i,n)})}function r(e,t){return"serverAuth"===t?null:(e.options,t)}var o={},s={},l={},u={__esModule:!0,initializeApp:function(e,t){void 0===t?t=v:"string"==typeof t&&""!==t||c("bad-app-name",{name:t+""}),void 0!==o[t]&&c("duplicate-app",{name:t});var n=new m(e,t,u);return i(o[t]=n,"create"),null!=n.INTERNAL&&null!=n.INTERNAL.getToken||(0,p.deepExtend)(n,{INTERNAL:{getUid:function(){return null},getToken:function(){return g.resolve(null)},addAuthTokenListener:function(e){setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(){}}}),n},app:a,apps:null,Promise:g,SDK_VERSION:"4.0.0",INTERNAL:{registerService:function(t,n,e,i,r){var o;return s[t]&&c("duplicate-service",{name:t}),s[t]=r?n:function(e,t){return n(e,t,v)},i&&(l[t]=i),o=function(e){return void 0===e&&(e=a()),"function"!=typeof e[t]&&c("invalid-app-argument",{name:t}),e[t]()},void 0!==e&&(0,p.deepExtend)(o,e),u[t]=o},createFirebaseNamespace:e,extendNamespace:function(e){(0,p.deepExtend)(u,e)},createSubscribe:d.createSubscribe,ErrorFactory:h.ErrorFactory,removeApp:function(e){i(o[e],"delete"),delete o[e]},factories:s,useAsService:r,Promise:f.local.GoogPromise,deepExtend:p.deepExtend}};return(0,p.patchProperty)(u,"default",u),Object.defineProperty(u,"apps",{get:function(){return Object.keys(o).map(function(e){return o[e]})}}),(0,p.patchProperty)(a,"App",m),u};var d=n(17),h=n(9),f=n(10),p=n(32),g=f.local.Promise,v="[DEFAULT]",m=function(){function n(e,t,i){var r=this;(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.firebase_=i,this.isDeleted_=!1,this.services_={},this.name_=t,this.options_=(0,p.deepCopy)(e),Object.keys(i.INTERNAL.factories).forEach(function(e){var t=i.INTERNAL.useAsService(r,e);if(null!==t){var n=r.getService.bind(r,t);(0,p.patchProperty)(r,e,n)}})}return i(n,[{key:"delete",value:function(){var i=this;return new g(function(e){i.checkDestroyed_(),e()}).then(function(){i.firebase_.INTERNAL.removeApp(i.name_);var n=[];return Object.keys(i.services_).forEach(function(t){Object.keys(i.services_[t]).forEach(function(e){n.push(i.services_[t][e])})}),g.all(n.map(function(e){return e.INTERNAL.delete()}))}).then(function(){i.isDeleted_=!0,i.services_={}})}},{key:"getService",value:function(e,t){this.checkDestroyed_(),void 0===this.services_[e]&&(this.services_[e]={});var n=t||v;if(void 0!==this.services_[e][n])return this.services_[e][n];var i=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),t);return this.services_[e][n]=i}},{key:"extendApp",value:function(e){(0,p.deepExtend)(this,e)}},{key:"checkDestroyed_",value:function(){this.isDeleted_&&c("app-deleted",{name:this.name_})}},{key:"name",get:function(){return this.checkDestroyed_(),this.name_}},{key:"options",get:function(){return this.checkDestroyed_(),this.options_}}]),n}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var r=new h.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."})},32:function(e,t,n){"use strict";function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=i(e[n],t[n]));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=function(e){return i(void 0,e)},t.deepExtend=i,t.patchProperty=function(e,t,n){e[t]=n}},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(0,n(27).createFirebaseNamespace)();t.default=i,e.exports=t.default},51:function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(){p&&h&&(p=!1,h.length?f=h.concat(f):g=-1,f.length&&a())}function a(){if(!p){var e=r(o);p=!0;for(var t=f.length;t;){for(h=f,f=[];++g<t;)h&&h[g].run();g=-1,t=f.length}h=null,p=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===i||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var u,c,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{c="function"==typeof clearTimeout?clearTimeout:i}catch(e){c=i}}();var h,f=[],p=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new s(e,t)),1!==f.length||p||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},52:function(d,e,t){(function(n){!function(e){function i(){}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function r(n,i){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn(function(){var e=1===n._state?i.onFulfilled:i.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void s(i.promise,e)}a(i.promise,t)}else(1===n._state?a:s)(i.promise,n._value)})):n._deferreds.push(i)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void c((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){s(e,t)}var i,r}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var t=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return r(this,new u(e,t,n)),n},o.all=function(e){var s=Array.prototype.slice.call(e);return new o(function(i,r){function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){o(t,e)},r)}s[t]=e,0==--a&&i(s)}catch(e){r(e)}}if(0===s.length)return i([]);for(var a=s.length,e=0;e<s.length;e++)o(e,s[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(r){return new o(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},o._immediateFn="function"==typeof n&&function(e){n(e)}||function(e){t(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==d&&d.exports?d.exports=o:e.Promise||(e.Promise=o)}(this)}).call(e,t(54).setImmediate)},53:function(e,t,n){(function(e,p){!function(n,i){"use strict";function r(e){delete l[e]}function o(e){if(u)setTimeout(o,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}(t)}finally{r(e),u=!1}}}}if(!n.setImmediate){var a,s=1,l={},u=!1,c=n.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(n);e=e&&e.setTimeout?e:n,a="[object process]"==={}.toString.call(n.process)?function(e){p.nextTick(function(){o(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(h="setImmediate$"+Math.random()+"$",f=function(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(h)&&o(+e.data.slice(h.length))},n.addEventListener?n.addEventListener("message",f,!1):n.attachEvent("onmessage",f),function(e){n.postMessage(h+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){o(e.data)},function(e){t.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){o(e),t.onreadystatechange=null,d.removeChild(t),t=null},d.appendChild(t)}):function(e){setTimeout(o,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[s]=i,a(s),s++},e.clearImmediate=r}var d,t,h,f}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(26),n(51))},54:function(e,t,n){function i(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;t.setTimeout=function(){return new i(r.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(53),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},9:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();t.patchCapture=function(e){var t=a;return a=e,t};var a=Error.captureStackTrace,s=t.FirebaseError=function e(t,n){if(r(this,e),this.code=t,this.message=n,a)a(this,l.prototype.create);else{var i=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return i.stack}})}};s.prototype=Object.create(Error.prototype),(s.prototype.constructor=s).prototype.name="FirebaseError";var l=t.ErrorFactory=function(){function i(e,t,n){r(this,i),this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return o(i,[{key:"create",value:function(e,i){void 0===i&&(i={});var t=this.errors[e],n=this.service+"/"+e,r=void 0;r=void 0===t?"Error":t.replace(this.pattern,function(e,t){var n=i[t];return void 0!==n?n.toString():"<"+t+"?>"}),r=this.serviceName+": "+r+" ("+n+").";var o=new s(n,r);for(var a in i)i.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=i[a]);return o}}]),i}()}})}();try{webpackJsonp([1],[,,,,,function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r,o={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},a=(i(r={},o.AVAILABLE_IN_WINDOW,"This method is available in a Window context."),i(r,o.AVAILABLE_IN_SW,"This method is available in a service worker context."),i(r,o.SHOULD_BE_INHERITED,"This method should be overriden by extended classes."),i(r,o.BAD_SENDER_ID,"Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp()."),i(r,o.PERMISSION_DEFAULT,"The required permissions were not granted and dismissed instead."),i(r,o.PERMISSION_BLOCKED,"The required permissions were not granted and blocked instead."),i(r,o.UNSUPPORTED_BROWSER,"This browser doesn't support the API's required to use the firebase SDK."),i(r,o.NOTIFICATIONS_BLOCKED,"Notifications have been blocked."),i(r,o.FAILED_DEFAULT_REGISTRATION,"We are unable to register the default service worker. {$browserErrorMessage}"),i(r,o.SW_REGISTRATION_EXPECTED,"A service worker registration was the expected input."),i(r,o.GET_SUBSCRIPTION_FAILED,"There was an error when trying to get any existing Push Subscriptions."),i(r,o.INVALID_SAVED_TOKEN,"Unable to access details of the saved token."),i(r,o.SW_REG_REDUNDANT,"The service worker being used for push was made redundant."),i(r,o.TOKEN_SUBSCRIBE_FAILED,"A problem occured while subscribing the user to FCM: {$message}"),i(r,o.TOKEN_SUBSCRIBE_NO_TOKEN,"FCM returned no token when subscribing the user to push."),i(r,o.TOKEN_SUBSCRIBE_NO_PUSH_SET,"FCM returned an invalid response when getting an FCM token."),i(r,o.USE_SW_BEFORE_GET_TOKEN,"You must call useServiceWorker() before calling getToken() to ensure your service worker is used."),i(r,o.INVALID_DELETE_TOKEN,"You must pass a valid token into deleteToken(), i.e. the token from getToken()."),i(r,o.DELETE_TOKEN_NOT_FOUND,"The deletion attempt for token could not be performed as the token was not found."),i(r,o.DELETE_SCOPE_NOT_FOUND,"The deletion attempt for service worker scope could not be performed as the scope was not found."),i(r,o.BG_HANDLER_FUNCTION_EXPECTED,"The input to setBackgroundMessageHandler() must be a function."),i(r,o.NO_WINDOW_CLIENT_TO_MSG,"An attempt was made to message a non-existant window client."),i(r,o.UNABLE_TO_RESUBSCRIBE,"There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}"),i(r,o.NO_FCM_TOKEN_FOR_RESUBSCRIBE,"Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit."),i(r,o.FAILED_TO_DELETE_TOKEN,"Unable to delete the currently saved token."),i(r,o.NO_SW_IN_REG,"Even though the service worker registration was successful, there was a problem accessing the service worker itself."),i(r,o.INCORRECT_GCM_SENDER_ID,"Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging."),i(r,o.BAD_SCOPE,"The service worker scope must be a string with at least one character."),i(r,o.BAD_VAPID_KEY,"The public VAPID key must be a string with at least one character."),i(r,o.BAD_SUBSCRIPTION,"The subscription must be a valid PushSubscription."),i(r,o.BAD_TOKEN,"The FCM Token used for storage / lookup was not a valid token string."),i(r,o.BAD_PUSH_SET,"The FCM push set used for storage / lookup was not not a valid push set string."),i(r,o.FAILED_DELETE_VAPID_KEY,"The VAPID key could not be deleted."),r);t.default={codes:o,map:a},e.exports=t.default},,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=n(9),a=i(n(5)),s=i(n(36)),l=i(n(20)),u="messagingSenderId",c=function(){function n(e){var t=this;if(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.errorFactory_=new o.ErrorFactory("messaging","Messaging",a.default.map),!e.options[u]||"string"!=typeof e.options[u])throw this.errorFactory_.create(a.default.codes.BAD_SENDER_ID);this.messagingSenderId_=e.options[u],this.tokenManager_=new s.default,this.app=e,this.INTERNAL={},this.INTERNAL.delete=function(){return t.delete}}return r(n,[{key:"getToken",value:function(){var n=this,e=this.getNotificationPermission_();return e!==l.default.granted?e===l.default.denied?Promise.reject(this.errorFactory_.create(a.default.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this.getSWRegistration_().then(function(t){return n.tokenManager_.getSavedToken(n.messagingSenderId_,t).then(function(e){return e||n.tokenManager_.createToken(n.messagingSenderId_,t)})})}},{key:"deleteToken",value:function(e){var t=this;return this.tokenManager_.deleteToken(e).then(function(){return t.getSWRegistration_().then(function(e){if(e)return e.pushManager.getSubscription()}).then(function(e){if(e)return e.unsubscribe()})})}},{key:"getSWRegistration_",value:function(){throw this.errorFactory_.create(a.default.codes.SHOULD_BE_INHERITED)}},{key:"requestPermission",value:function(){throw this.errorFactory_.create(a.default.codes.AVAILABLE_IN_WINDOW)}},{key:"useServiceWorker",value:function(){throw this.errorFactory_.create(a.default.codes.AVAILABLE_IN_WINDOW)}},{key:"onMessage",value:function(){throw this.errorFactory_.create(a.default.codes.AVAILABLE_IN_WINDOW)}},{key:"onTokenRefresh",value:function(){throw this.errorFactory_.create(a.default.codes.AVAILABLE_IN_WINDOW)}},{key:"setBackgroundMessageHandler",value:function(){throw this.errorFactory_.create(a.default.codes.AVAILABLE_IN_SW)}},{key:"delete",value:function(){this.tokenManager_.closeDatabase()}},{key:"getNotificationPermission_",value:function(){return Notification.permission}},{key:"getTokenManager",value:function(){return this.tokenManager_}}]),n}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],r={userVisibleOnly:!0,applicationServerKey:new Uint8Array(i)};t.default={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:i,SUBSCRIPTION_OPTIONS:r},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={granted:"granted",default:"default",denied:"denied"},e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"};t.default={PARAMS:r,TYPES_OF_MSG:{PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},createNewMsg:function(e,t){var n;return i(n={},r.TYPE_OF_MSG,e),i(n,r.DATA,t),n}},e.exports=t.default},,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=i(n(18)),s=i(n(5)),l=i(n(21)),u=i(n(19)),c=function(e){function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return self.addEventListener("push",function(e){return t.onPush_(e)},!1),self.addEventListener("pushsubscriptionchange",function(e){return t.onSubChange_(e)},!1),self.addEventListener("notificationclick",function(e){return t.onNotificationClick_(e)},!1),t.bgMessageHandler_=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),r(n,[{key:"onPush_",value:function(e){var i=this,r=void 0;try{r=e.data.json()}catch(e){return}var t=this.hasVisibleClients_().then(function(e){if(e){if(r.notification||i.bgMessageHandler_)return i.sendMessageToWindowClients_(r)}else{var t=i.getNotificationData_(r);if(t){var n=t.title||"";return self.registration.showNotification(n,t)}if(i.bgMessageHandler_)return i.bgMessageHandler_(r)}});e.waitUntil(t)}},{key:"onSubChange_",value:function(e){var i=this,t=this.getToken().then(function(e){if(!e)throw i.errorFactory_.create(s.default.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var t=null,n=i.getTokenManager();return n.getTokenDetailsFromToken(e).then(function(e){if(!(t=e))throw i.errorFactory_.create(s.default.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(u.default.SUBSCRIPTION_OPTIONS)}).then(function(e){return n.subscribeToFCM(t.fcmSenderId,e,t.fcmPushSet)}).catch(function(e){return n.deleteToken(t.fcmToken).then(function(){throw i.errorFactory_.create(s.default.codes.UNABLE_TO_RESUBSCRIBE,{message:e})})})});e.waitUntil(t)}},{key:"onNotificationClick_",value:function(e){var n=this;if(e.notification&&e.notification.data&&e.notification.data.FCM_MSG){e.stopImmediatePropagation(),e.notification.close();var i=e.notification.data.FCM_MSG,t=i.notification.click_action;if(t){var r=this.getWindowClient_(t).then(function(e){return e||self.clients.openWindow(t)}).then(function(e){if(e){i.notification,delete i.notification;var t=l.default.createNewMsg(l.default.TYPES_OF_MSG.NOTIFICATION_CLICKED,i);return n.attemptToMessageClient_(e,t)}});e.waitUntil(r)}}}},{key:"getNotificationData_",value:function(e){if(e&&"object"===o(e.notification)){var t=Object.assign({},e.notification);return t.data=(r=e,(i="FCM_MSG")in(n={})?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n),t}var n,i,r}},{key:"setBackgroundMessageHandler",value:function(e){if(e&&"function"!=typeof e)throw this.errorFactory_.create(s.default.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=e}},{key:"getWindowClient_",value:function(e){var i=new URL(e).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){for(var t=null,n=0;n<e.length;n++)if(new URL(e[n].url).href===i){t=e[n];break}if(t)return t.focus(),t})}},{key:"attemptToMessageClient_",value:function(n,i){var r=this;return new Promise(function(e,t){if(!n)return t(r.errorFactory_.create(s.default.codes.NO_WINDOW_CLIENT_TO_MSG));n.postMessage(i),e()})}},{key:"hasVisibleClients_",value:function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){return e.some(function(e){return"visible"===e.visibilityState})})}},{key:"sendMessageToWindowClients_",value:function(n){var i=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){var t=l.default.createNewMsg(l.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED,n);return Promise.all(e.map(function(e){return i.attemptToMessageClient_(e,t)}))})}},{key:"getSWRegistration_",value:function(){return Promise.resolve(self.registration)}}]),n}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=i(n(18)),a=i(n(5)),s=i(n(21)),l=i(n(35)),u=i(n(20)),c=n(17),d=function(e){function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.registrationToUse_,t.manifestCheckPromise_,t.messageObserver_=null,t.onMessage_=(0,c.createSubscribe)(function(e){t.messageObserver_=e}),t.tokenRefreshObserver_=null,t.onTokenRefresh_=(0,c.createSubscribe)(function(e){t.tokenRefreshObserver_=e}),t.setupSWMessageListener_(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),r(n,[{key:"getToken",value:function(){var e=this;return this.isSupported_()?this.manifestCheck_().then(function(){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getToken",e).call(e)}):Promise.reject(this.errorFactory_.create(a.default.codes.UNSUPPORTED_BROWSER))}},{key:"manifestCheck_",value:function(){var t=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var e=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise_=e?fetch(e.href).then(function(e){return e.json()}).catch(function(){return Promise.resolve()}).then(function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw t.errorFactory_.create(a.default.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise_}},{key:"requestPermission",value:function(){var o=this;return Notification.permission===u.default.granted?Promise.resolve():new Promise(function(t,n){var i=function(e){return e===u.default.granted?t():n(e===u.default.denied?o.errorFactory_.create(a.default.codes.PERMISSION_BLOCKED):o.errorFactory_.create(a.default.codes.PERMISSION_DEFAULT))},r=Notification.requestPermission(function(e){r||i(e)});r&&r.then(i)})}},{key:"useServiceWorker",value:function(e){if(!(e instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(a.default.codes.SW_REGISTRATION_EXPECTED);if(void 0!==this.registrationToUse_)throw this.errorFactory_.create(a.default.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=e}},{key:"onMessage",value:function(e,t,n){return this.onMessage_(e,t,n)}},{key:"onTokenRefresh",value:function(e,t,n){return this.onTokenRefresh_(e,t,n)}},{key:"waitForRegistrationToActivate_",value:function(i){var r=this,o=i.installing||i.waiting||i.active;return new Promise(function(e,t){if(o)if("activated"!==o.state)if("redundant"!==o.state){var n=function(){if("activated"===o.state)e(i);else{if("redundant"!==o.state)return;t(r.errorFactory_.create(a.default.codes.SW_REG_REDUNDANT))}o.removeEventListener("statechange",n)};o.addEventListener("statechange",n)}else t(r.errorFactory_.create(a.default.codes.SW_REG_REDUNDANT));else e(i);else t(r.errorFactory_.create(a.default.codes.NO_SW_IN_REG))})}},{key:"getSWRegistration_",value:function(){var t=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register(l.default.path,{scope:l.default.scope}).catch(function(e){throw t.errorFactory_.create(a.default.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:e.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return(t.registrationToUse_=e).update(),e})}))}},{key:"setupSWMessageListener_",value:function(){var i=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[s.default.PARAMS.TYPE_OF_MSG]){var t=e.data;switch(t[s.default.PARAMS.TYPE_OF_MSG]){case s.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case s.default.TYPES_OF_MSG.NOTIFICATION_CLICKED:var n=t[s.default.PARAMS.DATA];i.messageObserver_.next(n)}}},!1)}},{key:"isSupported_",value:function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}}]),n}();t.default=d,e.exports=t.default},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){e.INTERNAL.registerService("messaging",function(e){return self&&"ServiceWorkerGlobalScope"in self?new a.default(e):new o.default(e)},{Messaging:o.default})}Object.defineProperty(t,"__esModule",{value:!0}),t.registerMessaging=r;var o=i(n(29)),a=i(n(28));r(i(n(4)).default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(t=new Uint8Array(e),window.btoa(String.fromCharCode.apply(null,t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");var t},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=n(9),u=i(n(5)),c=i(n(34)),d=i(n(19)),s="fcm_token_object_Store",a=function(){function n(){(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.errorFactory_=new o.ErrorFactory("messaging","Messaging",u.default.map),this.openDbPromise_=null}return r(n,[{key:"openDatabase_",value:function(){return this.openDbPromise_||(this.openDbPromise_=new Promise(function(t,n){var e=indexedDB.open("fcm_token_details_db",1);e.onerror=function(e){n(e.target.error)},e.onsuccess=function(e){t(e.target.result)},e.onupgradeneeded=function(e){var t=e.target.result.createObjectStore(s,{keyPath:"swScope"});t.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),t.createIndex("fcmToken","fcmToken",{unique:!0})}})),this.openDbPromise_}},{key:"closeDatabase",value:function(){var t=this;return this.openDbPromise_?this.openDbPromise_.then(function(e){e.close(),t.openDbPromise_=null}):Promise.resolve()}},{key:"getTokenDetailsFromToken",value:function(r){return this.openDatabase_().then(function(i){return new Promise(function(t,n){var e=i.transaction([s]).objectStore(s).index("fcmToken").get(r);e.onerror=function(e){n(e.target.error)},e.onsuccess=function(e){t(e.target.result)}})})}},{key:"getTokenDetailsFromSWScope_",value:function(r){return this.openDatabase_().then(function(i){return new Promise(function(t,n){var e=i.transaction([s]).objectStore(s).get(r);e.onerror=function(e){n(e.target.error)},e.onsuccess=function(e){t(e.target.result)}})})}},{key:"getAllTokenDetailsForSenderId_",value:function(a){return this.openDatabase_().then(function(o){return new Promise(function(n,t){var e=o.transaction([s]).objectStore(s),i=[],r=e.openCursor();r.onerror=function(e){t(e.target.error)},r.onsuccess=function(e){var t=e.target.result;t?(t.value.fcmSenderId===a&&i.push(t.value),t.continue()):n(i)}})})}},{key:"subscribeToFCM",value:function(e,t,n){var i=this,r=(0,c.default)(t.getKey("p256dh")),o=(0,c.default)(t.getKey("auth")),a="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+r+"&encryption_auth="+o;n&&(a+="&pushSet="+n);var s=new Headers;s.append("Content-Type","application/x-www-form-urlencoded");var l={method:"POST",headers:s,body:a};return fetch(d.default.ENDPOINT+"/fcm/connect/subscribe",l).then(function(e){return e.json()}).then(function(e){var t=e;if(t.error){var n=t.error.message;throw i.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_FAILED,{message:n})}if(!t.token)throw i.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!t.pushSet)throw i.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:t.token,pushSet:t.pushSet}})}},{key:"isSameSubscription_",value:function(e,t){return e.endpoint===t.endpoint&&(0,c.default)(e.getKey("auth"))===t.auth&&(0,c.default)(e.getKey("p256dh"))===t.p256dh}},{key:"saveTokenDetails_",value:function(e,t,n,i,r){var o={swScope:t.scope,endpoint:n.endpoint,auth:(0,c.default)(n.getKey("auth")),p256dh:(0,c.default)(n.getKey("p256dh")),fcmToken:i,fcmPushSet:r,fcmSenderId:e};return this.openDatabase_().then(function(i){return new Promise(function(e,t){var n=i.transaction([s],"readwrite").objectStore(s).put(o);n.onerror=function(e){t(e.target.error)},n.onsuccess=function(){e()}})})}},{key:"getSavedToken",value:function(n,i){var r=this;return i instanceof ServiceWorkerRegistration?"string"!=typeof n||0===n.length?Promise.reject(this.errorFactory_.create(u.default.codes.BAD_SENDER_ID)):this.getAllTokenDetailsForSenderId_(n).then(function(e){if(0!==e.length){var t=e.findIndex(function(e){return i.scope===e.swScope&&n===e.fcmSenderId});if(-1!==t)return e[t]}}).then(function(t){if(t)return i.pushManager.getSubscription().catch(function(){throw r.errorFactory_.create(u.default.codes.GET_SUBSCRIPTION_FAILED)}).then(function(e){if(e&&r.isSameSubscription_(e,t))return t.fcmToken})}):Promise.reject(this.errorFactory_.create(u.default.codes.SW_REGISTRATION_EXPECTED))}},{key:"createToken",value:function(t,n){var i=this;if("string"!=typeof t||0===t.length)return Promise.reject(this.errorFactory_.create(u.default.codes.BAD_SENDER_ID));if(!(n instanceof ServiceWorkerRegistration))return Promise.reject(this.errorFactory_.create(u.default.codes.SW_REGISTRATION_EXPECTED));var r=void 0,o=void 0;return n.pushManager.getSubscription().then(function(e){return e||n.pushManager.subscribe(d.default.SUBSCRIPTION_OPTIONS)}).then(function(e){return r=e,i.subscribeToFCM(t,r)}).then(function(e){return o=e,i.saveTokenDetails_(t,n,r,o.token,o.pushSet)}).then(function(){return o.token})}},{key:"deleteToken",value:function(e){var o=this;return"string"!=typeof e||0===e.length?Promise.reject(this.errorFactory_.create(u.default.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(e).then(function(r){if(!r)throw o.errorFactory_.create(u.default.codes.DELETE_TOKEN_NOT_FOUND);return o.openDatabase_().then(function(i){return new Promise(function(t,n){var e=i.transaction([s],"readwrite").objectStore(s).delete(r.swScope);e.onerror=function(e){n(e.target.error)},e.onsuccess=function(e){0!==e.target.result?t(r):n(o.errorFactory_.create(u.default.codes.FAILED_TO_DELETE_TOKEN))}})})})}}]),n}();t.default=a,e.exports=t.default}],[33])}catch(e){throw new Error("Cannot instantiate firebase-messaging.js - be sure to load firebase-app.js first.")}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.adCheck={})}(this,function(e){"use strict";e.adShow=function(e,t,n){var i=e[t][n];return"string"!=typeof i&&(i=e[t][n][0]),e&&function(e){var t=!1;switch(i){case"do not show ad":case"do_not_show_ad":t=!0;break;default:t=!1}return t}()},Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.getAdID={})}(this,function(e){"use strict";e.getGenerateID=function(){return Math.random().toString(36).substr(2)},Object.defineProperty(e,"__esModule",{value:!0})});var refs=function(e){"use strict";return e.refs={homeLatest:"ref=latest&utm_source=home_latest&utm_medium=desktop",categoryLatest:"ref=latest&utm_source=category_latest&utm_medium=desktop"},e}({});!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.urlQuery={})}(this,function(e){"use strict";e.URLString=function(e){var t=e&&e.split("?")[1]||window.location.search.substring(1);t=decodeURIComponent(t);for(var n={},i=t.split("&"),r=i.length,o=0;o<r;o++){var a=i[o].split("="),s=[];n[a[0]]&&(s=n[a[0]]),s.push(a[1]),n[a[0]]=s}return{get:function(e){return n[e]||[]},getURL:function(){return t},getDict:function(){return n}}},Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.iconsvg=e.iconsvg||{})}(this,function(e){"use strict";e.mix='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width: 20px;"><path fill="currentColor" d="M0 64v348.9c0 56.2 88 58.1 88 0V174.3c7.9-52.9 88-50.4 88 6.5v175.3c0 57.9 96 58 96 0V240c5.3-54.7 88-52.5 88 4.3v23.8c0 59.9 88 56.6 88 0V64H0z" class=""></path></svg>'});var imagesSize={quickList:"https://quicksilver.scoopwhoop.com/unsafe/238x122/center/"},tmpl=function(e){"use strict";return e.list=function(e,t,n){if(e)return'<div class="cardType3"  id="'+e._id+'"><a href="/'+e.slug+"/?"+n+'"><div class="ct3-left"><div class="imgContainer"><img src="'+t.quickList+e.feature_img+'"></div></div><div class="ct3-right"><p>'+e.title+'</p><p class="dt">'+e.pub_date+"</p></div></a></div>"},e.infeedList=function(e){if(e)return'<div class="cardType3" id="'+e+"\" style=\"margin: 0 auto; text-align: center;\"><script> googletag.cmd.push(function() {var infeedAdJS = googletag.defineSlot('/145115460/SW_Desktop_HomePage_InFeed_LatestStories', [[1, 1], [580, 114], 'fluid', [468, 60], [320, 100]], \""+e+'").addService(googletag.pubads());googletag.display("'+e+'");googletag.pubads().refresh([infeedAdJS]); });<\/script></div>'},e}({});!function(o,e){(window.Rhs=window.Rhs||{}).topTrending=function(e,t){var n=Math.floor(o("#artcontent").outerHeight()/280),i=n<6?n:6,r=[];o.get(e.toptrending+"?artId="+t,function(e){for(var t=0;t<i;t++)r.push('<div class="artCardType1" id="rhsart'+t+'"><a href="/'+(n=e.data[t]).slug+'/?ref=topTrending&utm_source=art_trending&utm_medium=desktop"><div class="imgContainer"><img src="'+n.feature_img+'"></div><p>'+n.title+"</p></a></div>");var n;o(".artAlsoRead").append(r.join(""))})}}($),function(u,e){(window.Morefrom=window.Morefrom||{}).articleFrom=function(l){var e,t,n,i,r,o,a=new Date;u.get("https://s3.scoopwhoop.com/swlatest/"+(t=(e=a).getFullYear(),n=e.getMonth()+1,i=e.getDate(),r=e.getHours(),o=e.getMinutes(),""+t+("0"+n).slice(-2)+("0"+i).slice(-2)+"_"+("0"+r).slice(-2)+(o/10>>0))+".json",function(e){for(var t=0,n=[],i=0,r=e.length;i<r;i++)e[i].data._id!=l.articleID&&n.push(e[i]);for(var o,a=n.length<=18?n.length:18,s=0;s<a;s++)s%3==0&&(t+=1,u(l.el).append('<div class="also_row also_row-'+t+'"></div><div class="clr"></div>')),u(l.el+" .also_row-"+t).append('<div class="ctVideo3landing ctVideo3"><a  href="/'+(o=n[s].data).slug+"/?ref="+o.ref+'&utm_source=art_latest&utm_medium=desktop"><img src="https://quicksilver.scoopwhoop.com/unsafe/200x105/center/'+o.feature_img+'"></a><a href="/'+o.slug+"/?ref="+o.ref+'&utm_source=art_latest&utm_medium=desktop"><p style="line-height: 22px;font-weight: bold;">'+o.title+"</p></a></div>")}),setTimeout(function(){u(l.loadingElement).html("&copy; "+(new Date).getFullYear()+" ScoopWhoop Media")},1e3)}}($);var mailChimp=function(e){var t="";switch(e){case"Comics":t='<input type="checkbox" value="2048" name="group[9][2048]" id="mce-group[9]-9-11" checked /><label for="mce-group[9]-9-11">Comics</label>';break;case"Reads":t='<input type="checkbox" value="128" name="group[9][128]" id="mce-group[9]-9-7" checked /><label for="mce-group[9]-9-7">Reads</label>';break;case"Travel":t='<input type="checkbox" value="16" name="group[9][16]" id="mce-group[9]-9-4" checked /><label for="mce-group[9]-9-4">Travel</label>';break;case"Food":t='<input type="checkbox" value="64" name="group[9][64]" id="mce-group[9]-9-6" checked /><label for="mce-group[9]-9-6">Food</label>';break;case"Women":t='<input type="checkbox" value="8" name="group[9][8]" id="mce-group[9]-9-3" checked /><label for="mce-group[9]-9-3">Women</label>';break;case"Nostalgia":t='<input type="checkbox" value="4096" name="group[9][4096]" id="mce-group[9]-9-12" checked /><label for="mce-group[9]-9-12">Nostalgia</label>';break;case"Pop Culture":t='<input type="checkbox" value="8192" name="group[9][8192]" id="mce-group[9]-9-13" checked /><label for="mce-group[9]-9-13">Pop Culture</label>';break;case"Lifestyle":t='<input type="checkbox" value="2" name="group[9][2]" id="mce-group[9]-9-1" checked /><label for="mce-group[9]-9-1">Lifestyle</label>';break;case"Entertainment":t='<input type="checkbox" value="16384" name="group[9][16384]" id="mce-group[9]-9-14" checked /><label for="mce-group[9]-9-14">Entertainment</label>';break;case"Fashion":t='<input type="checkbox" value="32768" name="group[9][32768]" id="mce-group[9]-9-15" checked /><label for="mce-group[9]-9-15">Fashion</label>';break;case"Bollywood":t='<input type="checkbox" value="65536" name="group[9][65536]" id="mce-group[9]-9-16" checked /><label for="mce-group[9]-9-16">Bollywood</label>';break;case"Men":t='<input type="checkbox" value="131072" name="group[9][131072]" id="mce-group[9]-9-17" checked /><label for="mce-group[9]-9-17">Men</label>';break;case"Music":t='<input type="checkbox" value="262144" name="group[9][262144]" id="mce-group[9]-9-18" checked /><label for="mce-group[9]-9-18">Music</label>';break;case"Humour":t='<input type="checkbox" value="4" name="group[9][4]" id="mce-group[9]-9-2" checked /><label for="mce-group[9]-9-2">Humor</label>';break;case"Opinion":t='<input type="checkbox" value="1048576" name="group[9][1048576]" id="mce-group[9]-9-20" checked /><label for="mce-group[9]-9-20">Opinion</label>';break;case"Pop Science":t='<input type="checkbox" value="2097152" name="group[9][2097152]" id="mce-group[9]-9-21" checked /><label for="mce-group[9]-9-21">Pop Science</label>';break;case"Culture":t='<input type="checkbox" value="4194304" name="group[9][4194304]" id="mce-group[9]-9-22" checked /><label for="mce-group[9]-9-22">Culture</label>';break;case"TV":t='<input type="checkbox" value="8388608" name="group[9][8388608]" id="mce-group[9]-9-23" checked /><label for="mce-group[9]-9-23">TV</label>';break;default:t='<input type="checkbox" value="8388608" name="group[9][8388608]" id="mce-group[9]-9-23" checked /><label for="mce-group[9]-9-23">TV</label>'}return t},getGenerateID=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")+Math.random().toString(36).substr(2)},onChangeAd=function(e){var t=e.slot.getSlotElementId(),n=$("#"+t).closest(".artad"),i=$("#"+t).closest("table");e.isEmpty?n.hide():(i.css("display",""),-1<[300,320,250].indexOf(e.size[0])&&n.children(".ad-slug").css("display",""))},onScrollAdEventMiddle=function(i,r,o,a){var s=$("#"+i).closest(".sw-ad-container"),l=function(){if(window.scrollY>=s.offset().top-1e3){var e=[[728,90],[300,100],"fluid",[250,250],[320,100],[1,1],[300,250],[468,60],[600,250]];"rhs"===a&&(e=[[300,100],"fluid",[250,250],[320,100],[1,1],[300,250],[468,60],[600,250]]);var n,t=window.googletag||{};t.cmd.push(function(){n=r[o](i,e),t.display(i),t.pubads().refresh([n])}),t.pubads().addEventListener("slotRenderEnded",function(e){var t=e.slot.getSlotElementId();n&&n.getSlotElementId()===t&&onChangeAd(e)}),window.removeEventListener("scroll",l)}};window.addEventListener("scroll",l)},onScrollAdEventEnd=function(i,r){var o=$("#"+i).closest(".homead"),a=function(){if(o.length&&window.scrollY>=o.offset().top-1e3){var n,e=window.googletag||{},t=[[970,250],[970,90],[728,90],[300,100],"fluid",[250,250],[320,100],[1,1],[300,250],[468,60],[600,250]];"rhs"===r&&(t=[[300,100],"fluid",[250,250],[320,100],[1,1],[300,250],[468,60],[600,250]]),e.cmd.push(function(){n=e.defineSlot("/145115460/SW_Desktop_Article_RHS_End",t,i).addService(e.pubads()),e.display(i),e.pubads().refresh([n])}),e.pubads().addEventListener("slotRenderEnded",function(e){var t=e.slot.getSlotElementId();n.getSlotElementId()===t&&e.isEmpty&&o.hide()}),window.removeEventListener("scroll",a)}};window.addEventListener("scroll",a)},getHeight=function(e){var n=0;return e.each(function(e,t){n+=$(t).outerHeight()}),n},adArtTmpl=function(e){return'<div class="artad" style="background: transparent;"><div class="ad-slug" style="display: none;">Advertisement</div><table style="width:100%; display: none;"><tbody><tr><td align="center"><div id="'+e+'" style="text-align: center;margin:0 auto;display:table;"></div></td></tr></tbody></table></div>'},checkHeight=function(e){return e.is("figure")||e.children().is("figure")||e.is("img")||e.children().is("img")||e.is("iframe")},adsWork=function(e,t,n,i,r,o){var a,s,l,u,c={1:function(e,t){return googletag.defineSlot("/145115460/SW_Desktop_Article_RHS_Middle_1",t,e).addService(googletag.pubads())},2:function(e,t){return googletag.defineSlot("/145115460/SW_Desktop_Article_RHS_Middle_2",t,e).addService(googletag.pubads())},3:function(e,t){return googletag.defineSlot("/145115460/SW_Desktop_Article_RHS_Middle_3",t,e).addService(googletag.pubads())},4:function(e,t){return googletag.defineSlot("/145115460/SW_Desktop_Article_RHS_Middle",t,e).addService(googletag.pubads())},5:function(e,t){return googletag.defineSlot("/145115460/sw_desktop_article_middle5",t,e).addService(googletag.pubads())},6:function(e,t){return googletag.defineSlot("/145115460/sw_desktop_article_middle6",t,e).addService(googletag.pubads())},7:function(e,t){return googletag.defineSlot("/145115460/sw_desktop_article_middle7",t,e).addService(googletag.pubads())},8:function(e,t){return googletag.defineSlot("/145115460/sw_desktop_article_middle8",t,e).addService(googletag.pubads())}},d={1:getGenerateID(),2:getGenerateID(),3:getGenerateID(),4:getGenerateID(),5:getGenerateID(),6:getGenerateID(),7:getGenerateID(),8:getGenerateID()};if(googletag.cmd.push(function(){a=googletag.defineSlot("/145115460/SW_Desktop_A_1x1",["fluid",[1,1],[300,250],[800,400],[1610,850],[336,280],[1610,1e3]],"div-gpt-ad-1527161504892-0").addService(googletag.pubads()),s=googletag.defineSlot("/145115460/SW_WEB_Article_Top_728x90_and_970x90",[[728,90],[970,250],[970,90],[468,60],[1,1],"fluid",[750,100],[750,200],[750,300]],"div-gpt-ad-1492851392843-0").addService(googletag.pubads()),l=googletag.defineOutOfPageSlot("/145115460/SW_Out_Of_The_Page","div-gpt-ad-1495443037217-0").addService(googletag.pubads()),"rhs"===o&&(u=googletag.defineSlot("/145115460/SW_WEB_Article_RHS_AlsoRead_300x250",[[300,600],[120,600],[160,600],[300,250],[250,250],[336,280],[200,200],[180,150],[120,400],[240,400],[320,100]],"div-gpt-ad-1492851885172-0").addService(googletag.pubads()));var e=urlQuery.URLString().get("ref").join("")||"Nil";googletag.pubads().setTargeting("Category",[n]),googletag.pubads().setTargeting("PartnerName",[e]),t.data.meta_data.brand&&googletag.pubads().setTargeting("BrandName",[t.data.meta_data.brand]),googletag.pubads().setTargeting("Article",[window.googletagsforad3]),googletag.pubads().setTargeting("Sponsored",[i]),googletag.pubads().setTargeting("Environment",[swJS.env.type]),googletag.pubads().collapseEmptyDivs(!0),googletag.pubads().disableInitialLoad(),googletag.enableServices(),null!=t.data.meta_data.do_not_show_ad&&(adCheck.adShow(t.data.meta_data,"do_not_show_ad",0)||googletag.cmd.push(function(){googletag.display("div-gpt-ad-1492851392843-0"),googletag.pubads().refresh([s]),googletag.display("div-gpt-ad-1495443037217-0"),googletag.pubads().refresh([l]),googletag.display("div-gpt-ad-1527161504892-0"),googletag.pubads().refresh([a]),"rhs"===o&&(googletag.display("div-gpt-ad-1492851885172-0"),googletag.pubads().refresh([u]))}))}),console.log("%c read On! ","background: #222; color: #bada55"),null!=t.data.meta_data.do_not_show_ad&&!adCheck.adShow(t.data.meta_data,"do_not_show_ad",0)){var h=0,f=0,p=e.find("img").length,g=e.children("p").filter(function(e,t){return""!=$(t).text().trim()&&!$(t).children().is("img")}),v=g.length<p,m=400*p+getHeight(g),y=m>e.outerHeight()?m:e.outerHeight(),b=8e3<y?parseInt(y/9):1e3,_=parseInt(e.outerHeight()/b),w=_<=8?_:8,T=parseInt(e.children("figure").length/8),k=2<=T?T:2,S=0;v?e.children().each(function(e,t){var n=$(t).nextAll("figure").length>=k||3<$(t).nextAll("p").length;($(t).is("figure")||$(t).is("img")||$(t).children().is("img"))&&(S+=1),k<=S&&f<8&&n&&(f+=1,$(t).after('<div class="sw-ad-container sw-unit-'+f+'">'+adArtTmpl(d[f])+"</div>"),onScrollAdEventMiddle(d[f],c,f,o),S=0)}):e.children().each(function(e,t){var n=$(t),i=n.next().length&&n.next().next().not("script").length&&(n.next().next().next().not("script").length||n.next().next().next().not(".fb-quote").length);h+=checkHeight(n)&&n.height()<400?400:n.height(),b<h&&f<w&&i&&(f+=1,n.after('<div class="sw-ad-container sw-unit-'+f+'">'+adArtTmpl(d[f])+"</div>"),onScrollAdEventMiddle(d[f],c,f,o),h=0)}),e.append("<div class='homead'><div class='ad-slug' style='padding-bottom:12px'>Advertisement</div><div id='div-gpt-ad-1514270341061-9'></div></div>");var E=!1;E||(onScrollAdEventEnd("div-gpt-ad-1514270341061-9",o),googletag.pubads().addEventListener("slotRenderEnded",function(e){var t=e.slot.getSlotElementId();if("div-gpt-ad-1527161504892-0"===t){var n=$("#div-gpt-ad-1527161504892-0");-1<[800,336,300].indexOf(e.size[0])&&(n.attr("style","position: fixed; top: 0; right: 0; bottom: 0; left: 0; margin: auto; width: 100%; height: 100%; z-index: 99999;"),n.append('<div class="overlay" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; width: 100%; height: 100%; background: #333; opacity: 0.85;"></div>'),n.children("div").eq(0).css({position:"absolute",left:"0",right:"0","text-align":"center",width:e.size[0]+"px",margin:"auto",height:e.size[1]+"px",top:"0",bottom:"0","z-index":"2"}),n.children("div").append("<div onClick=\"document.getElementById('div-gpt-ad-1527161504892-0').style.display = 'none'\" style=\"position: absolute; top: -28px; right: 0; z-index: 99; font-size: 20px; color: #fff; cursor: pointer;\">CLOSE AD [X]</div>")),1610===e.size[0]&&(n.css({position:"absolute",left:"50%","margin-left":"-805px","margin-right":"-805px",top:0,width:"100%"}),$(".container--primary").css({"margin-top":"136px"}),$("body").css({"overflow-x":"hidden",position:"relative"}))}"div-gpt-ad-1492851392843-0"===t&&onChangeAd(e),"div-gpt-ad-1514270341061-9"===t&&onChangeAd(e),"div-gpt-ad-1492851885172-0"===t&&onChangeAd(e)}),E=!0)}};function SWHeader(e){var t={path:"sw_logo_bg.png",alt:"ScoopWhoop",title:"ScoopWhoop"};e&&e.image&&(t={path:"sw_newslogo_bg.png",alt:"ScoopWhoop News",title:"ScoopWhoop News"}),$("header").append('<div class="logo-header"><a href="'+root+'?ref=nav_logo"><img src="https://s4.scoopwhoop.com/v4/static/sw/images/'+t.path+'" alt="'+t.alt+'" title="'+t.title+'"/></a></div><nav><ul><li class="nav__list"><a href="'+root+'category/life/?ref=nav_top" >LIFE</a></li><li class="nav__list"><a href="'+root+'category/entertainment/?ref=nav_top" >ENTERTAINMENT</a></li><li class="nav__list"><a href="'+root+'category/videos/?ref=nav_top" >VIDEOS</a></li><li class="nav__list"><a href="https://hindi.scoopwhoop.com/?ref=SW_NAV">ScoopWhoop </a><li class="nav__list"><a href="'+root+'category/humor/?ref=nav_top" >HUMOR</a></li><li class="nav__list dropdown2"><a href="#">ALL CHANNELS <i class="fa fa-chevron-down"></i></a><div class="nav__list--sub sub-channels"><ul><li><a class="channel-netflix" href="https://www.scoopwhoop.com/netflix/?ref=nav_top"><img src="'+swJS.s3("netflix_circle.png")+'" alt="Netflix"> NETFLIX</a></li><li><a href="https://www.vagabomb.com/?ref=SW_NAV" target="_blank" rel="noopener"><img src="https://s4.scoopwhoop.com/v4/static/sw/images/vagabomb.png" alt="Vagabomb"> VAGABOMB</a></li><li><a href="https://www.youtube.com/channel/UCx2HcmpB-UZGkMXOCJ4QIVA" target="_blank" rel="noopener"><img src="https://s4.scoopwhoop.com/v4/static/sw/images/videos-menu.png" alt="Videos"> VIDEOS</a></li><li><a href="https://www.youtube.com/channel/UC7lmZqhJeTzeQQkqNvfmjqw" target="_blank" rel="noopener"><img src="https://s4.scoopwhoop.com/v4/static/sw/images/oktested.png" alt="Ok Tested"> OK TESTED</a></li><li><a href="https://www.youtube.com/channel/UC6JEz6BKg7hX7idKecN7QYA" target="_blank" rel="noopener"><img src="https://s4.scoopwhoop.com/v4/static/sw/images/unscripted.png" alt="UNSCRIPTED"> UNSCRIPTED</a></li></ul><div class="clr"></div></div></li><li class="nav__list dropdown"><a href="#">MORE <i class="fa fa-chevron-down"></i></a><div class="nav__list--sub"><ul><li><a href="'+root+'category/travel/?ref=nav_top" >TRAVEL</a></li><li><a href="'+root+'category/world/?ref=nav_top" >FIRANGI</a></li><li><a href="'+root+'category/women/?ref=nav_top" >WOMEN</a></li><li><a href="'+root+'category/sports/?ref=nav_top" >SPORTS</a></li><li><a href="'+root+'category/food/?ref=nav_top" >FOOD</a></li><li><a href="'+root+'category/culture/?ref=nav_top" >CULTURE</a></li><li><a href="'+root+'category/reads/?ref=nav_top" >READS</a></li></ul><div class="clr"></div><div class="menu-footer"><a href="'+root+'about/?ref=nav_top" >About Us</a><a href="'+root+'contact/?ref=nav_top" >Contact Us</a><a href="'+root+'advertise/?ref=nav_top" >Advertise</a><a href="'+root+'privacy-policy/?ref=nav_top" >Privacy Policy</a><a href="https://recruiterflow.com/scoopwhoop/jobs" target="_blank" >Careers</a></div><p class="copyright"> '+(new Date).getFullYear()+' ScoopWhoop Media Pvt Ltd. All Rights Reserved</p></div></li></ul></nav><form class="searchBoxForm" method="GET" action="/" ><div class="search"><div class="search-btn"><span class="fa fa-search"></span></div><input id="searchBox" type="text" class="searchBox" name="s" type="text" placeholder="SEARCH"></div></form>');var n=$("#searchBox");n.hide(),$(".search-btn").on("click",function(){$(this).toggleClass("is-active"),n.toggle(),$(this).hasClass("is-active")?n.val("").focus():n.blur()})}var getShowLatestData=function(e,t,n){var i=(e.heading||"").toLowerCase().replace(/ /g,"-").replace(/\|/g,"");$(".swartscrn").append('<div class="showsonsw2" style="margin-top: 0;height: 280px;"><h2 class="showartpage"><a href="javascript:void(0)">'+e.heading+'</a></h2><div style="margin-left:-30px" class="'+i+'"></div><br clear="all"/></div>');for(var r=0;r<t.data.length;r++)$("."+i).append('<a href="/'+t.data[r].slug+'/?ref=video2layout&showref=latest"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+t.data[r].feature_img+'"/><p class="belowtitle">'+t.data[r].title+'</p><br clear="all"></a>');$("."+i).slick({infinite:!0,speed:300,slidesToShow:5,arrows:!0,variableWidth:!0}),n&&"function"==typeof n&&n()},getShowLatest=function(t,n){$.get(t.url,function(e){getShowLatestData(t,e,n)})},getShow=function(i,r){$.get(i.url+i.show,function(e){var t=(e.topicData.topic_name||"").toLowerCase().replace(/ /g,"-").replace(/\|/g,"");$(".swartscrn").append('<div class="showsonsw2" style="margin-top: 0;height: 280px;"><h2 class="showartpage"><a href="/show/'+i.show+'/?ref=video2layout">'+i.heading+'</a></h2><div style="margin-left:-30px" class="'+t+'"></div><br clear="all"/></div>');for(var n=0;n<e.data.articles.length;n++)$("."+t).append('<a href="/'+e.data.articles[n].slug+"/?ref=video2layout&showref="+e.topicData.topic_slug+'"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.articles[n].feature_img+'"/><p class="belowtitle">'+e.data.articles[n].title+'</p><br clear="all"></a>');$("."+t).slick({infinite:!0,speed:300,slidesToShow:5,arrows:!0,variableWidth:!0}),r&&"function"==typeof r&&r()})};function swinit(){switch(state){case"home":loadHomeScreen();break;case"article":loadArticleScreen();break;case"desktoppreview":loadPreviewScreen();break;case"reads":loadReadsScreen();break;case"author":loadAuthorScreen();break;case"category":loadCategoryScreen();break;case"news":loadNewsScreen();break;case"contact":loadContactScreen();break;case"contribute":loadContributeScreen();break;case"about":loadAboutScreen();break;case"search":loadSearchScreen();break;case"tag":loadTagScreen();break;case"topic":loadTopicScreen();break;case"oops404":loadErrorScreen();break;case"video":loadVideoScreen();break;case"showCat":loadVideoCategoryScreen();break;case"ChaseshowCat":loadChaseScreen();break;case"typeCat":loadVideoTypeCategoryScreen();break;case"om-nom-nom":loadOmNomScreen();break;case"originalsarticle":loadOriginalsScreen();break;case"collection":loadCollectionScreen();break;case"originalspreview":loadOriginalsPreviewScreen()}}var apis={latestDesktop:root+"api/v2/homepage/desktop/",allArticles:root+"api/v3/all/",trending:root+"api/v2/trendrealtime/",videoLatest:root+"api/v2/originals/all/",author:root+"api/v2/author/",authorTrending:root+"api/v2/trending/author/",category:root+"api/v2/category/",trendingCategory:root+"api/v2/trending/category/",search:root+"api/v2/search/",vdosearch:root+"api/v1/originals/search/",tag:root+"api/v2/tag/",videoPopular:root+"api/v2/originals/trending/",videoPopularNews:root+"api/v2/originals/topic/news",videoCategory:root+"api/v2/originals/all_topics/",videoCategoryItems:root+"api/v2/originals/topic/",selectedShowList:root+"api/v4/originals/selected_topics/",reads:root+"api/v1/reads/",newsmain:root+"api/v2/news/",newsQuote:root+"api/v2/get_quote/",newsTopic:root+"api/v2/topic/",newsOriginals:root+"api/v1/showtype/news",articleSlug:root+"api/v2/",rhs:root+"api/v2/rhs/?slug=",recommended:root+"api/v2/recommended/",topStories:root+"api/v2/editorspicks/home",deskPreview:root+"api/v1/preview/",originalsPreviewdisplay:root+"api/v1/originals/preview/",sendShareEmail:root+"api/v1/sendemail/",sendPartnerEmail:root+"sendemail",trending2:root+"api/v2/trending/",topic:root+"api/v2/topic/",partnerHome:root+"api/v2/brand/",collection:root+"api/v2/collection/",editorspicks:root+"api/v2/editorspicks/news",getUmaRecommended:"https://uma.scoopwhoop.com/reco",toptrending:root+"api/v2/trendrealtime/",readNext:root+"api/v2/nextandpopular/?articleid="},mainContent="",articleid="",articlecategory="",articleContentWithoutRHS="",articleContentWithRHS="",mailChimpInp="",facebook="facebook",twitter="twitter",Reddit="Reddit",mail="mail",pinterest="pinterest",googleplus="googleplus",whatsapp="whatsapp",stumbleupon="stumbleupon",Tumblr="Tumblr",link="link",channels=function(e){var t;t="OKTested"==e?"data-channelid='UC7lmZqhJeTzeQQkqNvfmjqw'":"special"==e?"data-channelid='UC6JEz6BKg7hX7idKecN7QYA'":"data-channel='scoopwhoopvideos'";var n=document.createElement("script");n.type="text/javascript",n.src="https://apis.google.com/js/platform.js",$("head").append(n),$(".channels-add").append("<div class='g-ytsubscribe' "+t+" data-layout='default' data-count='default'></div>")},getUrlParameter=function(e){for(var t,n=decodeURIComponent(window.location.search.substring(1)).split("&"),i=0;i<n.length;i++)if((t=n[i].split("="))[0]===e)return void 0===t[1]||t[1]},vref=getUrlParameter("ref");void 0===vref&&(vref="");var vtype=getUrlParameter("type");void 0===vtype&&(vtype="");var vep=getUrlParameter("ep");function fbcomment(){return'<div id="fb-root"></div><script>(function(d, s, id){var js, fjs=d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7&appId=915004185247274";fjs.parentNode.insertBefore(js, fjs);}(document, "script", "facebook-jssdk"));<\/script>'}function sliderscript(){return'<script src="https://s4.scoopwhoop.com/v4/static/sw/js/slider-main.js"><\/script>'}function missingsdk(){return'<script async src="//s.imgur.com/min/embed.js" charset="utf-8"><\/script><script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"><\/script><script type="text/javascript" async src="//assets.pinterest.com/js/pinit.js"><\/script><script async src="//assets.tumblr.com/post.js"><\/script><script async src="//platform.instagram.com/en_US/embeds.js"><\/script>'}function cardType3(e,t,n){return n=n||"",'<div class="cardType3"><a href="/'+e.data[t].slug+"/?ref=latest"+n+'"><div class="ct3-left" id="'+e.data[t]._id+'"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"}function nonLatestcardType3(e,t){return'<div class="cardType3"><a href="/'+e.data[t].slug+'/"><div class="ct3-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"}function ctVideo3(e,t){var n;return n=""!=e.data.articles[t].alt_content&&null!=e.data.articles[t].alt_content?e.data.articles[t].alt_content:e.data.articles[t].article_content,'<div class="ctVideo3"><a class="videoImg2" href="/'+e.data.articles[t].slug+'/" data-video="'+n+'" data-vdid="'+e.data.articles[t]._id+'" data-title="'+e.data.articles[t].title+'" data-image="'+e.data.articles[t].feature_img+'"  data-desc="'+e.data.articles[t].sh_heading+'" data-slug="'+e.data.articles[t].slug+'"><img src="'+e.data.articles[t].feature_img+'"><span class="time">'+e.data.articles[t].meta_data.duration+"</span></a><h3>"+e.data.articles[t].title+"</h3></div>"}function videoCardType3(e,t){var n;return n=""!=e.data[t].alt_content&&null!=e.data[t].alt_content?e.data[t].alt_content:e.data[t].article_content,'<div class="cardType3"><div class="ct3-left vdo-left"><a class="videoImg2" href="/'+e.data[t].slug+'/" data-video="'+n+'" data-vdid="'+e.data[t]._id+'" data-desc="'+e.data[t].sh_heading+'"  data-title="'+e.data[t].title+'" data-image="'+e.data[t].feature_img+'" data-slug="'+e.data[t].slug+'"><img src="https://quicksilver.scoopwhoop.com/unsafe/280x110/top/'+e.data[t].feature_img+'"><span class="time">'+e.data[t].meta_data.duration+'</span></a></div><div class="ct3-right"><a  href="/'+e.data[t].slug+'/"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></a></div></div>"}function FollowUsOn(){$(".addFollowOn").append('<div class="follow-on"><h2>Follow us on</h2><div class="socialStyle3"><a href="https://www.facebook.com/Scoopwhoop/" class="hamBtn fbH" target="_blank" id="fbside"><i class="fa fa-facebook"></i></a> <a href="https://twitter.com/scoopwhoop" class="hamBtn twH" target="_blank" id="twtside"><i class="fa fa-twitter"></i></a><a href="https://www.youtube.com/user/scoopwhoopvideos" class="hamBtn ytH" target="_blank" id="ytside"><i class="fa fa-youtube"></i></a><a href="https://www.instagram.com/scoopwhoop/" class="hamBtn igH grad1" target="_blank" id="instaside"><i class="fa fa-instagram"></i></a><a href="https://in.pinterest.com/scoopwhooppins/" class="hamBtn piH" target="_blank" id="pinside"><i class="fa fa-pinterest-p"></i></a></div></div>')}function trendingNEWSTopics(){$.get(root+"api/v1/get_trending/",function(e){if(e.total<3)$(".trendingSec").hide();else for(var t=0;t<e.data.length;t++)$(".trendingSec").show(),$(".trendingSec ul").append('<li class="trendNews"><a href="/'+e.data[t].slug+'/?ref=trendingonsw">'+e.data[t].tag+"</a></li>")}).done(function(){$(".trendNews").hover(function(){$(".active").removeClass("active"),$(this).addClass("active")})})}function sendEmailShare(e){var t=e.data.sh_heading,n=e.data.title,i=window.location.href.replace(window.location.hash,"")+"#"+genHashCode("mail"),r=e.data.feature_img,o={from_:$("#shareFromId").val(),to_:$("#shareToId").val(),title:n,sh_heading:t,image:r,msg_:$("#shareMsgId").val(),slug:i};$.post(apis.sendShareEmail,{data:JSON.stringify(o)},function(e){$(".mailsent").css("display","none"),$(".sucessmail").css("display","block"),$("#shareFromId").val(""),$("#shareToId").val(""),$("#shareMsgId").val("Hey, I saw this on ScoopWhoop and think it's great.")})}function sendEmailShare1(e){var t=e.data.sh_heading,n=e.data.title,i=window.location.href.replace(window.location.hash,"")+"#"+genHashCode("mail"),r=e.data.feature_img,o={from_:$("#shareFromId1").val(),to_:$("#shareToId1").val(),title:n,sh_heading:t,image:r,msg_:$("#shareMsgId1").val(),slug:i};$.post(apis.sendShareEmail,{data:JSON.stringify(o)},function(e){$(".mailsent").css("display","none"),$(".sucessmail").css("display","block"),$("#shareFromId1").val(""),$("#shareToId1").val(""),$("#shareMsgId1").val("Hey, I saw this on ScoopWhoop and think it's great.")})}function sendEmailAdvertise(){var e=(new Date).toString();if(e=e.substring(0,e.length-15),""!=$("#name").val()&&""!=$("#email").val()&&""!=$("#designation").val()&&""!=$("#company").val()&&""!=$("#contactNo").val()&&""!=$("#region").val()){var t={from_:$("#email").val(),to_:"partner@scoopwhoop.com",subject_:"Mail from Partner @"+e,message_:"NAME: "+$("#name").val()+"\n\nEMAIL: "+$("#email").val()+"\n\nDESIGNATION: "+$("#designation").val()+"\n\nCOMPANY: "+$("#company").val()+"\n\nRegion: "+$("#region").val()+"\n\nCONTACT: "+$("#contactNo").val()+"\n\nMESSAGE: "+$("#brief").val()};$.post(apis.sendPartnerEmail,{data:JSON.stringify(t)},function(e){$(".content").css("display","none"),$(".sucess").css("display","block"),$("html, body").animate({scrollTop:$(".row14").offset().top},"slow"),$("#name").val(""),$("#email").val(""),$("#designation").val(""),$("#company").val(""),$("#contactNo").val(""),$("#brief").val("")})}else $("#eroor").length||($("<span id='eroor'><br /> <h3>Uh oh! Please fill all the fields.</h3><br /></span>").insertBefore(".content .formLeft"),$("<span id='eroor' style='text-align: center;'><br /> <h3 style='font-weight: bold;'>Uh oh! Please fill all the fields.</h3><br /></span>").insertAfter(".content .formErrorLeft"))}function returnDate(){return now=new Date,year=""+now.getFullYear(),month=""+(now.getMonth()+1),1==month.length&&(month="0"+month),day=""+now.getDate(),1==day.length&&(day="0"+day),hour=""+now.getHours(),1==hour.length&&(hour="0"+hour),minute=""+now.getMinutes(),1==minute.length&&(minute="0"+minute),second=""+now.getSeconds(),1==second.length&&(second="0"+second),year+"-"+month+"-"+day+" "+hour+":"+minute+":"+second}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}function browserType(){return-1!=(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?"Opera":-1!=navigator.userAgent.indexOf("Chrome")?"Chrome":-1!=navigator.userAgent.indexOf("Safari")?"Safari":-1!=navigator.userAgent.indexOf("Firefox")?"Firefox":-1!=navigator.userAgent.indexOf("MSIE")||1==!!document.documentMode?"IE":"unknown"}void 0===vep&&(vep=""),$(document).on("click","#sendEmailAdvertise",function(){sendEmailAdvertise()});var sw_uid,fpoptions={excludeWebGL:!0,excludeCanvas:!0,excludeJsFonts:!0},islocalstorage=0,issessionstorage=0,isindexdbstorage=0,fpdump="",fid=0,fp=new Fingerprint2(fpoptions),sw_lastvisited=0,sw_nsfw_slug="",cookie_ga=getCookie("_ga");null==cookie_ga&&(cookie_ga="sw_desk_user");var sw_cookie=getCookie("_sw_cookie");null==sw_cookie&&(sw_cookie="sw_desk_user");var artId,arttitle,artcat,artImage,sw_cookie_last=getCookie("_sw_last");function setCookie(e){var t=e.name,n=e.value,i=e.days,r=e.hours,o=e.minutes,a=e.seconds,s=new Date;i&&s.setDate(s.getDate()+i),r&&s.setHours(s.getHours()+r),o&&s.setMinutes(s.getMinutes()+o),a&&s.setSeconds(s.getSeconds()+a),document.cookie=t+"="+escape(n)+";domain="+window.location.hostname+";path=/;expires="+s.toUTCString()}function deleteCookie(e){setCookie({name:e,value:"",seconds:1})}function loginMeOut(){1==islocalstorage&&(window.localStorage.removeItem("sw_nsfw_slug"),window.localStorage.removeItem("sw_u_age"),window.localStorage.removeItem("sw_uid")),1==issessionstorage&&sessionStorage.clear(),deleteCookie("_sw_cookie"),$("#sw_profile").remove()}if(fp.get(function(e,t){fid=e,fpdump=JSON.stringify(t),issessionstorage=t[8].value,islocalstorage=t[9].value,isindexdbstorage=t[10].value}),null==artId&&(artId=""),null==arttitle&&(arttitle=""),null==artcat&&(artcat=""),null==artImage&&(artImage=""),1===islocalstorage&&null!=localStorage.GCMSUsersData){var sw_nsfw_age=1e3;localStorage.sw_u_age=sw_nsfw_age,1==issessionstorage&&sessionStorage.setItem("sw_u_age",sw_nsfw_age)}function umatracker(e,t){var n={userId:cookie_ga,artId:articleid,page:state,sw_userid:sw_uid,timeStamp:returnDate(),browserFP:fid,DeviceType:navigator.platform,eventOn:t,eventType:e,hash_value:window.location.hash,ref_code:getUrlParameter("ref")},i=getUrlParameter("ep");"160990"==i||"160991"==i||"160992"==i||"160993"==i||"160994"==i||$.post("https://uma2.scoopwhoop.com/csm",{pl:JSON.stringify(n),pl_type:"SW Desktop"},function(e){})}function fbloginage(){FB.login(function(e){var r=e.authResponse.accessToken;e.authResponse?(FB.api("/me",function(e){var t=e.id;if(1==issessionstorage)var n=sessionStorage.getItem("sw_uid");1==islocalstorage&&(n=localStorage.sw_uid);var i=getUrlParameter("ep");"160990"==i||"160991"==i||"160992"==i||"160993"==i||"160994"==i||$.post("https://uma.scoopwhoop.com/api/v2/mobile_app/user/process_fb_token",{userid:n,fbid:t,access_token:r,client:"web",perms:"public_profile,email,user_friends"},function(e){}),1==issessionstorage&&sessionStorage.setItem("sw_uid",n),1==islocalstorage&&(localStorage.sw_uid=n)}),FB.api("/me?fields=age_range",function(e){var t=e.age_range.min;1<=t&&(1==issessionstorage&&(sessionStorage.setItem("sw_u_age",t),window.location=sessionStorage.getItem("sw_nsfw_slug")),1==islocalstorage&&(localStorage.sw_u_age=t,window.location=localStorage.sw_nsfw_slug))})):console.log("User cancelled login or did not fully authorize.")},{scope:"public_profile,email,user_friends"})}function ggloginage(){gapi.auth.signIn({clientid:"793967111040-18mkt4rv45llvmi81is0d0un5hflcurm.apps.googleusercontent.com",cookiepolicy:"single_host_origin",accesstype:"offline",callback:"loginCallbackNSFW",scope:"https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/plus.profile.emails.read"})}window.Promise&&new Promise(function(e){var t,n=function(){e(!0)},i=function(){e(!1)};window.webkitRequestFileSystem?webkitRequestFileSystem(0,0,i,n):"MozAppearance"in document.documentElement.style?((t=indexedDB.open("test")).onerror=n,t.onsuccess=i):/constructor/i.test(window.HTMLElement)?function(){try{localStorage.length||(localStorage.x=1,localStorage.removeItem("x")),i()}catch(e){navigator.cookieEnabled?n():i()}}():window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?i():n()}).then(function(e){if(1==e&&$("#permission_div").remove(),null==sw_cookie){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_uid"))var t=sessionStorage.getItem("sw_uid"),n=sessionStorage.getItem("sw_lastvisted");if(1==islocalstorage&&null!=localStorage.sw_uid&&(t=localStorage.sw_uid,n=localStorage.sw_lastvisted),null!=t){var i={userId:cookie_ga,sw_uid:t,artId:artId,title:arttitle,category:artcat,feature_img:artImage,page:state,lastvisited:n,timeStamp:returnDate(),browserFP:fid,isPrivateModeOn:e,bcdump:fpdump,ref_code:getUrlParameter("ref")};"160990"==(r=getUrlParameter("ep"))||"160991"==r||"160992"==r||"160993"==r||"160994"==r||"160990"==(r=getUrlParameter("ep"))||"160991"==r||"160992"==r||"160993"==r||"160994"==r||$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,type:"POST",url:"https://uma2.scoopwhoop.com/pvcsm",data:{pl:JSON.stringify(i),pl_type:"SW Desktop",cookie:t,lastvisited:n}}).done(function(e){var t=JSON.parse(e);1==issessionstorage&&(sessionStorage.setItem("sw_uid",t.userid),sessionStorage.setItem("sw_lastvisted",t.lastvisited)),1==islocalstorage&&(localStorage.sw_uid=t.userid,localStorage.sw_lastvisted=t.lastvisited)}),"160990"==(r=getUrlParameter("ep"))||"160991"==r||"160992"==r||"160993"==r||"160994"==r||$.get("https://uma.scoopwhoop.com/api/v1/mobile_app/user?userid="+t+"&age=1",function(e){if(0!=e.status){var t=e.data.age_range.min;1==issessionstorage&&sessionStorage.setItem("sw_u_age",t),1==islocalstorage&&(localStorage.sw_u_age=t)}})}else i={userId:cookie_ga,timeStamp:returnDate(),artId:artId,title:arttitle,category:artcat,feature_img:artImage,page:state,browserFP:fid,isPrivateModeOn:e,bcdump:fpdump,ref_code:getUrlParameter("ref")},"160990"==(r=getUrlParameter("ep"))||"160991"==r||"160992"==r||"160993"==r||"160994"==r||"160990"==(r=getUrlParameter("ep"))||"160991"==r||"160992"==r||"160993"==r||"160994"==r||$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,type:"POST",url:"https://uma2.scoopwhoop.com/pvcsm",data:{pl:JSON.stringify(i),pl_type:"SW Desktop"}}).done(function(e){var t=JSON.parse(e);1==issessionstorage&&(sessionStorage.setItem("sw_uid",t.userid),sessionStorage.setItem("sw_lastvisted",t.lastvisited),t.userid,t.lastvisited),1==islocalstorage&&(localStorage.sw_uid=t.userid,localStorage.sw_lastvisted=t.lastvisited,t.userid,t.lastvisited)})}else{var r;i={userId:cookie_ga,cookie:sw_cookie,artId:artId,title:arttitle,category:artcat,feature_img:artImage,page:state,lastvisited:sw_cookie_last,timeStamp:returnDate(),browserFP:fid,isPrivateModeOn:e,bcdump:fpdump,ref_code:getUrlParameter("ref")},"160990"==(r=getUrlParameter("ep"))||"160991"==r||"160992"==r||"160993"==r||"160994"==r||$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,type:"POST",url:"https://uma2.scoopwhoop.com/pvcsm",data:{pl:JSON.stringify(i),pl_type:"SW Desktop",cookie:sw_cookie,lastvisited:sw_cookie_last}}).done(function(e){var t=JSON.parse(e);1==issessionstorage&&(sessionStorage.setItem("sw_uid",sw_cookie),sessionStorage.setItem("sw_lastvisted",t.lastvisited),t.lastvisited),1==islocalstorage&&(localStorage.sw_uid=sw_cookie,localStorage.sw_lastvisted=t.lastvisited,t.lastvisited)})}}),$(".popupAppNsfw").on("click",".popupHeaderCancelArt",function(){$(".popupAppNsfw").css("display","none"),$(".popupAppnonsfw").css("display","none")}),$(document).on("click",".nsfwImg",function(){var e=$(this).attr("data-href");if(1==issessionstorage&&sessionStorage.setItem("sw_nsfw_slug",e),1==islocalstorage&&(localStorage.sw_nsfw_slug=e),null!=sw_uid){var t=getUrlParameter("ep");"160990"==t||"160991"==t||"160992"==t||"160993"==t||"160994"==t||$.get("https://uma.scoopwhoop.com/api/v1/mobile_app/user?userid="+sw_uid+"&age=1",function(e){if(0!=e.status){var t=e.data.age_range.min;1<=t?(1==issessionstorage&&(sessionStorage.setItem("sw_u_age",t),window.location=sessionStorage.getItem("sw_nsfw_slug")),1==islocalstorage&&(localStorage.sw_u_age=t,window.location=localStorage.sw_nsfw_slug)):t<1&&(-1==t?$(".popupAppNsfw").css("display","block"):$(".popupAppnonsfw").css("display","block"))}else $(".popupAppNsfw").css("display","block")})}else $(".popupAppNsfw").css("display","block")}),$(document).on("click",".nsfwImgP .ct3-right",function(){var e=$(this).parents().attr("data-href");if(1==issessionstorage&&sessionStorage.setItem("sw_nsfw_slug",e),1==islocalstorage&&(localStorage.sw_nsfw_slug=e),null!=sw_uid){var t=getUrlParameter("ep");"160990"==t||"160991"==t||"160992"==t||"160993"==t||"160994"==t||$.get("https://uma.scoopwhoop.com/api/v1/mobile_app/user?userid="+sw_uid+"&age=1",function(e){if(0!=e.status){var t=e.data.age_range.min;1<=t?(1==issessionstorage&&(sessionStorage.setItem("sw_u_age",t),window.location=sessionStorage.getItem("sw_nsfw_slug")),1==islocalstorage&&(localStorage.sw_u_age=t,window.location=localStorage.sw_nsfw_slug)):t<1&&(-1==t?$(".popupAppNsfw").css("display","block"):$(".popupAppnonsfw").css("display","block"))}else $(".popupAppNsfw").css("display","block")})}else $(".popupAppNsfw").css("display","block")}),$(document).on("click",".popupHeaderCancel",function(){localStorage.sw_nsfw_slug="",$(".popupAppNsfw").css("display","none"),$(".popupAppnonsfw").css("display","none")}),function(e,t,n){var i,r=e.getElementsByTagName("script")[0];e.getElementById(n)||((i=e.createElement("script")).id=n,i.src="//connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(i,r))}(document,0,"facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:"915004185247274",cookie:!0,xfbml:!0,version:"v2.8"})};var gcode="";function loginCallbackNSFW(e){gcode=e.code,gapi.client.plus.people.get({userId:"me"}).then(function(e){var t=e.result,n=t.id,i=t.ageRange.min;if(1==issessionstorage){var r=sessionStorage.getItem("sw_uid");sessionStorage.setItem("sw_u_age",t.ageRange.min)}1==islocalstorage&&(r=localStorage.sw_uid,localStorage.sw_u_age=t.ageRange.min);var o=getUrlParameter("ep");"160990"==o||"160991"==o||"160992"==o||"160993"==o||"160994"==o||$.post("https://uma.scoopwhoop.com/api/v2/mobile_app/user/process_google_token",{userid:r,googleid:n,auth_code:gcode,client:"web"},function(e){}).done(function(){1==issessionstorage&&sessionStorage.setItem("sw_uid",r),1==islocalstorage&&(localStorage.sw_uid=r),1<=i&&(1==issessionstorage&&(window.location=sessionStorage.getItem("sw_nsfw_slug")),1==islocalstorage&&(window.location=localStorage.sw_nsfw_slug))})})}function onLoadCallback(){gapi.client.setApiKey("AIzaSyClHvchDHXNsK3FhVhJphckEhcprux6kA4"),gapi.client.load("plus","v1",function(){})}$(document).on("click","#fbtop",function(){umatracker("Facebook share clicked under title","Desktop_Social_Share"),ga("send",{hitType:"event",eventCategory:"Desktop_Social_Share",eventAction:"Facebook Top Share"})}),$(document).on("click","#discover",function(){umatracker("Discover Suggestions for videos Clicked","Video_Suggestion"),ga("send",{hitType:"event",eventCategory:"Video_Suggestion",eventAction:"Discover Suggestions for videos Clicked"})}),$(document).on("click","#twttop",function(){umatracker("Twitter share clicked under title","Desktop_Social_Share"),ga("send",{hitType:"event",eventCategory:"Desktop_Social_Share",eventAction:"Twitter Top Share"})}),$(document).on("click","#redtop",function(){umatracker("Reddit share clicked under title","Desktop_Social_Share"),ga("send",{hitType:"event",eventCategory:"Desktop_Social_Share",eventAction:"Reddit Top Share"})}),$(document).on("click","#fbside",function(){umatracker("Facebook Follow","Desktop_FollowUs_sidebar"),ga("send",{hitType:"event",eventCategory:"Desktop_FollowUs_sidebar",eventAction:"Facebook Follow"})}),$(document).on("click","#twtside",function(){umatracker("Twitter Follow","Desktop_FollowUs_sidebar"),ga("send",{hitType:"event",eventCategory:"Desktop_FollowUs_sidebar",eventAction:"Twitter Follow"})}),$(document).on("click","#ytside",function(){umatracker("Youtube Follow","Desktop_FollowUs_sidebar"),ga("send",{hitType:"event",eventCategory:"Desktop_FollowUs_sidebar",eventAction:"Youtube Follow"})}),$(document).on("click","#instaside",function(){umatracker("Instagram Follow","Desktop_FollowUs_sidebar"),ga("send",{hitType:"event",eventCategory:"Desktop_FollowUs_sidebar",eventAction:"Instagram Follow"})}),$(document).on("click","#pinside",function(){umatracker("Pinterest Follow","Desktop_FollowUs_sidebar"),ga("send",{hitType:"event",eventCategory:"Desktop_FollowUs_sidebar",eventAction:"Pinterest Follow"})}),$(document).on("click","#mailtop",function(){umatracker("Mail share clicked under title","Desktop_Social_Share"),$(".mailPopupDiv").css("display","block"),$(".mailsent").css("display","block"),$(".sucessmail").css("display","none"),ga("send",{hitType:"event",eventCategory:"Desktop_Social_Share",eventAction:"Mail Top Share"})}),$(document).on("click","#mailtop3",function(){umatracker("Mail  share clicked under title","Desktop_Social_Share"),$(".mailPopupDivShare").css("display","block"),$(".mailsent").css("display","block"),$(".sucessmail").css("display","none"),ga("send",{hitType:"event",eventCategory:"Desktop_Social_Share",eventAction:"Mail Top Share"})}),$(document).on("click","#mailbtm",function(){umatracker("Mail share clicked under article","Desktop_Social_Share"),$(".mailPopupDivbottom").css("display","block"),$(".mailsent").css("display","block"),$(".sucessmail").css("display","none"),ga("send",{hitType:"event",eventCategory:"Desktop_Social_Share",eventAction:"Mail Bottom Share"})}),$(document).on("click",".cross",function(){umatracker("Mail share clicked under title","Desktop_Social_Share"),$(".mailPopupDiv").css("display","none"),$(".mailPopupDivbottom").css("display","none"),$(".mailPopupDivShare").css("display","none"),ga("send",{hitType:"event",eventCategory:"Desktop_Social_Share",eventAction:"Mail Top Share"})}),$(document).on("click","#fbbtm",function(){umatracker("Facebook share clicked after article","Desktop_Social_Share"),ga("send",{hitType:"event",eventCategory:"Desktop_Social_Share",eventAction:"Facebook Bottom Share"})}),$(document).on("click","#twtbtm",function(){umatracker("Twitter share clicked after article","Desktop_Social_Share"),ga("send",{hitType:"event",eventCategory:"Desktop_Social_Share",eventAction:"Twitter Bottom Share"})}),$(document).on("click","#redbtm",function(){umatracker("Reddit share clicked after article","Desktop_Social_Share"),ga("send",{hitType:"event",eventCategory:"Desktop_Social_Share",eventAction:"Reddit Bottom Share"})}),$(document).on("click","#mailbtm",function(){umatracker("Mail share clicked after article","Desktop_Social_Share"),ga("send",{hitType:"event",eventCategory:"Desktop_Social_Share",eventAction:"Mail share clicked after article"})}),$(document).on("click",".AdsBelow",function(){umatracker("OutBrain clicked before comments - Around the web","Desktop_OutBrain"),ga("send",{hitType:"event",eventCategory:"Desktop_OutBrain",eventAction:"OutBrain clicked before comments - Around the web"})}),$(document).on("click",".rightEndAds",function(){umatracker("OutBrain clicked on sidebar","Desktop_OutBrain"),ga("send",{hitType:"event",eventCategory:"Desktop_OutBrain",eventAction:"OutBrain clicked on sidebar"})}),$(document).on("click",".addReadNext",function(){umatracker("Suggestions clicked after article - ReadNext")}),$(document).on("click",".artNews a",function(){umatracker("via ScoopWhoop News clicked - sidebar","Desktop_Via_SWNEWS"),ga("send",{hitType:"event",eventCategory:"Desktop_Via_SWNEWS",eventAction:"via ScoopWhoop News clicked - sidebar"})}),$(document).on("click",".nc-row a",function(){umatracker("NEWS Topic article Clicked","Desktop_NEWS"),ga("send",{hitType:"event",eventCategory:"Desktop_NEWS",eventAction:"NEWS Topic article Clicked"})}),$(document).on("click",".news-banner a",function(){umatracker("Hero NEWS Clicked","Desktop_NEWS"),ga("send",{hitType:"event",eventCategory:"Desktop_NEWS",eventAction:"Hero NEWS Clicked"})}),$(document).on("click",".trendingSec ul li a",function(){umatracker("Trending in ScoopWhoop clicked - sidebar","Desktop_Trending"),ga("send",{hitType:"event",eventCategory:"Desktop_Trending",eventAction:"Trending clicked - sidebar"})}),$(document).on("click",".signUpBtn",function(){umatracker("NewsLetter Signup clicked - sidebar","Desktop_Newsletter"),ga("send",{hitType:"event",eventCategory:"Desktop_Newsletter",eventAction:"NewsLetter Signup clicked - sidebar"})}),$(document).on("click",".artCardType1",function(){umatracker("Also Read Article clicked under sidebar")}),$(document).on("click",".alsoLike",function(){umatracker("You May also like Article clicked")}),$(document).on("click","#signUpInput",function(){umatracker("Newsletter Input Box Clicked","Desktop_Newsletter"),ga("send",{hitType:"event",eventCategory:"Desktop_Newsletter",eventAction:"Newsletter Input Box Clicked"})}),$(document).on("click","#gdn .subscribeNewsletterPopup .signUpBtn",function(){umatracker("GDN PopUP Campaign","Desktop_PopUp"),ga("send",{hitType:"event",eventCategory:"Desktop_PopUp",eventAction:"Newsletter GDN Campaign"})}),$(document).on("click","#gdn .fbvc",function(){umatracker("GDN PopUP Campaign","Desktop_PopUp"),ga("send",{hitType:"event",eventCategory:"Desktop_PopUp",eventAction:"FB GDN Campaign"})}),$(document).on("click","#gdn .twvc",function(){umatracker("GDN PopUP Campaign","Desktop_PopUp"),ga("send",{hitType:"event",eventCategory:"Desktop_PopUp",eventAction:"Twitter GDN Campaign"})}),$(document).on("click","#gdn .pivc",function(){umatracker("GDN PopUP Campaign","Desktop_PopUp"),ga("send",{hitType:"event",eventCategory:"Desktop_PopUp",eventAction:"Pinterest GDN Campaign"})}),$(document).on("click","#gdn .invc",function(){umatracker("GDN PopUP Campaign","Desktop_PopUp"),ga("send",{hitType:"event",eventCategory:"Desktop_PopUp",eventAction:"Instagram GDN Campaign"})}),$(document).on("click","#gdn .ytvc",function(){umatracker("GDN PopUP Campaign","Desktop_PopUp"),ga("send",{hitType:"event",eventCategory:"Desktop_PopUp",eventAction:"Youtube GDN Campaign"})}),$(document).on("click","#pledge",function(){ga("send",{hitType:"event",eventCategory:"Desktop_Pledge",eventAction:"Pledge Taken on Desktop"})}),$(document).on("click",".chasevideo",function(){umatracker("Chase Video RHS Clicked"),ga("send",{hitType:"event",eventCategory:"Desktop_RHS",eventAction:"Chase Video RHS Clicked"})}),$(document).on("click","#signUpBtn",function(){umatracker("NewsLetter Signup Clicked","Desktop_Newsletter"),ga("send",{hitType:"event",eventCategory:"Desktop_Newsletter",eventAction:"Newsletter Sign up Button Clicked"})}),$(document).on("click","#topStories",function(){umatracker("TopStories Clicked","Desktop_TopStories"),ga("send",{hitType:"event",eventCategory:"Desktop_TopStories",eventAction:"TopStories Clicked"})});var intSWId,sw_art_avgt=[120,120,60,30,20,10],sw_art_avgr=["6 mins","4 mins","2 mins","1 min","30 secs","10 secs"];function intSWAvgTS(e){intSWId=setInterval(function(){umatracker(sw_art_avgr.pop(),"Time_Spend_on_Article"),updateSWNxtInt()},e)}function updateSWNxtInt(){clearInterval(intSWId),0!=sw_art_avgt.length&&(nxtInt=1e3*sw_art_avgt.pop(),intSWAvgTS(nxtInt))}var quantdidScroll=!1,userscoller25=!0,userscoller50=!0,userscoller75=!0,userscoller100=!0;$(window).on("scroll",function(){quantdidScroll=!0}),setInterval(function(){if(quantdidScroll){quantdidScroll=!1;var e=Math.ceil(($(window).scrollTop()+$(window).height())/$(document).height()*100);25==e&&userscoller25&&(umatracker("25%","User_Scrolled"),userscoller25=!1),50==e&&userscoller50&&(umatracker("50%","User_Scrolled"),userscoller50=!1),75==e&&userscoller75&&(umatracker("75%","User_Scrolled"),userscoller75=!1),100==e&&userscoller100&&(umatracker("100%","User_Scrolled"),userscoller100=!1)}},300);var checkArt="",checkArt2="";if($(document).on("click",".fxStLtClose",function(){$(".fxStLt").hide(),$(".fxStRt").hide()}),$(document).on("click",".fxStRtClose",function(){$(".fxStLt").hide(),$(".fxStRt").hide()}),checkit.Browser.Chrome()){var config={messagingSenderId:"635571764285"};firebase.initializeApp(config);var messaging=firebase.messaging(),tokenDivId="token_div",permissionDivId="permission_div";function resetUI(){messaging.getToken().then(function(e){e?(sendTokenToServer(e),updateUIForPushEnabled(e)):(updateUIForPushPermissionRequired(),setTokenSentToServer(!1))}).catch(function(e){showToken("Error retrieving Instance ID token. ",e),setTokenSentToServer(!1)})}function showToken(e){}function sendTokenToServer(e){if(isTokenSentToServer()){var t=getUrlParameter("ep");"160990"==t||"160991"==t||"160992"==t||"160993"==t||"160994"==t||$.post("https://uma2.scoopwhoop.com/pushnotification/",{sw_id:sw_cookie,token:e},function(e){})}else setTokenSentToServer(!0)}function isTokenSentToServer(){return 1==window.localStorage.getItem("sentToServer")}function setTokenSentToServer(e){window.localStorage.setItem("sentToServer",e?1:0)}function showHideDiv(e,t){document.querySelector("#"+e).style=t?"display: visible":"display: none"}function requestPermission(){$("#premission_ask").css("display","none"),$("#process_div").css("display","block"),messaging.requestPermission().then(function(){$("#process_finish").css("display","block"),$("#process_div").css("display","none"),messaging.getToken().then(function(e){if(e){sendTokenToServer(e);var t=getUrlParameter("ep");"160990"==t||"160991"==t||"160992"==t||"160993"==t||"160994"==t||$.post("https://uma2.scoopwhoop.com/pushnotification/",{sw_id:sw_cookie,token:e},function(e){setTimeout(function(){$("#permission_div").css("display","none")},4e3)})}})}).catch(function(e){})}function deleteToken(){messaging.getToken().then(function(e){messaging.deleteToken(e).then(function(){setTokenSentToServer(!1),resetUI()}).catch(function(e){})}).catch(function(e){showToken("Error retrieving Instance ID token. ",e)})}function updateUIForPushEnabled(e){showHideDiv(permissionDivId,!1),showToken(e)}function updateUIForPushPermissionRequired(){if("undefined"!=typeof Storage){var e=new Date;$(".notnow").click(function(){localStorage.showNotificationPopupTime=e.setDate(e.getDate()+2)}),null!=localStorage.showNotificationPopupTime&&localStorage.showNotificationPopupTime>e.getTime()?$("#permission_div").hide():$("#permission_div").css("display","block")}}messaging.onTokenRefresh(function(){messaging.getToken().then(function(e){setTokenSentToServer(!1),sendTokenToServer(e),resetUI()}).catch(function(e){showToken("Unable to retrieve refreshed token ",e)})}),messaging.onMessage(function(e){console.log("Message received. ",e)}),resetUI()}var removeep=getUrlParameter("ep");function loadHomeScreen(){if("160990"==removeep||"160991"==removeep||"160992"==removeep||"160993"==removeep||"160994"==removeep);else{SWHeader();var r="",o="";$.get(apis.latestDesktop,function(e){$(".cardType1").append('<div class="imgContainer"><a href="/'+e.data[0].slug+'/"><img src="https://quicksilver.scoopwhoop.com/unsafe/580x305/top/'+e.data[0].feature_img+'"></a></div><a href="/'+e.data[0].slug+'/"><p>'+e.data[0].title+"</p></a>"),$(".sec1").append('<div class="cardType2"><div class="imgContainer"><a href="/'+e.data[1].slug+'/"><img src="https://quicksilver.scoopwhoop.com/unsafe/400x210/top/'+e.data[1].feature_img+'"></a></div><a href="/'+e.data[1].slug+'/"><p class="big">'+e.data[1].title+"</p></a></div>");for(var t=0;t<3;t++)""!=e.data[2].videos[t].alt_content&&null!=e.data[2].videos[t].alt_content?videodata=e.data[2].videos[t].alt_content:videodata=e.data[2].videos[t].article_content,$(".videos").append('<div class="cardType5"><a class="videoImg" href="/'+e.data[2].videos[t].slug+'/" data-video="'+videodata+'" data-vdid="'+e.data[2].videos[t]._id+'"  data-title="'+e.data[2].videos[t].title+'" data-image="'+e.data[2].videos[t].feature_img+'" data-desc="'+e.data[2].videos[t].sh_heading+'" data-slug="'+e.data[2].videos[t].slug+'" data-image="'+e.data[2].videos[t].feature_img+'"><img src="'+e.data[2].videos[t].feature_img+'"></a><p><a style="color:#000" href="/'+e.data[2].videos[t].slug+'/" data-video="'+videodata+'" data-vdid="'+e.data[2].videos[t]._id+'"  data-title="'+e.data[2].videos[t].title+'" data-image="'+e.data[2].videos[t].feature_img+'" data-desc="'+e.data[2].videos[t].sh_heading+'" data-slug="'+e.data[2].videos[t].slug+'" data-image="'+e.data[2].videos[t].feature_img+'">'+e.data[2].videos[t].title+"</a></p></div>");r=e.data[0].slug,o=e.data[1].slug}).done(function(){$(".subscribeNewsletterPopup").append('<div class="subscribe homesub"><h2>Subscribe to our <br />Newsletter</h2><div><form action="//scoopwhoop.us3.list-manage.com/subscribe/post?u=979f0aa42a35500a47bdd4c0a&amp;id=95026891bd" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate><div class="mc-field-group"><div class="signUpMail" id="signUpMail"><input type="text" placeholder="Enter your Email ID" name="EMAIL" class="required email" id="signUpInput"></div><button class="signUpBtn" type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe signUpBtn">Sign me up</button><br clear="all" /><br clear="all" /><div id="mce-responses" class="clear"><div class="subscribeText2" id="mce-error-response" style="display:none"></div><div class="subscribeText2" id="mce-success-response" style="display:none"></div></div><div style="position: absolute; left: -5000px;"><input type="text" name="b_979f0aa42a35500a47bdd4c0a_95026891bd" tabindex="-1" value=""></div></div></form><div class="clr"></div></div></div>'),$(".popup-close").click(function(){$(".subscribePopup").hide()});var e=getUrlParameter("ep");"VCommission"==e&&null!=e&&$(".subscribePopup").delay(15e3).fadeIn(500)});var a=0,s=0,l=0;$.get(apis.allArticles,function(e){checkArt=e.data[e.data.length-1].slug,checkArt2=e.data[e.data.length-2].slug,a=e.next_offset;for(var t=0;t<e.data.length;t++)if(r!=e.data[t].slug&&o!=e.data[t].slug)if(t<6)if(1==e.data[t].meta_data.nsfw){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age"))var n=sessionStorage.getItem("sw_u_age");1==islocalstorage&&null!=localStorage.sw_u_age&&(n=localStorage.sw_u_age),null==n||n<1?$(".latestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="'+imagesSize.quickList+e.data[t].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"):($(".latestStories").append(tmpl.list(e.data[t],imagesSize,refs.refs.homeLatest)),$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">NSFW</a>'))}else{var i=$(".latestStories");2==t&&i.append(tmpl.infeedList("infeedAd"+getAdID.getGenerateID())),i.append(tmpl.list(e.data[t],imagesSize,refs.refs.homeLatest)),"branded"==e.data[t].meta_data.art_type2&&$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">PARTNER</a>')}else 1==e.data[t].meta_data.nsfw?(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age")&&(n=sessionStorage.getItem("sw_u_age")),1==islocalstorage&&null!=localStorage.sw_u_age&&(n=localStorage.sw_u_age),null==n||n<1?$(".moreLatestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="'+imagesSize.quickList+e.data[t].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"):($(".moreLatestStories").append(tmpl.list(e.data[t],imagesSize,refs.refs.homeLatest)),$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">NSFW</a>'))):($(".moreLatestStories").append(tmpl.list(e.data[t],imagesSize,refs.refs.homeLatest)),"branded"==e.data[t].meta_data.art_type2&&$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">PARTNER</a>'));$.get(apis.allArticles+"?offset="+a,function(e){a=e.next_offset;for(var t=0;t<e.data.length;t++)checkArt===e.data[t].slug&&(e.data.splice(t,1),t--),e.data[t]&&checkArt2===e.data[t].slug&&(e.data.splice(t,1),t--);for(var n=0;n<e.data.length;n++)n<4?$(".moreLatestStories").append(cardType3(e,n,"&utm_source=home_latest&utm_medium=desktop")):$(".leftContent.story").append(cardType3(e,n,"&utm_source=home_latest&utm_medium=desktop")),"branded"==e.data[n].meta_data.art_type2&&$("#"+e.data[n]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[n].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">PARTNER</a>');checkArt=e.data[e.data.length-1].slug,checkArt2=e.data[e.data.length-2].slug})}),$.get(apis.topStories,function(e){$(".topStories").append('<div class="clr"></div>');for(var t=0;t<e.data.length;t++)$(".topStories").append('<div class="cardType4" id="topStories"><a href="/'+e.data[t].slug+'/?ref=htop"><div class="ct4-left"><span style="color:#000">'+(t+1)+'</span></div><div class="ct4-right" id="'+e.data[t]._id+'"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/352x185/top/'+e.data[t].feature_img+'"></div><p>'+e.data[t].title+"</p></div></a></div>"),"branded"==e.data[t].meta_data.art_type2&&$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[t].slug+'/?ref=htop">PARTNER</a>');$(".topStories").append('<div class="clr"></div>')}),trendingNEWSTopics(),FollowUsOn();var u=!1,c=0,d=0;$.get(apis.trending,function(e){for(var t=0;t<e.data.length;t++)$(".sec2").append('<div class="cardType2"><a href="/'+e.data[t].slug+'/?ref=hwrh"><div class="wshr-right" id="'+e.data[t]._id+'"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/400x210/top/'+e.data[t].feature_img+'"></div><p class="artTitle">'+e.data[t].title+"</p></a></div>"),"branded"==e.data[t].meta_data.art_type2&&$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[t].slug+'/?ref=htop">PARTNER</a>');$(".sec2").append('<div class="clr"></div>'),u=!0,c=$(".newSec2").offset().top,d=$(".newSec2").outerHeight()-400});var h=0;$.get(apis.partnerHome,function(e){var r=e,o=0;$(document).scroll(function(){$(document).scrollTop()>c+d&&u?$(".sec2").css({position:"fixed",bottom:0,width:"400px",transition:"bottom 200ms ease"}):$(".sec2").css({position:"",bottom:"",width:"",transition:"bottom 200ms ease"});var e=$(".row .row .main-content .leftPart"),t=e.offset().top+e.height()-$(window).height()-100,n=$(".row .row .main-content .rightPart"),i=n.offset().top+n.height()-$(window).height()-100;s<t&&$(document).scrollTop()>t&&(s=100+t,$.get(apis.allArticles+"?offset="+a,function(e){if(e.next_offset!=a)if(a=e.next_offset,-1==e.next_offset)$(".loadMoreData").replaceWith("<div class='loadMoreData'>THAT'S ALL, FOLKS</div>");else{for(var t=0;t<e.data.length;t++)checkArt===e.data[t].slug&&(e.data.splice(t,1),t--),e.data[t]&&checkArt2===e.data[t].slug&&(e.data.splice(t,1),t--);for(var n=0;n<e.data.length;n++)if(n%3==0&&h<r.data.length)if(1==r.data[h].meta_data.nsfw){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age"))var i=sessionStorage.getItem("sw_u_age");1==islocalstorage&&null!=localStorage.sw_u_age&&(i=localStorage.sw_u_age),null==i||i<1?$(".leftContent.story").append('<div class="cardType3"  id="'+r.data[h]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+r.data[h].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="'+imagesSize.quickList+r.data[h].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+r.data[h].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+r.data[h].title+'</p><p class="dt">'+r.data[h].pub_date+"</p></div></a></div>"):($(".leftContent.story").append('<div class="cardType3"  id="'+r.data[h]._id+'"><a href="/'+r.data[h].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="'+imagesSize.quickList+r.data[h].feature_img+'"></div></div><div class="ct3-right"><p>'+r.data[h].title+'</p><p class="dt">'+r.data[h].pub_date+"</p></div></a></div>"),$("#"+r.data[h]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[n].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">PARTNER</a>')),h++}else $(".leftContent.story").append('<div class="cardType3"><a href="/'+r.data[h].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="'+imagesSize.quickList+r.data[h].feature_img+' "><p class="cat">PARTNER</p></div></div><div class="ct3-right"><p>'+r.data[h].title+'</p><p class="dt">'+r.data[h].pub_date+"</p></div></a></div>"),$(".leftContent.story").append('<div class="cardType3"><a href="/'+e.data[n].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop"><div class="ct3-left"><img src="'+imagesSize.quickList+e.data[n].feature_img+'"></div><div class="ct3-right"><p>'+e.data[n].title+'</p><p class="dt">'+e.data[n].pub_date+"</p></div></a></div>"),h++;else o!=e.data[n]._id&&(1==e.data[n].meta_data.nsfw?(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age")&&(i=sessionStorage.getItem("sw_u_age")),1==islocalstorage&&null!=localStorage.sw_u_age&&(i=localStorage.sw_u_age),null==i||i<1?$(".leftContent.story").append('<div class="cardType3"  id="'+e.data[n]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[n].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="'+imagesSize.quickList+e.data[n].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[n].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[n].title+'</p><p class="dt">'+e.data[n].pub_date+"</p></div></a></div>"):($(".leftContent.story").append('<div class="cardType3"  id="'+e.data[n]._id+'"><a href="/'+e.data[n].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="'+imagesSize.quickList+e.data[n].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data[n].title+'</p><p class="dt">'+e.data[n].pub_date+"</p></div></a></div>"),$("#"+e.data[n]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[n].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">NSFW</a>'))):($(".leftContent.story").append('<div class="cardType3"  id="'+e.data[n]._id+'"><a href="/'+e.data[n].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="'+imagesSize.quickList+e.data[n].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data[n].title+'</p><p class="dt">'+e.data[n].pub_date+"</p></div></a></div>"),"branded"==e.data[n].meta_data.art_type2&&$("#"+e.data[n]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[n].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">PARTNER</a>')),"branded"==e.data[n].meta_data.art_type2&&$("#"+e.data[n]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[n].slug+'/?ref=htop">PARTNER</a>')),o=e.data[n]._id;$(".leftContent.story").append(tmpl.infeedList("infeedAd"+getAdID.getGenerateID())),checkArt=e.data[e.data.length-1].slug,checkArt2=e.data[e.data.length-2].slug}})),l<i&&$(document).scrollTop()>i&&(l=100+i)})})}}function commentPopUp(){}function shuffle(e){var t,n,i;for(i=e.length;i;i-=1)t=Math.floor(Math.random()*i),n=e[i-1],e[i-1]=e[t],e[t]=n}function getHeight(e,t){return e/Math.sqrt(Math.pow(t,2)+1)}function getWidth(e,t){var n=e/Math.sqrt(1/(Math.pow(t,2)+1));return Math.round(n)}window.showLotame=function(){"undefined"!=typeof lotauds&&console.log(lotauds)},$("img.swgif2").each(function(){var e=$(this).attr("data-src").split("/"),t=e[5].split("_"),n="//"+e[2]+"/"+e[3]+"/"+e[4]+"/"+t[0]+".gif";$(this).attr("src",n),$(this).attr("data-src",n)}),$(document).on("click",".gplay",function(){$(this).attr("src","https://s3.scoopwhoop.com/anj/loader/431688319.gif");var e=$(this).siblings().attr("src"),t=e.lastIndexOf(".");if("gif"!=e.substr(t+1)){var n=e.split("/"),i=n[5].split("_"),r="//"+n[2]+"/"+n[3]+"/"+n[4]+"/"+i[0]+".gif";$(this).siblings().attr("src",r);var o=$(this);$(this).siblings().on("load",function(){o.hide()})}});var ratio=16/13.65;window.fbAsyncInit=function(){FB.init({appId:"915004185247274",cookie:!0,xfbml:!0,version:"v2.8"})};var inArtSlot1,inArtSlot2,inArtSlot3,inArtSlot4,inArtSlot5,inArtSlot6,inArtSlot7,inArtSlot8,onthetop,abovealso,outofpage1,outofpage2,outofpage3,inArtSlotReads,inArt1by1,artrhs,artend,SponsorBy=function(e,t){return'<span class="sponby">'+e+' </span><span class="sponname">'+t+"</span>"},defaultrefreshed=!1;function loadArticleScreen(){getUrlParameter("ref"),getUrlParameter("ep"),$("img.optim-mob").attr("src","https://s4.scoopwhoop.com/sw/img/subtoyt.png"),$(".rhsbanner").empty(),""===window.location.hash&&(window.location.hash=genHashCode()),$.get(apis.articleSlug+slug,function(e){if(SWHeader(),"{}"!==JSON.stringify(e.data.topic)&&$(".logo img").attr("src","https://s4.scoopwhoop.com/v4/static/sw/images/sw_newslogo_bg.png"),articleid=e.data.articleid,articlecategory=(articlecategory=e.data.category[0].category_slug).replace(/\s/g,""),2===e.data.meta_data.art_rep||3===e.data.meta_data.art_rep){$(".artBanner2ContentData img").each(function(){var e,t=$(this).attr("data-height"),n=$(this).attr("data-width");590<n&&(1<n/t?e=getHeight(830,ratio):(e=getHeight(n,13/28),getWidth(t,13/28)),$(this).css("width",830),$(this).css("height",e))});var t=getUrlParameter("ep");urlQuery.URLString().get("ref").join(""),window.googletag&&"function"==typeof window.googletag.pubads&&window.googletag.pubads()&&"function"==typeof window.googletag.pubads().getSlots&&window.googletag.pubads().getSlots()||console.log("Ad Not Loading"),$(".artBanner2ContentData").find(".swgif").parents("figure").addClass("gifplay").append('<img class="gplay" src="https://s4.scoopwhoop.com/v4/static/sw/images/gifplay.png" />');var n=$(".displayMoreShareIcons");n.hide(),$(document).on("mouseover",".moreShareIcons",function(){n.show()}),$(document).on("mouseout",".moreShareIcons",function(){n.hide()}),artsocialIcon(),$(".artBanner2ContentData iframe").each(function(){var e=$(this).attr("src"),t=document.createElement("a");t.href=e,t.hostname});var i=0;null!=e.data.meta_data.do_not_show_ad&&(adCheck.adShow(e.data.meta_data,"do_not_show_ad",0)?($(".ads-container").hide(),$("#div-gpt-ad-1487680604307-0").hide(),$(".homead").hide(),i=1):(googletag.cmd.push(function(){googletag.defineOutOfPageSlot("/145115460/SW_Out_Of_The_Page","div-gpt-ad-1487680604307-0").addService(googletag.pubads())}),googletag.cmd.push(function(){googletag.display("div-gpt-ad-1487680604307-0")})));var r=$(".artBanner2ContentData");if(r.append(sliderscript()),null==e.data.meta_data.sdk&&r.append(missingsdk()),null!=e.data.meta_data.brand&&""!=e.data.meta_data.brand)if(null!=e.data.meta_data.brandText&&""!=e.data.meta_data.brandText){var o="SPONSORED BY";0==e.data.meta_data.brandText&&(o="IN ASSOCIATION WITH"),null!=e.data.meta_data.brandPosition&&""!=e.data.meta_data.brandPosition?("0"==e.data.meta_data.brandPosition&&r.prepend(SponsorBy(o,e.data.meta_data.brand)),"1"==e.data.meta_data.brandPosition&&$(SponsorBy(o,e.data.meta_data.brand)).insertBefore(".artBanner2ContentData .lastad")):r.prepend(SponsorBy(o,e.data.meta_data.brand))}else"589da1aefb778542d5f68346"==e.data.articleid?r.prepend(SponsorBy("IN ASSOCIATION WITH",e.data.meta_data.brand)):r.prepend(SponsorBy("SPONSORED BY",e.data.meta_data.brand));$(".zodiacslider").slick({infinite:!0,speed:500,fade:!0,cssEase:"linear"}),$(".artBanner2ContentData img").unveil(200,function(){$(this).load(function(){this.style.opacity=1})}),void 0!==e.data.meta_data.bucket_mc&&"select a bucket"!==e.data.meta_data.bucket_mc&&$("#newsletteropt").replaceWith('<li style="display:none">'+mailChimp(e.data.meta_data.bucket_mc)+"</li>"),$(".socialStyle1").append('<a href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.facebook.com/sharer.php?u='+urlVal+"/%23"+genHashCode(facebook)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+encodeURI(arttitle)+"&url="+urlVal+"/%23"+genHashCode(twitter)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+urlVal+"/%23"+genHashCode(Reddit)+"&amp;title="+arttitle+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redtop"><i class="fa fa-reddit-alien"></i></a> <a href="javascript:void();" class="hamBtn mailAL"  id="mailtop"><i class="fa fa-envelope-o mailAL"></i></a> </div><div class="mailPopupDiv"><a class="cross"></a><div class="sucessmail"><label className="confirmText">Email has been sent successfully to your friend!</label></div><div class="mailsent"><label>Share this with a friend</label><input type="text" placeholder="Friend\'s email (Separate multiple with comma)" id="shareToId"><input type="text" placeholder="Your email" id="shareFromId"><textarea id="shareMsgId">Hey, I saw this on ScoopWhoop and think it\'s great.</textarea><button id="sendemail">Submit</button></div>'),$(".socialStyle2").append('<a href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.facebook.com/sharer.php?u='+urlVal+"/%23"+genHashCode(facebook)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbbtm"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+encodeURI(arttitle)+"&url="+urlVal+"/%23"+genHashCode(twitter)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twtbtm\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+urlVal+"/%23"+genHashCode(Reddit)+"&amp;title="+arttitle+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redbtm"><i class="fa fa-reddit-alien"></i></a> <a href="javascript:void();" class="hamBtn mailAL" id="mailbtm"><i class="fa fa-envelope-o mailAL"></i></a><div class="socialBtn moreShareIcons"><span class="text">More</span><span class="ie-arrow"></span> <br/> <div class="displayMoreShareIcons" style="display:none"> <div class="arrow arrowBorder"></div><div class="arrow arrowFill"></div><div class="moreShareIcnsDiv"> <a href="https://pinterest.com/pin/create/button/?media='+artImage+"&url="+urlVal+"&description="+artDesc+'" target="_blank" class="hamBtn1 pinterestDiv"><i class="fa fa-pinterest-p piH"></i></a><a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://plus.google.com/share?text='+arttitle+"&url="+urlVal+"/%23"+genHashCode(googleplus)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn1 gpH\"><i class=\"fa fa-google-plus\"></i></a> <a href=\"javascript:void(0);\"onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://www.tumblr.com/share/link?name="+arttitle+"&url="+urlVal+"/%23"+genHashCode(Tumblr)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn1 tblAL\"><i class=\"fa fa-tumblr\"></i></a> <a href=\"javascript:void(0);\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://mix.com/add?url="+urlVal+"/%23"+genHashCode(stumbleupon)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn1 stlAL\">"+iconsvg.mix+'</a></div></div></div></div><div class="mailPopupDivbottom"><a class="cross"></a><div class="sucessmail"><label className="confirmText">Email has been sent successfully to your friend!</label></div><div class="mailsent"><label>Share this with a friend</label><input type="text" placeholder="Friend\'s email (Separate multiple with comma)" id="shareToId"><input type="text" placeholder="Your email" id="shareFromId"><textarea id="shareMsgId">Hey, I saw this on ScoopWhoop and think it\'s great.</textarea><button id="sendemail">Submit</button></div>'),$.get(apis.category+"news",function(e){$(".artNews").append('<div class="newsItemDisplay"><a href="/'+e.data[0].slug+'/?ref=vswn"><img src="https://quicksilver.scoopwhoop.com/unsafe/336x176/top/'+e.data[0].feature_img+'"><p class="ncPara1">'+e.data[0].title+'</p></a><div class="newsCategoryMoreItems"></div></div>');for(var t=1;t<4;t++)$(".newsCategoryMoreItems").append('<div class="nc-row"><a href="/'+e.data[t].slug+'/?ref=vswn"><div class="nc-row-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/134x70/top/'+e.data[t].feature_img+'"></div><div class="nc-row-right"><p class="ncPara2">'+e.data[t].title+"</p></div></a></div>")});var a=$(".artBanner2ContentData");$(".artBanner2ContentData").height(),window.googletag&&"function"==typeof window.googletag.pubads&&window.googletag.pubads()&&"function"==typeof window.googletag.pubads().getSlots&&window.googletag.pubads().getSlots()?adsWork(a,e,articlecategory,i,t,"withrhs"):console.log("Ad Not Loading"),FollowUsOn(),$.get(apis.rhs,function(e){for(var t=0;t<6;t++)$(".artAlsoRead").append('<div class="artCardType1" id="rhsart'+t+'"><a href="/'+e.data[t].slug+"/?ref="+e.data[t]._type+'"><div class="imgContainer"><img src="'+e.data[t].feature_img+'"></div><p>'+e.data[t].title+"</p></a></div>"),"partner"===e.data[t]._type&&$(".artAlsoRead #rhsart"+t+" .imgContainer ").append('<a class="cat" href="'+root+e.data[t].slug+'">PARTNER</a>')});var s=!0;$(window).on("scroll",function(){Math.ceil($(".comment").offset().top-800)<$(document).scrollTop()&&1==s&&(s=!1)})}else{a=$("#artcontent"),t=getUrlParameter("ep"),urlQuery.URLString().get("ref").join(""),window.googletag&&"function"==typeof window.googletag.pubads&&window.googletag.pubads()&&"function"==typeof window.googletag.pubads().getSlots&&window.googletag.pubads().getSlots()?adsWork(a,e,articlecategory,i,t,"rhs"):console.log("Ad Not Loading"),$(".articleContentData img").each(function(){var e,t=$(this).attr("data-height"),n=$(this).attr("data-width");590<n&&(1<n/t?(e=getHeight(680,ratio),$(this).css("width",680)):(e=getHeight(n,13/15),getWidth(t,13/15)),$(this).css("height",e))}),$(".articleContentData").find(".swgif").parents("figure").addClass("gifplay").append('<img class="gplay" src="https://s4.scoopwhoop.com/v4/static/sw/images/gifplay.png" />'),$(".socialStyle1").append('<a href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.facebook.com/sharer.php?u='+urlVal+"/%23"+genHashCode(facebook)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+encodeURI(arttitle)+"&url="+urlVal+"/%23"+genHashCode(twitter)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+urlVal+"/%23"+genHashCode(Reddit)+"&amp;title="+arttitle+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redtop"><i class="fa fa-reddit-alien"></i></a> <a href="javascript:void();" class="hamBtn mailAL"  id="mailtop"><i class="fa fa-envelope-o mailAL"></i></a> </div><div class="mailPopupDiv"><a class="cross"></a><div class="sucessmail"><label className="confirmText">Email has been sent successfully to your friend!</label></div><div class="mailsent"><label>Share this with a friend</label><input type="text" placeholder="Friend\'s email (Separate multiple with comma)" id="shareToId"><input type="text" placeholder="Your email" id="shareFromId"><textarea id="shareMsgId">Hey, I saw this on ScoopWhoop and think it\'s great.</textarea><button id="sendemail">Submit</button></div>'),$(".displayMoreShareIcons").hide(),$(document).on("mouseover",".moreShareIcons",function(){$(".displayMoreShareIcons").show()}),$(document).on("mouseout",".moreShareIcons",function(){$(".displayMoreShareIcons").hide()}),artsocialIcon(),$(".articleContentData iframe").each(function(){var e=$(this).attr("src"),t=document.createElement("a");t.href=e,t.hostname}),i=0,null!=e.data.meta_data.do_not_show_ad&&(adCheck.adShow(e.data.meta_data,"do_not_show_ad",0)?($(".ads-container").hide(),$(".homead").hide(),$("#div-gpt-ad-1487680604307-0").hide(),i=1):googletag.cmd.push(function(){googletag.defineOutOfPageSlot("/145115460/SW_Out_Of_The_Page","div-gpt-ad-1487680604307-0").addService(googletag.pubads()),googletag.display("div-gpt-ad-1487680604307-0")}));var l=$(".articleContentData");null!=e.data.meta_data.brand&&""!=e.data.meta_data.brand&&(null!=e.data.meta_data.brandText&&""!=e.data.meta_data.brandText?(o="SPONSORED BY",0===parseInt(e.data.meta_data.brandText)&&(o="IN ASSOCIATION WITH"),null!=e.data.meta_data.brandPosition&&""!=e.data.meta_data.brandPosition?(0===parseInt(e.data.meta_data.brandPosition)&&l.prepend(SponsorBy(o,e.data.meta_data.brand)),1===parseInt(e.data.meta_data.brandPosition)&&l.children().not("script").last().before(SponsorBy(o,e.data.meta_data.brand))):l.prepend(SponsorBy(o,e.data.meta_data.brand))):"589da1aefb778542d5f68346"==e.data.articleid?l.prepend(SponsorBy("IN ASSOCIATION WITH",e.data.meta_data.brand)):l.prepend(SponsorBy("SPONSORED BY",e.data.meta_data.brand))),l.append(sliderscript()),null==e.data.meta_data.sdk&&l.append(missingsdk()),$(".zodiacslider").slick({infinite:!0,speed:500,fade:!0,cssEase:"linear"}),$(".articleContentData img").unveil(200,function(){$(this).load(function(){this.style.opacity=1})}),$(".socialStyle2").append('<a href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.facebook.com/sharer.php?u='+urlVal+"/%23"+genHashCode(facebook)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbbtm"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+encodeURI(arttitle)+"&url="+urlVal+"/%23"+genHashCode(twitter)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twtbtm\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+urlVal+"/%23"+genHashCode(Reddit)+"&amp;title="+arttitle+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redbtm"><i class="fa fa-reddit-alien"></i></a> <a href="javascript:void();" class="hamBtn mailAL" id="mailbtm"><i class="fa fa-envelope-o mailAL"></i></a><div class="socialBtn moreShareIcons"><span class="text">More</span><span class="ie-arrow"></span> <br/> <div class="displayMoreShareIcons" style="display:none"> <div class="arrow arrowBorder"></div><div class="arrow arrowFill"></div><div class="moreShareIcnsDiv"> <a href="https://pinterest.com/pin/create/button/?media='+artImage+"&url="+urlVal+"&description="+artDesc+'" target="_blank" class="hamBtn1 pinterestDiv"><i class="fa fa-pinterest-p piH"></i></a><a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://plus.google.com/share?text='+arttitle+"&url="+urlVal+"/%23"+genHashCode(googleplus)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn1 gpH\"><i class=\"fa fa-google-plus\"></i></a> <a href=\"javascript:void(0);\"onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://www.tumblr.com/share/link?name="+arttitle+"&url="+urlVal+"/%23"+genHashCode(Tumblr)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn1 tblAL\"><i class=\"fa fa-tumblr\"></i></a> <a href=\"javascript:void(0);\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://mix.com/add?url="+urlVal+"/%23"+genHashCode(stumbleupon)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn1 stlAL\">"+iconsvg.mix+'</a></div></div></div></div><div class="mailPopupDivbottom"><a class="cross"></a><div class="sucessmail"><label className="confirmText">Email has been sent successfully to your friend!</label></div><div class="mailsent"><label>Share this with a friend</label><input type="text" placeholder="Friend\'s email (Separate multiple with comma)" id="shareToId"><input type="text" placeholder="Your email" id="shareFromId"><textarea id="shareMsgId">Hey, I saw this on ScoopWhoop and think it\'s great.</textarea><button id="sendemail">Submit</button></div>'),void 0!==e.data.meta_data.bucket_mc&&"select a bucket"!==e.data.meta_data.bucket_mc&&$("#newsletteropt").replaceWith('<li style="display:none">'+mailChimp(e.data.meta_data.bucket_mc)+"</li>"),$(document).on("click","#sendemail1",function(){umatracker("Mail send under title"),sendEmailShare1(e)}),$(document).on("click","#sendemail",function(){umatracker("Mail send under title"),sendEmailShare(e)}),$.get(apis.category+"news",function(e){$(".artNews").append('<div class="newsItemDisplay"><a href="/'+e.data[0].slug+'/?ref=vswn"><img src="https://quicksilver.scoopwhoop.com/unsafe/336x176/top/'+e.data[0].feature_img+'"><p class="ncPara1">'+e.data[0].title+'</p></a><div class="newsCategoryMoreItems"></div></div>');for(var t=1;t<4;t++)$(".newsCategoryMoreItems").append('<div class="nc-row"><a href="/'+e.data[t].slug+'/?ref=vswn"><div class="nc-row-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/134x70/top/'+e.data[t].feature_img+'"></div><div class="nc-row-right"><p class="ncPara2">'+e.data[t].title+"</p></div></a></div>")}),a=$(".articleContentData"),$(".articleContentData").height(),window.googletag&&"function"==typeof window.googletag.pubads&&window.googletag.pubads()&&"function"==typeof window.googletag.pubads().getSlots&&window.googletag.pubads().getSlots()?adCheck.adShow(e.data.meta_data,"do_not_show_ad",0)&&(googletag.display("div-gpt-ad-1492851885172-0"),googletag.pubads().refresh([artrhs]),$("#div-gpt-ad-1492851885172-0").parent().css("display","block")):console.log("Ad Not Loading"),FollowUsOn(),Rhs.topTrending(apis,articleid),$(".articleSecTitle").css("display","block"),s=!0,$(window).on("scroll",function(){Math.ceil($(".comment").offset().top-400)<$(document).scrollTop()&&1==s&&($('<div class="OUTBRAIN AdsBelow" data-src="https://www.scoopwhoop.com/'+e.data.slug+'/" data-widget-id="AR_1" data-ob-template="ScoopWhoop"></div>').insertBefore(".outbrainadd"),null!=e.data.meta_data.do_not_show_ad&&(adCheck.adShow(e.data.meta_data,"do_not_show_ad",0)||$(".rightStickyAds").css("display","block")),s=!1)})}"5876016e6e510a4d8d2bcd01"==e.data.articleid&&(googletag.cmd.push(function(){googletag.defineSlot("/145115460/Test_3000x250",[300,250],"div-gpt-ad-1484132663003-0").addService(googletag.pubads()),googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(),googletag.enableServices()}),googletag.cmd.push(function(){googletag.display("div-gpt-ad-1484132663003-0")}),$(".rhsbanner").empty().append("<div id='div-gpt-ad-1484132663003-0' style='height:250px; width:300px;text-align: -webkit-center;'></div>")),"58de529efb77854909045cdf"==e.data.articleid&&$('<p class="title" style="font-size:26px;padding:10px 0 20px;color:#4385f5;">Tinder, Hook-Ups: Has technology killed love? | CHASE</p><iframe width="100%" height="350" src="https://www.youtube.com/embed/GOt-yxcGF34" frameborder="0" allowfullscreen></iframe>').insertAfter(".comment"),$.get(apis.readNext+articleid,function(e){for(var t=e.data,n={partner:{label:"PARTNER",styles:""},mlt:{label:"RECOMMENDED",styles:""},user_smlr:{label:"RECOMMENDED",styles:""},trending:{label:"TRENDING",styles:"background-color: #ff2d38;"},popular:{label:"POPULAR",styles:""}},i=function(e,t){return'<div class="artCardType1" id="lhsart'+t+'"><a href="/'+e.slug+"/?ref="+e._type+'&utm_source=art_latest&utm_medium=desktop"><div class="imgContainer"><img src="'+e.feature_img+'"></div><p>'+e.title+"</p></a></div>"},r=0;r<t.length;r++)r<3?($(".addReadNext").append(i(t[r],r)),$(".addReadNext #lhsart"+r+" .imgContainer ").append('<a class="cat" style="'+n[t[r]._type].styles+'" href="/'+t[r].slug+'/">'+n[t[r]._type].label+"</a>")):($(".addPopular").append(i(t[r],r)),$(".addPopular #lhsart"+r+" .imgContainer ").append('<a class="cat" style="'+n[t[r]._type].styles+'" href="/'+t[r].slug+'/">'+n[t[r]._type].label+"</a>"))});var u=0;$(document).scroll(function(){$(document).scrollTop()+window.innerHeight===$(document).height()&&0==u&&(Morefrom.articleFrom({el:".alsoLike",articleID:e.data.articleid,loadingElement:".loadMoreData"}),u=1)})})}function artDetail(){var s=0;$.get(apis.recommended+"?articleid="+articleid+"&category="+articlecategory,function(e){var a=e.data;$.get(apis.getUmaRecommended,{userid:cookie_ga,articleid:articleid},function(e){for(var t=JSON.parse(e),n=0;n<t.data.length;n++)for(var i=0;i<a.length;i++)if("mlt"===a[i]._type){a[i]=t.data[n];break}for(n=0;n<a.length;n++)if(n<3){$(".addReadNext").append('<div class="artCardType1" id="lhsart'+n+'"><a href="/'+a[n].slug+"/?ref="+a[n]._type+'"><div class="imgContainer"><img src="'+a[n].feature_img+'"></div><p>'+a[n].title+"</p></a></div>");var r="",o="";switch(a[n]._type){case"partner":r="PARTNER",o="";break;case"mlt":case"user_smlr":r="RECOMMENDED",o="";break;case"trending":r="TRENDING",o="background-color: #ff2d38";break;default:o=r=""}$(".addReadNext #lhsart"+n+" .imgContainer ").append('<a class="cat" href="/'+a[n].slug+'/" style="'+o+'">'+r+"</a>")}$.get(apis.allArticles+"?offset="+s+"&limit=6",function(e){s=e.next_offset,checkArt=e.data[e.data.length-1].slug,checkArt2=e.data[e.data.length-2].slug;for(var t=0;t<e.data.length;t++);for(var n=0;n<e.data.length;n++)if(n%3==0&&$(".alsoLike").append('<div class="clr"></div>'),1==e.data[n].meta_data.nsfw){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age"))var i=sessionStorage.getItem("sw_u_age");1==islocalstorage&&null!=localStorage.sw_u_age&&(i=localStorage.sw_u_age),null==i||i<1?$(".alsoLike").append('<div class="ctVideo3landing ctVideo3"><a href="/'+e.data[n].slug+'/?ref=latest&utm_source=art_latest&utm_medium=desktop"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[n].feature_img+'"></a><a href="/'+e.data[n].slug+'/?ref=latest&utm_source=art_latest&utm_medium=desktop"><p style="line-height: 22px;font-weight: bold;">'+e.data[n].title+"</p></a></div>"):($(".alsoLike").append('<div class="ctVideo3landing ctVideo3"><a  href="/'+e.data[n].slug+'/?ref=latest&utm_source=art_latest&utm_medium=desktop"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[n].feature_img+'"></a><a href="/'+e.data[n].slug+'/?ref=latest&utm_source=art_latest&utm_medium=desktop"><p style="line-height: 22px;font-weight: bold;">'+e.data[n].title+"</p></a></div>"),$("#"+e.data[n]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[n].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">NSFW</a>'))}else $(".alsoLike").append('<div class="ctVideo3landing ctVideo3"><a  href="/'+e.data[n].slug+'/?ref=latest&utm_source=art_latest&utm_medium=desktop"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[n].feature_img+'"></a><a href="/'+e.data[n].slug+'/?ref=latest&utm_source=art_latest&utm_medium=desktop"><p style="line-height: 22px;font-weight: bold;">'+e.data[n].title+"</p></a></div>");checkArt=e.data[e.data.length-1].slug,checkArt2=e.data[e.data.length-2].slug})})}),$(".alsoLikeTitle").css("display","block");var e=s=0;function r(){return"adslot"+e++}var o="";$(document).scroll(function(){$(document).scrollTop()+window.innerHeight===$(document).height()&&(o==apis.allArticles+"?offset="+s+"&limit=6"?(s+=6,$.get(apis.allArticles+"?offset="+s+"&limit=6",function(e){if(o=apis.allArticles+"?offset="+s+"&limit=6",s=e.next_offset,-1==e.next_offset)$(".loadMoreData").replaceWith("<div class='loadMoreData'>THAT'S ALL, FOLKS</div>");else{for(var t=0;t<e.data.length;t++)checkArt===e.data[t].slug&&(e.data.splice(t,1),t--),e.data[t]&&checkArt2===e.data[t].slug&&(e.data.splice(t,1),t--);for(var n=0;n<e.data.length;n++)n%3==0&&$(".alsoLike").append('<div class="clr"></div>'),$(".alsoLike").append('<div class="ctVideo3landing ctVideo3"><a  href="/'+e.data[n].slug+'/?ref=latest&utm_source=art_latest&utm_medium=desktop"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[n].feature_img+'"></a><a href="/'+e.data[n].slug+'/?ref=latest&utm_source=art_latest&utm_medium=desktop"><p style="line-height: 22px;font-weight: bold;">'+e.data[n].title+"</p></a></div>");var i=r();document.createElement("div").id=i,$(".alsoLike").append('<div class="homead" style="text-align:center"><div id="'+i+'"></div></div>'),googletag.cmd.push(function(){var e=googletag.defineSlot("/145115460/SW_Desktop_Article_InfiniteScrolls",["fluid",[728,90],[970,90],[1,1],[468,60]],i).addService(googletag.pubads());googletag.display(i),googletag.pubads().refresh([e])})}})):$.get(apis.allArticles+"?offset="+s+"&limit=6",function(e){if(o=apis.allArticles+"?offset="+s+"&limit=6",s=e.next_offset,-1==e.next_offset)$(".loadMoreData").replaceWith("<div class='loadMoreData'>THAT'S ALL, FOLKS</div>");else{for(var t=0;t<e.data.length;t++)checkArt===e.data[t].slug&&(e.data.splice(t,1),t--),e.data[t]&&checkArt2===e.data[t].slug&&(e.data.splice(t,1),t--);for(var n=0;n<e.data.length;n++)n%3==0&&$(".alsoLike").append('<div class="clr"></div>'),$(".alsoLike").append('<div class="ctVideo3landing ctVideo3"><a  href="/'+e.data[n].slug+'/?ref=latest&utm_source=art_latest&utm_medium=desktop"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[n].feature_img+'"></a><a href="/'+e.data[n].slug+'/?ref=latest&utm_source=art_latest&utm_medium=desktop"><p style="line-height: 22px;font-weight: bold;">'+e.data[n].title+"</p></a></div>");var i=r();document.createElement("div").id=i,$(".alsoLike").append('<div class="homead" style="text-align:center"><div id="'+i+'"></div></div>'),googletag.cmd.push(function(){var e=googletag.defineSlot("/145115460/SW_Desktop_Article_InfiniteScrolls",["fluid",[728,90],[970,90],[1,1],[468,60]],i).addService(googletag.pubads());googletag.display(i),googletag.pubads().refresh([e])})}}))})}function artsocialIcon(){$(document).on("mouseover",".sw-media",function(){if(!$(this).find(".share-box").is(".share-box")){var e=$(this).find("img").attr("src"),t=$('meta[property="og:url"]').attr("content"),n=$('meta[property="og:description"]').attr("content"),i=$('meta[property="og:title"]').attr("content");$(".sw-media").find(".share-box").remove(),$(this).find("img").after('<div class="shareIcons share-box sb1"><a target="_blank" class="pin1 socialBtn"><i class="fa fa-pinterest-p piAL"></i></a><a target="_blank" class="fb1 socialBtn"><i class="fa fa-facebook fbAL"></i></a><a class="mail1 socialBtn" id="mailtop3"><i class="fa fa-envelope-o maillAL"></i></a><div class="mailPopupDivShare"> <a class="cross"></a> <div class="sucessmail"> <label className="confirmText">Email has been sent successfully to your friend!</label> </div><div class="mailsent"> <label>Share this with a friend</label> <input type="text" placeholder="Friend\'s email (Separate multiple with comma)" id="shareToId1"> <input type="text" placeholder="Your email" id="shareFromId1"> <textarea id="shareMsgId1">Hey, I saw this on ScoopWhoop and think it\'s great.</textarea> <button id="sendemail1">Submit</button> </div></div>'),$(this).find(".fb1").attr("href","https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href="+t+"%23"+genHashCode(facebook)+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+e+"&description="+n+"&caption=www.ScoopWhoop.com&title="+i),$(this).find(".pin1").attr("href","https://pinterest.com/pin/create/button/?media="+e+"&url="+t+genHashCode(pinterest)+"&description="+n),$(this).find(".linkurl").val(window.location.href),$(".share-box .linkAL").click(function(){$(this).parents(".share-box").find(".linkurl").hasClass("hide")?($(this).parents(".share-box").find(".linkurl").removeClass("hide"),$(this).parents(".share-box").find(".linkurl").select(),$(this).parents(".share-box").find(".linkurl").focus(function(){$(this).select()})):$(this).parents(".share-box").find(".linkurl").addClass("hide")})}}),$(document).on("mouseout",".sw-media",function(){0===$(".sb1:hover").length&&$(".sb1").remove()})}function PreviewloadArticleWithRHSScreen(){$(".displayMoreShareIcons").hide(),$(document).on("mouseover",".moreShareIcons",function(){$(".displayMoreShareIcons").show()}),$(document).on("mouseout",".moreShareIcons",function(){$(".displayMoreShareIcons").hide()}),artsocialIcon(),$.get(mainContent,function(e){if(null!=e.data.topic&&""!=e.data.topic?(SWHeader({image:!0}),$('<p class="breadcrumb"><a href="/category/news/">News</a> > <a href="/category/news/'+e.data.topic.topic_slug+'/">'+e.data.topic.topic_display+"</a></p>").insertBefore(".articleContentData")):SWHeader(),null!=e.data.meta_data.do_not_show_ad&&adCheck.adShow(e.data.meta_data,"do_not_show_ad",0)&&($(".ads-container").hide(),$(".homead").hide(),$("#div-gpt-ad-1487680604307-0").hide()),null!=e.data.meta_data.brand&&""!=e.data.meta_data.brand)if(null!=e.data.meta_data.brandText&&""!=e.data.meta_data.brandText){if(0==e.data.meta_data.brandText)var t="IN ASSOCIATION WITH";else t="SPONSORED BY";null!=e.data.meta_data.brandPosition&&""!=e.data.meta_data.brandPosition?("0"==e.data.meta_data.brandPosition&&$(".articleContentData").prepend('<span class="sponby">'+t+' </span><span class="sponname">'+e.data.meta_data.brand+"</span>"),"1"==e.data.meta_data.brandPosition&&$('<span class="sponby">'+t+' </span><span class="sponname">'+e.data.meta_data.brand+"</span>").insertBefore(".articleContentData .fb-quote")):$(".articleContentData").prepend('<span class="sponby">'+t+' </span><span class="sponname">'+e.data.meta_data.brand+"</span>")}else"589da1aefb778542d5f68346"==e.data.articleid?$(".articleContentData").prepend('<span class="sponby">IN ASSOCIATION WITH </span><span class="sponname">'+e.data.meta_data.brand+"</span>"):$(".articleContentData").prepend('<span class="sponby">SPONSORED BY </span><span class="sponname">'+e.data.meta_data.brand+"</span>");null==e.data.meta_data.sdk?$(".articleContentData").append(sliderscript()+missingsdk()):$(".articleContentData").append(sliderscript()),$(".articleContentData").find(".swgif").parents("figure").addClass("gifplay").append('<img class="gplay" src="https://s4.scoopwhoop.com/v4/static/sw/images/gifplay.png" />'),$(".zodiacslider").slick({infinite:!0,speed:500,fade:!0,cssEase:"linear"}),$(".articleContentData img").unveil(200,function(){$(this).load(function(){this.style.opacity=1})});for(var n=$(".tags"),i=0;i<e.data.tags.length;i++)n.append('<a href="/tag/'+encodeURIComponent(e.data.tags[i])+'">'+e.data.tags[i]+"</a>, ");void 0!==e.data.meta_data.bucket_mc&&"select a bucket"!==e.data.meta_data.bucket_mc&&$("#newsletteropt").replaceWith('<li style="display:none">'+mailChimp(e.data.meta_data.bucket_mc)+"</li>")}),$.get(apis.category+"news",function(e){$(".artNews").append('<div class="newsItemDisplay"><a href="/'+e.data[0].slug+'/?ref=vswn"><img src="https://quicksilver.scoopwhoop.com/unsafe/336x176/top/'+e.data[0].feature_img+'"><p class="ncPara1">'+e.data[0].title+'</p></a><div class="newsCategoryMoreItems"></div></div>');for(var t=1;t<4;t++)$(".newsCategoryMoreItems").append('<div class="nc-row"><a href="/'+e.data[t].slug+'/?ref=vswn"><div class="nc-row-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/134x70/top/'+e.data[t].feature_img+'"></div><div class="nc-row-right"><p class="ncPara2">'+e.data[t].title+"</p></div></a></div>")}),trendingNEWSTopics(),FollowUsOn(),$.get(apis.rhs+slug,function(e){for(var t=0;t<6;t++)$(".artAlsoRead").append('<div class="artCardType1" id="rhsart'+t+'"><a href="/'+e.data[t].slug+"/?ref="+e.data[t]._type+'"><div class="imgContainer"><img src="'+e.data[t].feature_img+'"></div><p>'+e.data[t].title+"</p></a></div>"),"partner"===e.data[t]._type&&$(".artAlsoRead #rhsart"+t+" .imgContainer ").append('<a class="cat" href="/'+e.data[t].slug+'/">PARTNER</a>')});var e=!0;$(window).on("scroll",function(){Math.ceil($(".comment").offset().top-400)<$(document).scrollTop()&&1==e&&(artDetail(),$(".rightStickyAds").css("display","block"),e=!1)})}function PreviewloadArticleWithoutRHSScreen(){$(".displayMoreShareIcons").hide(),$(document).on("mouseover",".moreShareIcons",function(){$(".displayMoreShareIcons").show()}),$(document).on("mouseout",".moreShareIcons",function(){$(".displayMoreShareIcons").hide()}),artsocialIcon(),$.get(mainContent,function(e){if(null!=e.data.topic&&""!=e.data.topic?SWHeader({image:!0}):SWHeader(),null!=e.data.meta_data.do_not_show_ad&&adCheck.adShow(e.data.meta_data,"do_not_show_ad",0)&&($(".ads-container").hide(),$("#div-gpt-ad-1487680604307-0").hide(),$(".homead").hide()),null==e.data.meta_data.sdk?$(".artBanner2ContentData").append(sliderscript()+missingsdk()):$(".artBanner2ContentData").append(sliderscript()),$(".artBanner2ContentData").find(".swgif").parents("figure").addClass("gifplay").append('<img class="gplay" src="https://s4.scoopwhoop.com/v4/static/sw/images/gifplay.png" />'),adCheck.adShow(e.data.meta_data,"do_not_show_ad",0)&&($(".ads-container").hide(),$(".homead").hide()),null!=e.data.meta_data.brand&&""!=e.data.meta_data.brand)if(null!=e.data.meta_data.brandText&&""!=e.data.meta_data.brandText){if(0==e.data.meta_data.brandText)var t="IN ASSOCIATION WITH";else t="SPONSORED BY";null!=e.data.meta_data.brandPosition&&""!=e.data.meta_data.brandPosition?("0"==e.data.meta_data.brandPosition&&$(".artBanner2ContentData").prepend('<span class="sponby">'+t+' </span><span class="sponname">'+e.data.meta_data.brand+"</span>"),"1"==e.data.meta_data.brandPosition&&$('<span class="sponby">'+t+' </span><span class="sponname">'+e.data.meta_data.brand+"</span>").insertBefore(".artBanner2ContentData .fb-quote")):$(".artBanner2ContentData").prepend('<span class="sponby">'+t+' </span><span class="sponname">'+e.data.meta_data.brand+"</span>")}else"589da1aefb778542d5f68346"==e.data.articleid?$(".artBanner2ContentData").prepend('<span class="sponby">IN ASSOCIATION WITH </span><span class="sponname">'+e.data.meta_data.brand+"</span>"):$(".artBanner2ContentData").prepend('<span class="sponby">SPONSORED BY </span><span class="sponname">'+e.data.meta_data.brand+"</span>");$(".zodiacslider").slick({infinite:!0,speed:500,fade:!0,cssEase:"linear"}),$(".artBanner2ContentData img").unveil(200,function(){$(this).load(function(){this.style.opacity=1})}),void 0!==e.data.meta_data.bucket_mc&&"select a bucket"!==e.data.meta_data.bucket_mc&&$("#newsletteropt").replaceWith('<li style="display:none">'+mailChimp(e.data.meta_data.bucket_mc)+"</li>")}),$.get(apis.category+"news",function(e){$(".artNews").append('<div class="newsItemDisplay"><a href="/'+e.data[0].slug+'/?ref=vswn"><img src="https://quicksilver.scoopwhoop.com/unsafe/336x176/top/'+e.data[0].feature_img+'"><p class="ncPara1">'+e.data[0].title+'</p></a><div class="newsCategoryMoreItems"></div></div>');for(var t=1;t<4;t++)$(".newsCategoryMoreItems").append('<div class="nc-row"><a href="/'+e.data[t].slug+'/?ref=vswn"><div class="nc-row-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/134x70/top/'+e.data[t].feature_img+'"></div><div class="nc-row-right"><p class="ncPara2">'+e.data[t].title+"</p></div></a></div>")}),trendingNEWSTopics(),FollowUsOn(),$.get(apis.rhs,function(e){for(var t=0;t<6;t++)$(".artAlsoRead").append('<div class="artCardType1" id="rhsart'+t+'"><a href="/'+e.data[t].slug+"/?ref="+e.data[t]._type+'"><div class="imgContainer"><img src="'+e.data[t].feature_img+'"></div><p>'+e.data[t].title+"</p></a></div>"),"partner"===e.data[t]._type&&$(".artAlsoRead #rhsart"+t+" .imgContainer ").append('<a class="cat" href="'+root+e.data[t].slug+'">PARTNER</a>')});var e=!0;$(window).on("scroll",function(){Math.ceil($(".comment").offset().top-800)<$(document).scrollTop()&&1==e&&(artDetail(),e=!1)})}function loadOriginalsPreviewScreen(){SWHeader(),$.get(apis.originalsPreviewdisplay+slug+"?version="+version,function(e){var t;if(""==(s=e.data.alt_content)){var n=e.data.title.trim(),i=e.data.feature_img,r=e.data.sh_heading.trim(),o=e.data.slug,a=e.data.articleid;$("#iframeVideo").css("display","block"),$("#iframeVideo").css("width","100%"),$("#iframeVideo").css("height","100%"),$("#iframeVideo").css("border","0");var s=(t=e.data.article_content.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/))&&11==t[2].length?t[2]:"error";n=e.data.title,$(".customvdotitlelanding").empty(),$(".popupShareIconscustomlanding").empty(),$(".customvdotitlelanding").append(n),$("#iframeVideo").attr("src","https://www.youtube.com/embed/"+s+"?enablejsapi=1&version=3&playerapiid=ytplayer&autoplay=1"),$(".popupShareIconscustomlanding").append('<div class="socialStyle1"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+o+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(i)+"&description="+r+"&caption=www.ScoopWhoop.com&link="+root+o+"/&title="+encodeURIComponent(n)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+n+"&url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+root+o+"&amp;title="+n+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redtop"><i class="fa fa-reddit-alien"></i></a><div class="socialBtn moreShareIconsLanding"><span class="text">More</span><span class="ie-arrow"></span> <br><div class="displayMoreShareIconsLanding" style="display:none"><div class="arrow arrowBorder"></div><div class="arrow arrowFill"></div><div class="moreShareIcnsDiv"> <a href="https://pinterest.com/pin/create/button/?media='+encodeURIComponent(i)+"&amp;url="+root+o+'" target="_blank" class="hamBtn2 pinterestDiv"><i class="fa fa-pinterest-p piH"></i></a><a href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.tumblr.com/share/link?name='+n+"&amp;url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\"class=\"hamBtn2 tblAL\"><i class=\"fa fa-tumblr\"></i></a><a href=\"javascript:void(0);\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://www.stumbleupon.com/submit?url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn2 stlAL\"><i class=\"fa fa-stumbleupon\"></i></a></div></div></div></div>"),$(".x").on("click",function(){return $("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),!1}),$(".popupcontent").on("click",function(){return $("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),!1}),$(document).keydown(function(e){if(27==e.keyCode)return $("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),!1}),vid=""}else{s=e.data.alt_content,n=e.data.title.trim(),i=e.data.feature_img,r=e.data.sh_heading.trim(),o=e.data.slug,a=e.data.articleid;var l=s.split(",");$(".customvdotitlelanding").empty(),$(".popupShareIconscustomlanding").empty(),$(".customvdotitlelanding").append(n);var u={videoDiv:"videoDiv2",videoID:a,height:"438",width:"778",systemID:"preview",deviceID:null,loginID:null,fbID:null,sources:l,poster:i,tokenURL:null,protocol:"https",fullscreen:!1,autoplay:!1,adsURL:"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=",urlParams:{ref:vref,type:vtype,ep:vep}};Strmeasy.init_player(u),$(".vjs-control-content").empty(),1==isChrome&&53<=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2]&&videojs(a).play(),$(".popupShareIconscustomlanding").append('<div class="socialStyle1"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+o+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(i)+"&description="+r+"&caption=www.ScoopWhoop.com&link="+root+o+"/&title="+encodeURIComponent(n)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+n+"&url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+root+o+"&amp;title="+n+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redtop"><i class="fa fa-reddit-alien"></i></a><div class="socialBtn moreShareIconsLanding"><span class="text">More</span><span class="ie-arrow"></span> <br><div class="displayMoreShareIconsLanding" style="display:none"><div class="arrow arrowBorder"></div><div class="arrow arrowFill"></div><div class="moreShareIcnsDiv"> <a href="https://pinterest.com/pin/create/button/?media='+encodeURIComponent(i)+"&amp;url="+root+o+'" target="_blank" class="hamBtn2 pinterestDiv"><i class="fa fa-pinterest-p piH"></i></a><a href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.tumblr.com/share/link?name='+n+"&amp;url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\"class=\"hamBtn2 tblAL\"><i class=\"fa fa-tumblr\"></i></a><a href=\"javascript:void(0);\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://www.stumbleupon.com/submit?url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn2 stlAL\"><i class=\"fa fa-stumbleupon\"></i></a></div></div></div></div>"),$(".displayMoreShareIconsLanding").hide(),$(document).on("mouseover",".moreShareIconsLanding",function(){$(".displayMoreShareIconsLanding").show()}),$(document).on("mouseout",".moreShareIconsLanding",function(){$(".displayMoreShareIconsLanding").hide()})}})}function loadPreviewScreen(){$.get(apis.deskPreview+slug+"?version="+version,function(e){mainContent=apis.deskPreview+slug,articleid=e.data.articleid,articlecategory="",root,slug,e.data.title,2===e.data.meta_data.art_rep||3===e.data.meta_data.art_rep?PreviewloadArticleWithoutRHSScreen():PreviewloadArticleWithRHSScreen()})}function loadAuthorScreen(){SWHeader(),$.get(apis.author+author,function(e){var t=e.authorData.twitter_handle.replace("@","");$(".author-banner .ab-left").append('<img src="'+e.authorData.profile_pic+'">'),$(".author-banner .ab-right").append('<p class="name">'+e.authorData.display_name+'</p><p class="designation">'+e.authorData.designation+'</p><p class="auth-desc">'+e.authorData.about_me+'</p><div class="authortweet"><iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" class="twitter-follow-button twitter-follow-button-rendered" title="Twitter Follow Button" src="https://platform.twitter.com/widgets/follow_button.a9003d9964444592507bbb36b98c709b.en.html#dnt=false&amp;id=twitter-widget-0&amp;lang=en&amp;screen_name='+t+'&amp;show_count=false&amp;show_screen_name=true&amp;size=m&amp;time=1470205180198" style="position: static; visibility: visible; width: 138px; height: 20px;"></iframe></div>'),$(".leftContent .publishCount").append("("+e.authorData.articles_published+")");for(var i=e.next_offset,n=0;n<e.data.length;n++)1==e.data[n].meta_data.nsfw?null==sw_nsfw_age||sw_nsfw_age<1?$(".leftContent").append('<div class="cardType3"  id="'+e.data[n]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[n].slug+'/?ref=latest&utm_source=author_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[n].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[n].slug+'/?ref=latest&utm_source=author_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[n].title+'</p><p class="dt">'+e.data[n].pub_date+"</p></div></a></div>"):($(".leftContent").append('<div class="cardType3"  id="'+e.data[n]._id+'"><a href="/'+e.data[n].slug+'/?ref=latest&utm_source=author_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[n].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data[n].title+'</p><p class="dt">'+e.data[n].pub_date+"</p></div></a></div>"),$("#"+e.data[n]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[n].slug+'/?ref=latest&utm_source=author_latest&utm_medium=desktop">NSFW</a>')):($(".leftContent").append(cardType3(e,n,"&utm_source=author_latest&utm_medium=desktop")),"branded"==e.data[n].meta_data.art_type2&&$("#"+e.data[n]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[n].slug+'/?ref=partner&utm_source=author_latest&utm_medium=desktop">PARTNER</a>'));-1==i?$(".loadMoreData").replaceWith("<div class='loadMoreData'>THAT'S ALL, FOLKS</div>"):($.get(apis.author+author+"?offset=10",function(e){i=e.next_offset;for(var t=0;t<e.data.length;t++)1==e.data[t].meta_data.nsfw?null==sw_nsfw_age||sw_nsfw_age<1?$(".leftContent").append('<div class="cardType3"  id="'+e.data[t]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=author_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=auhtor_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"):($(".leftContent").append('<div class="cardType3"  id="'+e.data[t]._id+'"><a href="/'+e.data[t].slug+'/?ref=latest&utm_source=author_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"),$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[t].slug+'/?ref=latest&utm_source=author_latest&utm_medium=desktop">NSFW</a>')):($(".leftContent").append(cardType3(e,t,"&utm_source=author_latest&utm_medium=desktop")),"branded"==e.data[t].meta_data.art_type2&&$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[t].slug+'/?ref=partner&utm_source=author_latest&utm_medium=desktop">PARTNER</a>'))}),$(document).scroll(function(){$(document).scrollTop()+window.innerHeight===$(document).height()&&$.get(apis.author+author+"?offset="+i,function(e){if(i=e.next_offset,-1==e.next_offset)$(".loadMoreData").replaceWith("<div class='loadMoreData'>THAT'S ALL, FOLKS</div>");else{for(var t=0;t<e.data.length;t++)checkArt===e.data[t].slug&&(e.data.splice(t,1),t--),e.data[t]&&checkArt2===e.data[t].slug&&(e.data.splice(t,1),t--);for(var n=0;n<e.data.length;n++)1==e.data[n].meta_data.nsfw?null==sw_nsfw_age||sw_nsfw_age<1?$(".leftContent").append('<div class="cardType3"  id="'+e.data[n]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[n].slug+'/?ref=latest&utm_source=author_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[n].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[n].slug+'/?ref=latest&utm_source=author_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[n].title+'</p><p class="dt">'+e.data[n].pub_date+"</p></div></a></div>"):($(".leftContent").append('<div class="cardType3"  id="'+e.data[n]._id+'"><a href="/'+e.data[n].slug+'/?ref=latest&utm_source=author_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[n].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data[n].title+'</p><p class="dt">'+e.data[n].pub_date+"</p></div></a></div>"),$("#"+e.data[n]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[n].slug+'/?ref=latest&utm_source=author_latest&utm_medium=desktop">NSFW</a>')):($(".leftContent").append(cardType3(e,n,"&utm_source=author_latest&utm_medium=desktop")),"branded"==e.data[n].meta_data.art_type2&&$("#"+e.data[n]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[n].slug+'/?ref=partner&utm_source=author_latest&utm_medium=desktop">PARTNER</a>'))}})}))}),$.get(apis.authorTrending+author,function(e){for(var t=0;t<e.total_articles;t++)$(".main-content .rightPart").append('<div class="cardType2 wshr-right" id="'+e.data[t]._id+'"><div class="imgContainer"><div class="imgContainer"><a href="/'+e.data[t].slug+'"><img src="'+e.data[t].feature_img+'" ><p class="big cardTitle">'+e.data[t].title+"</p></a></div></div></div>"),"branded"==e.data[t].meta_data.art_type2&&$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[t].slug+'/?ref=partner&utm_source=author_latest&utm_medium=desktop">PARTNER</a>')})}function loadCategoryScreen(){SWHeader();var r=0,o=0;$.get(apis.category+cat,function(e){r=e.next_offset,$(".catTitle h1").append(e.categoryData.category_display.toUpperCase()),$(".catRightTitle h2").append(e.categoryData.category_display.toUpperCase()),"food"===cat&&$(".catRightTitle h2").text("OM Nom Nom");for(var t=0;t<e.total_articles;t++)if(0==t)$(".cardType1").append('<a href="/'+e.data[t].slug+'"><div class="imgContainer"><img src="'+e.data[t].feature_img+'"></div><p>'+e.data[t].title+"</p></a>");else if(1==t)$(".rightPart .rightCategoryImage").append('<div class="cardType2"><a href="/'+e.data[t].slug+'"><div class="imgContainer"><img src="'+e.data[t].feature_img+'"></div><p>'+e.data[t].title+"</p></a></div>");else if(1==e.data[t].meta_data.nsfw){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age"))var n=sessionStorage.getItem("sw_u_age");1==islocalstorage&&null!=localStorage.sw_u_age&&(n=localStorage.sw_u_age),null==n||n<1?$(".leftPart .latestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"):($(".leftPart .latestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><a href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"),$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop">NSFW</a>'))}else{var i=$(".leftPart .latestStories");2==t&&i.append(tmpl.infeedList("infeedAd"+getAdID.getGenerateID())),i.append(tmpl.list(e.data[t],imagesSize,refs.refs.categoryLatest)),"branded"==e.data[t].meta_data.art_type2&&$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[t].slug+'/?ref=latest&utm_source=category_latest&utm_medium=desktop">PARTNER</a>')}$.get(apis.category+cat+"?offset="+r,function(e){r=e.next_offset;for(var t=0;t<e.total_articles;t++)if(1==e.data[t].meta_data.nsfw){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age"))var n=sessionStorage.getItem("sw_u_age");1==islocalstorage&&null!=localStorage.sw_u_age&&(n=localStorage.sw_u_age),null==n||n<1?$(".leftPart .latestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"):($(".leftPart .latestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><a href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"),$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop">NSFW</a>'))}else $(".leftPart .latestStories").append(cardType3(e,t,"&utm_source=cateogry_latest&utm_medium=desktop")),"branded"==e.data[t].meta_data.art_type2&&$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[t].slug+'/?ref=partner&utm_source=cateogry_latest&utm_medium=desktop">PARTNER</a>')})}),trendingNEWSTopics(),FollowUsOn(),"food"===cat?$.get(root+"api/v2/originals/topic/onn-food",function(e){var t=10;e.data.articles.length<10&&(t=e.data.articles.length);for(var n=0;n<t;n++)""!=e.data.articles[n].alt_content&&null!=e.data.articles[n].alt_content?videodata=e.data.articles[n].alt_content:videodata=e.data.articles[n].article_content,$(".catRightTitle").append('<div class="ctVideo3"><a class="videoImg" href="#" data-video="'+videodata+'" data-vdid="'+e.data.articles[n]._id+'" data-title="'+e.data.articles[n].title+'" data-image="'+e.data.articles[n].feature_img+'" data-desc="'+e.data.articles[n].sh_heading+'" data-slug="'+e.data.articles[n].slug+'" style="width:100%"><img src="https://quicksilver.scoopwhoop.com/unsafe/300x150/top/'+e.data.articles[n].feature_img+'"><span class="time">'+e.data.articles[n].meta_data.duration+'</span></a><p style="color: #4385f5;">'+e.data.articles[n].title+"</p></div>");$.get(apis.trendingCategory+cat,function(e){for(var t=0;t<e.total_articles;t++)$(".catRightTitle").append('<div class="cardType2 wshr-right" id="'+e.data[t]._id+'"><div class="imgContainer"><a href="/'+e.data[t].slug+'"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"><p class="big cardTitle">'+e.data[t].title+"</p></a></div></div>"),"branded"==e.data[t].meta_data.art_type2&&$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[t].slug+'/?ref=partner&utm_source=cateogry_latest&utm_medium=desktop">PARTNER</a>')})}).done(function(){videoPopup()}):$.get(apis.trendingCategory+cat,function(e){for(var t=0;t<e.total_articles;t++)$(".catRightTitle").append('<div class="cardType2 wshr-right" id="'+e.data[t]._id+'"><div class="imgContainer"><a href="/'+e.data[t].slug+'"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"><p class="big cardTitle">'+e.data[t].title+"</p></a></div></div>"),"branded"==e.data[t].meta_data.art_type2&&$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[t].slug+'/?ref=partner&utm_source=cateogry_latest&utm_medium=desktop">PARTNER</a>')}).done(function(){}),$(document).scroll(function(){$(document).scrollTop()+window.innerHeight===$(document).height()&&$.get(apis.category+cat+"?offset="+r,function(e){if(r=e.next_offset,-1==e.next_offset)$(".loadMoreData").replaceWith("<div class='loadMoreData'>THAT'S ALL, FOLKS</div>");else{for(var t=0;t<e.total_articles;t++)if(1==e.data[t].meta_data.nsfw){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age"))var n=sessionStorage.getItem("sw_u_age");1==islocalstorage&&null!=localStorage.sw_u_age&&(n=localStorage.sw_u_age),null==n||n<1?$(".leftPart .latestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"):($(".leftPart .latestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><a href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"),$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[t].slug+'/?ref=latest&utm_source=cateogry_latest&utm_medium=desktop">NSFW</a>'))}else $(".leftPart .latestStories").append(cardType3(e,t,"&utm_source=category_latest&utm_medium=desktop")),"branded"==e.data[t].meta_data.art_type2&&$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" href="/'+e.data[t].slug+'/?ref=partner&utm_source=cateogry_latest&utm_medium=desktop">PARTNER</a>');var i="adslot"+o++;document.createElement("div").id=i,$(".leftPart .latestStories").append('<div class="cardType3" style="text-align:center"><div id="'+i+'"></div></div>'),googletag.cmd.push(function(){var e=googletag.defineSlot("/145115460/SW_Desktop_Category_InFeed_LatestStories",[[1,1],[580,114],[468,60],"fluid"],i).addService(googletag.pubads());googletag.display(i),googletag.pubads().refresh([e])})}})})}function stickyCategoryAd(){var e=$(".categoryStickyAds").offset().top+$(window).height()-150;$(window).scroll(function(){$(window).scrollTop()>e?$(".categoryStickyAds").addClass("fixedRight"):$(".categoryStickyAds").removeClass("fixedRight")})}function loadNewsScreen(){SWHeader({image:!0}),$.get(apis.editorspicks,function(e){for(var t=0;t<3;t++)$(".newsCat").append('<a href="/'+e.data[t].slug+'/" ><img src='+e.data[t].feature_img+'><p class="ncPara1">'+e.data[t].title+'</p></a><div class="clr"></div>')}),$.get(root+"api/v2/news/",function(e,t){if($(".news-banner").append('<a href="/'+e.data[0].slug+'/" ><img src="'+e.data[0].feature_img+'"><h2>'+e.data[0].title+"</h2></a><p>"+e.data[0].sh_heading+'</p><p class="readmore"><a href="/'+e.data[0].slug+'/" style="color:#4385f5">READ MORE</a></p>'),null!=e&&""!=e)for(cat in e.topicData){var n=e.topicData[cat],i=$('<div class="news-newsCat"></div>'),r=$('<h2 class="news-ncTitle"><a href="/category/news/'+n.topic_slug+'/">'+n.topic_name+'</a></h2><div class="news-mhead"><a href="'+n.featured_articles[0].slug+'/"><div class="news-ltMH"><img src="'+n.featured_articles[0].feature_img+'"/></div><div class="news-rtMH"><p class="news-ncPara1">'+n.featured_articles[0].title+"</p></div></a></div>");for(item in $(i).html(),$(i).append(r),n.articles){var o=$('<div class="news-nc-row"><a href="'+n.articles[item].slug+'"><p class="news-ncPara2">'+n.articles[item].title+'</p><p class="news-ncPara3">'+n.articles[item].sh_heading+"</p></a></div>");item%3==0&&$(i).append('<div class="clr"></div>'),$(i).append(o)}$(i).append('<div class="news-nc-row"><p class="news-loadMore"><a href="/category/news/'+n.topic_slug+'/">More<br /> From <br />'+n.topic_name+'<img src="'+staticPath+'images/more.png" /></a></p></div>'),cat%3==0&&$(".news-newsCatMainItem").append('<div class="clr"></div>'),$(".news-newsCatMainItem").append(i)}}),trendingNEWSTopics(),$.get(apis.newsQuote,function(e){$(".quoteOf").append('<h2>"'+e.data.quote+'"</h2><p>'+e.data.description+"</p>")})}function isScrolledIntoView(e){var t=$(e),n=$(window),i=n.scrollTop(),r=i+n.height(),o=t.offset().top+100;return o+t.height()<=r&&i<=o}$(window).scroll(function(e){for(var t=$(".readsection"),n=0;n<t.length;++n)if(isScrolledIntoView(t[n])){var i=$(t[n]).attr("href");window.history.pushState("","","/"+i+"/");break}});var totalWords="",timeToRead="",timeInt="",html="";function loadReadsScreen(){SWHeader();var n=0;$.get("https://www.scoopwhoop.com/api/v1/category/reads",function(e){n=e.next_offset;for(var t=0;t<e.data.length;t++)$(".main-content").append('<div class="readBanner"> <div><a class="readsection" href="'+e.data[t].slug+'" style="color:#000000">&nbsp;</a></div><h2> '+e.data[t].title+"</h2> <p>"+e.data[t].sh_heading+'</p><img src="'+e.data[t].feature_img+'"> </div><div class="clr"></div><div class="readContent"> <div class="rc-left"><div class="row1"> <span class="title">READ TIME:</span> <span class="text" id="readtime_'+e.data[t]._id+'">0 mins</span> </div><div class="row1"> <span class="title">WRITTEN BY:</span> <span class="text"><a href=/author/'+e.data[t].auth_display.author_url+' style="color:#000">'+e.data[t].auth_display.display_name+'</a></span> </div><div class="rowSocialShare"><div class="socialStyle5"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.facebook.com/sharer.php?u='+root+e.data[t].slug+"/%23"+genHashCode(facebook)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+e.data[t].title+"&url="+root+e.data[t].slug+"/%23"+genHashCode(twitter)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+root+e.data[t].slug+"/%23"+genHashCode(Reddit)+"&amp;title="+e.data[t].title+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redtop"><i class="fa fa-reddit-alien"></i></a><a onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://plus.google.com/share?url='+root+e.data[t].slug+"/%23"+genHashCode(googleplus)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn gpH" target="_blank"><i class="fa fa-google-plus"></i></a></div></div></div><div class="rc-right"> <div class="articleReadsContentData gradient" id="'+e.data[t]._id+'" >'+e.data[t].content+'<div class="socialStyle2"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.facebook.com/sharer.php?u='+root+e.data[t].slug+"/%23"+genHashCode(facebook)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+e.data[t].title+"&url="+root+e.data[t].slug+"/%23"+genHashCode(twitter)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+root+e.data[t].slug+"/%23"+genHashCode(Reddit)+"&amp;title="+e.data[t].title+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redtop"><i class="fa fa-reddit-alien"></i></a><a onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://plus.google.com/share?url='+root+e.data[t].slug+"/%23"+genHashCode(googleplus)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn gpH" target="_blank"><i class="fa fa-google-plus"></i></a> </div><div class="fb-comments" data-href="https://www.scoopwhoop.com/'+e.data[t].slug+'/" data-numposts="5" data-colorscheme="light"></div></div><div class="readFull" data-art="'+e.data[t]._id+'"><p class="readFullArt">Read Full Article</p></div></div><div><a class="readsection" href="'+e.data[t].slug+'" style="color:#000000">&nbsp;</a></div><div class="clr"></div></div><div class="clr"></div>'+fbcomment()),html=(html=(html=(html=$("#"+e.data[t]._id).text()).replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n"),totalWords=html.split(" ").length,timeToRead=totalWords/200,timeInt=Math.round(timeToRead),$("#readtime_"+e.data[t]._id).html(""),$("#readtime_"+e.data[t]._id).append(timeInt+" mins");$(".readFull").click(function(){var e=$(this).data("art");$("#"+e).removeClass("gradient"),$("#"+e).css({overflow:"",height:"auto"}),$(this).hide()}),$(".articleReadsContentData img").unveil(200,function(){$(this).load(function(){this.style.opacity=1})})}),$(document).scroll(function(){$(document).scrollTop()+window.innerHeight===$(document).height()&&$.get("https://www.scoopwhoop.com/api/v1/category/reads?offset="+n,function(e){n=e.next_offset;for(var t=0;t<e.data.length;t++)$(".main-content").append('<div class="readBanner"> <div><a class="readsection" href="'+e.data[t].slug+'" style="color:#000000">&nbsp;</a></div><h2> '+e.data[t].title+"</h2> <p>"+e.data[t].sh_heading+'</p><img src="'+e.data[t].feature_img+'"> </div><div class="clr"></div><div class="readContent"> <div class="rc-left"><div class="row1"> <span class="title">READ TIME:</span> <span class="text" id="readtime_'+e.data[t]._id+'">0 mins</span> </div><div class="row1"> <span class="title">WRITTEN BY:</span> <span class="text"><a href=/author/'+e.data[t].auth_display.author_url+' style="color:#000">'+e.data[t].auth_display.display_name+'</a></span> </div><div class="rowSocialShare"><div class="socialStyle5"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.facebook.com/sharer.php?u='+root+e.data[t].slug+"/%23"+genHashCode(facebook)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+e.data[t].title+"&url="+root+e.data[t].slug+"/%23"+genHashCode(twitter)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+root+e.data[t].slug+"/%23"+genHashCode(Reddit)+"&amp;title="+e.data[t].title+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redtop"><i class="fa fa-reddit-alien"></i></a><a onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://plus.google.com/share?url='+root+e.data[t].slug+"/%23"+genHashCode(googleplus)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn gpH" target="_blank"><i class="fa fa-google-plus"></i></a></div></div></div><div class="rc-right"> <div class="articleReadsContentData gradient" id="'+e.data[t]._id+'" >'+e.data[t].content+'<div class="socialStyle2"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.facebook.com/sharer.php?u='+root+e.data[t].slug+"/%23"+genHashCode(facebook)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+e.data[t].title+"&url="+root+e.data[t].slug+"/%23"+genHashCode(twitter)+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+root+e.data[t].slug+"/%23"+genHashCode(Reddit)+"&amp;title="+e.data[t].title+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redtop"><i class="fa fa-reddit-alien"></i></a><a onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://plus.google.com/share?url='+root+e.data[t].slug+"/%23"+genHashCode(googleplus)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn gpH" target="_blank"><i class="fa fa-google-plus"></i></a> </div><div class="fb-comments" data-href="https://www.scoopwhoop.com/'+e.data[t].slug+'/" data-numposts="5" data-colorscheme="light"></div></div><div class="readFull" data-art="'+e.data[t]._id+'"><p class="readFullArt">Read Full Article</p></div></div><div><a class="readsection" href="'+e.data[t].slug+'" style="color:#000000">&nbsp;</a></div><div class="clr"></div></div><div class="clr"></div>'),html=$("#"+e.data[t]._id).text(),totalWords=html.replace(/<[^>]*>/g,"").length,timeInt=10<timeToRead?10:Math.round(timeToRead),$("#readtime_"+e.data[t]._id).html(""),$("#readtime_"+e.data[t]._id).append(timeInt+" mins");$(".readFull").click(function(){var e=$(this).data("art");$("#"+e).removeClass("gradient"),$("#"+e).css({overflow:"",height:"auto"}),$(this).hide()}),$(".articleReadsContentData img").unveil(200,function(){$(this).load(function(){this.style.opacity=1})})})})}function loadContactScreen(){SWHeader()}function loadAboutScreen(){SWHeader()}function loadContributeScreen(){SWHeader()}function loadSearchScreen(){SWHeader(),$(".searchActive").click(function(){$(".active").removeClass("active"),$(this).addClass("active")}),$("#videoSearchMenu").click(function(){$("#videoSearchContent").show(),$("#vddata").show(),$("#revdata").hide(),$("#relevantSearchContent").hide()}),$("#relevantSearchMenu").click(function(){$("#videoSearchContent").hide(),$("#relevantSearchContent").show(),$("#vddata").hide(),$("#revdata").show()});var i=0,r=0,n=0;$.get(apis.search+query+"?offset=1&sorttype=score",function(e){var t;r=e.next_offset;for(var n=$("#relevantSearchContent .main-container"),i=0;i<e.total_articles;i++)1==e.data[i].meta_data.nsfw?(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age")&&(t=sessionStorage.getItem("sw_u_age")),1==islocalstorage&&null!=localStorage.sw_u_age&&(t=localStorage.sw_u_age),null==t||t<1?n.append('<div class="cardType3"  id="'+e.data[i]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[i].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[i].feature_img+'" alt="'+e.data[i].sh_heading+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[i].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[i].title+'</p><p class="dt">'+e.data[i].pub_date+"</p></div></a></div>"):(n.append('<div class="cardType3"  id="'+e.data[i]._id+'"><a href="/'+e.data[i].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[i].feature_img+'"  alt="'+e.data[i].sh_heading+'"></div></div><div class="ct3-right"><p>'+e.data[i].title+'</p><p class="dt">'+e.data[i].pub_date+"</p></div></a></div>"),$("#"+e.data[i]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[i].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">NSFW</a>'))):n.append('<div class="cardType3"><a href="'+e.data[i].slug+'/"><div class="ct3-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[i].feature_img+'" alt="'+e.data[i].sh_heading+'" /></div><div class="ct3-right"><p>'+e.data[i].title+'</p><p class="dt">'+e.data[i].pub_date+"</p></div></a></div>");-1==e.next_offset&&$("#revdata").replaceWith("<div class='loadMoreData'  id='revdata'>THAT'S ALL, FOLKS</div>")}),$.get(apis.vdosearch+query+"?pn=1&sorttype=score",function(e){if(i=e.data.next_page,n=e.data.hasOwnProperty("info")?e.data.info.hits.hits.length:0,-1==e.data.next_page)$("#vddata").replaceWith("<div class='loadMoreData' id='vddata'>THAT'S ALL, FOLKS</div>");else for(var t=0;t<n;t++)$("#videoSearchContent .main-container").append('<div class="cardType3"><a href="'+e.data.info.hits.hits[t]._source.slug+'/"><div class="ct3-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.info.hits.hits[t]._source.fImgUrl+'" /></div><div class="ct3-right"><p>'+e.data.info.hits.hits[t]._source.title+'</p><p class="dt">'+e.data.info.hits.hits[t]._source.pub_date+"</p></div></a></div>");0===n&&($("#videoSearchMenu").remove(),$("#vddata").remove(),$("#videoSearchContent").hide(),$("#relevantSearchContent").show(),$("#revdata").show(),$("#relevantSearchMenu").addClass("active"))}),$(document).scroll(function(){$(document).scrollTop()+window.innerHeight===$(document).height()&&("block"===$("#videoSearchContent").css("display")?$.get(apis.vdosearch+query+"?pn="+i+"&sorttype=score",function(e){i=e.data.next_page;var t=e.data.hasOwnProperty("info")?e.data.info.hits.hits.length:0;if(-1==e.data.next_page)$("#vddata").replaceWith("<div class='loadMoreData' id='vddata'>THAT'S ALL, FOLKS</div>");else for(var n=0;n<t;n++)$("#videoSearchContent .main-container").append('<div class="cardType3"><a href="'+e.data.info.hits.hits[n]._source.slug+'/"><div class="ct3-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.info.hits.hits[n]._source.fImgUrl+'" /></div><div class="ct3-right"><p>'+e.data.info.hits.hits[n]._source.title+'</p><p class="dt">'+e.data.info.hits.hits[n]._source.pub_date+"</p></div></a></div>")}):$.get(apis.search+query+"?offset="+r+"&sorttype=score",function(e){if(r=e.next_offset,-1==e.next_offset)$("#revdata").replaceWith("<div class='loadMoreData' id='revdata'>THAT'S ALL, FOLKS</div>");else for(var t=0;t<e.total_articles;t++)if(1==e.data[t].meta_data.nsfw){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age"))var n=sessionStorage.getItem("sw_u_age");1==islocalstorage&&null!=localStorage.sw_u_age&&(n=localStorage.sw_u_age),null==n||n<1?$("#relevantSearchContent .main-container").append('<div class="cardType3"  id="'+e.data[t]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'" alt="'+e.data[t].sh_heading+'" ></a></div></div><a class="nsfwImgP" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"):($("#relevantSearchContent .main-container").append('<div class="cardType3"  id="'+e.data[t]._id+'"><a href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'" alt="'+e.data[t].sh_heading+'" ></div></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"),$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">NSFW</a>'))}else $("#relevantSearchContent .main-container").append('<div class="cardType3"><a href="'+e.data[t].slug+'"><div class="ct3-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'" alt="'+e.data[t].sh_heading+'" /></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>")}))})}function loadTagScreen(){SWHeader(),offset=0,$.get(apis.tag+query,function(e){offset=e.next_offset;for(var t=0;t<e.data.length;t++)if(1==e.data[t].meta_data.nsfw){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age"))var n=sessionStorage.getItem("sw_u_age");1==islocalstorage&&null!=localStorage.sw_u_age&&(n=localStorage.sw_u_age),null==n||n<1?$(".latestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"):($(".latestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><a href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"),$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">NSFW</a>'))}else $(".latestStories").append('<div class="cardType3"><a href="/'+e.data[t].slug+'"><div class="ct3-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>");-1==e.next_offset&&$(".loadMoreData").replaceWith("<div class='loadMoreData'>THAT'S ALL, FOLKS</div>")}),$(document).scroll(function(){$(document).scrollTop()+window.innerHeight===$(document).height()&&$.get(apis.tag+query+"?offset="+offset,function(e){if(offset=e.next_offset,-1==e.next_offset)$(".loadMoreData").replaceWith("<div class='loadMoreData'>THAT'S ALL, FOLKS</div>");else for(var t=0;t<e.data.length;t++)if(1==e.data[t].meta_data.nsfw){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age"))var n=sessionStorage.getItem("sw_u_age");1==islocalstorage&&null!=localStorage.sw_u_age&&(n=localStorage.sw_u_age),null==n||n<1?$(".latestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"):($(".latestStories").append('<div class="cardType3"  id="'+e.data[t]._id+'"><a href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>"),$("#"+e.data[t]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">NSFW</a>'))}else $(".latestStories").append('<div class="cardType3"><a href="/'+e.data[t].slug+'"><div class="ct3-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>")})})}function loadCollectionScreen(){SWHeader(),offset=0,$.get(apis.collection+query,function(e){$(".topic-banner").append('<a href="/'+e.data.masthead.slug+'/" ><img src="'+e.data.masthead.feature_img+'"><h2>'+e.data.masthead.title+"</h2></a>");for(var t=0;t<e.data._list.length;t++)if("art"==e.data._list[t].type)$(".latestStories").append('<div class="cardType3"><a href="/'+e.data._list[t].data.slug+'"><div class="ct3-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data._list[t].data.feature_img+'"></div><div class="ct3-right"><p>'+e.data._list[t].data.title+'</p><p class="dt">'+e.data._list[t].data.pub_date+"</p></div></a></div>");else{var n=e.data._list[t].data._id,i=e.data._list[t].data.alt_content;i=i.split(","),e.data._list[t].data.alt_content;var r=e.data._list[t].data.title,o=e.data._list[t].data.feature_img,a=e.data._list[t].data.sh_heading,s=e.data._list[t].data.slug;e.data._list[t].data.articleid,$(".latestStories").append('<div style="clear:both"></div><div class="vidlandpage vidlandpagecoll"><div style="font-size: 16px; margin-bottom: 10px; padding-left:20px;">'+e.data._list[t].data.title+'</div><div id="videoDiv'+n+'" class="yesing" ></div><div class="popupShareIconscustomlandings'+n+'" style="float:right"></div>');var l="videoDiv"+n,u="vid"+n,c={videoDiv:l,height:"326",width:"580",fullscreen:!1,videoID:u,systemID:sw_cookie,loginID:null,deviceID:null,fbID:null,protocol:"https",callback:function(e){},poster:e.data._list[t].data.feature_img,sources:[i[1],i[2]],urlParams:{ref:vref,type:vtype,ep:vep}};Strmeasy.init_player(c),$("#"+l+" #"+u).not(":first").html("").remove(),$(".popupShareIconscustomlandings"+n).append('<div class="socialStyle1 socialStyle1coll" style="margin:10px 16px"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+s+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(o)+"&description="+a+"&caption=www.ScoopWhoop.com&link="+root+s+"/&title="+encodeURIComponent(r)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);" class="hamBtn twH link-top'+n+'" id="twttop" data-href="'+root+s+'"><i class="fa fa-link "></i></a></div>'),$(".popupShareIconscustomlandings"+n+" .socialStyle1").not(":first").html("").remove(),$(document).on("click",".link-top"+n,function(){var e=this;copyTextToClipboard(this.getAttribute("data-href")),$(this).parents(".socialStyle1").append($('<div id="message'+n+'" style="margin-left: 114px; margin-top: 50px !important;">Link Copied</div>')),$(this).parents(".socialStyle1").find("#message"+n).fadeIn("slow"),setTimeout(function(){$(e).parents(".socialStyle1").find("#message"+n).fadeOut(2e3),$(e).parents(".socialStyle1").find("#message"+n).remove()},2e3)})}$(".loadMoreData").replaceWith("<div class='loadMoreData' style='width: 100%; height: 7px;background: #fdde32;display: inline-block;margin-bottom: 30px;'>&nbsp;</div>")})}function loadTopicScreen(){SWHeader({image:!0}),offset=0,$.get(apis.topic+query,function(e){offset=e.next_offset,$(".topic-banner").append('<a href="/'+e.data.featured_articles[0].slug+'/" ><img src="'+e.data.featured_articles[0].feature_img+'"><h2>'+e.data.featured_articles[0].title+"</h2></a><p>"+e.data.featured_articles[0].sh_heading+'</p><p class="readmore"><a href="/'+e.data.featured_articles[0].slug+'/" style="color:#4385f5">READ MORE</a></p>');for(var t=0;t<e.data.articles.length;t++)if(1==e.data.articles[t].meta_data.nsfw){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age"))var n=sessionStorage.getItem("sw_u_age");1==islocalstorage&&null!=localStorage.sw_u_age&&(n=localStorage.sw_u_age),null==n||n<1?$(".latestStories").append('<div class="cardType3"  id="'+e.data.articles[t]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data.articles[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.articles[t].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data.articles[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data.articles[t].title+'</p><p class="dt">'+e.data.articles[t].pub_date+"</p></div></a></div>"):($(".latestStories").append('<div class="cardType3"  id="'+e.data.articles[t]._id+'"><a href="/'+e.data.articles[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.articles[t].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data.articles[t].title+'</p><p class="dt">'+e.data.articles[t].pub_date+"</p></div></a></div>"),$("#"+e.data.articles[t]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data.articles[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">NSFW</a>'))}else $(".latestStories").append('<div class="cardType3"><a href="/'+e.data.articles[t].slug+'"><div class="ct3-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.articles[t].feature_img+'"></div><div class="ct3-right"><p>'+e.data.articles[t].title+'</p><p class="dt">'+e.data.articles[t].pub_date+"</p></div></a></div>");-1==e.next_offset&&$(".loadMoreData").replaceWith("<div class='loadMoreData'>THAT'S ALL, FOLKS</div>")}),$.get(root+"api/v1/get_trending/",function(e){if(e.total<3)$(".trendingSecTopic").hide();else for(var t=0;t<e.data.length;t++)$(".trendingSecTopic").show(),$(".trendingSecTopic ul").append('<li class="trendNews"><a href="/'+e.data[t].slug+'/">'+e.data[t].tag+"</a></li>")}).done(function(){$(".trendNews").hover(function(){$(".active").removeClass("active"),$(this).addClass("active")})}),$.get(apis.newsQuote,function(e){$(".quoteOf").append('<h2>"'+e.data.quote+'"</h2><p>'+e.data.description+"</p>")}),FollowUsOn(),$(document).scroll(function(){$(document).scrollTop()+window.innerHeight===$(document).height()&&$.get(apis.topic+query+"?offset="+offset,function(e){if(offset=e.next_offset,-1==e.next_offset)$(".loadMoreData").replaceWith("<div class='loadMoreData'>THAT'S ALL, FOLKS</div>");else for(var t=0;t<e.data.articles.length;t++)if(1==e.data.articles[t].meta_data.nsfw){if(1==issessionstorage&&null!=sessionStorage.getItem("sw_u_age"))var n=sessionStorage.getItem("sw_u_age");1==islocalstorage&&null!=localStorage.sw_u_age&&(n=localStorage.sw_u_age),null==n||n<1?$(".latestStories").append('<div class="cardType3"  id="'+e.data.articles[t]._id+'"><div class="ct3-left"><div class="imgContainer"><a class="nsfwImg" data-href="/'+e.data.articles[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.articles[t].feature_img+'"></a></div></div><a class="nsfwImgP" data-href="/'+e.data.articles[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop" href="javascript:void(0);" ><div class="ct3-right"><p>'+e.data.articles[t].title+'</p><p class="dt">'+e.data.articles[t].pub_date+"</p></div></a></div>"):($(".latestStories").append('<div class="cardType3"  id="'+e.data.articles[t]._id+'"><a href="/'+e.data.articles[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop"><div class="ct3-left"><div class="imgContainer"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.articles[t].feature_img+'"></div></div><div class="ct3-right"><p>'+e.data.articles[t].title+'</p><p class="dt">'+e.data.articles[t].pub_date+"</p></div></a></div>"),$("#"+e.data.articles[t]._id+" .imgContainer").append('<a class="cat" style="background:#fdde32;color:#000" href="/'+e.data.articles[t].slug+'/?ref=latest&utm_source=home_latest&utm_medium=desktop">NSFW</a>'))}else $(".latestStories").append('<div class="cardType3"><a href="/'+e.data.articles[t].slug+'"><div class="ct3-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.articles[t].feature_img+'"></div><div class="ct3-right"><p>'+e.data.articles[t].title+'</p><p class="dt">'+e.data.articles[t].pub_date+"</p></div></a></div>")})})}function loadErrorScreen(){SWHeader(),$.get(apis.trending,function(e){e.next_offset;for(var t=0;t<e.total_articles;t++)$(".latestStories").append('<div class="cardType3"><a href="/'+e.data[t].slug+'"><div class="ct3-left"><img src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data[t].feature_img+'"></div><div class="ct3-right"><p>'+e.data[t].title+'</p><p class="dt">'+e.data[t].pub_date+"</p></div></a></div>")})}function copyTextToClipboard(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful"}catch(e){n="unsuccessful"}return document.body.removeChild(t),n}var isChrome=!!window.chrome&&!!window.chrome.webstore;function loadVideoScreen(){console.log("load videoscreen"),SWHeader();var u=0;$.get(root+"api/v2/originals/all/",function(e){var t=e.data[0].alt_content,n=e.data[0].title.trim(),i=e.data[0].feature_img,r=e.data[0].sh_heading.trim(),o=e.data[0].slug;u=e.data[0]._id,ga("send",{hitType:"event",eventCategory:"Desktop_Video_Custom_Player",eventAction:"Video Played:"+n}),umatracker("Video Played From Custom Player:"+n,"Desktop_Video_Custom_Player");var a=t.split(",");$(".customvdotitlelanding").empty(),$(".popupShareIconscustomlanding").empty(),$(".customvdotitlelanding").append(n);var s={videoDiv:"videoDiv2",videoID:u,height:354,width:626,systemID:sw_cookie,deviceID:null,loginID:null,fbID:null,sources:a,poster:i,tokenURL:null,protocol:"https",fullscreen:!1,autoplay:!0,adsURL:videoAdUrl,urlParams:{ref:vref,type:vtype,ep:vep}};Strmeasy.init_player(s),$(".vdodetail").append("<p style='color: #fcf8f3; margin-top: 24px;margin-bottom: 22px; font-size: 24px;    font-weight: 300;'>"+n+" | <a href='/show/"+e.data[0].show.topic_display.topic_slug+"/?ref=video2layout' style='color:#4384f4'>"+e.data[0].show.topic_display.topic_display+"</a><span style='float:right;font-size:14px' class='channels-add'></span> </p>"),channels(e.data[0].show.topic_display.topic_slug),$(".vdodetail").css("left","-15px"),$(".vdodetail").append('<div style="clear: both;"> <p style="color: #afafaf;font-size: 16px;font-weight: 400;">'+r+"</p></div>"),$(".vdodetail").append('<div class="socialStyle1" style="margin:10px 0"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+o+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(i)+"&description="+r+"&caption=www.ScoopWhoop.com&link="+root+o+"/&title="+encodeURIComponent(n)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtnnew fbH2" target="_blank" id="fbtop"><i class="fa fa-facebook"></i>  Share on Facebook</a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+n+"&url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtnnew twH2\" id=\"twttop\"><i class=\"fa fa-twitter\"></i>  Share on Twitter</a> </div>"),$("#artvdo").css("display","block"),$("#sideplaylist").css("display","block"),$(".vjs-control-content").empty(),$(".displayMoreShareIconsLanding").hide(),$(document).on("mouseover",".moreShareIconsLanding",function(){$(".displayMoreShareIconsLanding").show()}),$(document).on("mouseout",".moreShareIconsLanding",function(){$(".displayMoreShareIconsLanding").hide()}),$(".clickedvod").on("click",function(){videojs(u).dispose(),$("#videoDiv2").remove(),$(".popupcontentcustomvdoLanding").append('<div id="videoDiv2" data-height="100%" data-width="100%" > <div class="popupShareIconscustomlandingcustom"></div> </div>'),$(".vdodetail").empty(),window.history.pushState("","","/"+$(this).attr("data-href")+"/"),ga("send",{hitType:"event",eventCategory:"Desktop_Video_Category",eventAction:n}),$.get(root+"api/v2/originals/"+$(this).attr("data-href"),function(e){var t=e.data.alt_content,n=e.data.title,i=e.data.feature_img,r=e.data.sh_heading,o=e.data.slug;u=e.data._id;var a=t.split(",");$(".customvdotitlelandingartcland").empty(),$(".popupShareIconscustomlanding").empty();var s={videoDiv:"videoDiv2",videoID:u,systemID:sw_cookie,height:354,width:626,deviceID:null,loginID:null,fbID:null,sources:a,tokenURL:null,callback:function(e){},protocol:"https",fullscreen:!1,adsURL:videoAdUrl,autoplay:!0,poster:i,urlParams:{ref:vref,type:vtype,ep:vep}};Strmeasy.init_player(s),$(".vdodetail").append("<p style='color: #fcf8f3; margin-top: 24px;margin-bottom: 22px; font-size: 24px;    font-weight: 300;'>"+n+" | <a href='/show/"+e.data.show.topic_display.topic_slug+"/?ref=video2layout' style='color:#4384f4'>"+e.data.show.topic_display.topic_display+"</a><span style='float:right;font-size:14px' class='channels-add'></span> </p>"),channels(e.data.show.topic_display.topic_slug),$(".vdodetail").css("left","-15px"),$(".vdodetail").append('<div style="clear: both;"> <p style="color: #afafaf;font-size: 16px;font-weight: 400;">'+r+"</p></div>"),$(".vdodetail").append('<div class="socialStyle1" style="margin:10px 0"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+o+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(i)+"&description="+r+"&caption=www.ScoopWhoop.com&link="+root+o+"/&title="+encodeURIComponent(n)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtnnew fbH2" target="_blank" id="fbtop"><i class="fa fa-facebook"></i>  Share on Facebook</a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+n+"&url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtnnew twH2\" id=\"twttop\"><i class=\"fa fa-twitter\"></i>  Share on Twitter</a> </div>"),videojs(u).play(),$("#artvdo").css("display","block"),$(".vjs-control-content").empty(),$(".popupcustom").show(),$("#videoDiv2 #"+u).not(":first").remove(),$(".popupShareIconscustomlanding").css("bottom","-60px"),$(".popupShareIconscustomlanding").css("right","-6px"),$(".popupShareIconscustomlanding").append('<div class="socialStyle1"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+o+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(i)+"&description="+r+"&caption=www.ScoopWhoop.com&link="+root+o+"/&title="+encodeURIComponent(n)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+n+"&url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a></div>")})});var l="https://www.scoopwhoop.com/api/v2/originals/topic/";getUrlParameter("ref"),e.data.shift(),getShowLatestData({heading:"Latest Videos"},e,function(){getShow({show:"drunk-friend",url:l,heading:"Slice of Life - Sketches"},function(){getShow({show:"OKTested",url:l,heading:"OK Tested"},function(){getShow({show:"chase-series",url:l,heading:"Chase Series - Documentaries"},function(){getShow({show:"Street-View",url:l,heading:"Street View"},function(){getShow({show:"Pun-Ki-Baat",url:l,heading:"Pun Ki Baat"},function(){getShow({show:"SW-Explains",url:l,heading:"SW Explains"},function(){getShow({show:"baked-series",url:l,heading:"Baked - Web Series"},function(){getShow({show:"baked-2",url:l,heading:"Baked 2 - Web Series"})})})})})})})})})}),$.get(apis.selectedShowList,function(e){for(var t=0;t<e.data.length;t++)$("#hiddenshows").append('<a href="/show/'+e.data[t].topic_display.topic_slug+'/?ref=video2layout"><img class="classvdoland" style="margin-left:0" src="'+e.data[t].feature_img_port+'"/></a>')})}function loadOriginalsScreen(){console.log("from original function"),""===window.location.hash&&(window.location.hash=genHashCode()),SWHeader(),$.get(root+"api/v2/originals/originals/"+slug,function(e){var t;if(""==(s=e.data.alt_content)){console.log("video id null");var n=e.data.title.trim(),i=e.data.feature_img,r=e.data.sh_heading.trim(),o=e.data.slug,a=e.data.articleid;$("#iframeVideo").css({display:"block",width:"100%",height:"100%",border:"0"});var s=(t=e.data.article_content.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/))&&11==t[2].length?t[2]:"error";n=e.data.title,ga("send",{hitType:"event",eventCategory:"Desktop_Video",eventAction:"Video Watched:"+s+":"+n}),$(".customvdotitlelanding").empty(),$(".popupShareIconscustomlanding").empty(),$(".customvdotitlelanding").append(n),$("#iframeVideo").attr("src","https://www.youtube.com/embed/"+s+"?enablejsapi=1&version=3&playerapiid=ytplayer&autoplay=1"),$(".popupShareIconscustomlanding").append('<div class="socialStyle1"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+o+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(i)+"&description="+r+"&caption=www.ScoopWhoop.com&link="+root+o+"/&title="+encodeURIComponent(n)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+n+"&url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+root+o+"&amp;title="+n+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redtop"><i class="fa fa-reddit-alien"></i></a><div class="socialBtn moreShareIconsLanding"><span class="text">More</span><span class="ie-arrow"></span> <br><div class="displayMoreShareIconsLanding" style="display:none"><div class="arrow arrowBorder"></div><div class="arrow arrowFill"></div><div class="moreShareIcnsDiv"> <a href="https://pinterest.com/pin/create/button/?media='+encodeURIComponent(i)+"&amp;url="+root+o+'" target="_blank" class="hamBtn2 pinterestDiv"><i class="fa fa-pinterest-p piH"></i></a><a href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.tumblr.com/share/link?name='+n+"&amp;url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\"class=\"hamBtn2 tblAL\"><i class=\"fa fa-tumblr\"></i></a><a href=\"javascript:void(0);\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://www.stumbleupon.com/submit?url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn2 stlAL\"><i class=\"fa fa-stumbleupon\"></i></a></div></div></div></div>"),$(".x").on("click",function(){return $("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),!1}),$(".popupcontent").on("click",function(){return $("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),!1}),$(document).keydown(function(e){if(27==e.keyCode)return $("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),!1}),vid=""}else{console.log("video id is not null"),s=e.data.alt_content,n=e.data.title.trim(),i=e.data.feature_img,r=e.data.sh_heading.trim(),o=e.data.slug,a=e.data._id,ga("send",{hitType:"event",eventCategory:"Desktop_Video_Custom_Player",eventAction:"Video Played:"+n}),umatracker("Video Played From Custom Player:"+n,"Desktop_Video_Custom_Player");var l=s.split(",");e.data.slug,$(".customvdotitlelanding").empty(),$(".popupShareIconscustomlanding").empty(),$(".customvdotitlelanding").append(n);var u={videoDiv:"videoDiv2",videoID:a,height:354,width:626,systemID:sw_cookie,deviceID:null,loginID:null,fbID:null,sources:l,poster:i,tokenURL:null,protocol:"https",fullscreen:!1,autoplay:!0,adsURL:videoAdUrl,urlParams:{ref:vref,type:vtype,ep:vep}};Strmeasy.init_player(u),$(".vdodetail").append("<p style='color: #fcf8f3; margin-top: 24px;margin-bottom: 22px; font-size: 24px;    font-weight: 300;'>"+n+" | <a href='/show/"+e.data.show.topic_display.topic_slug+"/?ref=video2layout' style='color:#4384f4'>"+e.data.show.topic_display.topic_display+"</a><span style='float:right;font-size:14px' class='channels-add'></span> </p>"),channels(e.data.show.topic_display.topic_slug),$(".vdodetail").css("left","-15px"),$(".vdodetail").append('<div style="clear: both;"> <p style="color: #afafaf;font-size: 16px;font-weight: 400;">'+r+"</p></div>"),$(".vdodetail").append('<div class="socialStyle1" style="margin:10px 0"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+o+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(i)+"&description="+r+"&caption=www.ScoopWhoop.com&link="+root+o+"/&title="+encodeURIComponent(n)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtnnew fbH2" target="_blank" id="fbtop"><i class="fa fa-facebook"></i>  Share on Facebook</a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+n+"&url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtnnew twH2\" id=\"twttop\"><i class=\"fa fa-twitter\"></i>  Share on Twitter</a> </div>"),$(".displayMoreShareIconsLanding").hide(),$(document).on("mouseover",".moreShareIconsLanding",function(){$(".displayMoreShareIconsLanding").show()}),$(document).on("mouseout",".moreShareIconsLanding",function(){$(".displayMoreShareIconsLanding").hide()})}getUrlParameter("showref");var c="https://www.scoopwhoop.com/api/v2/originals/topic/";getShowLatest({url:"https://www.scoopwhoop.com/api/v2/originals/all/",heading:"Latest Videos"},function(){getShow({show:"drunk-friend",url:c,heading:"Slice of Life - Sketches"},function(){getShow({show:"OKTested",url:c,heading:"OK Tested"},function(){getShow({show:"chase-series",url:c,heading:"Chase Series - Documentaries"},function(){getShow({show:"Street-View",url:c,heading:"Street View"},function(){getShow({show:"Pun-Ki-Baat",url:c,heading:"Pun Ki Baat"},function(){getShow({show:"SW-Explains",url:c,heading:"SW Explains"},function(){getShow({show:"baked-series",url:c,heading:"Baked - Web Series"},function(){getShow({show:"baked-2",url:c,heading:"Baked 2 - Web Series"})})})})})})})})})}),$.get(apis.selectedShowList,function(e){for(var t=0;t<e.data.length;t++)$("#hiddenshows").append('<a href="/show/'+e.data[t].topic_display.topic_slug+'/?ref=video2layout"><img class="classvdoland" style="margin-left:0" src="'+e.data[t].feature_img_port+'"/></a>')})}function videoPopup(){var e=getUrlParameter("vid"),t=getUrlParameter("t");if(getUrlParameter("cvid"),""!=e&&null!=e){var n=e;t=t,ga("send",{hitType:"event",eventCategory:"Desktop_Video",eventAction:"Video Watched:"+n+":"+t}),$("#iframeVideo").attr("src","https://www.youtube.com/embed/"+n+"?enablejsapi=1&version=3&playerapiid=ytplayer&autoplay=1"),$(".popup").show(),$(".popupShareIcons").empty(),$(".x").on("click",function(){return $("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),!1}),$(".popupcontent").on("click",function(){return $("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),!1}),$(document).keydown(function(e){if(27==e.keyCode)return $("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),!1}),e=""}var u="";$(".videoImg").on("click",function(){var e,t,n=(e=$(this).attr("data-video"),(t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/))&&11==t[2].length?t[2]:"error"),i=$(this).attr("data-title").toString(),r=$(this).attr("data-image").toString();if("error"!=n)return $("#iframeVideo").attr("src","https://www.youtube.com/embed/"+n+"?enablejsapi=1&version=3&playerapiid=ytplayer&autoplay=1"),$(".popup").show(),$(".popupShareIcons").empty(),$(".popupShareIcons").append('<div class="socialStyle1"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+"category/videos/?vid="+n+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(r)+"&description=ScoopWhoop Videos.&caption=www.ScoopWhoop.com&link="+root+"category/videos/?vid="+n+"/&title="+encodeURIComponent(i)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+i+"&url="+root+"category/videos/?vid="+n+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+root+"category/videos/?vid="+n+"&amp;title="+i+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redtop"><i class="fa fa-reddit-alien"></i></a><a onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://plus.google.com/share?url='+root+"category/videos/?vid="+n+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn gpH" target="_blank"><i class="fa fa-google-plus"></i></a> </div>'),!1;$(".customvdotitle").empty(),$(".popupShareIconscustom").empty();var o=$(this).attr("data-video"),a=$(this).attr("data-slug"),s=$(this).attr("data-desc");u=$(this).attr("data-vdid"),o=o.split(",");var l={videoDiv:"videoDiv",videoID:u,systemID:sw_cookie,deviceID:null,loginID:null,fbID:null,sources:o,tokenURL:null,protocol:"https",fullscreen:!1,autoplay:!0,adsURL:videoAdUrl,urlParams:{ref:vref,type:vtype,ep:vep}};Strmeasy.init_player(l),$(".vjs-control-content").empty(),$("#videoDiv #"+u).not(":first").html("").remove(),$(".popupcustom").show(),$(".customvdotitle").append($(this).attr("data-title")),$(".popupShareIconscustom").append('<div class="socialStyle1"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+a+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(r)+"&description="+s+"&caption=www.ScoopWhoop.com&link="+root+a+"/&title="+encodeURIComponent(i)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+i+"&url="+root+a+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a> <a onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://reddit.com/submit?url="+root+a+"&amp;title="+i+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" href="javascript:void(0);" target="_blank" class="hamBtn reH" id="redtop"><i class="fa fa-reddit-alien"></i></a><div class="socialBtn moreShareIcons"><span class="text" style="color:#fff">More</span><span class="ie-arrow"  style="color:#fff"></span> <br><div class="displayMoreShareIconsVdo" style="display:none"><div class="moreShareIcnsDiv"> <a href="https://pinterest.com/pin/create/button/?media='+encodeURIComponent(r)+"&amp;url="+root+a+'" target="_blank" class="hamBtn2 pinterestDiv"><i class="fa fa-pinterest-p piH"></i></a><a href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://www.tumblr.com/share/link?name='+i+"&amp;url="+root+a+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\"class=\"hamBtn2 tblAL\"><i class=\"fa fa-tumblr\"></i></a><a href=\"javascript:void(0);\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('http://www.stumbleupon.com/submit?url="+root+a+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn2 stlAL\"><i class=\"fa fa-stumbleupon\"></i></a></div></div></div></div>"),$(".displayMoreShareIconsVdo").hide(),$(document).on("mouseover",".moreShareIcons",function(){$(".displayMoreShareIconsVdo").show()}),$(document).on("mouseout",".moreShareIcons",function(){$(".displayMoreShareIconsVdo").hide()}),$(".popupcustom").on("click",".xcustom",function(){return Strmeasy.dispose_player(u),$(".popupcustom").hide(),u="",ga("send",{hitType:"event",eventCategory:"Desktop_Video_Custom_Player",eventAction:"Video Closed"}),umatracker("Video Closed From Custom Player","Desktop_Video_Custom_Player"),!1}),$(document).keydown(function(e){27==e.keyCode&&($("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),$(".popupcustom").hide(),Strmeasy.dispose_player(u),u="")}),ga("send",{hitType:"event",eventCategory:"Desktop_Video_Custom_Player",eventAction:"Video Played:"+i}),umatracker("Video Played From Custom Player:"+i,"Desktop_Video_Custom_Player")}),$(".x").on("click",function(){return $("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),!1}),$(".popupcontent").on("click",function(){return $("#iframeVideo")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),$(".popup").hide(),!1})}function loadVideoCategoryScreen(){console.log("from loadVideoCategoryScreen"),SWHeader();var d=0;$.get("https://www.scoopwhoop.com/api/v2/originals/topic/"+show,function(e){if("baked-series"==show||"baked-2"==show?$("#showtitle").append("Baked - Web Series"):$("#showtitle").append(e.topicData.topic_name),$("#showdesc").append(e.topicData.topic_desc),null==e.topicData.topic_feature_video.alt_content){var t=e.data.articles[0].alt_content,n=e.data.articles[0].title.trim(),i=e.data.articles[0].feature_img,r=e.data.articles[0].sh_heading.trim(),o=e.data.articles[0].slug;d=e.data.articles[0]._id,e.data.articles[0].meta_data.duration;var a=e.data.articles[0].show.topic_display.topic_slug,s=e.data.articles[0].show.topic_display.topic_display}else t=e.topicData.topic_feature_video.alt_content,n=e.topicData.topic_feature_video.title.trim(),i=e.topicData.topic_feature_video.feature_img,r=e.topicData.topic_feature_video.sh_heading.trim(),o=e.topicData.topic_feature_video.slug,d=e.topicData.topic_feature_video._id,e.topicData.topic_feature_video.meta_data.duration,a=e.topicData.topic_feature_video.show.topic_display.topic_slug,s=e.topicData.topic_feature_video.show.topic_display.topic_display;ga("send",{hitType:"event",eventCategory:"Desktop_Video_Custom_Player",eventAction:"Video Played:"+n}),umatracker("Video Played From Custom Player:"+n,"Desktop_Video_Custom_Player");var l=t.split(",");$(".customvdotitlelanding").empty(),$(".popupShareIconscustomlanding").empty(),$(".customvdotitlelanding").append(n);var u={videoDiv:"videoDiv2",videoID:d,height:354,width:626,systemID:sw_cookie,deviceID:null,loginID:null,fbID:null,sources:l,poster:i,tokenURL:null,protocol:"https",fullscreen:!1,adsURL:videoAdUrl,autoplay:!0,urlParams:{ref:vref,type:vtype,ep:vep}};if(Strmeasy.init_player(u),$(".vdodetail").append("<p style='color: #fcf8f3; margin-top: 24px;margin-bottom: 22px; font-size: 24px;    font-weight: 300;'>"+n+" | <a href='/show/"+a+"/?ref=video2layout' style='color:#4384f4'>"+s+"</a><span style='float:right;font-size:14px' class='channels-add'></span> </p>"),channels(a),$(".vdodetail").css("left","-15px"),$(".vdodetail").append('<div style="clear: both;"> <p style="color: #afafaf;font-size: 16px;font-weight: 400;">'+r+"</p></div>"),$(".vdodetail").append('<div class="socialStyle1" style="margin:10px 0"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+o+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(i)+"&description="+r+"&caption=www.ScoopWhoop.com&link="+root+o+"/&title="+encodeURIComponent(n)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtnnew fbH2" target="_blank" id="fbtop"><i class="fa fa-facebook"></i>  Share on Facebook</a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+n+"&url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtnnew twH2\" id=\"twttop\"><i class=\"fa fa-twitter\"></i>  Share on Twitter</a> </div>"),$("#artvdo").css("display","block"),$(".vjs-control-content").empty(),$(".displayMoreShareIconsLanding").hide(),$(document).on("mouseover",".moreShareIconsLanding",function(){$(".displayMoreShareIconsLanding").show()}),$(document).on("mouseout",".moreShareIconsLanding",function(){$(".displayMoreShareIconsLanding").hide()}),"baked-series"==show||"baked-2"==show)$("#sideplaylist").empty(),$.get("https://www.scoopwhoop.com/api/v2/originals/topic/baked-2",function(e){$("#sideplaylist").append('<p style="margin-left: 5px; color: #4384f4; font-size: 20px;">Season 2</p>');for(var t=0;t<e.data.articles.length;t++)$("#sideplaylist").append('<div class="cardType3" style="margin-left: 3px;"> <div class="ct3-left"><div class="imgContainer"> <a class="clickedvod" href="javascript:void(0)"  data-href="'+e.data.articles[t].slug+'"><img style="height: 84px;width: 160px;" src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.articles[t].feature_img+'"></a></div> <div class="videoImgplayer"></div></div> <div class="ct3-right" style="vertical-align: top;"><p style="color:#fdf9f4;line-height: 18px;font-size: 14px;width: 95%;margin-left: -30px;"><a style="color:#fdf9f4;" class="clickedvod" href="javascript:void(0)"  data-href="'+e.data.articles[t].slug+'">'+e.data.articles[t].title+"</a></p></div> </div>")}).done(function(){$.get("https://www.scoopwhoop.com/api/v2/originals/topic/baked-series",function(e){for(var t=0;t<e.data.articles.length;t++)$("#sideplaylist").prepend('<div class="cardType3" style="margin-left: 3px;"> <div class="ct3-left"><div class="imgContainer"> <a class="clickedvod" href="javascript:void(0)"  data-href="'+e.data.articles[t].slug+'"><img style="height: 84px;width: 160px;" src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.articles[t].feature_img+'"></a></div> <div class="videoImgplayer"></div></div> <div class="ct3-right" style="vertical-align: top;"><p style="color:#fdf9f4;line-height: 18px;font-size: 14px;width: 95%;margin-left: -30px;"><a style="color:#fdf9f4;" class="clickedvod" href="javascript:void(0)"  data-href="'+e.data.articles[t].slug+'"">'+e.data.articles[t].title+"</a></p></div> </div>");$("#sideplaylist").prepend('<p style="margin-left: 5px;color: #4384f4; font-size: 20px;">Season 1</p>')})});else for(var c=0;c<e.data.articles.length;c++)$("#sideplaylistshow").append('<div class="cardType3" style="margin-left: 3px;"> <div class="ct3-left"><div class="imgContainer"> <a class="clickedvod" href="javascript:void(0)"  data-href="'+e.data.articles[c].slug+'"><img style="height: 84px;width: 160px;" src="https://quicksilver.scoopwhoop.com/unsafe/233x110/top/'+e.data.articles[c].feature_img+'"></a></div> <div class="videoImgplayer"></div></div> <div class="ct3-right" style="vertical-align: top;"><p style="color:#fdf9f4;line-height: 18px;font-size: 14px;width: 95%;margin-left: -30px;"><a style="color:#fdf9f4;" class="clickedvod" href="javascript:void(0)"  data-href="'+e.data.articles[c].slug+'">'+e.data.articles[c].title+"</a></p></div> </div>");for($(".swartscrn").append('<h2 class="showartpage" style="margin-top: 80px;">More from "'+e.topicData.topic_name+'"</h2><div style="margin-left:10px" class="manmaa">'),c=0;c<e.data.articles.length;c++)c%3==0&&$(".swartscrn").append('<div class="clr"></div>'),$(".swartscrn").append('<div class="ctVideo3landing ctVideo3"><a style="color:#fdf9f4;" class="clickedvod" href="javascript:void(0)"  data-href="'+e.data.articles[c].slug+'"><img src="'+e.data.articles[c].feature_img+'"></a><a style="color:#fdf9f4;" class="clickedvod" href="javascript:void(0)"  data-href="'+e.data.articles[c].slug+'"><p style="color:#fdf9f4 !important;background-color:#000 !important;line-height: 22px;">'+e.data.articles[c].title+"</p></a></div>");setTimeout(function(){$(".clickedvod").on("click",function(){videojs(d).dispose(),$("#videoDiv2").remove(),$(".popupcontentcustomvdoLanding").append('<div id="videoDiv2" data-height="100%" data-width="100%" > <div class="popupShareIconscustomlandingcustom"></div> </div>'),$(".vdodetail").empty(),window.history.pushState("","","/"+$(this).attr("data-href")+"/"),ga("send",{hitType:"event",eventCategory:"Desktop_Video_Show",eventAction:n}),$.get(root+"api/v2/originals/"+$(this).attr("data-href"),function(e){var t=e.data.alt_content,n=e.data.title,i=e.data.feature_img,r=e.data.sh_heading,o=e.data.slug;d=e.data._id;var a=t.split(",");$(".customvdotitlelandingartcland").empty(),$(".popupShareIconscustomlanding").empty();var s={videoDiv:"videoDiv2",videoID:d,systemID:sw_cookie,height:354,width:626,deviceID:null,loginID:null,fbID:null,sources:a,tokenURL:null,callback:function(e){},protocol:"https",fullscreen:!1,adsURL:"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=",poster:i,urlParams:{ref:vref,type:vtype,ep:vep}};Strmeasy.init_player(s),$(".vdodetail").append("<p style='color: #fcf8f3; margin-top: 24px;margin-bottom: 22px; font-size: 24px; font-weight: 300;'>"+n+" | <a href='/show/"+e.data.show.topic_display.topic_slug+"/?ref=video2layout' style='color:#4384f4'>"+e.data.show.topic_display.topic_display+"</a><span style='float:right;font-size:14px' class='channels-add'></span> </p>"),channels(e.data.show.topic_display.topic_slug),$(".vdodetail").css("left","-15px"),$(".vdodetail").append('<div style="clear: both;"> <p style="color: #afafaf;font-size: 16px;font-weight: 400;">'+r+"</p></div>"),$(".vdodetail").append('<div class="socialStyle1" style="margin:10px 0"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+o+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(i)+"&description="+r+"&caption=www.ScoopWhoop.com&link="+root+o+"/&title="+encodeURIComponent(n)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtnnew fbH2" target="_blank" id="fbtop"><i class="fa fa-facebook"></i>  Share on Facebook</a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+n+"&url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtnnew twH2\" id=\"twttop\"><i class=\"fa fa-twitter\"></i>  Share on Twitter</a> </div>"),videojs(d).play(),$("#artvdo").css("display","block"),$(".vjs-control-content").empty(),$(".popupcustom").show(),$("#videoDiv2 #"+d).not(":first").remove(),$(".popupShareIconscustomlanding").css("bottom","-60px"),$(".popupShareIconscustomlanding").css("right","-6px"),$(".popupShareIconscustomlanding").append('<div class="socialStyle1"> <a  href="javascript:void(0);" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'https://www.facebook.com/dialog/share?app_id=915004185247274&display=popup&href='+root+o+"&domain=http%3A%2F%2Fwww.scoopwhoop.com%2F&picture="+encodeURIComponent(i)+"&description="+r+"&caption=www.ScoopWhoop.com&link="+root+o+"/&title="+encodeURIComponent(n)+'\',\'sharer\',\'toolbar=0,status=0,width=626,height=256,top=\'+sTop+\',left=\'+sLeft);return false;" class="hamBtn fbH" target="_blank" id="fbtop"><i class="fa fa-facebook"></i></a> <a href="javascript:void(0);"onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open(\'http://twitter.com/share?text='+n+"&url="+root+o+"','sharer','toolbar=0,status=0,width=626,height=256,top='+sTop+',left='+sLeft);return false;\" class=\"hamBtn twH\" id=\"twttop\"><i class=\"fa fa-twitter\"></i></a></div>")}),$("html, body").animate({scrollTop:$("#videoDiv2").offset().top},800)})},8e3)}),$.get(apis.selectedShowList,function(e){for(var t=0;t<e.data.length;t++)$("#hiddenshows").append('<a href="/show/'+e.data[t].topic_display.topic_slug+'/?ref=video2layout"><img class="classvdoland" style="margin-left:0" src="'+e.data[t].feature_img_port+'"/></a>')})}function loadVideoTypeCategoryScreen(){console.log("from loadVideoTypeCategoryScreen"),SWHeader(),$.get(apis.videoCategoryItems+"type/?topic_type="+showtype,function(e){for(var t=0;t<e.data.length;t++)$(".main-content").append('<div class="ctDocument"><a href="'+root+"show/"+e.data[t].topic_display.topic_slug+'"><div class="imgcontainer"><img src="'+e.data[t].topic_feature_img+'"><div class="textWrapper"><div class="text"><p class="title">'+e.data[t].topic+'</p><span></span><p class="count">'+e.data[t].total_articles+" videos</p></div></div></a></div>")})}function loadOmNomScreen(){SWHeader(),$.get(root+"api/v2/originals/topic/onn-food",function(e){$(".omNomFeature").append('<a class="videoImg" href="javascript:void(0)"><img src="'+e.topicData.topic_feature_img+'"></a><h2>ABOUT THE SHOW</h2><p>'+e.topicData.topic_desc+"</p>");for(var t=0;t<e.data.articles.length;t++){var n;n=""!=e.data.articles[t].alt_content&&null!=e.data.articles[t].alt_content?e.data.articles[t].alt_content:e.data.articles[t].article_content,$(".omnomCatVideos").append('<div class="ctVideo3"><a class="videoImg2" href="/'+e.data.articles[t].slug+'/?ref=onn-food" data-video="'+n+'" data-vdid="'+e.data.articles[t]._id+'" data-title="'+e.data.articles[t].title+'" data-image="'+e.data.articles[t].feature_img+'"  data-desc="'+e.data.articles[t].sh_heading+'" data-slug="'+e.data.articles[t].slug+'"><img src="'+e.data.articles[t].feature_img+'"><span class="time">'+e.data.articles[t].meta_data.duration+"</span></a><h3>"+e.data.articles[t].title+"</h3></div>")}for($(".om-nom ul").append('<li id="all" class="active"><a href="javascript:void(0);" >All Videos</a></li>'),t=0;t<e.topicData.property_tags.length;t++)$(".om-nom ul").append('<li id="'+e.topicData.property_tags[t].tag+'"><a href="javascript:void(0);" >'+e.topicData.property_tags[t].title+"</a></li>"),$(document).on("click","#"+e.topicData.property_tags[t].tag,function(){var i=this.id;$.get(root+"api/v2/originals/topic/tag/?topic=onn-food&tag="+i,function(e){$(".om-nom ul li").removeClass("active"),$("#"+i).addClass("active"),$(".omnomCatVideos").html("");for(var t=0;t<e.data.articles.length;t++){var n;n=""!=e.data.articles[t].alt_content&&null!=e.data.articles[t].alt_content?e.data.articles[t].alt_content:e.data.articles[t].article_content,$(".omnomCatVideos").append('<div class="ctVideo3"><a class="videoImg2" href="/'+e.data.articles[t].slug+'/?ref=onn-food" data-video="'+n+'" data-vdid="'+e.data.articles[t]._id+'" data-title="'+e.data.articles[t].title+'" data-image="'+e.data.articles[t].feature_img+'"  data-desc="'+e.data.articles[t].sh_heading+'" data-slug="'+e.data.articles[t].slug+'"><img src="'+e.data.articles[t].feature_img+'"><span class="time">'+e.data.articles[t].meta_data.duration+"</span></a><h3>"+e.data.articles[t].title+"</h3></div>")}})});$(document).on("click","#all",function(){$.get(root+"api/v2/originals/topic/onn-food",function(e){$(".om-nom ul li").removeClass("active"),$("#all").addClass("active"),$(".omnomCatVideos").html("");for(var t=0;t<e.data.articles.length;t++){var n;n=""!=e.data.articles[t].alt_content&&null!=e.data.articles[t].alt_content?e.data.articles[t].alt_content:e.data.articles[t].article_content,$(".omnomCatVideos").append('<div class="ctVideo3"><a class="videoImg2" href="/'+e.data.articles[t].slug+'/?ref=onn-food" data-video="'+n+'" data-vdid="'+e.data.articles[t]._id+'" data-title="'+e.data.articles[t].title+'" data-image="'+e.data.articles[t].feature_img+'"  data-desc="'+e.data.articles[t].sh_heading+'" data-slug="'+e.data.articles[t].slug+'"><img src="'+e.data.articles[t].feature_img+'"><span class="time">'+e.data.articles[t].meta_data.duration+"</span></a><h3>"+e.data.articles[t].title+"</h3></div>")}})})})}videoAdUrl="https://pubads.g.doubleclick.net/gampad/live/ads?sz=640x480&iu=/145115460/SW_PreRoll_Desktop&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=https%3A%2F%2Fwww.scoopwhoop.com%2F&description_url=https%3A%2F%2Fwww.scoopwhoop.com%2F&correlator=",$(document).on("click",".f1_container",function(){$(this).children().children().next().toggleClass("showflip"),$(this).children().children().prev().toggleClass("hideflip")}),$(document).ready(function(){intSWAvgTS(1e3*sw_art_avgt.pop()),swinit()}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(j){"use strict";function n(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),j(e.target).ajaxSubmit(t))}function i(e){var t=e.target,n=j(t);if(!n.is("[type=submit],[type=image]")){var i=n.closest("[type=submit]");if(0===i.length)return;t=i[0]}var r=this;if("image"==(r.clk=t).type)if(void 0!==e.offsetX)r.clk_x=e.offsetX,r.clk_y=e.offsetY;else if("function"==typeof j.fn.offset){var o=n.offset();r.clk_x=e.pageX-o.left,r.clk_y=e.pageY-o.top}else r.clk_x=e.pageX-t.offsetLeft,r.clk_y=e.pageY-t.offsetTop;setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)}function R(){if(j.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var b={};b.fileapi=void 0!==j("<input type='file'/>").get(0).files,b.formdata=void 0!==window.FormData;var N=!!j.fn.prop;j.fn.attr2=function(){if(!N)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},j.fn.ajaxSubmit=function(A){function e(e){function c(t){var n=null;try{t.contentWindow&&(n=t.contentWindow.document)}catch(e){R("cannot get iframe.contentWindow document: "+e)}if(n)return n;try{n=t.contentDocument?t.contentDocument:t.document}catch(e){R("cannot get iframe.contentDocument: "+e),n=t.document}return n}function t(){var e=I.attr2("target"),t=I.attr2("action"),n=I.attr("enctype")||I.attr("encoding")||"multipart/form-data";s.setAttribute("target",o),(!P||/post/i.test(P))&&s.setAttribute("method","POST"),t!=h.url&&s.setAttribute("action",h.url),h.skipEncodingOverride||P&&!/post/i.test(P)||I.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(y=setTimeout(function(){m=!0,d(_)},h.timeout));var i=[];try{if(h.extraData)for(var r in h.extraData)h.extraData.hasOwnProperty(r)&&i.push(j.isPlainObject(h.extraData[r])&&h.extraData[r].hasOwnProperty("name")&&h.extraData[r].hasOwnProperty("value")?j('<input type="hidden" name="'+h.extraData[r].name+'">').val(h.extraData[r].value).appendTo(s)[0]:j('<input type="hidden" name="'+r+'">').val(h.extraData[r]).appendTo(s)[0]);h.iframeTarget||p.appendTo("body"),g.attachEvent?g.attachEvent("onload",d):g.addEventListener("load",d,!1),setTimeout(function e(){try{var t=c(g).readyState;R("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){R("Server abort: ",e," (",e.name,")"),d(w),y&&clearTimeout(y),y=void 0}},15);try{s.submit()}catch(e){document.createElement("form").submit.apply(s)}}finally{s.setAttribute("action",t),s.setAttribute("enctype",n),e?s.setAttribute("target",e):I.removeAttr("target"),j(i).remove()}}function d(e){if(!v.aborted&&!S){if((k=c(g))||(R("cannot access response document"),e=w),e===_&&v)return v.abort("timeout"),void b.reject(v,"timeout");if(e==w&&v)return v.abort("server abort"),void b.reject(v,"error","server abort");if(k&&k.location.href!=h.iframeSrc||m){g.detachEvent?g.detachEvent("onload",d):g.removeEventListener("load",d,!1);var t,n="success";try{if(m)throw"timeout";var i="xml"==h.dataType||k.XMLDocument||j.isXMLDoc(k);if(R("isXml="+i),!i&&window.opera&&(null===k.body||!k.body.innerHTML)&&--E)return R("requeing onLoad callback, DOM not available"),void setTimeout(d,250);var r=k.body?k.body:k.documentElement;v.responseText=r?r.innerHTML:null,v.responseXML=k.XMLDocument?k.XMLDocument:k,i&&(h.dataType="xml"),v.getResponseHeader=function(e){return{"content-type":h.dataType}[e.toLowerCase()]},r&&(v.status=Number(r.getAttribute("status"))||v.status,v.statusText=r.getAttribute("statusText")||v.statusText);var o=(h.dataType||"").toLowerCase(),a=/(json|script|text)/.test(o);if(a||h.textarea){var s=k.getElementsByTagName("textarea")[0];if(s)v.responseText=s.value,v.status=Number(s.getAttribute("status"))||v.status,v.statusText=s.getAttribute("statusText")||v.statusText;else if(a){var l=k.getElementsByTagName("pre")[0],u=k.getElementsByTagName("body")[0];l?v.responseText=l.textContent?l.textContent:l.innerText:u&&(v.responseText=u.textContent?u.textContent:u.innerText)}}else"xml"==o&&!v.responseXML&&v.responseText&&(v.responseXML=C(v.responseText));try{T=O(v,o,h)}catch(e){n="parsererror",v.error=t=e||n}}catch(e){R("error caught: ",e),n="error",v.error=t=e||n}v.aborted&&(R("upload aborted"),n=null),v.status&&(n=200<=v.status&&v.status<300||304===v.status?"success":"error"),"success"===n?(h.success&&h.success.call(h.context,T,"success",v),b.resolve(v.responseText,"success",v),f&&j.event.trigger("ajaxSuccess",[v,h])):n&&(void 0===t&&(t=v.statusText),h.error&&h.error.call(h.context,v,n,t),b.reject(v,"error",t),f&&j.event.trigger("ajaxError",[v,h,t])),f&&j.event.trigger("ajaxComplete",[v,h]),f&&!--j.active&&j.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,v,n),S=!0,h.timeout&&clearTimeout(y),setTimeout(function(){h.iframeTarget?p.attr("src",h.iframeSrc):p.remove(),v.responseXML=null},100)}}}var n,i,h,f,o,p,g,v,r,a,m,y,s=I[0],b=j.Deferred();if(b.abort=function(e){v.abort(e)},e)for(i=0;i<D.length;i++)n=j(D[i]),N?n.prop("disabled",!1):n.removeAttr("disabled");if((h=j.extend(!0,{},j.ajaxSettings,A)).context=h.context||h,o="jqFormIO"+(new Date).getTime(),h.iframeTarget?(a=(p=j(h.iframeTarget)).attr2("name"))?o=a:p.attr2("name",o):(p=j('<iframe name="'+o+'" src="'+h.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),g=p[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";R("aborting upload... "+t),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(e){}p.attr("src",h.iframeSrc),v.error=t,h.error&&h.error.call(h.context,v,t,e),f&&j.event.trigger("ajaxError",[v,h,t]),h.complete&&h.complete.call(h.context,v,t)}},(f=h.global)&&0==j.active++&&j.event.trigger("ajaxStart"),f&&j.event.trigger("ajaxSend",[v,h]),h.beforeSend&&!1===h.beforeSend.call(h.context,v,h))return h.global&&j.active--,b.reject(),b;if(v.aborted)return b.reject(),b;(r=s.clk)&&(a=r.name)&&!r.disabled&&(h.extraData=h.extraData||{},h.extraData[a]=r.value,"image"==r.type&&(h.extraData[a+".x"]=s.clk_x,h.extraData[a+".y"]=s.clk_y));var _=1,w=2,l=j("meta[name=csrf-token]").attr("content"),u=j("meta[name=csrf-param]").attr("content");u&&l&&(h.extraData=h.extraData||{},h.extraData[u]=l),h.forceSync?t():setTimeout(t,10);var T,k,S,E=50,C=j.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},x=j.parseJSON||function(e){return window.eval("("+e+")")},O=function(e,t,n){var i=e.getResponseHeader("content-type")||"",r="xml"===t||!t&&0<=i.indexOf("xml"),o=r?e.responseXML:e.responseText;return r&&"parsererror"===o.documentElement.nodeName&&j.error&&j.error("parsererror"),n&&n.dataFilter&&(o=n.dataFilter(o,t)),"string"==typeof o&&("json"===t||!t&&0<=i.indexOf("json")?o=x(o):("script"===t||!t&&0<=i.indexOf("javascript"))&&j.globalEval(o)),o};return b}if(!this.length)return R("ajaxSubmit: skipping submit process - no element selected"),this;var P,t,n,I=this;"function"==typeof A?A={success:A}:void 0===A&&(A={}),P=A.type||this.attr2("method"),(n=(n="string"==typeof(t=A.url||this.attr2("action"))?j.trim(t):"")||window.location.href||"")&&(n=(n.match(/^([^#]+)/)||[])[1]),A=j.extend(!0,{url:n,success:j.ajaxSettings.success,type:P||j.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},A);var i={};if(this.trigger("form-pre-serialize",[this,A,i]),i.veto)return R("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(A.beforeSerialize&&!1===A.beforeSerialize(this,A))return R("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var r=A.traditional;void 0===r&&(r=j.ajaxSettings.traditional);var o,D=[],a=this.formToArray(A.semantic,D);if(A.data&&(A.extraData=A.data,o=j.param(A.data,r)),A.beforeSubmit&&!1===A.beforeSubmit(a,this,A))return R("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[a,this,A,i]),i.veto)return R("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var s=j.param(a,r);o&&(s=s?s+"&"+o:o),"GET"==A.type.toUpperCase()?(A.url+=(0<=A.url.indexOf("?")?"&":"?")+s,A.data=null):A.data=s;var l=[];if(A.resetForm&&l.push(function(){I.resetForm()}),A.clearForm&&l.push(function(){I.clearForm(A.includeHidden)}),!A.dataType&&A.target){var u=A.success||function(){};l.push(function(e){var t=A.replaceTarget?"replaceWith":"html";j(A.target)[t](e).each(u,arguments)})}else A.success&&l.push(A.success);if(A.success=function(e,t,n){for(var i=A.context||this,r=0,o=l.length;r<o;r++)l[r].apply(i,[e,t,n||I,I])},A.error){var c=A.error;A.error=function(e,t,n){var i=A.context||this;c.apply(i,[e,t,n,I])}}if(A.complete){var d=A.complete;A.complete=function(e,t){var n=A.context||this;d.apply(n,[e,t,I])}}var h=0<j("input[type=file]:enabled",this).filter(function(){return""!==j(this).val()}).length,f="multipart/form-data",p=I.attr("enctype")==f||I.attr("encoding")==f,g=b.fileapi&&b.formdata;R("fileAPI :"+g);var v,m=(h||p)&&!g;!1!==A.iframe&&(A.iframe||m)?A.closeKeepAlive?j.get(A.closeKeepAlive,function(){v=e(a)}):v=e(a):v=(h||p)&&g?function(e){for(var n=new FormData,t=0;t<e.length;t++)n.append(e[t].name,e[t].value);if(A.extraData){var i=function(e){var t,n,i=j.param(e,A.traditional).split("&"),r=i.length,o=[];for(t=0;t<r;t++)i[t]=i[t].replace(/\+/g," "),n=i[t].split("="),o.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return o}(A.extraData);for(t=0;t<i.length;t++)i[t]&&n.append(i[t][0],i[t][1])}A.data=null;var r=j.extend(!0,{},j.ajaxSettings,A,{contentType:!1,processData:!1,cache:!1,type:P||"POST"});A.uploadProgress&&(r.xhr=function(){var e=j.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,n=e.loaded||e.position,i=e.total;e.lengthComputable&&(t=Math.ceil(n/i*100)),A.uploadProgress(e,n,i,t)},!1),e}),r.data=null;var o=r.beforeSend;return r.beforeSend=function(e,t){t.data=A.formData?A.formData:n,o&&o.call(this,e,t)},j.ajax(r)}(a):j.ajax(A),I.removeData("jqxhr").data("jqxhr",v);for(var y=0;y<D.length;y++)D[y]=null;return this.trigger("form-submit-notify",[this,A]),this},j.fn.ajaxForm=function(e){if((e=e||{}).delegation=e.delegation&&j.isFunction(j.fn.on),e.delegation||0!==this.length)return e.delegation?(j(document).off("submit.form-plugin",this.selector,n).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,e,n).on("click.form-plugin",this.selector,e,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,n).bind("click.form-plugin",e,i);var t={s:this.selector,c:this.context};return!j.isReady&&t.s?(R("DOM not ready, queuing ajaxForm"),j(function(){j(t.s,t.c).ajaxForm(e)})):R("terminating; zero elements found by selector"+(j.isReady?"":" (DOM not ready)")),this},j.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},j.fn.formToArray=function(e,t){var n=[];if(0===this.length)return n;var i,r,o,a,s,l,u,c,d=this[0],h=this.attr("id"),f=e?d.getElementsByTagName("*"):d.elements;if(f&&!/MSIE [678]/.test(navigator.userAgent)&&(f=j(f).get()),h&&(i=j(':input[form="'+h+'"]').get()).length&&(f=(f||[]).concat(i)),!f||!f.length)return n;for(r=0,u=f.length;r<u;r++)if((a=(l=f[r]).name)&&!l.disabled)if(e&&d.clk&&"image"==l.type)d.clk==l&&(n.push({name:a,value:j(l).val(),type:l.type}),n.push({name:a+".x",value:d.clk_x},{name:a+".y",value:d.clk_y}));else if((s=j.fieldValue(l,!0))&&s.constructor==Array)for(t&&t.push(l),o=0,c=s.length;o<c;o++)n.push({name:a,value:s[o]});else if(b.fileapi&&"file"==l.type){t&&t.push(l);var p=l.files;if(p.length)for(o=0;o<p.length;o++)n.push({name:a,value:p[o],type:l.type});else n.push({name:a,value:"",type:l.type})}else null!=s&&(t&&t.push(l),n.push({name:a,value:s,type:l.type,required:l.required}));if(!e&&d.clk){var g=j(d.clk),v=g[0];(a=v.name)&&!v.disabled&&"image"==v.type&&(n.push({name:a,value:g.val()}),n.push({name:a+".x",value:d.clk_x},{name:a+".y",value:d.clk_y}))}return n},j.fn.formSerialize=function(e){return j.param(this.formToArray(e))},j.fn.fieldSerialize=function(r){var o=[];return this.each(function(){var e=this.name;if(e){var t=j.fieldValue(this,r);if(t&&t.constructor==Array)for(var n=0,i=t.length;n<i;n++)o.push({name:e,value:t[n]});else null!=t&&o.push({name:this.name,value:t})}}),j.param(o)},j.fn.fieldValue=function(e){for(var t=[],n=0,i=this.length;n<i;n++){var r=this[n],o=j.fieldValue(r,e);null==o||o.constructor==Array&&!o.length||(o.constructor==Array?j.merge(t,o):t.push(o))}return t},j.fieldValue=function(e,t){var n=e.name,i=e.type,r=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!n||e.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!e.checked||("submit"==i||"image"==i)&&e.form&&e.form.clk!=e||"select"==r&&-1==e.selectedIndex))return null;if("select"!=r)return j(e).val();var o=e.selectedIndex;if(o<0)return null;for(var a=[],s=e.options,l="select-one"==i,u=l?o+1:s.length,c=l?o:0;c<u;c++){var d=s[c];if(d.selected){var h=d.value;if(h||(h=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),l)return h;a.push(h)}}return a},j.fn.clearForm=function(e){return this.each(function(){j("input,select,textarea",this).clearFields(e)})},j.fn.clearFields=j.fn.clearInputs=function(n){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();i.test(e)||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t?this.selectedIndex=-1:"file"==e?/MSIE/.test(navigator.userAgent)?j(this).replaceWith(j(this).clone(!0)):j(this).val(""):n&&(!0===n&&/hidden/.test(e)||"string"==typeof n&&j(this).is(n))&&(this.value="")})},j.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},j.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},j.fn.selected=function(n){return void 0===n&&(n=!0),this.each(function(){var e=this.type;if("checkbox"==e||"radio"==e)this.checked=n;else if("option"==this.tagName.toLowerCase()){var t=j(this).parent("select");n&&t[0]&&"select-one"==t[0].type&&t.find("option").selected(!1),this.selected=n}})},j.fn.ajaxSubmit.debug=!1}),function(u){u.extend(u.fn,{validate:function(e){if(this.length){var n=u.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new u.validator(e,this[0]),u.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){n.settings.submitHandler&&(n.submitButton=e.target),u(e.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==u(e.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function e(){var e;return!n.settings.submitHandler||(n.submitButton&&(e=u("<input type='hidden'/>").attr("name",n.submitButton.name).val(u(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&e.remove(),!1)}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,e()):n.form()?n.pendingRequest?!(n.formSubmitted=!0):e():(n.focusInvalid(),!1)})),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t;return u(this[0]).is("form")?e=this.validate().form():(e=!0,t=u(this[0].form).validate(),this.each(function(){e=t.element(this)&&e})),e},removeAttrs:function(e){var n={},i=this;return u.each(e.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(e,t){var n,i,r,o,a,s,l=this[0];if(e)switch(n=u.data(l.form,"validator").settings,i=n.rules,r=u.validator.staticRules(l),e){case"add":u.extend(r,u.validator.normalizeRule(t)),delete r.messages,i[l.name]=r,t.messages&&(n.messages[l.name]=u.extend(n.messages[l.name],t.messages));break;case"remove":return t?(s={},u.each(t.split(/\s/),function(e,t){s[t]=r[t],delete r[t],"required"===t&&u(l).removeAttr("aria-required")}),s):(delete i[l.name],r)}return(o=u.validator.normalizeRules(u.extend({},u.validator.classRules(l),u.validator.attributeRules(l),u.validator.dataRules(l),u.validator.staticRules(l)),l)).required&&(a=o.required,delete o.required,o=u.extend({required:a},o),u(l).attr("aria-required","true")),o.remote&&(a=o.remote,delete o.remote,o=u.extend(o,{remote:a})),o}}),u.extend(u.expr[":"],{blank:function(e){return!u.trim(""+u(e).val())},filled:function(e){return!!u.trim(""+u(e).val())},unchecked:function(e){return!u(e).prop("checked")}}),u.validator=function(e,t){this.settings=u.extend(!0,{},u.validator.defaults,e),this.currentForm=t,this.init()},u.validator.format=function(n,e){return 1===arguments.length?function(){var e=u.makeArray(arguments);return e.unshift(n),u.validator.format.apply(this,e)}:(2<arguments.length&&e.constructor!==Array&&(e=u.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),u.each(e,function(e,t){n=n.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})}),n)},u.extend(u.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:u([]),errorLabelContainer:u([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,n){"radio"===e.type?this.findByName(e.name).addClass(t).removeClass(n):u(e).addClass(t).removeClass(n)},unhighlight:function(e,t,n){"radio"===e.type?this.findByName(e.name).removeClass(t).addClass(n):u(e).removeClass(t).addClass(n)}},setDefaults:function(e){u.extend(u.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:u.validator.format("Please enter no more than {0} characters."),minlength:u.validator.format("Please enter at least {0} characters."),rangelength:u.validator.format("Please enter a value between {0} and {1} characters long."),range:u.validator.format("Please enter a value between {0} and {1}."),max:u.validator.format("Please enter a value less than or equal to {0}."),min:u.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t=u.data(this[0].form,"validator"),n="on"+e.type.replace(/^validate/,""),i=t.settings;i[n]&&!this.is(i.ignore)&&i[n].call(t,this[0],e)}this.labelContainer=u(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||u(this.currentForm),this.containers=u(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};u.each(this.settings.groups,function(n,e){"string"==typeof e&&(e=e.split(/\s/)),u.each(e,function(e,t){i[t]=n})}),n=this.settings.rules,u.each(n,function(e,t){n[e]=u.validator.normalizeRule(t)}),u(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&u(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),u(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),u.extend(this.submitted,this.errorMap),this.invalid=u.extend({},this.errorMap),this.valid()||u(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t=this.clean(e),n=this.validationTargetFor(t),i=!0;return void 0===(this.lastElement=n)?delete this.invalid[t.name]:(this.prepareElement(n),this.currentElements=u(n),(i=!1!==this.check(n))?delete this.invalid[n.name]:this.invalid[n.name]=!0),u(e).attr("aria-invalid",!i),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){for(var e in u.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[e],element:this.findByName(e)[0]});this.successList=u.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){u.fn.resetForm&&u(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)n++;return n},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{u(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===u.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var e=this,t={};return u(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in t||!e.objectLength(u(this).rules()))&&(t[this.name]=!0)})},clean:function(e){return u(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return u(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=u([]),this.toHide=u([]),this.currentElements=u([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t,n=u(e),i=n.attr("type");return"radio"===i||"checkbox"===i?u("input[name='"+n.attr("name")+"']:checked").val():"string"==typeof(t=n.val())?t.replace(/\r/g,""):t},check:function(e){e=this.validationTargetFor(this.clean(e));var t,n,i,r=u(e).rules(),o=u.map(r,function(e,t){return t}).length,a=!1,s=this.elementValue(e);for(n in r){i={method:n,parameters:r[n]};try{if("dependency-mismatch"===(t=u.validator.methods[n].call(this,s,e,i.parameters))&&1===o){a=!0;continue}if(a=!1,"pending"===t)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!t)return this.formatAndAdd(e,i),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+i.method+"' method.",t),t}}if(!a)return this.objectLength(r)&&this.successList.push(e),!0},customDataMessage:function(e,t){return u(e).data("msg"+t[0].toUpperCase()+t.substring(1).toLowerCase())||u(e).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||void 0,u.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t.method),i=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,t.parameters,e):i.test(n)&&(n=u.validator.format(n.replace(i,"{$1}"),t.parameters)),this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return u(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var n=this.errorsFor(e);n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),n.html(t)):(n=u("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(n=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(n).length||(this.settings.errorPlacement?this.settings.errorPlacement(n,u(e)):n.insertAfter(e))),!t&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n,e)),this.toShow=this.toShow.add(n)},errorsFor:function(e){var t=this.idOrName(e);return this.errors().filter(function(){return u(this).attr("for")===t})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return u(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return u("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!u(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!u.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(u(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(u(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return u.data(e,"previousValue")||u.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:u.extend(this.classRuleSettings,e)},classRules:function(e){var t={},n=u(e).attr("class");return n&&u.each(n.split(" "),function(){this in u.validator.classRuleSettings&&u.extend(t,u.validator.classRuleSettings[this])}),t},attributeRules:function(e){var t,n,i={},r=u(e),o=e.getAttribute("type");for(t in u.validator.methods)n="required"===t?(""===(n=e.getAttribute(t))&&(n=!0),!!n):r.attr(t),/min|max/.test(t)&&(null===o||/number|range|text/.test(o))&&(n=Number(n)),n||0===n?i[t]=n:o===t&&"range"!==o&&(i[t]=!0);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var t,n,i={},r=u(e);for(t in u.validator.methods)void 0!==(n=r.data("rule"+t[0].toUpperCase()+t.substring(1).toLowerCase()))&&(i[t]=n);return i},staticRules:function(e){var t={},n=u.data(e.form,"validator");return n.settings.rules&&(t=u.validator.normalizeRule(n.settings.rules[e.name])||{}),t},normalizeRules:function(i,r){return u.each(i,function(e,t){if(!1!==t){if(t.param||t.depends){var n=!0;switch(typeof t.depends){case"string":n=!!u(t.depends,r.form).length;break;case"function":n=t.depends.call(r,r)}n?i[e]=void 0===t.param||t.param:delete i[e]}}else delete i[e]}),u.each(i,function(e,t){i[e]=u.isFunction(t)?t(r):t}),u.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),u.each(["rangelength","range"],function(){var e;i[this]&&(u.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(e=i[this].split(/[\s,]+/),i[this]=[Number(e[0]),Number(e[1])]))}),u.validator.autoCreateRanges&&(i.min&&i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),i.minlength&&i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength)),i},normalizeRule:function(e){if("string"==typeof e){var t={};u.each(e.split(/\s/),function(){t[this]=!0}),e=t}return e},addMethod:function(e,t,n){u.validator.methods[e]=t,u.validator.messages[e]=void 0!==n?n:u.validator.messages[e],t.length<3&&u.validator.addClassRules(e,u.validator.normalizeRule(e))},methods:{required:function(e,t,n){if(!this.depend(n,t))return"dependency-mismatch";if("select"!==t.nodeName.toLowerCase())return this.checkable(t)?0<this.getLength(e,t):0<u.trim(e).length;var i=u(t).val();return i&&0<i.length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n,i,r=0,o=0,a=!1;if((e=e.replace(/\D/g,"")).length<13||19<e.length)return!1;for(n=e.length-1;0<=n;n--)i=e.charAt(n),o=parseInt(i,10),a&&9<(o*=2)&&(o-=9),r+=o,a=!a;return r%10==0},minlength:function(e,t,n){var i=u.isArray(e)?e.length:this.getLength(u.trim(e),t);return this.optional(t)||n<=i},maxlength:function(e,t,n){var i=u.isArray(e)?e.length:this.getLength(u.trim(e),t);return this.optional(t)||i<=n},rangelength:function(e,t,n){var i=u.isArray(e)?e.length:this.getLength(u.trim(e),t);return this.optional(t)||i>=n[0]&&i<=n[1]},min:function(e,t,n){return this.optional(t)||n<=e},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(e,t,n){var i=u(n);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){u(t).valid()}),e===i.val()},remote:function(o,a,e){if(this.optional(a))return"dependency-mismatch";var s,t,l=this.previousValue(a);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),l.originalMessage=this.settings.messages[a.name].remote,this.settings.messages[a.name].remote=l.message,e="string"==typeof e&&{url:e}||e,l.old===o?l.valid:(l.old=o,(s=this).startRequest(a),(t={})[a.name]=o,u.ajax(u.extend(!0,{url:e,mode:"abort",port:"validate"+a.name,dataType:"json",data:t,context:s.currentForm,success:function(e){var t,n,i,r=!0===e||"true"===e;s.settings.messages[a.name].remote=l.originalMessage,r?(i=s.formSubmitted,s.prepareElement(a),s.formSubmitted=i,s.successList.push(a),delete s.invalid[a.name],s.showErrors()):(t={},n=e||s.defaultMessage(a,"remote"),t[a.name]=l.message=u.isFunction(n)?n(o):n,s.invalid[a.name]=!0,s.showErrors(t)),l.valid=r,s.stopRequest(a,r)}},e)),"pending")}}}),u.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."}}(jQuery),function(i){var r,o={};i.ajaxPrefilter?i.ajaxPrefilter(function(e,t,n){var i=e.port;"abort"===e.mode&&(o[i]&&o[i].abort(),o[i]=n)}):(r=i.ajax,i.ajax=function(e){var t=("mode"in e?e:i.ajaxSettings).mode,n=("port"in e?e:i.ajaxSettings).port;return"abort"===t?(o[n]&&o[n].abort(),o[n]=r.apply(this,arguments),o[n]):r.apply(this,arguments)})}(jQuery),function(r){r.extend(r.fn,{validateDelegate:function(n,e,i){return this.bind(e,function(e){var t=r(e.target);return t.is(n)?i.apply(t,arguments):void 0})}})}(jQuery),function(l){l.validator.addMethod("mc_birthday",function(e,t,n){var i=!1,r=l("input:not(:hidden)",l(t).closest(n));if(0==r.filter(":filled").length&&this.optional(t))i=!0;else{var o=new Array;o.month=r.filter("input[name*='[month]']").val(),o.day=r.filter("input[name*='[day]']").val(),o.month=o.month-1;var a=new Date(1970,o.month,o.day);i=a.getDate()==o.day&&a.getMonth()==o.month}return i},"Please enter a valid month and day."),l.validator.addMethod("mc_date",function(e,t,n){var i=!1,r=l("input:not(:hidden)",l(t).closest(n));if(0==r.filter(":filled").length&&this.optional(t))i=!0;else{var o=new Array;o.month=r.filter("input[name*='[month]']").val(),o.day=r.filter("input[name*='[day]']").val(),o.year=r.filter("input[name*='[year]']").val(),o.month=o.month-1,o.year.length<4&&(o.year=parseInt(o.year)<50?2e3+parseInt(o.year):1900+parseInt(o.year));var a=new Date(o.year,o.month,o.day);i=a.getDate()==o.day&&a.getMonth()==o.month&&a.getFullYear()==o.year}return i},"Please enter a valid date"),l.validator.addMethod("mc_phone",function(e,t,n){var i=l("input:filled:not(:hidden)",l(t).closest(n));return!(0!=i.length||!this.optional(t))||10==(e=i.eq(0).val()+i.eq(1).val()+i.eq(2).val()).length&&e.match(/[0-9]{9}/)},"Please specify a valid phone number"),l.validator.addMethod("skip_or_complete_group",function(e,t,n){var i=l("input:not(:hidden)",l(t).closest(n)),r=i.eq(0),o=r.data("valid_skip")?r.data("valid_skip"):l.extend({},this),a=i.filter(function(){return o.elementValue(this)}).length,s=0===a||a===i.length;return r.data("valid_skip",o),l(t).data("being_validated")||(i.data("being_validated",!0),i.each(function(){o.element(this)}),i.data("being_validated",!1)),s},l.validator.format("Please supply missing fields.")),l.validator.addMethod("skip_or_fill_minimum",function(e,t,n){var i=l(n[1],t.form),r=i.eq(0),o=r.data("valid_skip")?r.data("valid_skip"):l.extend({},this),a=i.filter(function(){return o.elementValue(this)}).length,s=0===a||a>=n[0];return console.log(i.eq(0)),r.data("valid_skip",o),l(t).data("being_validated")||(i.data("being_validated",!0),i.each(function(){o.element(this)}),i.data("being_validated",!1)),s},l.validator.format("Please either skip these fields or fill at least {0} of them.")),l.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}-\d{4}$|^\d{5}$/.test(e)},"The specified US ZIP Code is invalid")}(jQuery),function(s){var e="";try{e=mc_custom_error_style}catch(t){e="#mc_embed_signup input.mce_inline_error { border-color:#6B0505; } #mc_embed_signup div.mce_inline_error { margin: 0 0 1em 0; padding: 5px 10px; background-color:#6B0505; font-weight: bold; z-index: 1; color:#fff; }"}var t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),window.mc={openPopup:function(){s("#mc_embed_signup a.mc_embed_close").show(),setTimeout(function(){s("#mc_embed_signup").fadeIn()},mc.delayPopup)},closePopup:function(){s("#mc_embed_signup").hide();var e=new Date,t=new Date(e.getTime()+31536e6);document.cookie="MCEvilPopupClosed=yes;expires="+t.toGMTString()+";path=/"},evalPopup:function(){for(s("#mc_embed_signup").hide(),cks=document.cookie.split(";"),i=0;i<cks.length;i++)parts=cks[i].split("="),-1!=parts[0].indexOf("MCEvilPopupClosed")&&(mc.showPopup=!1);mc.showPopup&&mc.openPopup()},getAjaxSubmitUrl:function(){var e=s("form#mc-embedded-subscribe-form").attr("action")||"";return(e=e.replace("/post?u=","/post-json?u="))+"&c=?"},getGroups:function(){var r={};return s(".mc-field-group").each(function(e){var t=s(this).find("input:text:not(:hidden)");if(1<t.length){var n=t.first().attr("name"),i=s.map(t,function(e){return e.name});r[n.substring(0,n.indexOf("["))]=i.join(" ")}}),r},isMultiPartField:function(e){return 1<s("input:not(:hidden)",s(e).closest(".mc-field-group")).length},isTooEarly:function(e){var t=s("input:not(:hidden)",s(e).closest(".mc-field-group"));return s(t).eq(-1).attr("id")!=s(e).attr("id")},mce_success_cb:function(e){if(s("#mce-success-response").hide(),s("#mce-error-response").hide(),"success"==e.result)s("#mce-"+e.result+"-response").show(),s("#mce-"+e.result+"-response").html(e.msg),s("#mc-embedded-subscribe-form").each(function(){this.reset()});else{var t,n=-1;try{var r=e.msg.split(" - ",2);t=null==r[1]?e.msg:(i=parseInt(r[0]),i.toString()==r[0]?(n=r[0],r[1]):(n=-1,e.msg))}catch(r){n=-1,t=e.msg}try{if(-1==n)s("#mce-"+e.result+"-response").show(),s("#mce-"+e.result+"-response").html(t);else{var o=s("input[name*='"+fnames[n]+"']").attr("name"),a={};a[o]=t,mc.mce_validator.showErrors(a)}}catch(r){s("#mce-"+e.result+"-response").show(),s("#mce-"+e.result+"-response").html(t)}}}},window.mc.mce_validator=s("#mc-embedded-subscribe-form").validate({errorClass:"mce_inline_error",errorElement:"div",onkeyup:!1,onfocusout:function(e){mc.isTooEarly(e)||s(e).valid()},onblur:function(e){mc.isTooEarly(e)||s(e).valid()},groups:mc.getGroups(),errorPlacement:function(e,t){t.closest(".mc-field-group").append(e)},submitHandler:function(e){s(e).ajaxSubmit(mc.ajaxOptions)}}),window.mc.ajaxOptions={url:mc.getAjaxSubmitUrl(),type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",success:mc.mce_success_cb},s.validator.addClassRules("birthday",{digits:!0,mc_birthday:".datefield"}),s.validator.addClassRules("datepart",{digits:!0,mc_date:".datefield"}),s.validator.addClassRules("phonepart",{digits:!0,mc_phone:".phonefield"}),s("#mc_embed_signup a.mc_embed_close").click(function(){mc.closePopup()}),s(document).keydown(function(e){keycode=null==e?event.keyCode:e.which,27==keycode&&void 0!==mc.showPopup&&mc.closePopup()})}(jQuery);