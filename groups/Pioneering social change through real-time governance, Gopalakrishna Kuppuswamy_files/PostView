function CSSUtilities(){}var Environment,PassleEnvironmentConfig,PassleFunctions,ClientWebFunctions,UserType,ExclusiveFeature,UserAction,AjaxFunctions,SessionStorage,Page,Component,PassleEvents,PassleGlobalEvents,EventTracking,ClientWebEvents,EmbeddedViewModalComponent,__extends,MessageModalType,MediaPlayer;(function(n){var t=function(){function n(){this.PassleWebRoot="www.passle.net";this.ClientWebAPIRoot="clientapi.passle.net";this.ClientWebSDKRoot="sdk.passle.net";this.FacebookAppId="467000850008038";this.GoogleAnalyticsId="UA-35515402-1"}return n}();n.Configuration=t})(Environment||(Environment={}));PassleEnvironmentConfig=new Environment.Configuration,function(n){function t(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t==null?"":decodeURIComponent(t[1].replace(/\+/g," "))}function i(n,t){var i,r,u,e,f;(t===void 0&&(t=!1),t||typeof history.pushState!="undefined")&&(i=document.location.href,r=document.location.hash,i.replace(r,""),u=i.split("?"),u.length!=1)&&(i=u[0]+"?",e=u[1].split("&"),$.each(e,function(t,r){var u=r.split("=");u[0]!=n&&(i+=r+"&")}),i=i.replace(/&$/,""),i=i.replace(/\?$/,""),r&&(i+=r),t?document.location.href=i:(f={Page:document.title,Url:i},window.history.replaceState(f,f.Page,f.Url)))}function r(n){return/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(n.toLowerCase())}function u(n,t,i){return n.indexOf("?")?n+"&"+t+"="+i:n+"?"+t+"="+i}function f(n){return n.toLowerCase().replace(/(^| )(\w)/g,function(n){return n.toUpperCase()})}function e(){return window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function o(n){n.style.height=n.contentWindow.document.body.scrollHeight+20+"px"}function s(n,t){return moment.utc(n).local().format(t)}function h(n,t,i){var r=moment(n,t);return r=moment.tz(r,moment.tz.guess()),r.utc().format(i)}function c(n){return n[0].toUpperCase()+n.toLowerCase().slice(1)}function l(n){return $("<div/>").html(n).text()}function a(){var n=window.navigator.userAgent.toLowerCase();return n.indexOf("safari")>-1&&n.indexOf("chrome")==-1}n.GetParameterByName=t;n.RemoveParameterByName=i;n.IsValidEmailAddress=r;n.AddParameterToUrl=u;n.CapitalizeString=f;n.UsingFirefox=e;n.ResizeIframe=o;n.ConvertUTCToLocalTime=s;n.ConvertLocalToUTCTime=h;n.CapitalizeFirstLetter=c;n.DecodeHtml=l;n.UsingSafari=a}(PassleFunctions||(PassleFunctions={}));$.ajaxSetup({cache:!1}),function(n){function t(n,t){var i=$("#"+n),r=parseInt(i.text(),10)+t;r>0?i.parent().addClass("has-number"):i.parent().removeClass("has-number");i.text(r<0?0:r)}function i(){var n=$(".localised-date").not(".localised");_.each(n,function(n){var t=$(n),i=t.attr("datetime"),r=t.attr("data-localtime-format"),u=$.localtime.toLocalTime(i,r);t.html(u).addClass("localised")})}n.UpdateCounter=t;n.LocaliseDates=i}(ClientWebFunctions||(ClientWebFunctions={})),function(){var n=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.PortholeClass=function(){};PortholeClass.extend=function(i){function u(){!n&&this.init&&this.init.apply(this,arguments)}var e=this.prototype,f,r;n=!0;f=new this;n=!1;for(r in i)f[r]=typeof i[r]=="function"&&typeof e[r]=="function"&&t.test(i[r])?function(n,t){return function(){var r=this._super,i;return this._super=e[n],i=t.apply(this,arguments),this._super=r,i}}(r,i[r]):i[r];return u.prototype=f,u.prototype.constructor=u,u.extend=arguments.callee,u}}(),function(n){var t={debug:!1,trace:function(t){this.debug&&n.console!==undefined&&n.console.log("Porthole: "+t)},error:function(t){n.console!==undefined&&n.console.error("Porthole: "+t)}};t.WindowProxy=function(){};t.WindowProxy.prototype={post:function(){},addEventListener:function(){},removeEventListener:function(){}};t.WindowProxyBase=PortholeClass.extend({init:function(t){t===undefined&&(t="");this.targetWindowName=t;this.origin=n.location.protocol+"//"+n.location.host;this.eventListeners=[]},getTargetWindowName:function(){return this.targetWindowName},getOrigin:function(){return this.origin},getTargetWindow:function(){return t.WindowProxy.getTargetWindow(this.targetWindowName)},post:function(t,i){i===undefined&&(i="*");this.dispatchMessage({data:t,sourceOrigin:this.getOrigin(),targetOrigin:i,sourceWindowName:n.name,targetWindowName:this.getTargetWindowName()})},addEventListener:function(n){return this.eventListeners.push(n),n},removeEventListener:function(n){var t;try{t=this.eventListeners.indexOf(n);this.eventListeners.splice(t,1)}catch(i){this.eventListeners=[]}},dispatchEvent:function(n){for(var t=0;t<this.eventListeners.length;t++)try{this.eventListeners[t](n)}catch(i){}}});t.WindowProxyLegacy=t.WindowProxyBase.extend({init:function(n,i){this._super(i);n!==null?(this.proxyIFrameName=this.targetWindowName+"ProxyIFrame",this.proxyIFrameLocation=n,this.proxyIFrameElement=this.createIFrameProxy()):(this.proxyIFrameElement=null,t.trace("proxyIFrameUrl is null, window will be a receiver only"),this.post=function(){throw new Error("Receiver only window");})},createIFrameProxy:function(){var n=document.createElement("iframe");return n.setAttribute("id",this.proxyIFrameName),n.setAttribute("name",this.proxyIFrameName),n.setAttribute("src",this.proxyIFrameLocation),n.setAttribute("frameBorder","1"),n.setAttribute("scrolling","auto"),n.setAttribute("width",30),n.setAttribute("height",30),n.setAttribute("style","position: absolute; left: -100px; top:0px;"),n.style.setAttribute&&n.style.setAttribute("cssText","position: absolute; left: -100px; top:0px;"),document.body.appendChild(n),n},dispatchMessage:function(i){var u=n.encodeURIComponent,r;this.proxyIFrameElement&&(r=this.proxyIFrameLocation+"#"+u(t.WindowProxy.serialize(i)),this.proxyIFrameElement.setAttribute("src",r),this.proxyIFrameElement.height=this.proxyIFrameElement.height>50?50:100)}});t.WindowProxyHTML5=t.WindowProxyBase.extend({init:function(n,t){this._super(t);this.eventListenerCallback=null},dispatchMessage:function(n){this.getTargetWindow().postMessage(t.WindowProxy.serialize(n),n.targetOrigin)},addEventListener:function(t){if(this.eventListeners.length===0){var i=this;n.addEventListener?(this.eventListenerCallback=function(n){i.eventListener(i,n)},n.addEventListener("message",this.eventListenerCallback,!1)):n.attachEvent&&(this.eventListenerCallback=function(){i.eventListener(i,n.event)},n.attachEvent("onmessage",this.eventListenerCallback))}return this._super(t)},removeEventListener:function(t){this._super(t);this.eventListeners.length===0&&(n.removeEventListener?n.removeEventListener("message",this.eventListenerCallback):n.detachEvent&&(typeof n.onmessage=="undefined"&&(n.onmessage=null),n.detachEvent("onmessage",this.eventListenerCallback)),this.eventListenerCallback=null)},eventListener:function(n,i){var r=t.WindowProxy.unserialize(i.data);r&&(n.targetWindowName===""||r.sourceWindowName==n.targetWindowName)&&n.dispatchEvent(new t.MessageEvent(r.data,i.origin,n))}});n.postMessage?(t.trace("Using built-in browser support"),t.WindowProxy=t.WindowProxyHTML5.extend({})):(t.trace("Using legacy browser support"),t.WindowProxy=t.WindowProxyLegacy.extend({}));t.WindowProxy.serialize=function(n){if(typeof JSON=="undefined")throw new Error("Porthole serialization depends on JSON!");return JSON.stringify(n)};t.WindowProxy.unserialize=function(n){if(typeof JSON=="undefined")throw new Error("Porthole unserialization dependens on JSON!");try{var t=JSON.parse(n)}catch(i){return!1}return t};t.WindowProxy.getTargetWindow=function(t){return t===""?parent:t==="top"||t==="parent"?n[t]:n.frames[t]};t.MessageEvent=function(n,t,i){this.data=n;this.origin=t;this.source=i};t.WindowProxyDispatcher={forwardMessageEvent:function(){var i,f=n.decodeURIComponent,u,r;document.location.hash.length>0&&(i=t.WindowProxy.unserialize(f(document.location.hash.substr(1))),u=t.WindowProxy.getTargetWindow(i.targetWindowName),r=t.WindowProxyDispatcher.findWindowProxyObjectInWindow(u,i.sourceWindowName),r?r.origin===i.targetOrigin||i.targetOrigin==="*"?r.dispatchEvent(new t.MessageEvent(i.data,i.sourceOrigin,r)):t.error("Target origin "+r.origin+" does not match desired target of "+i.targetOrigin):t.error("Could not find window proxy object on the target window"))},findWindowProxyObjectInWindow:function(n,t){var i;if(n)for(i in n)if(Object.prototype.hasOwnProperty.call(n,i))try{if(n[i]!==null&&typeof n[i]=="object"&&n[i]instanceof n.Porthole.WindowProxy&&n[i].getTargetWindowName()===t)return n[i]}catch(r){}return null},start:function(){n.addEventListener?n.addEventListener("resize",t.WindowProxyDispatcher.forwardMessageEvent,!1):n.attachEvent&&n.postMessage!=="undefined"?n.attachEvent("onresize",t.WindowProxyDispatcher.forwardMessageEvent):document.body.attachEvent?n.attachEvent("onresize",t.WindowProxyDispatcher.forwardMessageEvent):t.error("Cannot attach resize event")}};typeof n.exports!="undefined"?n.exports.Porthole=t:n.Porthole=t}(this),function(){function g(t){function r(n,i,r,u,f,e){for(;f>=0&&e>f;f+=t){var o=u?u[f]:f;r=i(r,n[o],o,n)}return r}return function(u,e,o,s){e=f(e,s,4);var h=!i(u)&&n.keys(u),l=(h||u).length,c=t>0?0:l-1;return arguments.length<3&&(o=u[h?h[c]:c],c+=t),r(u,e,o,h,c,l)}}function nt(n){return function(i,r,u){r=t(r,u);for(var e=null!=i&&i.length,f=n>0?0:e-1;f>=0&&e>f;f+=n)if(r(i[f],f,i))return f;return-1}}function tt(t,i){var u=k.length,f=t.constructor,e=n.isFunction(f)&&f.prototype||a,r="constructor";for(n.has(t,r)&&!n.contains(i,r)&&i.push(r);u--;)r=k[u],r in t&&t[r]!==e[r]&&!n.contains(i,r)&&i.push(r)}var l=this,ot=l._,o=Array.prototype,a=Object.prototype,st=Function.prototype,ht=o.push,r=o.slice,e=a.toString,ct=a.hasOwnProperty,lt=Array.isArray,it=Object.keys,v=st.bind,rt=Object.create,y=function(){},n=function(t){return t instanceof n?t:this instanceof n?void(this._wrapped=t):new n(t)},f,t,s,u,w,b,k,h,et,c;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports._=n):l._=n;n.VERSION="1.8.2";f=function(n,t,i){if(t===void 0)return n;switch(null==i?3:i){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)};case 4:return function(i,r,u,f){return n.call(t,i,r,u,f)}}return function(){return n.apply(t,arguments)}};t=function(t,i,r){return null==t?n.identity:n.isFunction(t)?f(t,i,r):n.isObject(t)?n.matcher(t):n.property(t)};n.iteratee=function(n,i){return t(n,i,1/0)};var p=function(n,t){return function(i){var e=arguments.length,r,u;if(2>e||null==i)return i;for(r=1;e>r;r++)for(var o=arguments[r],s=n(o),h=s.length,f=0;h>f;f++)u=s[f],t&&i[u]!==void 0||(i[u]=o[u]);return i}},at=function(t){if(!n.isObject(t))return{};if(rt)return rt(t);y.prototype=t;var i=new y;return y.prototype=null,i},vt=Math.pow(2,53)-1,i=function(n){var t=n&&n.length;return"number"==typeof t&&t>=0&&vt>=t};n.each=n.forEach=function(t,r,u){var e,o,s;if(r=f(r,u),i(t))for(e=0,o=t.length;o>e;e++)r(t[e],e,t);else for(s=n.keys(t),e=0,o=s.length;o>e;e++)r(t[s[e]],s[e],t);return t};n.map=n.collect=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,c=Array(h),e=0;h>e;e++)s=o?o[e]:e,c[e]=u(r[s],s,r);return c};n.reduce=n.foldl=n.inject=g(1);n.reduceRight=n.foldr=g(-1);n.find=n.detect=function(t,r,u){var f;return f=i(t)?n.findIndex(t,r,u):n.findKey(t,r,u),f!==void 0&&f!==-1?t[f]:void 0};n.filter=n.select=function(i,r,u){var f=[];return r=t(r,u),n.each(i,function(n,t,i){r(n,t,i)&&f.push(n)}),f};n.reject=function(i,r,u){return n.filter(i,n.negate(t(r)),u)};n.every=n.all=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,e=0;h>e;e++)if(s=o?o[e]:e,!u(r[s],s,r))return!1;return!0};n.some=n.any=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,e=0;h>e;e++)if(s=o?o[e]:e,u(r[s],s,r))return!0;return!1};n.contains=n.includes=n.include=function(t,r,u){return i(t)||(t=n.values(t)),n.indexOf(t,r,"number"==typeof u&&u)>=0};n.invoke=function(t,i){var u=r.call(arguments,2),f=n.isFunction(i);return n.map(t,function(n){var t=f?i:n[i];return null==t?t:t.apply(n,u)})};n.pluck=function(t,i){return n.map(t,n.property(i))};n.where=function(t,i){return n.filter(t,n.matcher(i))};n.findWhere=function(t,i){return n.find(t,n.matcher(i))};n.max=function(r,u,f){var h,o,e=-1/0,c=-1/0,s,l;if(null==u&&null!=r)for(r=i(r)?r:n.values(r),s=0,l=r.length;l>s;s++)h=r[s],h>e&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(o>c||o===-1/0&&e===-1/0)&&(e=n,c=o)});return e};n.min=function(r,u,f){var h,o,e=1/0,c=1/0,s,l;if(null==u&&null!=r)for(r=i(r)?r:n.values(r),s=0,l=r.length;l>s;s++)h=r[s],e>h&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(c>o||1/0===o&&1/0===e)&&(e=n,c=o)});return e};n.shuffle=function(t){for(var u,e=i(t)?t:n.values(t),o=e.length,f=Array(o),r=0;o>r;r++)u=n.random(0,r),u!==r&&(f[r]=f[u]),f[u]=e[r];return f};n.sample=function(t,r,u){return null==r||u?(i(t)||(t=n.values(t)),t[n.random(t.length-1)]):n.shuffle(t).slice(0,Math.max(0,r))};n.sortBy=function(i,r,u){return r=t(r,u),n.pluck(n.map(i,function(n,t,i){return{value:n,index:t,criteria:r(n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(r>i||r===void 0)return-1}return n.index-t.index}),"value")};s=function(i){return function(r,u,f){var e={};return u=t(u,f),n.each(r,function(n,t){var f=u(n,t,r);i(e,n,f)}),e}};n.groupBy=s(function(t,i,r){n.has(t,r)?t[r].push(i):t[r]=[i]});n.indexBy=s(function(n,t,i){n[i]=t});n.countBy=s(function(t,i,r){n.has(t,r)?t[r]++:t[r]=1});n.toArray=function(t){return t?n.isArray(t)?r.call(t):i(t)?n.map(t,n.identity):n.values(t):[]};n.size=function(t){return null==t?0:i(t)?t.length:n.keys(t).length};n.partition=function(i,r,u){r=t(r,u);var f=[],e=[];return n.each(i,function(n,t,i){(r(n,t,i)?f:e).push(n)}),[f,e]};n.first=n.head=n.take=function(t,i,r){if(null!=t)return null==i||r?t[0]:n.initial(t,t.length-i)};n.initial=function(n,t,i){return r.call(n,0,Math.max(0,n.length-(null==t||i?1:t)))};n.last=function(t,i,r){if(null!=t)return null==i||r?t[t.length-1]:n.rest(t,Math.max(0,t.length-i))};n.rest=n.tail=n.drop=function(n,t,i){return r.call(n,null==t||i?1:t)};n.compact=function(t){return n.filter(t,n.identity)};u=function(t,r,f,e){for(var o,c,l,s=[],a=0,h=e||0,v=t&&t.length;v>h;h++)if(o=t[h],i(o)&&(n.isArray(o)||n.isArguments(o)))for(r||(o=u(o,r,f)),c=0,l=o.length,s.length+=l;l>c;)s[a++]=o[c++];else f||(s[a++]=o);return s};n.flatten=function(n,t){return u(n,t,!1)};n.without=function(t){return n.difference(t,r.call(arguments,1))};n.uniq=n.unique=function(i,r,u,f){var e,h;if(null==i)return[];n.isBoolean(r)||(f=u,u=r,r=!1);null!=u&&(u=t(u,f));for(var o=[],c=[],s=0,l=i.length;l>s;s++)e=i[s],h=u?u(e,s,i):e,r?(s&&c===h||o.push(e),c=h):u?n.contains(c,h)||(c.push(h),o.push(e)):n.contains(o,e)||o.push(e);return o};n.union=function(){return n.uniq(u(arguments,!0,!0))};n.intersection=function(t){var r,i;if(null==t)return[];for(var u=[],e=arguments.length,f=0,o=t.length;o>f;f++)if(r=t[f],!n.contains(u,r)){for(i=1;e>i&&n.contains(arguments[i],r);i++);i===e&&u.push(r)}return u};n.difference=function(t){var i=u(arguments,!0,!0,1);return n.filter(t,function(t){return!n.contains(i,t)})};n.zip=function(){return n.unzip(arguments)};n.unzip=function(t){for(var r=t&&n.max(t,"length").length||0,u=Array(r),i=0;r>i;i++)u[i]=n.pluck(t,i);return u};n.object=function(n,t){for(var r={},i=0,u=n&&n.length;u>i;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r};n.indexOf=function(t,i,u){var f=0,e=t&&t.length;if("number"==typeof u)f=0>u?Math.max(0,e+u):u;else if(u&&e)return f=n.sortedIndex(t,i),t[f]===i?f:-1;if(i!==i)return n.findIndex(r.call(t,f),n.isNaN);for(;e>f;f++)if(t[f]===i)return f;return-1};n.lastIndexOf=function(t,i,u){var f=t?t.length:0;if("number"==typeof u&&(f=0>u?f+u+1:Math.min(f,u+1)),i!==i)return n.findLastIndex(r.call(t,0,f),n.isNaN);for(;--f>=0;)if(t[f]===i)return f;return-1};n.findIndex=nt(1);n.findLastIndex=nt(-1);n.sortedIndex=function(n,i,r,u){var e;r=t(r,u,1);for(var s=r(i),f=0,o=n.length;o>f;)e=Math.floor((f+o)/2),r(n[e])<s?f=e+1:o=e;return f};n.range=function(n,t,i){arguments.length<=1&&(t=n||0,n=0);i=i||1;for(var u=Math.max(Math.ceil((t-n)/i),0),f=Array(u),r=0;u>r;r++,n+=i)f[r]=n;return f};w=function(t,i,r,u,f){if(!(u instanceof i))return t.apply(r,f);var e=at(t.prototype),o=t.apply(e,f);return n.isObject(o)?o:e};n.bind=function(t,i){if(v&&t.bind===v)return v.apply(t,r.call(arguments,1));if(!n.isFunction(t))throw new TypeError("Bind must be called on a function");var f=r.call(arguments,2),u=function(){return w(t,u,i,this,f.concat(r.call(arguments)))};return u};n.partial=function(t){var i=r.call(arguments,1),u=function(){for(var f=0,o=i.length,e=Array(o),r=0;o>r;r++)e[r]=i[r]===n?arguments[f++]:i[r];for(;f<arguments.length;)e.push(arguments[f++]);return w(t,u,this,this,e)};return u};n.bindAll=function(t){var i,r,u=arguments.length;if(1>=u)throw new Error("bindAll must be passed function names");for(i=1;u>i;i++)r=arguments[i],t[r]=n.bind(t[r],t);return t};n.memoize=function(t,i){var r=function(u){var f=r.cache,e=""+(i?i.apply(this,arguments):u);return n.has(f,e)||(f[e]=t.apply(this,arguments)),f[e]};return r.cache={},r};n.delay=function(n,t){var i=r.call(arguments,2);return setTimeout(function(){return n.apply(null,i)},t)};n.defer=n.partial(n.delay,n,1);n.throttle=function(t,i,r){var f,e,s,u=null,o=0,h;return r||(r={}),h=function(){o=r.leading===!1?0:n.now();u=null;s=t.apply(f,e);u||(f=e=null)},function(){var l=n.now(),c;return o||r.leading!==!1||(o=l),c=i-(l-o),f=this,e=arguments,0>=c||c>i?(u&&(clearTimeout(u),u=null),o=l,s=t.apply(f,e),u||(f=e=null)):u||r.trailing===!1||(u=setTimeout(h,c)),s}};n.debounce=function(t,i,r){var u,f,e,s,o,h=function(){var c=n.now()-s;i>c&&c>=0?u=setTimeout(h,i-c):(u=null,r||(o=t.apply(e,f),u||(e=f=null)))};return function(){e=this;f=arguments;s=n.now();var c=r&&!u;return u||(u=setTimeout(h,i)),c&&(o=t.apply(e,f),e=f=null),o}};n.wrap=function(t,i){return n.partial(i,t)};n.negate=function(n){return function(){return!n.apply(this,arguments)}};n.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,i=n[t].apply(this,arguments);r--;)i=n[r].call(this,i);return i}};n.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}};n.before=function(n,t){var i;return function(){return--n>0&&(i=t.apply(this,arguments)),1>=n&&(t=null),i}};n.once=n.partial(n.before,2);b=!{toString:null}.propertyIsEnumerable("toString");k=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];n.keys=function(t){var i,r;if(!n.isObject(t))return[];if(it)return it(t);i=[];for(r in t)n.has(t,r)&&i.push(r);return b&&tt(t,i),i};n.allKeys=function(t){var i,r;if(!n.isObject(t))return[];i=[];for(r in t)i.push(r);return b&&tt(t,i),i};n.values=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;u>i;i++)f[i]=t[r[i]];return f};n.mapObject=function(i,r,u){r=t(r,u);for(var f,o=n.keys(i),h=o.length,s={},e=0;h>e;e++)f=o[e],s[f]=r(i[f],f,i);return s};n.pairs=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;u>i;i++)f[i]=[r[i],t[r[i]]];return f};n.invert=function(t){for(var u={},r=n.keys(t),i=0,f=r.length;f>i;i++)u[t[r[i]]]=r[i];return u};n.functions=n.methods=function(t){var r=[],i;for(i in t)n.isFunction(t[i])&&r.push(i);return r.sort()};n.extend=p(n.allKeys);n.extendOwn=n.assign=p(n.keys);n.findKey=function(i,r,u){r=t(r,u);for(var f,o=n.keys(i),e=0,s=o.length;s>e;e++)if(f=o[e],r(i[f],f,i))return f};n.pick=function(t,i,r){var c,o,l={},e=t,s,v,h,a;if(null==e)return l;for(n.isFunction(i)?(o=n.allKeys(e),c=f(i,r)):(o=u(arguments,!1,!1,1),c=function(n,t,i){return t in i},e=Object(e)),s=0,v=o.length;v>s;s++)h=o[s],a=e[h],c(a,h,e)&&(l[h]=a);return l};n.omit=function(t,i,r){if(n.isFunction(i))i=n.negate(i);else{var f=n.map(u(arguments,!1,!1,1),String);i=function(t,i){return!n.contains(f,i)}}return n.pick(t,i,r)};n.defaults=p(n.allKeys,!0);n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t};n.tap=function(n,t){return t(n),n};n.isMatch=function(t,i){var e=n.keys(i),o=e.length,f,r,u;if(null==t)return!o;for(f=Object(t),r=0;o>r;r++)if(u=e[r],i[u]!==f[u]||!(u in f))return!1;return!0};h=function(t,i,r,u){var c,a,o,s,f,l,v;if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),c=e.call(t),c!==e.call(i))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+t==""+i;case"[object Number]":return+t!=+t?+i!=+i:0==+t?1/+t==1/i:+t==+i;case"[object Date]":case"[object Boolean]":return+t==+i}if(a="[object Array]"===c,!a&&("object"!=typeof t||"object"!=typeof i||(o=t.constructor,s=i.constructor,o!==s&&!(n.isFunction(o)&&o instanceof o&&n.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in i)))return!1;for(r=r||[],u=u||[],f=r.length;f--;)if(r[f]===t)return u[f]===i;if(r.push(t),u.push(i),a){if(f=t.length,f!==i.length)return!1;for(;f--;)if(!h(t[f],i[f],r,u))return!1}else{if(v=n.keys(t),f=v.length,n.keys(i).length!==f)return!1;for(;f--;)if(l=v[f],!n.has(i,l)||!h(t[l],i[l],r,u))return!1}return r.pop(),u.pop(),!0};n.isEqual=function(n,t){return h(n,t)};n.isEmpty=function(t){return null==t?!0:i(t)&&(n.isArray(t)||n.isString(t)||n.isArguments(t))?0===t.length:0===n.keys(t).length};n.isElement=function(n){return!(!n||1!==n.nodeType)};n.isArray=lt||function(n){return"[object Array]"===e.call(n)};n.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n};n.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){n["is"+t]=function(n){return e.call(n)==="[object "+t+"]"}});n.isArguments(arguments)||(n.isArguments=function(t){return n.has(t,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(n.isFunction=function(n){return"function"==typeof n||!1});n.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};n.isNaN=function(t){return n.isNumber(t)&&t!==+t};n.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===e.call(n)};n.isNull=function(n){return null===n};n.isUndefined=function(n){return n===void 0};n.has=function(n,t){return null!=n&&ct.call(n,t)};n.noConflict=function(){return l._=ot,this};n.identity=function(n){return n};n.constant=function(n){return function(){return n}};n.noop=function(){};n.property=function(n){return function(t){if(null!=t)return t[n]}};n.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}};n.matcher=n.matches=function(t){return t=n.extendOwn({},t),function(i){return n.isMatch(i,t)}};n.times=function(n,t,i){var u=Array(Math.max(0,n)),r;for(t=f(t,i,1),r=0;n>r;r++)u[r]=t(r);return u};n.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};n.now=Date.now||function(){return(new Date).getTime()};var ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},yt=n.invert(ut),ft=function(t){var r=function(n){return t[n]},i="(?:"+n.keys(t).join("|")+")",u=RegExp(i),f=RegExp(i,"g");return function(n){return n=null==n?"":""+n,u.test(n)?n.replace(f,r):n}};n.escape=ft(ut);n.unescape=ft(yt);n.result=function(t,i,r){var u=null==t?void 0:t[i];return u===void 0&&(u=r),n.isFunction(u)?u.call(t):u};et=0;n.uniqueId=function(n){var t=++et+"";return n?n+t:t};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var d=/(.)^/,pt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},wt=/\\|'|\r|\n|\u2028|\u2029/g,bt=function(n){return"\\"+pt[n]};n.template=function(t,i,r){var o,f,h;!i&&r&&(i=r);i=n.defaults({},i,n.templateSettings);var c=RegExp([(i.escape||d).source,(i.interpolate||d).source,(i.evaluate||d).source].join("|")+"|$","g"),e=0,u="__p+='";t.replace(c,function(n,i,r,f,o){return u+=t.slice(e,o).replace(wt,bt),e=o+n.length,i?u+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":f&&(u+="';\n"+f+"\n__p+='"),n});u+="';\n";i.variable||(u="with(obj||{}){\n"+u+"}\n");u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{o=new Function(i.variable||"obj","_",u)}catch(s){throw s.source=u,s;}return f=function(t){return o.call(this,t,n)},h=i.variable||"obj",f.source="function("+h+"){\n"+u+"}",f};n.chain=function(t){var i=n(t);return i._chain=!0,i};c=function(t,i){return t._chain?n(i).chain():i};n.mixin=function(t){n.each(n.functions(t),function(i){var r=n[i]=t[i];n.prototype[i]=function(){var t=[this._wrapped];return ht.apply(t,arguments),c(this,r.apply(n,t))}})};n.mixin(n);n.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=o[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],c(this,n)}});n.each(["concat","join","slice"],function(t){var i=o[t];n.prototype[t]=function(){return c(this,i.apply(this._wrapped,arguments))}});n.prototype.value=function(){return this._wrapped};n.prototype.valueOf=n.prototype.toJSON=n.prototype.value;n.prototype.toString=function(){return""+this._wrapped};"function"==typeof define&&define.amd&&define("underscore",[],function(){return n})}.call(this);!function(n,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Spinner=t()}(this,function(){"use strict";function i(n,t){var i,r=document.createElement(n||"div");for(i in t)r[i]=t[i];return r}function t(n){for(var t=1,i=arguments.length;i>t;t++)n.appendChild(arguments[t]);return n}function a(n,t,i,r){var f=["opacity",t,~~(100*n),i,r].join("-"),e=.01+i/r*100,s=Math.max(1-(1-n)/t*(100-e),n),h=u.substring(0,u.indexOf("Animation")).toLowerCase(),c=h&&"-"+h+"-"||"";return l[f]||(o.insertRule("@"+c+"keyframes "+f+"{0%{opacity:"+s+"}"+e+"%{opacity:"+n+"}"+(e+.01)+"%{opacity:1}"+(e+t)%100+"%{opacity:"+n+"}100%{opacity:"+s+"}}",o.cssRules.length),l[f]=1),f}function e(n,t){var r,i,u=n.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<c.length;i++)if(r=c[i]+t,void 0!==u[r])return r;if(void 0!==u[t])return t}function n(n,t){for(var i in t)n.style[e(n,i)||i]=t[i];return n}function s(n){for(var r,i,t=1;t<arguments.length;t++){r=arguments[t];for(i in r)void 0===n[i]&&(n[i]=r[i])}return n}function h(n,t){return"string"==typeof n?n:n[t%n.length]}function r(n){this.opts=s(n||{},r.defaults,y)}function v(){function u(n,t){return i("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}o.addRule(".spin-vml","behavior:url(#default#VML)");r.prototype.lines=function(i,r){function s(){return n(u("group",{coordsize:o+" "+o,coordorigin:-e+" "+-e}),{width:o,height:o})}function c(i,f,o){t(a,t(n(s(),{rotation:360/r.lines*i+"deg",left:~~f}),t(n(u("roundrect",{arcsize:r.corners}),{width:e,height:r.width,left:r.radius,top:-r.width>>1,filter:o}),u("fill",{color:h(r.color,i),opacity:r.opacity}),u("stroke",{opacity:0}))))}var f,e=r.length+r.width,o=2*e,l=2*-(r.width+r.length)+"px",a=n(s(),{position:"absolute",top:l,left:l});if(r.shadow)for(f=1;f<=r.lines;f++)c(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=r.lines;f++)c(f);return t(i,a)};r.prototype.opacity=function(n,t,i,r){var u=n.firstChild;r=r.shadow&&r.lines||0;u&&t+r<u.childNodes.length&&(u=u.childNodes[t+r],u=u&&u.firstChild,u=u&&u.firstChild,u&&(u.opacity=i))}}var u,c=["webkit","Moz","ms","O"],l={},o=function(){var n=i("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),y={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"},f;return r.defaults={},s(r.prototype,{spin:function(t){this.stop();var f=this,r=f.opts,e=f.el=n(i(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex});if(r.radius+r.length+r.width,n(e,{left:r.left,top:r.top}),t&&t.insertBefore(e,t.firstChild||null),e.setAttribute("role","progressbar"),f.lines(e,f.opts),!u){var s,h=0,l=(r.lines-1)*(1-r.direction)/2,c=r.fps,o=c/r.speed,a=(1-r.opacity)/(o*r.trail/100),v=o/r.lines;!function y(){h++;for(var n=0;n<r.lines;n++)s=Math.max(1-(h+(r.lines-n)*v)%o*a,r.opacity),f.opacity(e,n*r.direction+l,s,r);f.timeout=f.el&&setTimeout(y,~~(1e3/c))}()}return f},stop:function(){var n=this.el;return n&&(clearTimeout(this.timeout),n.parentNode&&n.parentNode.removeChild(n),this.el=void 0),this},lines:function(r,f){function s(t,r){return n(i(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:t,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*e+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var o,e=0,c=(f.lines-1)*(1-f.direction)/2;e<f.lines;e++)o=n(i(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:u&&a(f.opacity,f.trail,c+e*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&t(o,n(s("#000","0 0 4px #000"),{top:"2px"})),t(r,t(o,s(h(f.color,e),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(n,t,i){t<n.childNodes.length&&(n.childNodes[t].style.opacity=i)}}),f=n(i("group"),{behavior:"url(#default#VML)"}),!e(f,"transform")&&f.adj?v():u=e(f,"animation"),r}),function(n){if(typeof exports=="object")n(require("jquery"),require("spin"));else if(typeof define=="function"&&define.amd)define(["jquery","spin"],n);else{if(!window.Spinner)throw new Error("Spin.js not present");n(window.jQuery,window.Spinner)}}(function(n,t){n.fn.spin=function(i,r){return this.each(function(){var f=n(this),u=f.data();u.spinner&&(u.spinner.stop(),delete u.spinner);i!==!1&&(i=n.extend({color:r||f.css("color")},n.fn.spin.presets[i]||i),u.spinner=new t(i).spin(this))})};n.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}});!function(n,t,i){function f(t,i){this.$element=n(t);("string"===n.type(i.delay)||"number"===n.type(i.delay))&&(i.delay={show:i.delay,hide:i.delay});this.options=n.extend({},o,i);this._defaults=o;this._name=r;this._targetclick=!1;this.init()}var r="webuiPopover",u="webui-popover",e="webui.popover",o={placement:"auto",width:"auto",height:"auto",trigger:"click",style:"",delay:{show:null,hide:null},async:{before:null,success:null},cache:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",constrains:null,animation:null,template:'<div class="webui-popover"><div class="arrow"><\/div><div class="webui-popover-inner"><a href="#" class="close">x<\/a><h3 class="webui-popover-title"><\/h3><div class="webui-popover-content"><i class="fa fa-refresh"><\/i> <p>&nbsp;<\/p><\/div><\/div><\/div>'};f.prototype={init:function(){"click"===this.options.trigger?this.$element.off("click").on("click",n.proxy(this.toggle,this)):this.$element.off("mouseenter mouseleave").on("mouseenter",n.proxy(this.mouseenterHandler,this)).on("mouseleave",n.proxy(this.mouseleaveHandler,this));this._poped=!1;this._inited=!0},destroy:function(){this.hide();this.$element.data("plugin_"+r,null);this.$element.off("click"===this.options.trigger?"click":"mouseenter mouseleave");this.$target&&this.$target.remove()},hide:function(t){t&&(t.preventDefault(),t.stopPropagation());this.xhr&&(this.xhr.abort(),this.xhr=null);var i=n.Event("hide."+e);this.$element.trigger(i);this.$target&&this.$target.removeClass("in").hide();this.$element.trigger("hidden."+e)},toggle:function(n){n&&(n.preventDefault(),n.stopPropagation());this[this.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){n("div.webui-popover").not(".webui-popover-fixed").removeClass("in").hide()},show:function(){var n=this.getTarget().removeClass().addClass(u);if(this.options.multi||this.hideAll(),!this.options.cache||!this._poped){if(this.content="",this.setTitle(this.getTitle()),this.options.closeable||n.find(".close").off("click").remove(),this.isAsync())return this.setContentASync(this.options.content),void this.displayContent();this.setContent(this.getContent());n.show()}this.displayContent();this.bindBodyEvents()},displayContent:function(){var c=this.getElementPosition(),t=this.getTarget().removeClass().addClass(u),f=this.getContentElement(),l=t[0].offsetWidth,a=t[0].offsetHeight,o="bottom",v=n.Event("show."+e),r,s,h;this.$element.trigger(v);"auto"!==this.options.width&&t.width(this.options.width);"auto"!==this.options.height&&f.height(this.options.height);this.options.arrow||t.find(".arrow").remove();t.remove().css({top:-1e3,left:-1e3,display:"block"});this.getAnimation()&&t.addClass(this.getAnimation());t.appendTo(i.body);l=t[0].offsetWidth;a=t[0].offsetHeight;o=this.getPlacement(c);this.initTargetEvents();r=this.getTargetPositin(c,o,l,a);(this.$target.css(r.position).addClass(o).addClass("in"),"iframe"===this.options.type)&&(s=t.find("iframe"),s.width(t.width()).height(s.parent().height()));(this.options.style&&this.$target.addClass(u+"-"+this.options.style),this.options.padding||(f.css("height",f.outerHeight()),this.$target.addClass("webui-no-padding")),this.options.arrow||this.$target.css({margin:0}),this.options.arrow)&&(h=this.$target.find(".arrow"),h.removeAttr("style"),r.arrowOffset&&h.css(r.arrowOffset));this._poped=!0;this.$element.trigger("shown."+e)},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTarget:function(){return this.$target||(this.$target=n(this.options.template)),this.$target},getTitleElement:function(){return this.getTarget().find("."+u+"-title")},getContentElement:function(){return this.getTarget().find("."+u+"-content")},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getDelayShow:function(){var n=this.$element.attr("data-delay-show");return"undefined"!=typeof n?n:this.options.delay.show||100},getHideDelay:function(){var n=this.$element.attr("data-delay-hide");return"undefined"!=typeof n?n:this.options.delay.hide||100},getConstrains:function(){var n=this.$element.attr("data-contrains");return"undefined"!=typeof n?n:this.options.constrains},getAnimation:function(){var n=this.$element.attr("data-animation");return n||this.options.animation},setTitle:function(n){var t=this.getTitleElement();n?t.html(n):t.remove()},hasContent:function(){return this.getContent()},getContent:function(){if(this.getUrl())"iframe"===this.options.type&&(this.content=n('<iframe frameborder="0"><\/iframe>').attr("src",this.getUrl()));else if(!this.content){var t="";t=n.isFunction(this.options.content)?this.options.content.apply(this.$element[0],arguments):this.options.content;this.content=this.$element.attr("data-content")||t}return this.content},setContent:function(n){var t=this.getTarget();this.getContentElement().html(n);this.$target=t},isAsync:function(){return"async"===this.options.type},setContentASync:function(t){var i=this;this.xhr=n.ajax({url:this.getUrl(),type:"GET",cache:this.options.cache,beforeSend:function(n){i.options.async.before&&i.options.async.before(i,n)},success:function(r){i.bindBodyEvents();i.content=t&&n.isFunction(t)?t.apply(i.$element[0],[r]):r;i.setContent(i.content);var u=i.getContentElement();u.removeAttr("style");i.displayContent();i.options.async.success&&i.options.async.success(i,r);this.xhr=null}})},bindBodyEvents:function(){n("body").off("keyup.webui-popover").on("keyup.webui-popover",n.proxy(this.escapeHandler,this));n("body").off("click.webui-popover").on("click.webui-popover",n.proxy(this.bodyClickHandler,this))},mouseenterHandler:function(){var n=this;n._timeout&&clearTimeout(n._timeout);n._enterTimeout=setTimeout(function(){n.getTarget().is(":visible")||n.show()},this.getDelayShow())},mouseleaveHandler:function(){var n=this;clearTimeout(n._enterTimeout);n._timeout=setTimeout(function(){n.hide()},this.getHideDelay())},escapeHandler:function(n){27===n.keyCode&&this.hideAll()},bodyClickHandler:function(){this._targetclick?this._targetclick=!1:this.hideAll()},targetClickHandler:function(){this._targetclick=!0},initTargetEvents:function(){"click"!==this.options.trigger&&this.$target.off("mouseenter mouseleave").on("mouseenter",n.proxy(this.mouseenterHandler,this)).on("mouseleave",n.proxy(this.mouseleaveHandler,this));this.$target.find(".close").off("click").on("click",n.proxy(this.hide,this));this.$target.off("click.webui-popover").on("click.webui-popover",n.proxy(this.targetClickHandler,this))},getPlacement:function(n){var o,s=i.documentElement,c=i.body,f=s.clientWidth,t=s.clientHeight,l=Math.max(c.scrollTop,s.scrollTop),a=Math.max(c.scrollLeft,s.scrollLeft),e=Math.max(0,n.left-a),r=Math.max(0,n.top-l),u,h;return(o="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement,"auto"===o)&&(u="horizontal"===this.getConstrains(),h="vertical"===this.getConstrains(),o=f/3>e?t/3>r?u?"right-bottom":"bottom-right":2*t/3>r?h?t/2>=r?"bottom-right":"top-right":"right":u?"right-top":"top-right":2*f/3>e?t/3>r?u?f/2>=e?"right-bottom":"left-bottom":"bottom":2*t/3>r?u?f/2>=e?"right":"left":t/2>=r?"bottom":"top":u?f/2>=e?"right-top":"left-top":"top":t/3>r?u?"left-bottom":"bottom-left":2*t/3>r?h?t/2>=r?"bottom-left":"top-left":"left":u?"left-top":"top-left"),o},getElementPosition:function(){return n.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTargetPositin:function(n,t,i,r){var u=n,h=this.$element.outerWidth(),c=this.$element.outerHeight(),f={},e=null,l=this.options.arrow?20:0,o=l+10>h?l:0,s=l+10>c?l:0;switch(t){case"bottom":f={top:u.top+u.height,left:u.left+u.width/2-i/2};break;case"top":f={top:u.top-r,left:u.left+u.width/2-i/2};break;case"left":f={top:u.top+u.height/2-r/2,left:u.left-i};break;case"right":f={top:u.top+u.height/2-r/2,left:u.left+u.width};break;case"top-right":f={top:u.top-r,left:u.left-o};e={left:h/2+o};break;case"top-left":f={top:u.top-r,left:u.left-i+u.width+o};e={left:i-h/2-o};break;case"bottom-right":f={top:u.top+u.height,left:u.left-o};e={left:h/2+o};break;case"bottom-left":f={top:u.top+u.height,left:u.left-i+u.width+o};e={left:i-h/2-o};break;case"right-top":f={top:u.top-r+u.height+s,left:u.left+u.width};e={top:r-c/2-s};break;case"right-bottom":f={top:u.top-s,left:u.left+u.width};e={top:c/2+s};break;case"left-top":f={top:u.top-r+u.height+s,left:u.left-i};e={top:r-c/2-s};break;case"left-bottom":f={top:u.top-s,left:u.left-i};e={top:c/2+s}}return{position:f,arrowOffset:e}}};n.fn[r]=function(t){return this.each(function(){var i=n.data(this,"plugin_"+r);i?"destroy"===t?i.destroy():"string"==typeof t&&i[t]():(t?"string"==typeof t?"destroy"!==t&&(i=new f(this,null),i[t]()):"object"==typeof t&&(i=new f(this,t)):i=new f(this,null),n.data(this,"plugin_"+r,i))})}}(jQuery,window,document),function(n){"use strict";n.localtime=function(){var t={localtime:"yyyy-MM-dd HH:mm:ss"},i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["th","st","nd","rd"],f=function(n){return n>=13?n-12:"0"===n?12:n},e=function(n,e){var d=""+n.getFullYear(),a=""+(n.getMonth()+1),v=""+n.getDate(),g=n.getDay(),h=""+n.getHours(),nt=""+n.getMinutes(),tt=""+n.getSeconds(),p=""+n.getMilliseconds(),l=n.getTimezoneOffset(),w=l>0?"-":"+",b,k,y;if(l=Math.abs(l),void 0===e){for(b in t)if(t.hasOwnProperty(b)){e=t[b];break}if(void 0===e)return""+n}for(var o="",c="",s=0;e.length>s;s++)if(c+=e.charAt(s),"'"===c)for(s++;e.length>s;s++){if(k=e.charAt(s),"'"===k){c="";break}o+=k}else if("\\"===c&&e.length-1>s&&"'"===e.charAt(s+1))s++,o+="'",c="";else if(s===e.length-1||e.charAt(s)!==e.charAt(s+1)){switch(c){case"d":o+=v;break;case"dd":o+=("0"+v).slice(-2);break;case"ddd":o+=r[g].substr(0,3);break;case"ddddd":o+=r[g];break;case"M":o+=a;break;case"MM":o+=("0"+a).slice(-2);break;case"MMM":o+=i[a-1].substr(0,3);break;case"MMMMM":o+=i[a-1];break;case"yy":o+=d.slice(-2);break;case"yyyy":o+=d;break;case"H":o+=h;break;case"HH":o+=("0"+h).slice(-2);break;case"h":o+=f(h);break;case"hh":o+=("0"+f(h)).slice(-2);break;case"m":o+=nt;break;case"mm":o+=("0"+nt).slice(-2);break;case"s":o+=tt;break;case"ss":o+=("0"+tt).slice(-2);break;case"S":o+=p;break;case"SS":o+=("0"+p).slice(-2);break;case"SSS":o+=("00"+p).slice(-3);break;case"o":switch(v){case"11":case"12":case"13":o+=u[0];break;default:y=v%10;y>3&&(y=0);o+=u[y]}break;case"a":case"TT":o+=h>=12?"PM":"AM";break;case"tt":o+=h>=12?"pm":"am";break;case"T":o+=h>=12?"P":"A";break;case"t":o+=h>=12?"p":"a";break;case"z":o+=w+parseInt(l/60,10);break;case"zz":o+=w+("0"+parseInt(l/60,10)).slice(-2);break;case"zzz":o+=w+("0"+parseInt(l/60,10)).slice(-2)+":"+("0"+l%60).slice(-2);break;default:o+=c}c=""}return o};return{setFormat:function(n){t="object"==typeof n?n:{localtime:n}},getFormat:function(){return t},parseISOTimeString:function(t){var i;if(t=n.trim(""+t),i=/^(\d{4})-([01]\d)-([0-3]\d)[T| ]([0-2]\d):([0-5]\d)(?::([0-5]\d)(?:\.(\d{3}))?)?Z$/.exec(t),i){var u=parseInt(i[1],10),f=parseInt(i[2],10)-1,e=parseInt(i[3],10),o=parseInt(i[4],10),s=parseInt(i[5],10),h=i[6]?parseInt(i[6],10):0,c=i[7]?parseInt(i[7],10):0,r=new Date(Date.UTC(u,f,e,o,s,h,c));if(r.getUTCFullYear()!==u||r.getUTCMonth()!==f||r.getUTCDate()!==e)throw Error(i[1]+"-"+i[2]+"-"+i[3]+" is not a valid date");if(r.getUTCHours()!==o)throw Error(i[4]+":"+i[5]+" is not a valid time");return r}throw Error(t+" is not a supported date/time string");},toLocalTime:function(t,i){return"[object Date]"!==Object.prototype.toString.call(t)&&(t=n.localtime.parseISOTimeString(t)),""===i&&(i=void 0),e(t,i)},formatObject:function(t,i){t.is(":input")?t.val(n.localtime.toLocalTime(t.val(),i)):t.is("time")?t.text(n.localtime.toLocalTime(t.attr("datetime"),i)):t.text(n.localtime.toLocalTime(t.text(),i))},formatPage:function(){n.localtime.format()},format:function(t){var u,i,f=function(){n.localtime.formatObject(n(this),u)},r=n.localtime.getFormat();for(i in r)r.hasOwnProperty(i)&&(u=r[i],n("."+i,t).each(f));n("[data-localtime-format]",t).each(function(){n.localtime.formatObject(n(this),n(this).attr("data-localtime-format"))})}}}()}(jQuery);jQuery(document).ready(function(n){"use strict";n.localtime.format()});!function(n,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var i={exports:{}};t(i.exports,i);n.autosize=i.exports}}(this,function(n,t){"use strict";function f(n){function l(){var r=window.getComputedStyle(n,null);"vertical"===r.resize?n.style.resize="none":"both"===r.resize&&(n.style.resize="horizontal");i="content-box"===r.boxSizing?-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)):parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth);isNaN(i)&&(i=0);t()}function o(t){var i=n.style.width;n.style.width="0px";n.offsetWidth;n.style.width=i;n.style.overflowY=t}function a(n){for(var t=[];n&&n.parentNode&&n.parentNode instanceof Element;)n.parentNode.scrollTop&&t.push({node:n.parentNode,scrollTop:n.parentNode.scrollTop}),n=n.parentNode;return t}function f(){var u=n.style.height,f=a(n),t=document.documentElement&&document.documentElement.scrollTop,r;return n.style.height="auto",r=n.scrollHeight+i,0===n.scrollHeight?void(n.style.height=u):(n.style.height=r+"px",s=n.clientWidth,f.forEach(function(n){n.node.scrollTop=n.scrollTop}),void(t&&(document.documentElement.scrollTop=t)))}function t(){var r;f();var e=Math.round(parseFloat(n.style.height)),i=window.getComputedStyle(n,null),t=Math.round(parseFloat(i.height));if(t!==e?"visible"!==i.overflowY&&(o("visible"),f(),t=Math.round(parseFloat(window.getComputedStyle(n,null).height))):"hidden"!==i.overflowY&&(o("hidden"),f(),t=Math.round(parseFloat(window.getComputedStyle(n,null).height))),h!==t){h=t;r=u("autosize:resized");try{n.dispatchEvent(r)}catch(n){}}}if(n&&n.nodeName&&"TEXTAREA"===n.nodeName&&!r.has(n)){var i=null,s=n.clientWidth,h=null,c=function(){n.clientWidth!==s&&t()},e=function(i){window.removeEventListener("resize",c,!1);n.removeEventListener("input",t,!1);n.removeEventListener("keyup",t,!1);n.removeEventListener("autosize:destroy",e,!1);n.removeEventListener("autosize:update",t,!1);Object.keys(i).forEach(function(t){n.style[t]=i[t]});r.delete(n)}.bind(n,{height:n.style.height,resize:n.style.resize,overflowY:n.style.overflowY,overflowX:n.style.overflowX,wordWrap:n.style.wordWrap});n.addEventListener("autosize:destroy",e,!1);"onpropertychange"in n&&"oninput"in n&&n.addEventListener("keyup",t,!1);window.addEventListener("resize",c,!1);n.addEventListener("input",t,!1);n.addEventListener("autosize:update",t,!1);n.style.overflowX="hidden";n.style.wordWrap="break-word";r.set(n,{destroy:e,update:t});l()}}function e(n){var t=r.get(n);t&&t.destroy()}function o(n){var t=r.get(n);t&&t.update()}var r="function"==typeof Map?new Map:function(){var n=[],t=[];return{has:function(t){return n.indexOf(t)>-1},get:function(i){return t[n.indexOf(i)]},set:function(i,r){n.indexOf(i)===-1&&(n.push(i),t.push(r))},"delete":function(i){var r=n.indexOf(i);r>-1&&(n.splice(r,1),t.splice(r,1))}}}(),u=function(n){return new Event(n,{bubbles:!0})},i;try{new Event("test")}catch(n){u=function(n){var t=document.createEvent("Event");return t.initEvent(n,!0,!1),t}}i=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(i=function(n){return n},i.destroy=function(n){return n},i.update=function(n){return n}):(i=function(n,t){return n&&Array.prototype.forEach.call(n.length?n:[n],function(n){return f(n,t)}),n},i.destroy=function(n){return n&&Array.prototype.forEach.call(n.length?n:[n],e),n},i.update=function(n){return n&&Array.prototype.forEach.call(n.length?n:[n],o),n});t.exports=i});UserType=function(){function n(){}return n.Standard=0,n.LegacySubscriber=1,n.SystemAdministrator=2,n.Subscriber=3,n}(),function(n){n[n.EmailFromBookmarklet=1]="EmailFromBookmarklet";n[n.UserInvites=2]="UserInvites";n[n.ExternalApprovals=4]="ExternalApprovals";n[n.DisableContactMe=8]="DisableContactMe";n[n.EnableAdvancedEditing=16]="EnableAdvancedEditing";n[n.EnableCopyToCRM=32]="EnableCopyToCRM";n[n.DisableShareByEmail=64]="DisableShareByEmail"}(ExclusiveFeature||(ExclusiveFeature={}));var CurrentUser=function(){function n(n,t,i,r,u,f,e,o,s,h,c,l,a){var v=this;this.Shortcode=n;this.UserType=t;this.MemberPassleShortcodes=i;this.SubscriptionPassleShortcodes=r;this.ContentSharerPassleShortcodes=u;this.UserCreatedDate=f;this.UserTypeDescription=e;this.ClientShortcode=o;this.IsPassleEmployee=s;this.Passles=h;this.LikedPosts=c;this.ExclusiveFeatures=l;this.AllowPushISTATOYToApp=a;this.IsMember=function(n){return v.MemberPassleShortcodes.indexOf(n)!=-1};this.IsSubscriber=function(n){return v.SubscriptionPassleShortcodes.indexOf(n)!=-1};this.IsContentSharer=function(n){return v.ContentSharerPassleShortcodes.indexOf(n)!=-1};this.IsContentSharerOnly=function(){return v.ContentSharerPassleShortcodes.length==v.Passles.length};this.ContentCreatorPassles=function(){return _.filter(v.Passles,function(n){return n.Permissions.CanCreate})}}return n}(),UserPassle=function(){function n(n,t,i){this.Shortcode=n;this.Title=t;this.Permissions=i}return n}(),PostViewType=function(){function n(){}return n.None=0,n.GridView=1,n.SinglePost=2,n.Dashboard=3,n.Following=4,n.PassleTagSearch=5,n.FollowingTagSearch=6,n.DashboardTagSearch=7,n.GlobalTagSearch=8,n.XMLFeed=9,n.XMLFeedSinglePost=10,n.WordpressPluginMiniFeed=11,n.WordpressPluginFullFeed=12,n.WordpressPluginFeedSinglePost=13,n.JQueryPluginGridView=14,n.JQueryPluginSinglePost=15,n.GridViewLoadMore=16,n.ProfilePage=17,n.PostViewRecommendedPosts=18,n.PreviewSinglePost=19,n}(),PassleWebFunctions;(function(n){function w(n){f=n}function b(n,i){r=n;p=i;t=PassleEnvironmentConfig.PassleWebRoot;k();o=new Porthole.WindowProxy(t+"/portholeproxy","passle-web-iframe");s=new Porthole.WindowProxy(t+"/portholeproxy","passle-web-post-message-receiver");o.addEventListener(function(n){e(n)});s.addEventListener(function(n){e(n)});window.addEventListener("message",function(n){n.data.MessageType&&e(n)});c("passle-web-iframe-container","passleweb-message-dispatcher","Porthole/ClientWebMessageReceiver",function(){$("#passleweb-message-dispatcher").on("load",function(){GlobalDeferred.PortholeInitialised.resolve(!0)})},"passle-web-post-message-receiver")}function k(){GlobalEvents.AuthenticateUser.on(function(n){u(n.PassleShortcode,n.PersonShortcode)});GlobalEvents.UserAuthenticationComplete.on(function(){n.AuthenticationComplete=!0;f();f=function(){}});StatsEvents.UserViewedAboutPage.on(function(){it(UserAction.ViewedAboutPage)});GlobalEvents.UserAuthenticationComplete.on(function(n){GlobalDeferred.UserAuthenticationComplete.resolve(n)})}function d(){return window.innerWidth<979}function h(t){n.IsMobileView()&&$("#passleweb-iframe-container").css("height",t.Height+16+"px")}function c(n,i,r,u,f){f===void 0&&(f="passle-web-iframe");tt(n);$("#"+n).append('<iframe class="hide" name="'+f+'" id="'+i+'" src="https://'+t+"/"+r+'"><\/iframe>');u&&u()}function g(n,i){l("https://"+t+"/ClientWebAPIAccount/Register?passleId="+r+"&postId="+i+"&actionType="+n,"RegistrationAuthWindow")}function nt(){l("https://"+t+"/ClientWebAPIAccount/Login","LoginAuthWindow")}function l(n,t){var i=window.open(n,t,null)}function tt(n){if($("#"+n).length==0){var t="<div id='"+n+"' style='display:none;'><\/div>";$("body").append(t)}}function u(i,r){i=i?i:"";r=r?r:"";var u="https://"+t+"/CrossDomainAuthentication/UserAuthJsonp?passleShortcode="+i+"&personShortcode="+r;$.ajax({url:u,type:"GET",dataType:"jsonp",xhrFields:{withCredentials:!0},success:function(t){var i=t.User,r;n.CurrentUserObj=i==null?null:new CurrentUser(i.Shortcode,i.UserType,i.MemberPassleShortcodes,i.SubscriptionPassleShortcodes,i.ContentSharerPassleShortcodes,i.UserCreatedDate,i.UserTypeDescription,i.ClientShortcode,i.IsPassleEmployee,i.Passles,i.LikedPosts,i.ExclusiveFeatures,i.AllowPushISTATOYToApp);GlobalEvents.UserAuthenticationComplete.trigger({authenticationRequestCompleted:!0,user:n.CurrentUserObj});r=new PassleEvents.UserTrackingDataAvailableEventData(n.CurrentUserObj);PassleGlobalEvents.UserTrackingDataAvailable.trigger(r)}});window.setTimeout(function(){n.AuthenticationComplete||GlobalEvents.UserAuthenticationComplete.trigger({authenticationRequestCompleted:!1,user:null})},1e4)}function e(n){var y=this,f,e,s,o,i,c;if(v(n.origin)===v(t))try{f=n.data;switch(f.MessageType){case"PassleWebFollowResponse":i=f.Successful;e=f.PassleShortcode;GlobalEvents.FollowRequestComplete.trigger(new ClientWebEvents.FollowRequestCompleteEventData(i,e));break;case"PassleWebUnFollowResponse":i=f.Successful;e=f.PassleShortcode;GlobalEvents.UnFollowRequestComplete.trigger(new ClientWebEvents.FollowRequestCompleteEventData(i,e));break;case"PassleWebEmailResponse":i=f.Successful;s=f.ISTATOYShareStatus;GlobalEvents.EmailRequestComplete.trigger(new ClientWebEvents.EmailEventData(i,s));break;case"PassleWebNewsletterSubscribeResponse":i=f.Successful;GlobalEvents.NewsletterSubscribeRequestComplete.trigger(i);break;case"PassleWebLikeResponse":i=f.Successful;GlobalEvents.LikeRequestComplete.trigger(new ClientWebEvents.LikeEventData(f.PostShortcode,f.Like,i));break;case"PassleWebRepostResponse":i=f.Successful;GlobalEvents.RepostRequestComplete.trigger(new ClientWebEvents.RepostEventData(f.PostShortcode,f.NewPostUrl,f.RequiresApproval,f.PreviouslyReposted,i));break;case"PassleWebRegistrationResponse":i=f.Successful;i&&(u(r,""),a(f));break;case"PassleWebLoginResponse":i=f.Successful;i&&(u(r,""),a(f));break;case"PassleWebNotAuthenticated":GlobalEvents.NotAuthenticated.trigger();break;case"PassleWebDocumentDimensions":h(f);break;case"LogPageRequestAndPostViewsReponse":o=f.PageRequestId;$("#page-request-id").val(o);GlobalDeferred.PageRequestLoggingComplete.resolve(o);break;case"UserAuthResponse":break;case"PassleWebRequestApprovalResponse":GlobalEvents.ApprovalRequested.trigger();break;case"PassleWebGetApproverListResponse":i=f.Successful;GlobalEvents.ApproverListRequested.trigger(new ClientWebEvents.ApproverListEventData(f.PassleShortcode,f.Approvers,i));break;case"PassleWebApproveResponse":GlobalEvents.PostApproved.trigger();break;case"PassleWebDeclineResponse":GlobalEvents.PostDeclined.trigger();break;case"PassleWebPublishResponse":GlobalEvents.PostMadeLive.trigger();break;case"PassleWebAddTagResponse":GlobalEvents.TagAddedToPost.trigger();break;case"PassleWebThankResponse":i=f.Successful;GlobalEvents.ThankRequestComplete.trigger(new ClientWebEvents.ThankEventData(i,f.Message));break;case"PassleWebUserMessageResponse":i=f.Successful;GlobalEvents.UserMessageRequestComplete.trigger(new ClientWebEvents.UserMessageRequestCompleteEventData(i));break;case"PassleWebAccessDeniedResponse":c=f.RequestedAction;console.log("Access was denied for the following action: "+c);default:console.log("message not recognised "+f.MessageType)}}catch(l){window.console&&(console.log("Error parsing postmessage"),console.log(l))}}function a(n){var r=n.PostAuthenticationAction,t=n.PostAuthenticationActionSuccess,u=n.PostAuthenticationActionPassleShortcode,f=n.PostAuthenticationActionPostShortcode;switch(r){case i.Follow:t&&GlobalEvents.FollowRequestComplete.trigger(new ClientWebEvents.FollowRequestCompleteEventData(t,u));break;case i.Like:t&&GlobalEvents.PostLikedDuringAuthentication.trigger();break;case i.SharePostByEmail:GlobalEvents.PostAuthenticationSharePostByEmail.trigger()}}function v(n){return n.replace("http://","").replace("https://","")}function it(t){var i=$("#page-request-id").val(),r;i&&(r="/ClientWebAPIStatistics/LogClientSideUserAction?userAction="+t+"&pageRequestId="+i,n.InjectHiddenIFrame("aboutview-logging-container","aboutview-logging-iframe",r))}var y=function(){function n(n,t){this.PostAuthenticationActionType=n;this.PostId=t}return n}(),i;n.PostAuthenticationAction=y,function(n){n[n.None=0]="None";n[n.Follow=1]="Follow";n[n.Like=2]="Like";n[n.SharePostByEmail=3]="SharePostByEmail"}(i=n.PostAuthenticationActionType||(n.PostAuthenticationActionType={}));n.AuthenticationComplete=!1;var t,f=function(){},o=null,s=null,r="",p="";n.SetAuthenticationCallback=w;n.Initialise=b;n.IsMobileView=d;n.PassleWebDocumentDimensions=h;n.InjectHiddenIFrame=c;n.ShowPassleWebRegistration=g;n.ShowPassleWebLogin=nt;n.TryAuthenticateUserWithPassleWeb=u})(PassleWebFunctions||(PassleWebFunctions={}));UserAction=function(){function n(){}return n.None=0,n.ViewedAboutPage=1,n}(),function(n){function i(n,i,r,u,f,e,o){u===void 0&&(u=!1);f===void 0&&(f=function(){});e===void 0&&(e=function(){});o===void 0&&(o="");$.ajax({url:o+"/"+i+"/"+r,type:"GET",traditional:!0,data:n,success:function(o){o.error==!0?t(u,e,i,r,n):f(o)},error:function(){t(u,e,i,r,n)}})}function r(n,i,r,u,f,e,o){u===void 0&&(u=!1);f===void 0&&(f=function(){});e===void 0&&(e=function(){});o===void 0&&(o="");$.ajax({url:o+"/"+i+"/"+r,type:"POST",traditional:!0,data:n,success:function(o){o.error==!0?t(u,e,i,r,n):f(o)},error:function(){t(u,e,i,r,n)}})}function u(n,i,r,u,f,e,o,s){u===void 0&&(u=!1);f===void 0&&(f=function(){});e===void 0&&(e=function(){});o===void 0&&(o=function(){});s===void 0&&(s="");$.ajax({url:s+"/"+i+"/"+r,type:"POST",traditional:!0,data:n,complete:function(){o()},success:function(o){o.error==!0?t(u,e,i,r,n):f(o)},error:function(f){console&&console.log(f);t(u,e,i,r,n)}})}function f(t,i,r,u,f,e,o,s){f===void 0&&(f=!1);e===void 0&&(e=function(){});o===void 0&&(o=function(){});s===void 0&&(s="");n.AjaxFetchData(t,i,r,!1,function(n){$(u).html(n);e(n)},o,s)}function e(t,i,r,u,f,e,o){var c=$(".post-view-log-container").length,s="post-view-log-container"+c,h;$("#"+f).append('<div id="'+s+'" class="post-view-log-container"><\/div>');u&&r.length>0&&(h={passleShortcode:u,postShortcodes:r,postViewType:i,c:e,a:o,url:window.location.href,pageRequestId:t},n.AjaxInjectPartialIntoElement(h,"Statistics","_LogPageRequestAndPostViews","#"+s,!1))}function t(n,t,i,r,u){t();n&&(window.location.href="/Error/Index");throw"Error occurred in ajax call - controller : "+i+" action : "+r+" model : "+JSON.stringify(u);}n.AjaxFetchData=i;n.AjaxPostData=r;n.AjaxCrossDomainPost=u;n.AjaxInjectPartialIntoElement=f;n.LogPostViews=e}(AjaxFunctions||(AjaxFunctions={})),function(n){function i(n,i){try{sessionStorage.setItem(n,i)}catch(r){return t(r),""}}function r(n){try{return sessionStorage.getItem(n)}catch(i){return t(i),""}}function u(n){try{return sessionStorage.removeItem(n)}catch(i){t(i)}}function t(n){window.console&&(console.log("Error using sessionStorage"),console.log(n))}n.SetSessionStorageItem=i;n.GetSessionStorageItem=r;n.RemoveSessionStorageItem=u}(SessionStorage||(SessionStorage={}));Page=function(){function n(n){this.InitializePage();this.PageSubscribeToEvents();EventTracking.TrackPageLoad(n||"Page")}return n.prototype.PageSubscribeToEvents=function(){var n=this;GlobalEvents.UserActionRequiresSubscriberAuthentication.on(function(n){PassleWebFunctions.ShowPassleWebRegistration(n.PostAuthenticationActionType,n.PostId)});GlobalEvents.UserActionRequiresPassleUserAuthentication.on(function(){PassleWebFunctions.ShowPassleWebLogin()});GlobalEvents.NotAuthenticated.on(function(){PassleWebFunctions.ShowPassleWebLogin();GlobalEvents.AuthenticateUser.trigger(new ClientWebEvents.AuthenticateUserEventData(n.PassleShortcode,n.PersonShortcode))})},n.prototype.InitializePage=function(){var n=this;n.PassleShortcode=$("#passle-shortcode").val();n.PersonShortcode=$("#person-shortcode").val();PassleWebFunctions.Initialise(n.PassleShortcode,n.PersonShortcode);GlobalEvents.AuthenticateUser.trigger(new ClientWebEvents.AuthenticateUserEventData(n.PassleShortcode,n.PersonShortcode));window.addEventListener("error",function(n){console.log(n.error.stack?n.error.stack:n.error.toString())});n.InMobileApp=$("#InMobileApp").val()==="true";n.InMobileApp&&(PassleFunctions.RemoveParameterByName("LinkSource"),$("a").attr("href",function(n,t){return t+(t.indexOf("?")!=-1?"&LinkSource=PassleApp":"?LinkSource=PassleApp")}))},n}();Component=function(){function n(){this.PopulateProperties()}return n.prototype.Initialise=function(){this.BindUIEvents();this.SubscribeToEvents()},n.prototype.PopulateProperties=function(){},n.prototype.BindUIEvents=function(){},n.prototype.SubscribeToEvents=function(){},n}(),function(n){var r=function(){function n(n,i,r,u,f){r===void 0&&(r={});u===void 0&&(u="");f===void 0&&(f=null);this.EventAction=n;this.EventCategory=i;this.Properties=r;this.EventLabel=u;this.EventValue=f;this.GetLocationDetails=function(){return new t(location.href,document.title)};this.Location=this.GetLocationDetails();this.TimeStamp=new Date}return n}(),i,t;n.TrackedEvent=r;i=function(){function n(n){this.UserId=n.Shortcode;this.ClientId=n.ClientShortcode;this.IsPassleEmployee=n.IsPassleEmployee;this.UserType=n.UserTypeDescription;this.UserCreatedDate=n.UserCreatedDate}return n}();n.EventUser=i;t=function(){function n(n,t){this.LocationUrl=n;this.LocationTitle=t}return n}();n.EventLocation=t}(EventTracking||(EventTracking={})),function(n){var i=function(){function n(n,t){this.handlerFunction=n;this.order=t}return n}(),t,r,u,f,e;n.EventHandler=i;t=function(){function n(n,t){this.handlerFunction=n;this.order=t}return n}();n.EventHandlerWithData=t;r=function(){function n(){this.handlers=[]}return n.prototype.on=function(n){var t=new i(n,50);this.handlers.push(t)},n.prototype.onOrdered=function(n,t){var r=new i(t,n);this.handlers.push(r)},n.prototype.off=function(n){this.handlers=this.handlers.filter(function(t){return t.handlerFunction!==n})},n.prototype.trigger=function(){if(this.handlers){var n=_.sortBy(this.handlers,function(n){return n.order});_.each(n,function(n){try{n.handlerFunction()}catch(t){window.console&&(console.log("Error executing handler for event subscriber"),console.log(t))}})}},n}();n.Event=r;u=function(){function n(){this.handlers=[]}return n.prototype.on=function(n){var i=new t(n,50);this.handlers.push(i)},n.prototype.onOrdered=function(n,i){var r=new t(i,n);this.handlers.push(r)},n.prototype.off=function(n){this.handlers=this.handlers.filter(function(t){return t.handlerFunction!==n})},n.prototype.trigger=function(n){if(this.handlers){var t=_.sortBy(this.handlers,function(n){return n.order});_.each(t,function(t){try{t.handlerFunction(n)}catch(i){window.console&&(console.log("Error executing handler for event subscriber"),console.log(i))}})}},n}();n.EventWithData=u;f=function(){function n(){this.UserAuthenticationComplete=new r;this.UserTrackingDataAvailable=new u}return n}();n.Global=f;e=function(){function n(n){this.currentUser=n}return n}();n.UserTrackingDataAvailableEventData=e}(PassleEvents||(PassleEvents={}));PassleGlobalEvents=new PassleEvents.Global,function(n){var t=function(){function n(){}return n.prototype.TrackEvent=function(n){this.CheckServiceIsAvailable()?this.SendEvent(n):this.HandleServiceUnavailable()},n.prototype.Initialise=function(n){this.CheckServiceIsAvailable()?this.InitialiseService(n):this.HandleServiceUnavailable()},n.prototype.HandleServiceUnavailable=function(){},n}();n.Tracker=t}(EventTracking||(EventTracking={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){function i(n){ga&&(ga("passleTracker.set","userId",n.UserId),ga("passleTracker.set","dimension1",n.UserId),ga("passleTracker.set","dimension2",n.ClientId),ga("passleTracker.set","dimension3",n.UserType),ga("passleTracker.set","dimension4",n.UserCreatedDate),ga("passleTracker.set","dimension5",n.IsPassleEmployee?"True":"False"))}var t=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.SendEvent=function(n){n.EventCategory!=="Page Load"&&ga("passleTracker.send",{hitType:"event",eventCategory:n.EventCategory,eventAction:n.EventAction,eventLabel:n.EventLabel,eventValue:n.EventValue})},t.prototype.InitialiseService=function(n){n&&i(n)},t.prototype.CheckServiceIsAvailable=function(){return typeof ga!="undefined"},t}(n.Tracker);n.GoogleAnalyticsTracker=t}(EventTracking||(EventTracking={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.SendEvent=function(){},t.prototype.InitialiseService=function(){},t.prototype.CheckServiceIsAvailable=function(){return!0},t}(n.Tracker);n.PassleTracker=t}(EventTracking||(EventTracking={})),function(n){function o(n){_.each(u,function(t){t.Initialise(n)})}function s(){$(document).on("click","[data-click-event-action]",function(t){var r=$(t.currentTarget),u=r.attr("data-click-event-action"),f=r.attr("data-click-event-category"),e;u&&f&&(e=new n.TrackedEvent(u,f),i(e))})}function h(){PassleGlobalEvents.UserTrackingDataAvailable.on(function(i){t=i.currentUser?new n.EventUser(i.currentUser):null;o(t);r.length>0&&_.each(r,function(n){e(n,t)});f=!0})}function i(n){f?e(n,t):r.push(n)}function e(n,t){n.User=t;_.each(u,function(t){t.TrackEvent(n)})}function c(){var t=PassleFunctions.GetParameterByName("tceid"),r;t&&(PassleFunctions.RemoveParameterByName("tceid"),r={url:location.href,title:document.title,trackingClickEventId:t},i(new n.TrackedEvent("User clicked link in email","Email",r)))}function l(t){var r={url:location.href,title:document.title,referrer:document.referrer,pageType:t||""};i(new n.TrackedEvent(document.title,"Page Load",r))}var u=[new n.GoogleAnalyticsTracker],r=[],t=null,f=!1;h();s();c();n.RegisterEvent=i;n.TrackPageLoad=l}(EventTracking||(EventTracking={})),function(n){var v=function(){function n(){this.UserViewedAboutPage=new PassleEvents.Event}return n}(),t,i,r,u,f,e,o,s,h,c,l,a;n.Stats=v;t=function(){function n(){this.UserAuthenticationComplete=new PassleEvents.EventWithData;this.FollowRequestComplete=new PassleEvents.EventWithData;this.UnFollowRequestComplete=new PassleEvents.EventWithData;this.NewsletterSubscribeRequestComplete=new PassleEvents.EventWithData;this.UserActionRequiresSubscriberAuthentication=new PassleEvents.EventWithData;this.UserActionRequiresPassleUserAuthentication=new PassleEvents.Event;this.UserLikedPost=new PassleEvents.Event;this.UserRepostedPost=new PassleEvents.Event;this.NotAuthenticated=new PassleEvents.Event;this.NewPostsLoaded=new PassleEvents.Event;this.PostLikedDuringAuthentication=new PassleEvents.Event;this.LikeRequestComplete=new PassleEvents.EventWithData;this.ThankRequestComplete=new PassleEvents.EventWithData;this.ThankClicked=new PassleEvents.EventWithData;this.RepostRequestComplete=new PassleEvents.EventWithData;this.EmailRequestComplete=new PassleEvents.EventWithData;this.AuthenticateUser=new PassleEvents.EventWithData;this.ApprovalRequested=new PassleEvents.Event;this.ApproverListRequested=new PassleEvents.EventWithData;this.PostApproved=new PassleEvents.Event;this.PostDeclined=new PassleEvents.Event;this.PostMadeLive=new PassleEvents.Event;this.TagAddedToPost=new PassleEvents.Event;this.UserMessageRequestComplete=new PassleEvents.EventWithData;this.TwitterWidgetScriptLoaded=new PassleEvents.Event;this.PostAuthenticationSharePostByEmail=new PassleEvents.Event;this.TestEvent=new PassleEvents.Event}return n}();n.Global=t;i=function(){function n(){this.PluginInitialised=$.Deferred();this.PluginPageScriptInitialised=$.Deferred();this.PortholeInitialised=$.Deferred();this.PageRequestLoggingComplete=$.Deferred();this.UserAuthenticationComplete=$.Deferred()}return n}();n.GlobalDeferred=i;r=function(){function n(n,t,i){this.PostShortcode=n;this.Like=t;this.Success=i}return n}();n.LikeEventData=r;u=function(){function n(n,t,i,r,u){this.PostShortcode=n;this.NewPostUrl=t;this.RequiresApproval=i;this.PreviouslyReposted=r;this.Success=u}return n}();n.RepostEventData=u;f=function(){function n(n,t){this.Success=n;this.Message=t}return n}();n.ThankEventData=f;e=function(){function n(n){this.PostShortcode=n}return n}();n.ThankClickedEventData=e;o=function(){function n(n,t){this.PassleShortcode=n;this.PersonShortcode=t}return n}();n.AuthenticateUserEventData=o;s=function(){function n(n,t){this.authenticationRequestCompleted=n;this.user=t}return n}();n.AuthenticationCompleteEventData=s;h=function(){function n(n,t){this.Success=n;this.ISTATOYShareStatus=t}return n}();n.EmailEventData=h;c=function(){function n(n,t){this.Success=n;this.PassleShortcode=t}return n}();n.FollowRequestCompleteEventData=c;l=function(){function n(n,t,i){this.PassleShortcode=n;this.Approvers=t;this.Success=i}return n}();n.ApproverListEventData=l;a=function(){function n(n){this.Success=n}return n}();n.UserMessageRequestCompleteEventData=a}(ClientWebEvents||(ClientWebEvents={}));var GlobalEvents=new ClientWebEvents.Global,StatsEvents=new ClientWebEvents.Stats,GlobalDeferred=new ClientWebEvents.GlobalDeferred,__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ModalComponent=function(n){function t(t,i){var r=n.call(this)||this;return r.onShowCallback=t,r.onHideCallback=i,r.$overlay=$("<div/>").addClass("modal-overlay modal-overlay--hidden").appendTo("body").on("click",r,r.Hide),r.$closeButton=$('<div class="header-close"><button class="modal__close" title="Close"><i class="fal fa-times"><\/i>').on("click",r,r.Hide),r}return __extends(t,n),t.prototype.Hide=function(n){var t=this;n.data.$modal.addClass("modal--hidden");n.data.$overlay.addClass("modal-overlay--hidden");this.onHideCallback&&this.onHideCallback()},t.prototype.Show=function(){var n=this;n.$modal.removeClass("modal--hidden");n.$overlay.removeClass("modal-overlay--hidden");n.onShowCallback&&n.onShowCallback()},t.prototype.Destroy=function(){var n=this;n.$modal.remove();n.$overlay.remove()},t.SMALL_MODAL_TEXT_MAX=300,t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),EmbeddedViewModalType;(function(n){n[n.html=0]="html";n[n.iframe=1]="iframe"})(EmbeddedViewModalType||(EmbeddedViewModalType={}));EmbeddedViewModalComponent=function(n){function t(t,i,r,u){var f=n.call(this,r,u)||this;return f.Create(t,i),f}return __extends(t,n),t.prototype.Create=function(n,t){var i,r;t===void 0&&(t=EmbeddedViewModalType.html);i=this;i.$closeButton=$("<div><button class=\"modal__close\" title=\"Close\"><img width='20' src='/Content/images/SVG/close.svg'><\/button><\/div>").on("click",i,i.Hide);i.$header=$("<div class='modal__passle_title'><div class='title_image'><img class='modal__passle_logo' src=\"/Content/images/SVG/passle_logo_white.svg\"/><\/div><\/div>");i.$header=i.$header.append(i.$closeButton);i.$body=$("<div class='modal__body'>"+n+"<\/div>");r="modal--"+EmbeddedViewModalType[t];i.$modal=$("<div/>").addClass("modal-window modal--hidden").addClass(r).append(i.$header).append(i.$body).appendTo("body")},t}(ModalComponent);__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){n[n.success=0]="success";n[n.error=1]="error";n[n.warning=2]="warning";n[n.notification=3]="notification";n[n.form=4]="form"}(MessageModalType||(MessageModalType={}));var MessageModalComponent=function(n){function t(t,i,r,u,f,e,o,s,h){var c=n.call(this)||this;return c.largeMode=s,c.Create(t,i,r,u,o,h),c.onConfirmCallback=f,c.onCancelCallback=e,c}return __extends(t,n),t.prototype.Create=function(n,t,i,r,u,f){var e=this,o,s,h;n==MessageModalType.notification&&(u=!0);o='<button class="button data-confirm" data-confirm>'+(r?r:"OK")+"<\/button>";s=u?"":'<button class="button button--link data-cancel" data-cancel>'+(f?f:"Cancel")+"<\/button>";e.$body=$('\n            <h2 class="modal__title">'+t+'<\/h2>\n            <div class="modal__body">'+i+'<\/div>\n            <div class="modal__footer">\n                '+s+"\n                "+o+"\n            <\/div>\n        ");e.$header=$("<div class='modal__header'><span class='header-icon'><\/span><\/div>");e.$header=e.$header.append(e.$closeButton);h="modal--"+MessageModalType[n];e.$modal=$("<div/>").addClass("modal-window modal--message modal--hidden").addClass(h).append(e.$header).append(e.$body).appendTo("body");(e.largeMode===!0||e.largeMode===undefined&&i.length>ModalComponent.SMALL_MODAL_TEXT_MAX)&&e.$modal.addClass("modal--large");e.SetConfirmButtonFunctionality();e.SetCancelButtonFunctionality();e.SetHideButtonFunctionality();e.Show()},t.prototype.SetConfirmButtonFunctionality=function(){var n=this;n.$modal.find("[data-confirm]").one("click",function(){if(typeof n.onConfirmCallback=="function"){var t=n.onConfirmCallback();if(t===!1){n.SetConfirmButtonFunctionality();return}}n.Destroy()})},t.prototype.SetCancelButtonFunctionality=function(){var n=this;n.$modal.find("[data-cancel]").one("click",function(){typeof n.onCancelCallback=="function"&&n.onCancelCallback();n.Destroy()})},t.prototype.SetHideButtonFunctionality=function(){var n=this;n.$overlay.off("click",n.Hide).one("click",function(){n.Destroy()})},t}(ModalComponent),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ActionResultMessageModalComponent=function(n){function t(t,i){var r=this;return i||(i=t?"Action made successfully!":"There was an error when executing the action. Please refresh the page and try again or contact the support team."),n.call(this,t?MessageModalType.success:MessageModalType.error,t?"Success!":"Oops...",i,null,null,null,!0)||this}return __extends(t,n),t}(MessageModalComponent),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ShareButtons=function(n){function t(t,i){i===void 0&&(i=!1);var r=n.call(this)||this;return r.Container=t,r.IncludeISTATOY=i,r.BindContainerUIEvents(),r.ShareURLs=new ShareURLs,r.Initialise(),r}return __extends(t,n),t.prototype.SubscribeToEvents=function(){var t=this,n=this;GlobalDeferred.UserAuthenticationComplete.then(function(i){if(n.User=i.user,n.User&&n.IncludeISTATOY){var r=!((n.User.ExclusiveFeatures&ExclusiveFeature.DisableShareByEmail)===ExclusiveFeature.DisableShareByEmail);r&&(t.ISTATOYButton=new ISTATOYButton(n.User,n.Container))}})},t.prototype.BindContainerUIEvents=function(){var n=this;n.Container.on("click",".action-share",function(t){t.preventDefault();var r=$(this).attr("data-postshortcode"),i=$("div[data-post-shortcode="+r+"] .share-buttons-container");!n.User||(n.User.ExclusiveFeatures&ExclusiveFeature.DisableShareByEmail)===ExclusiveFeature.DisableShareByEmail||$(".email-container").css("display","inline-block");i.css("display")!="none"?i.slideUp():($(".repost-form-container").slideUp(),$(".share-buttons-container").slideUp(),i.slideDown())});n.Container.on("click",".social-sharing-button",function(t){t.preventDefault();EventTracking.RegisterEvent(new EventTracking.TrackedEvent("Social share button","Social Networks",null,this.getAttribute("data-network")));n.HandleShareButton($(this))})},t.prototype.HandleShareButton=function(n){var t=this,i=n.attr("data-network"),u=t.GetDataFromAttributes(n.closest(".data-container")),r=t.ShareURLs.GetPostShareURL(i,u);EventTracking.RegisterEvent(new EventTracking.TrackedEvent("User clicked share button","Share Buttons",{network:i,postData:u},i));switch(i){case"linkedin":t.OpenPopupWindow(r,500,567);break;case"twitter":t.OpenPopupWindow(r,420,550);break;case"facebook":case"xing":t.OpenPopupWindow(r,600,555);break;case"googleplus":t.OpenPopupWindow(r,445,525)}},t.prototype.OpenPopupWindow=function(n,t,i){var r=window.open(n,"_blank","height="+t+", width="+i+", toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no")},t.prototype.GetDataFromAttributes=function(n){return{authorFullName:n.attr("data-authorfullname"),shortcode:n.attr("data-postshortcode"),title:n.attr("data-title"),twitterScreenname:n.attr("data-twitterscreenname"),tags:n.attr("data-tags").split(","),url:n.attr("data-url")}},t.prototype.ParseShareTitle=function(n){return n=encodeURIComponent(n),n.replace(/'/g,"%27")},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ISTATOYButton=function(n){function t(t,i){var r=n.call(this)||this;return r.ButtonSelector="istatoy-button-placeholder",r.User=t,r.Container=i,r.BindUIEvents(),r}return __extends(t,n),t.prototype.BindUIEvents=function(){var n=this,t=n.Container.find("."+n.ButtonSelector);t.each(function(){var u=$(this),i=u.attr("data-postshortcode"),t=$("<a href='#' class='istatoy-button web-istatoy'><i class='istatoy-icon'/><\/a>"),r;t.attr("data-postshortcode",i);t.on("click",function(){n.OpenISTATOY(i)});if(n.User.AllowPushISTATOYToApp){r=$("<a href='#' class='istatoy-button mobile-istatoy'><i class='istatoy-push-to-app-icon' > <\/i><\/a>");r.attr("data-postshortcode",i);r.on("click",function(){n.PushISTATOYToApp(i)});t=t.add(r)}u.replaceWith(t)})},t.prototype.OpenISTATOY=function(n){var t=this,i="https://"+PassleEnvironmentConfig.PassleWebRoot+"/ISTATOYForm?postShortcode="+n;t.LoadISTATOYModal(i)},t.prototype.PushISTATOYToApp=function(n){var t=this,i="https://"+PassleEnvironmentConfig.PassleWebRoot+"/ISTATOYPushToApp/PushISTATOYToApp?postShortcode="+n;t.LoadISTATOYModal(i)},t.prototype.LoadISTATOYModal=function(n){var t=this;self!==top?window.open(n,"ISTATOY","toolbar=no, location=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=650,height=500"):(t.ISTATOYModal=new EmbeddedViewModalComponent("<iframe id='istatoy-content-modal' name=\""+Date.now()+'" src="'+n+'"><\/iframe>',EmbeddedViewModalType.iframe,null,null),t.ISTATOYModal.Show())},t}(Component),FragmentAction=function(){function n(n,t,i){this.Fragment=n;this.Action=t;this.ActionData=i}return n}();(function(){function rt(i,u){if(n._allready===r||i!=t){if(i==t)return u();if(n._allready===r)i(u());else var f=window.setInterval(function(){n._allready===r&&(window.clearInterval(f),i(u()))},ei)}}function yu(u){function e(){function h(t){a(n._cssdata[t],function(i){n._cssdata[t]=i;t+1<n._cssdata.length?h(t+1):v()})}function a(n,i){n.href==t?i(n):fr(n.href,function(r){r.message!=t?(n.message=r.message,n.stylenode=t,(n.message==ti||/^[1-9]{1,3}/.test(n.message))&&(n.media=st)):n.text=ct(r.text,f);i(n)})}function v(){function t(i){function u(r){i+1<n._cssdata.length?t(i+r):c()}if(n._cssdata[i].tested==r)u(1);else{var f=ku(n._cssdata[i].text);if(n._cssdata[i].tested=r,n._cssdata[i].ssid=n.ssidcounter++,f.length>0){function e(t){y(i,t,f[t],function(t,r,o){n._cssdata.splice(i+o,0,t);o+1<f.length?e(o+1):u(0)})}e(0)}else u(1)}}t(0)}function y(i,r,u,e){function l(n){n.message!=t?(s.message=n.message,s.stylenode=t,(s.message==ti||/^[1-9]{1,3}.*$/.test(s.message))&&(s.media=st)):s.text=ct(n.text,f);e(s,i,r)}var s={tested:f,owner:"@import",media:o,stylenode:n._cssdata[i].stylenode,href:u.href,text:""},c,h;for(s.media=u.media,c=i,h=n._cssdata[c];h.href==s.href;)h=n._cssdata[c--];context=h.media;s.xmedia=u.hasownmedia?u.media:o;s.media=lt(context,s.media);w(n._cssdata,u.href,"href")!=t?l({text:"",message:ot}):fr(u.href,l)}function c(){for(var e,o,f=0;f<n._cssdata.length;f++){if(n._cssdata[f].href&&(e=w(n._stylesheets,n._cssdata[f].href,"href"),e!=t&&e.message!=ot)){n._stylesheets.push({ssid:n._cssdata[f].ssid,href:n._cssdata[f].href,owner:n._cssdata[f].owner,media:n._cssdata[f].media,xmedia:n._cssdata[f].xmedia,stylenode:t,rules:0,message:ot});n._cssdata[f].stylenode&&(n._cssdata[f].stylenode.disabled=r);continue}if(typeof n._cssdata[f].message!=i){n._stylesheets.push({ssid:n._cssdata[f].ssid,href:n._cssdata[f].href,owner:n._cssdata[f].owner,media:n._cssdata[f].media,xmedia:n._cssdata[f].xmedia,stylenode:n._cssdata[f].stylenode,rules:0,message:n._cssdata[f].message});continue}o=du(n._cssdata[f]);n._stylesheets.push({ssid:n._cssdata[f].ssid,href:n._cssdata[f].href,owner:n._cssdata[f].owner,media:n._cssdata[f].media,xmedia:n._cssdata[f].xmedia,stylenode:n._cssdata[f].stylenode,rules:o,message:ii})}n._cssdata=t;delete n._cssdata;n._stylesheets.sort(function(n,t){return n.ssid-t.ssid});n.ssidcounter=t;delete n.ssidcounter;it===r&&vr();typeof u==l&&u()}for(var s=wu(),e=0;e<s.length;e++)bu(s[e],s[e].nodeType==7?s[e].target.toLowerCase():s[e].nodeName.toLowerCase());n._cssdata.length==0?c():h(0)}n._cssdata=[];v&&ci("style").length>0?pu(e):e()}function pu(n){pr(oi,s,function(t){var u=ci("style"),r=t.split(/<([^:]+:)?style[^>]*>/i),i;for(r.splice(0,1),i=0;i<r.length;i++)u[i].__css=r[i].split(/<\/([^:]+:)?style>/i)[0];delete r;n()},function(){n()})}function wu(){for(var r=[],i=e.childNodes,t,n=0;n<i.length;n++)i[n].nodeType==7&&i[n].target.toLowerCase()=="xml-stylesheet"&&r.push(i[n]);for(t=ci("*"),n=0;n<t.length;n++)(/link/i.test(t[n].nodeName)&&/stylesheet/i.test(t[n].getAttribute("rel"))||/style/i.test(t[n].nodeName))&&r.push(t[n]);return r}function bu(u,e){var l={tested:f,owner:e,media:o,stylenode:u,href:t,text:""},w,a,c,k,p,d;if(/xml\-stylesheet/.test(e))for(w={},a=u.data.match(/([a-z]+=[\'\"][^\'\"]*[\'\"])/gm),c=0;c<a.length;c++)a[c]=a[c].split("="),w[a[c][0]]=a[c][1].substr(1,a[c][1].length-2);if((y||nt||tt)&&!/xml\-stylesheet/.test(e)?p=u.disabled:(k=u[typeof u.styleSheet!=i?"styleSheet":"sheet"],p=k==t?r:k.disabled),bt&&p&&u.sheet.media.length>0&&(d=u.sheet.media.mediaText,u.sheet.media.mediaText=n._viewmedia,p=u.sheet.disabled,u.sheet.media.mediaText=d),it!==t&&p&&(l.message=ri),/xml\-stylesheet/.test(e))l.href=h(w.href,s);else if(/link/i.test(e))l.href=h(u.getAttribute("href",2),s);else if(!p||it===t)if(v)typeof u.__css==i?l.message=wr:l.text+=ct(u.__css,f);else{for(var a="",b=u.childNodes,c=0;c<b.length;c++)switch(b[c].nodeType){case 3:a+=b[c].nodeValue;break;case 4:a+="<![CDATA["+b[c].nodeValue+"]\]>";break;case 8:a+="<!--"+b[c].nodeValue+"-->"}l.text+=ct(a,f)}l.media=/xml\-stylesheet/.test(e)?typeof w.media!=i?w.media:o:u.getAttribute("media")?u.getAttribute("media"):o;l.media=l.media.split(/,\s*/).join(", ");l.xmedia=l.media;n._cssdata.push(l)}function fr(n,i){var r={text:"",message:t};pr(oi,n,function(n,f){if(typeof f!=d||u(f)==""||/^(text\/css)/.test(f))r.text=n;else{if(/^(text\/html)/.test(f)){var e=n.match(/<title>([1-9]{1,3}[^<]+)<\/title>/i);e&&e.length>=2&&(r.message=e[1])}r.message==t&&(r.message=ti)}i(r)},function(n){r.message=n;i(r)})}function ku(n){var l=[],e=/@import\s*(?:url\s*\(\s*[\'\"]?|[\'\"])([^\'\"\)]+)(?:[\'\"]|[\'\"]?\s*\))([^;]*)(;|$)/ig,i=n.match(e),t;if(i)for(t=0;t<i.length;t++){var v=h(i[t].replace(e,"$1"),s),c=u(u(i[t].replace(e,"$2")).replace(/^\)/,"")),a=r;c||(a=f,c=o);l.push({href:v,media:c,hasownmedia:a})}return l}function ct(e,o){var s;if(e=e.replace(/(\/\*([^*]|(\*+([^*/])))*\*+\/)/gm,""),n._isXML||(e=e.replace(/(<\!\[CDATA\[([^\]]|(\]+([^>])))*\]+>)/gm,"")),!n._isXML||y||nt||tt||(e=e.replace(/(<\!\-\-([^\-]|(\-+([^>])))*\-+>)/gm,"")),e=e.replace(/[\t]+/g," ").replace(/[ ][ ]/g," "),e=e.replace(/[\r\n]/g,""),e=e.replace(/@(charset|namespace)[^;]+;/igm,""),typeof o!=i&&o==r)e=e.replace(/@import[^;]+;/igm,"");else if(/@import[^;]+;/i.test(e)){s=e.replace(/(@import[^;]+;)/igm,"{SPLIT}$1{SPLIT}").split("{SPLIT}");for(var e="",c=t,h=0;h<s.length;h++)u(s[h])!=""&&(/@import[^;]+;/i.test(s[h])?(c===t&&(c=f),c===f&&(e+=s[h])):(c=r,e+=s[h]))}return e=e.replace(/@(font\-face|page)[^\}]+\}/igm,""),e=e.replace(/(<\!\-\-)|(\-\->)|(<\!\[CDATA\[)|(\]\]>)/gm,""),u(e)}function du(t){var h=t.text.match(/(content:[^;]+;)/igm),f,e,i,a;if(h)for(f=0;f<h.length;f++)t.text=t.text.replace(h[f],"[G"+f+"]");for(t.text=u(ct(t.text,r)).split("}"),i=0;i<t.text.length;i++)for(t.text[i]=u(t.text[i]).split("{"),e=0;e<t.text[i].length;e++)t.text[i][e]=u(t.text[i][e]);if(h)for(f=0;f<h.length;f++)for(i=0;i<t.text.length;i++)for(e=0;e<t.text[i].length;e++)t.text[i][e]=t.text[i][e].replace("[G"+f+"]",h[f]);var v=0,s=t.media,c=t.xmedia,l=t.owner;for(i=0;i<t.text.length;i++)t.text[i].length==2?(n._cssRules.push({selector:t.text[i][0],css:t.text[i][1],media:s,xmedia:c,owner:l.toLowerCase(),href:t.href,ssid:t.ssid}),v++):t.text[i].length==3?(s=u(t.text[i][0].replace("@media","")).toLowerCase(),l="@media",c=s,a=t.media,a==""&&(a=o),s=lt(a,s),n._cssRules.push({selector:t.text[i][1],css:t.text[i][2],media:s,xmedia:c,owner:l,href:t.href,ssid:t.ssid}),v++):t.text[i].length==1&&(s=t.media,c=t.xmedia,l=t.owner);return v}function gu(f){for(var a=yr(e.styleSheets),c=0;c<a.length;c++)if(a[c].__ssid=n.ssidcounter++,typeof a[c].ownerNode!=i)if(vu&&/xml\-stylesheet/.test(a[c].ownerNode.nodeName))n._stylesheets.push({ssid:a[c].__ssid,href:h(a[c].href,s),owner:"xml-stylesheet",media:vt,stylesheet:t,rules:0,message:kr}),a.splice(c,1),c--;else try{er(a[c],a[c].ownerNode.nodeName.toLowerCase(),a[c].media.length>0?u(a[c].media.mediaText):o)}catch(v){n._stylesheets.push({ssid:a[c].__ssid,href:vt,owner:vt,media:vt,stylesheet:t,rules:0,message:br});a.splice(c,1);c--}else typeof a[c].owningElement!=i&&sr(a[c],a[c].owningElement.nodeName.toLowerCase(),u(a[c].media)!=""?u(a[c].media):o);n._stylesheets.sort(function(n,t){return n.ssid-t.ssid});n.ssidcounter=t;delete n.ssidcounter;it==r&&vr();typeof f==l&&f()}function er(i,u,f){var v,e,b,y,a,p;if(i.href&&i.href!=s&&(v=h(i.href,s),w(n._stylesheets,v,"href")!=t)){n._stylesheets.push({ssid:i.__ssid,href:v,owner:u,media:f,stylesheet:t,rules:0,message:ot});i.disabled=r;return}try{if(e=i.disabled,bt&&e&&i.media.length>0&&(b=i.media.mediaText,i.media.mediaText=n._viewmedia,e=i.disabled,i.media.mediaText=b),e)l=0,p=ri;else{for(var c=i.cssRules,l=0,o=0;o<c.length;o++)if(c.item(o).type==1)l++;else if(c.item(o).type==4)for(y=c.item(o).cssRules,a=0;a<y.length;a++)y.item(a).type==1&&l++;p=ii}n._stylesheets.push({ssid:i.__ssid,href:i.href&&i.href!=s?h(i.href,s):t,owner:u,media:f,stylesheet:i,rules:l,message:p});e||or(i,i.cssRules,u,f)}catch(k){n._stylesheets.push({ssid:i.__ssid,href:i.href&&i.href!=s?h(i.href,s):t,owner:u,media:f,stylesheet:t,rules:0,message:yi})}}function or(i,r,f,e){for(var c,a,v,l,w,p=0;p<r.length;p++)if(c=r.item(p),c.type==3){if(e=c.media.mediaText,e=="")try{e=c.parentStyleSheet.media.mediaText}catch(b){e=c.parentStyleSheet.ownerRule.media.mediaText}for(e==""&&(e=o),e=e.toLowerCase(),l=c.parentStyleSheet;l;){try{w=l.media.mediaText}catch(b){w=l.ownerRule.media.mediaText}w==""&&(w=o);e=lt(w,e);l=(y||nt||tt)&&!l.parentStyleSheet&&l.ownerRule?l.ownerRule.parentStyleSheet:l.parentStyleSheet}c.styleSheet.__ssid=n.ssidcounter++;er(c.styleSheet,"@import",e)}for(p=0;p<r.length;p++)if(c=r.item(p),c.type==1){for(/^(xml\-stylesheet|link|(([a-z]+:)?style))$/i.test(f)&&(e=c.parentStyleSheet.media.mediaText,e==""&&(e=o),e=e.toLowerCase()),a=c.style.cssText.replace(/[\r\n]/g," "),a=a.split(";"),v=0;v<a.length;v++){for(a[v]=a[v].split(":");a[v].length>2;)a[v][1]+=":"+a[v].pop();if(a[v].length==1){a.splice(v,1);v--;continue}c.style.getPropertyPriority(u(a[v][0]))!="important"||k.test(a[v][1])||(a[v][1]+=" !important");a[v]=a[v].join(":")}a=a.join(";");n._cssRules.push({selector:c.selectorText,css:a,media:e,owner:f,href:i.href==t?t:h(i.href,s),ssid:i.__ssid})}for(p=0;p<r.length;p++)if(c=r.item(p),c.type==4){for(e=c.media.mediaText,e==""&&(e=c.parentStyleSheet.media.mediaText),e==""&&(e=o),e=e.toLowerCase(),l=c.parentStyleSheet;l;){try{w=l.media.mediaText}catch(b){w=l.ownerRule.media.mediaText}w==""&&(w=o);e=lt(w,e);l=(y||nt||tt)&&!l.parentStyleSheet&&l.ownerRule?l.ownerRule.parentStyleSheet:l.parentStyleSheet}or(i,c.cssRules,"@media",e)}}function sr(f,e,c,l){var rt,k,g,ft,v,d,y,p,tt,b,nt,a,it,ut,et;if(f.href&&(rt=h(f.href,s),w(n._stylesheets,rt,"href")!=t)){n._stylesheets.push({ssid:f.__ssid,href:rt,owner:e,media:c,stylesheet:t,rules:0,message:ot});f.disabled=r;return}if(k=[],g=f.disabled,!g)for(a=0;a<f.imports.length;a++)f.imports[a].rules.length!=0&&(c=u(f.media),c==""&&(c=o),ft=h(f.imports[a].href,s),k.push({sheet:f.imports[a],owner:"@import",media:c,href:ft}));if(k.length>0)for(a=0;a<k.length;a++)k[a].sheet.__ssid=n.ssidcounter++,sr(k[a].sheet,k[a].owner,k[a].media,k[a].href);try{if(g)ut=ri;else{if(v=f.cssText,v=v.replace(/@(import|charset|namespace)[^;]+;/igm,""),v=v.replace(/@(font\-face|page)[^\}]+\}/igm,""),d=v.match(/(content\s*:\s*[\'\"].*(;|$))/igm),d)for(y=0;y<d.length;y++)v=v.replace(d[y],"[G"+y+"]");for(v=u(v).split("}"),a=0;a<v.length;a++)for(v[a]=u(v[a]).split("{"),p=0;p<v[a].length;p++)v[a][p]=u(v[a][p]);if(d)for(y=0;y<d.length;y++)for(a=0;a<v.length;a++)for(p=0;p<v[a].length;p++)v[a][p]=v[a][p].replace("[G"+y+"]",d[y]);for(typeof l==i&&(l=f.href==t||f.href==""?t:h(f.href,s)),tt=[],b=f.media,b==""&&(b=o),nt=e,a=0;a<v.length;a++)v[a].length==2?tt.push({selector:v[a][0],css:v[a][1],media:b,owner:nt,href:l,ssid:f.__ssid}):v[a].length==3?(b=u(v[a][0].replace("@media","")).toLowerCase(),nt="@media",it=f.media,it==""&&(it=o),b=lt(it,b),tt.push({selector:v[a][1],css:v[a][2],media:b,owner:nt,href:l,ssid:f.__ssid})):v[a].length==1&&(b=f.media,b==""&&(b=o),nt=e);ut=ii}g||(et=nf(tt));n._stylesheets.push({ssid:f.__ssid,href:f.href?h(f.href,s):t,owner:e,media:c,stylesheet:f,rules:g?0:et,message:ut})}catch(st){n._stylesheets.push({ssid:f.__ssid,href:f.href?h(f.href,s):t,owner:e,media:c,stylesheet:t,rules:0,message:yi})}}function nf(t){for(var r=0,i=0;i<t.length;i++)t[i].selector!=""&&t[i].selector!="UNKNOWN"&&t[i].selector.indexOf(":unknown")==-1&&(n._cssRules.push({selector:rf(t[i].selector),css:lr(t[i].css),media:t[i].media,owner:t[i].owner,href:t[i].href,ssid:t[i].ssid}),r++);return r}function kt(u,e,o,s,h,c,l){var tt,w,k,it,g,rt,p,y,ut,nt,a,d,v;for(o=li(o),(typeof h==i||h==t)&&(h=[]),(typeof c==i||c==t)&&(c=f),typeof l==i||l==t?(l=[u],ur==r&&u.getAttribute("style")&&(tt=tf(u),tt!=t&&n._cssRules.push(tt))):l.push(u),a=0;a<n._cssRules.length;a++)if(ar(e,n._cssRules[a])){if(n._cssRules[a].owner=="@style"&&u==l[0])w=[u],k=f;else{if(s==r){for(var k=r,ft=at(n._cssRules[a].selector),v=0;v<ft.length;v++)if(ft[v]==u){k=f;break}}else k=f;w=at(s==r?n._cssRules[a].selector.replace(b,""):n._cssRules[a].selector)}if(w.length>0)for(v=0;v<w.length;v++)if(w[v]==u){if(it=[],c)for(g=l.length-1;g>0;g--)it.push(l[g]);for(rt={selector:n._cssRules[a].selector,css:n._cssRules[a].css,index:a,specificity:[0,0,0,0],inheritance:it,altstate:k},p=["media","xmedia","owner","ssid","href"],y=0;y<p.length;y++)(o=="*"||typeof o[p[y]]!=i)&&typeof n._cssRules[a][p[y]]!=i&&(rt[p[y]]=n._cssRules[a][p[y]]);h.push(rt);break}}if(u.parentNode&&u.parentNode.nodeType==1)return kt(u.parentNode,e,o,s,h,r,l);if(h.length==0)return h;for(a=0;a<h.length;a++){for(ut=h[a].selector.split(","),nt=[],v=0;v<ut.length;v++)nt.push(h[a].inheritance.length>0?[0,0,0,0]:cr(ut[v]));nt.sort(function(n,t){return n[0]!==t[0]?t[0]-n[0]:n[1]!==t[1]?t[1]-n[1]:n[2]!==t[2]?t[2]-n[2]:t[3]-n[3]});h[a].specificity=nt[0]}if(h.sort(function(n,t){return n.specificity.toString()===t.specificity.toString()?n.index===t.index?t.inheritance.length-n.inheritance.length:n.index-t.index:n.specificity[0]!==t.specificity[0]?n.specificity[0]-t.specificity[0]:n.specificity[1]!==t.specificity[1]?n.specificity[1]-t.specificity[1]:n.specificity[2]!==t.specificity[2]?n.specificity[2]-t.specificity[2]:n.specificity[3]-t.specificity[3]}),(o==="*"||typeof o.properties!=i)&&(h=hr(h,r)),o!=="*")for(a=0;a<h.length;a++)for(d=["selector","css","index","specificity","inheritance","altstate"],v=0;v<d.length;v++)typeof o[d[v]]==i&&(h[a][d[v]]=t,delete h[a][d[v]]);return n._cssRules[n._cssRules.length-1].owner=="@style"&&n._cssRules.splice(n._cssRules.length-1,1),h}function tf(n){var u,i,r;if(v)try{u=n.outerHTML.split(">")[0].match(/.*style\s*=\s*\"([^\"]*)\".*/im);i=u?lr(u[1]):""}catch(f){i=""}else i=n.getAttribute("style");return i==""?t:(r={selector:"",css:i,media:o,owner:"@style",href:t,ssid:Infinity},p==wt&&(r.xmedia=r.media),r)}function hr(n,u){for(var l,s,b,h,o,v,c,y,p,d,nt,e,w,f=0;f<n.length;f++){n[f].properties=ff(n[f].css,{},typeof n[f].inheritance!=i&&n[f].inheritance.length>0);n[f].allproperties={};for(e in n[f].properties)n[f].allproperties[e]={value:n[f].properties[e].property,status:a};if(u)if(n[f].altstate==r)for(s in n[f].allproperties)n[f].allproperties.hasOwnProperty(s)&&(n[f].allproperties[s].status=au);else for(e=0;e<f;e++)for(l in n[e].allproperties)if(n[e].allproperties.hasOwnProperty(l)&&n[e].allproperties[l].status==a)for(s in n[f].allproperties)if(n[f].allproperties.hasOwnProperty(s)&&n[f].allproperties[s].status==a&&l==s){n[e].allproperties[l].status=g;break}}if(u){for(f=0;f<n.length;f++)if(!(n[f].inheritance.length>0))for(e in n[f].allproperties)if(n[f].allproperties.hasOwnProperty(e)&&n[f].allproperties[e].status==g&&k.test(n[f].allproperties[e].value)){for(b=f,o=f+1;o<n.length;o++)typeof n[o].allproperties[e]!=i&&n[o].allproperties[e].status==g&&k.test(n[o].allproperties[e].value)&&(b=o);for(o=f;o<n.length;o++)if(o==b)for(n[o].allproperties[e].status=a,h=0;h<o;h++)typeof n[h].allproperties[e]!=i&&n[h].allproperties[e].status==a&&(n[h].allproperties[e].status=g);else if(typeof n[o].allproperties[e]!=i&&n[o].allproperties[e].status==a){n[o].allproperties[e].status=g;break}}for(f=0;f<n.length;f++)for(e in n[f].allproperties)if(n[f].allproperties.hasOwnProperty(e)&&n[f].allproperties[e].status==a&&typeof ui[e]!=i)for(o=0;o<=f;o++)for(v=0;v<ui[e].length;v++)if(c=ui[e][v],typeof n[o].allproperties[c]!=i&&n[o].allproperties[c].status==a){if(o==f){y=0;for(p in n[o].allproperties)n[o].allproperties.hasOwnProperty(p)&&(p==e&&(d=y),p==c&&(nt=y),y++)}(o<f||nt<d)&&!k.test(n[o].allproperties[c].value)&&(n[o].allproperties[c].status=g)}}for(f=0;f<n.length;f++){for(e in n[f])n[f].hasOwnProperty(e)&&(e=="properties"||e=="allproperties")&&of(n[f][e])==0&&(n[f][e]=t);if(n[f].properties=n[f].allproperties,delete n[f].allproperties,!u)for(w in n[f].properties)n[f].properties.hasOwnProperty(w)&&(n[f].properties[w]=n[f].properties[w].value)}return n}function cr(n){var i=[0,0,0,0],r,u,t;return n===""?(i[0]+=1,i):(r=n.replace(nr,""),t=r.match(tr),t&&(i[1]+=t.length),t=r.match(ir),t&&(i[2]+=t.length),t=n.match(nr),t&&(i[2]+=t.length),t=r.match(b),t&&(i[2]+=t.length),u=r.replace(b,"").replace(gi,"").replace(/(:not)/ig,"").replace(/(^|\()([_a-z0-9-\.\\]+\|)/ig,"$1").replace(tr,"").replace(ir,""),t=u.match(/([_a-z0-9-:\\]+)/ig),t&&(i[3]+=t.length),t=r.match(gi),t&&(i[3]+=t.length),i)}function rf(n){var i=n.match(/(^|[^\(])(\[[^\]]+\])($|[^\)])/ig),t,u,r;if(i)for(t=0;t<i.length;t++)i[t].charAt(0)!="["&&(i[t]=i[t].substr(1,i[t].length-1)),i[t].charAt(i[t].length-1)!="]"&&(i[t]=i[t].substr(0,i[t].length-1)),n=n.replace(i[t],"{a"+t+"}");if(u=n.match(/([#\.][a-z]+[_a-z0-9-:\\]*)/ig),u)for(r=0;r<u.length;r++)n=n.replace(u[r],"{c"+r+"}");if(n=n.replace(/([A-Z1-6]+)/g,function(n){return n.toLowerCase()}),i)for(t=0;t<i.length;t++)n=n.replace("{a"+t+"}",i[t]);if(u)for(r=0;r<u.length;r++)n=n.replace("{c"+r+"}",u[r]);return n}function lr(n){var i,t;for(n=n.split(";"),i=0;i<n.length;i++){for(t=n[i].split(":");t.length>2;)t[1]+=":"+t.pop();if(t.length==1){n.splice(i,1);i--;continue}t[0]=u(t[0]).toLowerCase();t[1]=u(t[1]);n[i]=t[0]+": "+t[1]}return n.join("; ")}function uf(n){var i=[],t;if(n=="")return i;for(n=n.split(","),t=0;t<n.length;t++)i.push(u(n[t]));return i}function ff(n,t,f){var o,e,s;if(n=="")return t;for(n=n.replace(/[\r\n]/gm,""),n=n.split(";"),o=0;o<n.length;o++)if(n[o]=u(n[o]),n[o]!=""){for(e=n[o].split(":");e.length>2;)e[1]+=":"+e.pop();e.length!=1&&(s=u(e[0]),(!f||f&&typeof lu[s]!=i)&&(typeof t[s]==i||!k.test(t[s].property)||t[s].inherited==r||k.test(e[1]))&&(t[s]={property:u(e[1]),inherited:f}))}return t}function lt(n,r){var s=ai(n,","),h=/([ \t]and.*$)/i,c=r.match(h),l=c?c[0]:"",f,e;if(r=r.replace(h,"").replace(/only[ \t]+/i,""),typeof s.all!=i)return r+l;for(r=r.split(","),f=0;f<r.length;f++)r[f]=u(r[f]);for(f=0;f<r.length;f++){if(r[f]==o)for(e in s)s.hasOwnProperty(e)&&(w(r,e)!=t||/[\(\)]/.test(e)||r.push(e));typeof s[r[f]]==i&&(r.splice(f,1),f--)}return r.length==0&&r.push(st),r.join(", ")+l}function ar(n,t){for(var e=ai(t.media,","),s=f,u=0;u<n.length;u++)if(typeof e[n[u]]!=i||typeof e[st]==i&&n[u]==o||typeof e[o]!=i&&n[u]!=st){s=r;break}return s}function ef(){var f=yt,o,n,i,r,t,u;try{for(o=e.getElementsByTagName("body").item(0),n=o.insertBefore(e.createElement("span"),o.firstChild),n.id="cssutilitiestestmedianode",n.style.display="inline",i=cu.split(","),i.splice(0,0,"fake"),v?(t=e.createStyleSheet(),t.addRule("#cssutilitiestestmedianode","display:block !important;")):(r=e.getElementsByTagName("head").item(0).appendChild(e.createElement("style")),r.setAttribute("type","text/css"),r.appendChild(e.createTextNode("#cssutilitiestestmedianode{display:block !important;}")),t=e.styleSheets[e.styleSheets.length-1]),u=0;u<i.length;u++)if(v?t.media=i[u]:t.media.mediaText=i[u],v&&n.currentStyle.display=="block"||!v&&e.defaultView.getComputedStyle(n,"").getPropertyValue("display")=="block"){f=i[u];break}n.parentNode.removeChild(n);v&&(r=t.owningElement);r.parentNode.removeChild(r)}catch(s){f=yt}return f=="fake"&&(f=yt),f}function vr(){for(var h,l,s,o=[],u=0;u<n._stylesheets.length;u++)(h=p==wt?n._stylesheets[u].stylenode==f||n._stylesheets[u].stylenode==t?t:y||nt||tt?n._stylesheets[u].stylenode:n._stylesheets[u].stylenode[typeof n._stylesheets[u].stylenode.styleSheet!=i?"styleSheet":"sheet"]:n._stylesheets[u].stylesheet,h!=t)&&o.push({stylesheet:h,disabled:h.disabled});if((y||nt||tt)&&p==fi){function c(){for(var r=[],t=e.styleSheets,n=0;n<t.length;n++)typeof t[n].ownerNode.__ident==i&&(t[n].ownerNode.__ident=(new Date).getTime()+""+Math.round(Math.random()*1e4)),r.push(t[n].ownerNode.__ident);return r}l=c();s=window.setInterval(function(){var r=c();l.join()!=r.join()&&(window.clearInterval(s),n.init(typeof n.initcallback!=i?n.initcallback:t))},ei)}else s=window.setInterval(function(){for(var f,u=0;u<o.length;u++)if(o[u].stylesheet.disabled!=o[u].disabled&&(window.clearInterval(s),n.init(typeof n.initcallback!=i?n.initcallback:t),f=r),typeof f!=i)break},ei)}function at(n){var r,t,o;if(di.test(n)){for(r=n.split(","),t=0;t<r.length;t++)di.test(r[t])&&(r.splice(t,1),t--);n=r.join(",")}if(u(n)=="")return[];if(ht==f)try{return e.querySelectorAll(n)}catch(s){return[]}if(typeof si==l)try{return si(n,e)}catch(s){return[]}try{if(typeof Selector!=l)throw new Error(bi);return o=Selector(n,e),typeof o==i?[]:o}catch(s){if(s.message==bi)throw s;return[]}}function ci(t){var i,r;try{i=yr(n._isXML?e.getElementsByTagNameNS("*",t):e.getElementsByTagName(t))}catch(u){i=[]}if(t=="*")for(r=0;r<i.length;r++)(i[r].nodeType!=1||i[r].tagName.charAt(0)=="/")&&i.splice(r--,1);return i}function ut(){typeof n._cssRules==i&&n.init()}function ft(n,r){var f,u,e;for(r.push("onfinished"),f={},u=0;u<r.length;u++)if(typeof n[u]==l){for(e=u;e<r.length;e++)f[r[e]]=t;f.onfinished=n[u];break}else f[r[u]]=typeof n[u]==i?t:n[u];return f}function dt(n,r){if(typeof n==d&&n.charAt(0)=="#"&&(n=e.getElementById(n.substr(1,n.length-1))),typeof n==i||n==t||typeof n.nodeType==i||n.nodeType!=1)throw new Error(fu.replace("%method",r));return n}function gt(r){(typeof r==i||r==""||r==t)&&(r=yt);/(^|,)\*(,|$)/.test(r)&&(r="all,none");r=r.split(",");for(var f=0;f<r.length;f++)r[f]=u(r[f]),r[f]==hu&&(r[f]=n._viewmedia);return r}function li(n){return typeof n==i||n==""||n==t||n=="null"?n="*":typeof n==d&&(n=u(n),n!=="*"&&(n=/(,\s*\*|\*\s*,)/.test(n)?"*":ai(n,","))),n}function et(n){return typeof n!=l&&(n=t),n}function u(n){return n.replace(/^\s+|\s+$/g,"")}function w(n,r,u){for(var f=0;f<n.length;f++)if(typeof u!=i&&typeof n[f]==rr){if(n[f][u]==r)return n[f]}else if(n[f]==r)return n[f];return t}function yr(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t]);return i}function ai(n,t){var f={},r,i;if(n=n.split(t),r=n[n.length-1],/[ \t]and/i.test(r))for(r=r.split(/[ \t]and/i),n.splice(n.length-1,1),i=0;i<r.length;i++)n.push(r[i]);for(i=0;i<n.length;i++)f[u(n[i])]="";return f}function of(n){var t=0,i;for(i in n)n.hasOwnProperty(i)&&t++;return t}function h(n,t){var e,o,s,h,r,f,u;if(typeof n==i)return"";if(r=t.replace("//","/").split("/"),e={protocol:r[0],host:r[1]},r.splice(0,2),e.pathname="/"+r.join("/"),o=e.protocol+"//"+e.host,/^(\.\/)([^\/]?)/.test(n)&&(n=n.replace(/^(\.\/)([^\/]?)/,"$2")),/(^([a-z]+)\:\/\/)/.test(n))o=n;else if(n.substr(0,1)=="/")o+=n;else if(/^((\.\.\/)+)([^\/].*$)/.test(n)){for(s=n.match(/^((\.\.\/)+)([^\/].*$)/),s=s[s.length-1],h=n.split("../").length-1,r=e.pathname.split("/"),r=r.splice(0,r.length-1),u=0;u<h;u++)r=r.splice(0,r.length-1);for(f="",u=0;u<r.length;u++)r[u]!=""&&(f+="/"+r[u]);f+="/";f+=s;o+=f}else{for(f="",r=e.pathname.split("/"),r=r.splice(0,r.length-1),u=0;u<r.length;u++)r[u]!=""&&(f+="/"+r[u]);f+="/";o+=f+n}return o}function pr(n,e,o,s){function l(n){/(0|200|304)/.test(n.status.toString())?o(n.responseText,n.getResponseHeader("Content-Type")):s(u(n.statusText),n.status)}var h=t,c;if(typeof window.ActiveXObject!=i)try{h=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){h=t}if(h==t&&typeof window.XMLHttpRequest!=i)try{h=new XMLHttpRequest}catch(a){h=t}if(h==t)throw new Error(uu);if(h.open("GET",e,n),n==r){h.onreadystatechange=function(){h.readyState==4&&l(h)};try{h.send(t)}catch(a){s(vi)}}else{try{h.send(t);c=r}catch(a){c=f}c===r?l(h):s(vi)}}var n=this;if(this._allready=!1,this.supported=!1,typeof document.getElementById!="undefined"&&typeof document.styleSheets!="undefined"&&typeof document.nodeType!="undefined"){this.supported=!0;var ni=!1,vi="Network Failure or Security Violation",wr="Network Failure",yi="Security Violation",br="Unspecified Error",ti="Data is not CSS",vt="unknown",ii="OK",ot="Discarded Duplicate",ri="Stylesheet is disabled",kr="Unsupported node type",c="CSSUtilities (Fatal Error):",dr=c+" The specified mode is not valid",gr=c+" The specified async setting is not valid",nu=c+" The specified document is not a Document",tu=c+" The specified base is not an absolute URL",pi=c+" The specified watch setting is not valid",iu=c+" The specified attributes setting is not valid",wi=c+" The specified api settings are not valid",ru=c+" Your Selectors API is not returning the right data",bi=c+" The Selectors API is missing",uu=c+" Unable to communicate with the network",fu="CSSUtilities.%method has an invalid Element reference or ID",eu="CSSUtilities.%method requires a valid Selector reference",ou="CSSUtilities.%method can only process one Selector at a time",su="CSSUtilities.%method has an invalid Stylesheet ID",ki=c+' You cannot define "%var" after "api", it must be defined first',o="all",yt="screen",st="none",hu="current",cu="aural,braille,embossed,handheld,print,projection,reader,screen,speech,tty,tv",lu={azimuth:"2","border-collapse":"2","border-spacing":"2","caption-side":"2",color:"2",cursor:"2",direction:"2",elevation:"2","empty-cells":"2",fit:"3","fit-position":"3",font:"2","font-family":"2","font-size":"2","font-size-adjust":"2","font-stretch":"2","font-style":"2","font-variant":"2","font-weight":"2","hanging-punctuation":"3","hyphenate-after":"3","hyphenate-before":"3","hyphenate-character":"3","hyphenate-lines":"3","hyphenate-resource":"3",hyphens:"3","image-resolution":"3","letter-spacing":"2","line-height":"2","line-stacking":"3","line-stacking-ruby":"3","line-stacking-shift":"3","line-stacking-strategy":"3","list-style":"2","list-style-image":"2","list-style-position":"2","list-style-type":"2","marquee-direction":"3",orphans:"2","overflow-style":"3",page:"2","page-break-inside":"2",pitch:"2","pitch-range":"2","presentation-level":"3","punctuation-trim":"3",quotes:"2",richness:"2","ruby-align":"3","ruby-overhang":"3","ruby-position":"3",speak:"2","speak-header":"2","speak-numeral":"2","speak-punctuation":"2","speech-rate":"2",stress:"2","text-align":"2","text-align-last":"3","text-emphasis":"3","text-height":"3","text-indent":"2","text-justify":"3","text-outline":"3","text-replace":"?","text-shadow":"3","text-transform":"2","text-wrap":"3",visibility:"2","voice-balance":"3","voice-family":"2","voice-rate":"3","voice-pitch":"3","voice-pitch-range":"3","voice-stress":"3","voice-volume":"3",volume:"2","white-space":"2","white-space-collapse":"3",widows:"2","word-break":"3","word-spacing":"2","word-wrap":"3","-moz-force-broken-image-icon":"m","-moz-image-region":"m","-moz-stack-sizing":"m","-moz-user-input":"m","-x-system-font":"m","-xv-voice-balance":"o","-xv-voice-pitch":"o","-xv-voice-pitch-range":"o","-xv-voice-rate":"o","-xv-voice-stress":"o","-xv-voice-volume":"o","-ms-text-align-last":"e","-ms-text-justify":"e","-ms-word-break":"e","-ms-word-wrap":"e"},ui={margin:["margin-top","margin-right","margin-bottom","margin-left"],padding:["padding-top","padding-right","padding-bottom","padding-left"],outline:["outline-width","outline-style","outline-color"],border:["border-width","border-style","border-color","border-top","border-right","border-bottom","border-left","border-top-width","border-right-width","border-bottom-width","border-left-width","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-color","border-right-color","border-bottom-color","border-left-color"],"border-width":["border-top-width","border-right-width","border-bottom-width","border-left-width"],"border-style":["border-top-style","border-right-style","border-bottom-style","border-left-style"],"border-color":["border-top-color","border-right-color","border-bottom-color","border-left-color"],"border-top":["border-top-width","border-top-style","border-top-color"],"border-right":["border-right-width","border-right-style","border-right-color"],"border-bottom":["border-bottom-width","border-bottom-style","border-bottom-color"],"border-left":["border-left-width","border-left-style","border-left-color"],"list-style":["list-style-type","list-style-image","list-style-position"],font:["font-weight","font-style","font-variant","font-size","line-height","font-family"],background:["background-color","background-image","background-repeat","background-attachment","background-position","background-size","background-clip","background-origin"],"line-stacking":["line-stacking-strategy","line-stacking-ruby","line-stacking-shift"],"column-rule":["column-rule-width","column-rule-style","column-rule-color"],columns:["column-width","column-count"],pause:["pause-before","pause-after"],rest:["rest-before","rest-after"],cue:["cue-before","cue-after"],mark:["mark-before","mark-after"],transition:["transition-property","transition-duration","transition-timing-function","transition-delay"],animation:["animation-name","animation-duration","animation-timing-function","animation-delay","animation-iteration-count","animation-direction"],target:["target-name","target-new","target-position"]},di=/[:]{1,2}(?:first\-(letter|line)|before|after|selection|value|choices|repeat\-(item|index)|outside|alternate|(line\-)?marker|slot\([_a-z0-9\-\+\.\\]*\))/i,gi=/([:]{1,2}(?:first\-(letter|line)|before|after|selection|value|choices|repeat\-(item|index)|outside|alternate|(line\-)?marker|slot\([_a-z0-9\-\+\.\\]*\)))/ig,b=/([:](?:(link|visited|active|hover|focus|lang|root|empty|target|enabled|disabled|checked|default|valid|invalid|required|optional)|((in|out\-of)\-range)|(read\-(only|write))|(first|last|only|nth)(\-last)?\-(child|of\-type))(?:\([_a-z0-9\-\+\.\\]*\))?)/ig,nr=/(\[\s*[_a-z0-9-:\.\|\\]+\s*(?:[~\|\*\^\$]?=\s*[\"\'][^\"\']*[\"\'])?\s*\])/ig,tr=/(#[a-z]+[_a-z0-9-:\\]*)/ig,ir=/(\.[_a-z]+[_a-z0-9-:\\]*)/ig,k=/\!\s*important\s*$/i,i="undefined",rr="object",d="string",l="function",pt="boolean",r=!0,f=!1,t=null,fi="browser",wt="author",a="active",g="cancelled",au="inactive",y=navigator.vendor=="Apple Computer, Inc.",vu=y&&/version\/3/i.test(navigator.appVersion),nt=navigator.vendor=="KDE",tt=/applewebkit/i.test(navigator.userAgent),v=typeof document.uniqueID!=i,bt=typeof window.opera!=i,ei=200,p=fi,oi=r,e=document,s,it=f,ur=r,ht=t,si=t,hi=f;this.define=function(n,u,o){switch(n){case"mode":if(typeof u!=d||!/^(author|browser)$/i.test(u))throw new Error(dr);if(p=u,p==fi&&it===t)throw new Error(pi);break;case"async":if(typeof u!=pt)throw new Error(gr);oi=u;break;case"page":if(hi==r)throw new Error(ki.replace("%var","page"));if(typeof u.nodeType==i||u.nodeType!=9)throw new Error(nu);e=u;break;case"base":if(hi==r)throw new Error(ki.replace("%var","base"));if(typeof u!=d||!/^(((ht|f)tp[s]?)\:)/i.test(u))throw new Error(tu);s=u;break;case"attributes":if(typeof u!=pt)throw new Error(iu);ur=u;break;case"watch":if(!(typeof u==pt||p==wt&&u==t))throw new Error(pi);it=u;break;case"api":if(typeof u!=pt)throw new Error(wi);if(typeof o!=i&&typeof o!=l)throw new Error(wi);if(ht=u==f?typeof e.querySelectorAll==i:r,hi=r,typeof o==l){var h=o("*",e);if(typeof h!=rr||h==t||typeof h.length==i)throw new Error(ru);si=o}}};this.init=function(u){function o(){ni=f;CSSUtilities._allready=r;typeof u==l?(CSSUtilities.initcallback=u,CSSUtilities.initcallback()):(CSSUtilities.initcallback=t,delete CSSUtilities.initcallback)}ni!==r&&(ni=r,this._allready=f,ht=typeof e.querySelectorAll!=i&&ht!==r?f:r,s==t&&(s=e.location.href),this._isXML=bt&&e.documentElement.namespaceURI!=t||!bt&&typeof e.xmlVersion!=i&&e.xmlVersion!=t,this._viewmedia=ef(),this._cssRules=t,delete this._cssRules,this._stylesheets=t,delete this._stylesheets,n._cssRules=[],n._stylesheets=[],n.ssidcounter=0,p==wt?yu(o):gu(o))};this.getCSSStyleSheets=function(){var t=ft(arguments,[]);return t.onfinished=et(t.onfinished),ut(),rt(t.onfinished,function(){return n._stylesheets})};this.getCSSRules=function(){var n=ft(arguments,["element","media","accept","altstates"]);return n.element=dt(n.element,"getCSSRules"),n.media=gt(n.media),n.accept=li(n.accept),n.altstates==t&&(n.altstates=f),n.onfinished=et(n.onfinished),ut(),rt(n.onfinished,function(){return kt(n.element,n.media,n.accept,n.altstates)})};this.getCSSStyleSheetRules=function(){var u=ft(arguments,["media","accept","ssid"]),e;if(u.media=gt(u.media),u.accept=li(u.accept),typeof u.accept.properties!=i&&typeof u.accept.css==i&&(u.accept.css="",e=r),u.ssid===t&&(u.ssid=-1),u.onfinished=et(u.onfinished),ut(),u.ssid!==-1&&w(this._stylesheets,u.ssid,"ssid")==t)throw new Error(su.replace("%method","getCSSStyleSheetRules"));return rt(u.onfinished,function(){for(var o=[],h,s,r=0;r<n._cssRules.length;r++)if(h={},ar(u.media,n._cssRules[r])){if(u.ssid!==-1&&n._cssRules[r].ssid!==u.ssid)continue;for(s in n._cssRules[r])n._cssRules[r].hasOwnProperty(s)&&(u.accept=="*"||typeof u.accept[s]!=i)&&(h[s]=n._cssRules[r][s]);(u.accept=="*"||typeof u.accept.index!=i)&&(h.index=r);o.push(h)}if((typeof u.accept.properties!=i||u.accept==="*")&&(o=hr(o,f)),typeof e!=i)for(r=0;r<o.length;r++)o[r].css=t,delete o[r].css;return o})};this.getCSSProperties=function(){var n=ft(arguments,["element","media"]);return n.element=dt(n.element,"getCSSProperties"),n.media=gt(n.media),n.onfinished=et(n.onfinished),ut(),rt(n.onfinished,function(){var e={},r=kt(n.element,n.media,"properties",f),i,u;if(r.length==0)return t;for(i=0;i<r.length;i++)for(u in r[i].properties)r[i].properties.hasOwnProperty(u)&&r[i].properties[u].status==a&&(e[u]=r[i].properties[u].value);return e})};this.getCSSSelectors=function(){var n=ft(arguments,["element","media","directonly"]);return n.element=dt(n.element,"getCSSSelectors"),n.media=gt(n.media),n.directonly==t&&(n.directonly=r),n.onfinished=et(n.onfinished),ut(),rt(n.onfinished,function(){for(var e=[],v=kt(n.element,n.media,"selector",r),h,c,l,a,s,o,u,i=0;i<v.length;i++)for(s=uf(v[i].selector),u=0;u<s.length;u++)w(e,s[u])==t&&e.push(s[u]);if(n.directonly==f){for(h=n.element,c=[h];h.parentNode;)c.push(h.parentNode),h=h.parentNode;for(i=0;i<e.length;i++){for(l=f,u=0;u<c.length;u++){if(o=at(e[i].replace(b,"")),o.length>0)for(a=0;a<o.length;a++)if(o[a]==c[u]){l=r;break}if(l==r)break}l==f&&(e.splice(i,1),i--)}return e}for(s=[],i=0;i<e.length;i++)if(o=at(e[i].replace(b,"")),o.length>0)for(u=0;u<o.length;u++)if(o[u]==n.element){s.push(e[i]);break}return s})};this.getCSSSelectorSpecificity=function(){var n=ft(arguments,["selector","element"]);if(typeof n.selector!=d||n.selector==t||u(n.selector)=="")throw new Error(eu.replace("%method","getCSSSelectorSpecificity"));else if(n.selector.indexOf(",")!=-1)throw new Error(ou.replace("%method","getCSSSelectorSpecificity"));return n.element!=t&&(n.element=dt(n.element,"getCSSSelectorSpecificity")),n.onfinished=et(n.onfinished),ut(),rt(n.onfinished,function(){var o,e,s,h,c,i;if(n.selector=u(n.selector),n.element!=t){if(o=f,e=at(n.selector.replace(b,"")),e.length>0)for(i=0;i<e.length;i++)if(e[i]==n.element){o=r;break}if(o==f){for(s=n.element,h=[s];s.parentNode;)h.push(s),s=s.parentNode;for(c=0;c<h.length;c++){if(e.length>0)for(i=0;i<e.length;i++)if(e[i]==h[c]){o=r;break}if(o==r)break}return o==r?[0,0,0,0]:t}}return cr(n.selector)})}}}).apply(CSSUtilities);!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n("object"==typeof exports?require("jquery"):jQuery)}(function(n){var t=function(){var t;return n&&n.fn&&n.fn.select2&&n.fn.select2.amd&&(t=n.fn.select2.amd),function(){if(!t||!t.requirejs){t?i=t:t={};var n,i,r;!function(t){function e(n,t){return nt.call(n,t)}function c(n,t){var e,s,o,r,h,y,c,w,i,l,p,u=t&&t.split("/"),a=f.map,v=a&&a["*"]||{};if(n&&"."===n.charAt(0))if(t){for(n=n.split("/"),h=n.length-1,f.nodeIdCompat&&b.test(n[h])&&(n[h]=n[h].replace(b,"")),n=u.slice(0,u.length-1).concat(n),i=0;i<n.length;i+=1)if(p=n[i],"."===p)n.splice(i,1),i-=1;else if(".."===p){if(1===i&&(".."===n[2]||".."===n[0]))break;i>0&&(n.splice(i-1,2),i-=2)}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));if((u||v)&&a){for(e=n.split("/"),i=e.length;i>0;i-=1){if(s=e.slice(0,i).join("/"),u)for(l=u.length;l>0;l-=1)if(o=a[u.slice(0,l).join("/")],o&&(o=o[s])){r=o;y=i;break}if(r)break;!c&&v&&v[s]&&(c=v[s],w=i)}!r&&c&&(r=c,y=w);r&&(e.splice(0,y,r),n=e.join("/"))}return n}function p(n,i){return function(){var r=tt.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),o.apply(t,r.concat([n,i]))}}function k(n){return function(t){return c(t,n)}}function d(n){return function(t){u[n]=t}}function l(n){if(e(h,n)){var i=h[n];delete h[n];y[n]=!0;a.apply(t,i)}if(!e(u,n)&&!e(y,n))throw new Error("No "+n);return u[n]}function w(n){var i,t=n?n.indexOf("!"):-1;return t>-1&&(i=n.substring(0,t),n=n.substring(t+1,n.length)),[i,n]}function g(n){return function(){return f&&f.config&&f.config[n]||{}}}var a,o,v,s,u={},h={},f={},y={},nt=Object.prototype.hasOwnProperty,tt=[].slice,b=/\.js$/;v=function(n,t){var r,u=w(n),i=u[0];return n=u[1],i&&(i=c(i,t),r=l(i)),i?n=r&&r.normalize?r.normalize(n,k(t)):c(n,t):(n=c(n,t),u=w(n),i=u[0],n=u[1],i&&(r=l(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:r}};s={require:function(n){return p(n)},exports:function(n){var t=u[n];return"undefined"!=typeof t?t:u[n]={}},module:function(n){return{id:n,uri:"",exports:u[n],config:g(n)}}};a=function(n,i,r,f){var w,o,k,b,c,g,a=[],nt=typeof r;if(f=f||n,"undefined"===nt||"function"===nt){for(i=!i.length&&r.length?["require","exports","module"]:i,c=0;c<i.length;c+=1)if(b=v(i[c],f),o=b.f,"require"===o)a[c]=s.require(n);else if("exports"===o)a[c]=s.exports(n),g=!0;else if("module"===o)w=a[c]=s.module(n);else if(e(u,o)||e(h,o)||e(y,o))a[c]=l(o);else{if(!b.p)throw new Error(n+" missing "+o);b.p.load(b.n,p(f,!0),d(o),{});a[c]=u[o]}k=r?r.apply(u[n],a):void 0;n&&(w&&w.exports!==t&&w.exports!==u[n]?u[n]=w.exports:k===t&&g||(u[n]=k))}else n&&(u[n]=r)};n=i=o=function(n,i,r,u,e){if("string"==typeof n)return s[n]?s[n](i):l(v(n,i).f);if(!n.splice){if(f=n,f.deps&&o(f.deps,f.callback),!i)return;i.splice?(n=i,i=r,r=null):n=t}return i=i||function(){},"function"==typeof r&&(r=u,u=e),u?a(t,n,i,r):setTimeout(function(){a(t,n,i,r)},4),o};o.config=function(n){return o(n)};n._defined=u;r=function(n,t,i){if("string"!=typeof n)throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]);e(u,n)||e(h,n)||(h[n]=[n,t,i])};r.amd={jQuery:!0}}();t.requirejs=n;t.require=i;t.define=r}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=n||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(n){function r(n){var i=n.prototype,r=[],t,u;for(t in i)u=i[t],"function"==typeof u&&"constructor"!==t&&r.push(t);return r}var t={},i;return t.Extend=function(n,t){function r(){this.constructor=n}var u={}.hasOwnProperty,i;for(i in t)u.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},t.Decorate=function(n,t){function i(){var r=Array.prototype.unshift,u=t.prototype.constructor.length,i=n.prototype.constructor;u>0&&(r.call(arguments,n.prototype.constructor),i=t.prototype.constructor);i.apply(this,arguments)}function l(){this.constructor=i}var s=r(t),h=r(n),u,e,c,f,o;for(t.displayName=n.displayName,i.prototype=new l,u=0;u<h.length;u++)e=h[u],i.prototype[e]=n.prototype[e];for(c=function(n){var r=function(){},u;return n in i.prototype&&(r=i.prototype[n]),u=t.prototype[n],function(){var n=Array.prototype.unshift;return n.call(arguments,r),u.apply(this,arguments)}},f=0;f<s.length;f++)o=s[f],i.prototype[o]=c(o);return i},i=function(){this.listeners={}},i.prototype.on=function(n,t){this.listeners=this.listeners||{};n in this.listeners?this.listeners[n].push(t):this.listeners[n]=[t]},i.prototype.trigger=function(n){var i=Array.prototype.slice,t=i.call(arguments,1);this.listeners=this.listeners||{};null==t&&(t=[]);0===t.length&&t.push({});t[0]._type=n;n in this.listeners&&this.invoke(this.listeners[n],i.call(arguments,1));"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(n,t){for(var i=0,r=n.length;r>i;i++)n[i].apply(this,t)},t.Observable=i,t.generateChars=function(n){for(var r,t="",i=0;n>i;i++)r=Math.floor(36*Math.random()),t+=r.toString(36);return t},t.bind=function(n,t){return function(){n.apply(t,arguments)}},t._convertData=function(n){var f,r,i,u,t;for(f in n)if(r=f.split("-"),i=n,1!==r.length){for(u=0;u<r.length;u++)t=r[u],t=t.substring(0,1).toLowerCase()+t.substring(1),t in i||(i[t]={}),u==r.length-1&&(i[t]=n[f]),i=i[t];delete n[f]}return n},t.hasScroll=function(t,i){var u=n(i),f=i.style.overflowX,r=i.style.overflowY;return f!==r||"hidden"!==r&&"visible"!==r?"scroll"===f||"scroll"===r?!0:u.innerHeight()<i.scrollHeight||u.innerWidth()<i.scrollWidth:!1},t.escapeMarkup=function(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof n?n:String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})},t.appendMany=function(t,i){if("1.7"===n.fn.jquery.substr(0,3)){var r=n();n.map(i,function(n){r=r.add(n)});i=r}t.append(i)},t}),t.define("select2/results",["jquery","./utils"],function(n,t){function i(n,t,r){this.$element=n;this.data=r;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<ul class="select2-results__options" role="tree"><\/ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var u=this.options.get("escapeMarkup"),i,r;this.clear();this.hideLoading();i=n('<li role="treeitem" aria-live="assertive" class="select2-results__option"><\/li>');r=this.options.get("translations").get(t.message);i.append(u(r(t.args)));i[0].className+=" select2-results__message";this.$results.append(i)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(n){var i,t,r,u;if(this.hideLoading(),i=[],null==n.results||0===n.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));for(n.results=this.sort(n.results),t=0;t<n.results.length;t++)r=n.results[t],u=this.option(r),i.push(u);this.$results.append(i)},i.prototype.position=function(n,t){var i=t.find(".select2-results");i.append(n)},i.prototype.sort=function(n){var t=this.options.get("sorter");return t(n)},i.prototype.highlightFirstItem=function(){var n=this.$results.find(".select2-results__option[aria-selected]"),t=n.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):n.first().trigger("mouseenter");this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(i){var r=n.map(i,function(n){return n.id.toString()}),u=t.$results.find(".select2-results__option[aria-selected]");u.each(function(){var i=n(this),t=n.data(this,"data"),u=""+t.id;null!=t.element&&t.element.selected||null==t.element&&n.inArray(u,r)>-1?i.attr("aria-selected","true"):i.attr("aria-selected","false")})})},i.prototype.showLoading=function(n){this.hideLoading();var i=this.options.get("translations").get("searching"),r={disabled:!0,loading:!0,text:i(n)},t=this.option(r);t.className+=" loading-results";this.$results.prepend(t)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var r=document.createElement("li"),i,e,c,o,u,s,f,l,a,h;r.className="select2-results__option";i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true");null==t.id&&delete i["aria-selected"];null!=t._resultId&&(r.id=t._resultId);t.title&&(r.title=t.title);t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(e in i)c=i[e],r.setAttribute(e,c);if(t.children){for(o=n(r),u=document.createElement("strong"),u.className="select2-results__group",n(u),this.template(t,u),s=[],f=0;f<t.children.length;f++)l=t.children[f],a=this.option(l),s.push(a);h=n("<ul><\/ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(s);o.append(u);o.append(h)}else this.template(t,r);return n.data(r,"data",t),r},i.prototype.bind=function(t){var i=this,r=t.id+"-results";this.$results.attr("id",r);t.on("results:all",function(n){i.clear();i.append(n.data);t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("results:append",function(n){i.append(n.data);t.isOpen()&&i.setClasses()});t.on("query",function(n){i.hideMessages();i.showLoading(n)});t.on("select",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("unselect",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("open",function(){i.$results.attr("aria-expanded","true");i.$results.attr("aria-hidden","false");i.setClasses();i.ensureHighlightVisible()});t.on("close",function(){i.$results.attr("aria-expanded","false");i.$results.attr("aria-hidden","true");i.$results.removeAttr("aria-activedescendant")});t.on("results:toggle",function(){var n=i.getHighlightedResults();0!==n.length&&n.trigger("mouseup")});t.on("results:select",function(){var n=i.getHighlightedResults(),t;0!==n.length&&(t=n.data("data"),"true"==n.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:t}))});t.on("results:previous",function(){var r=i.getHighlightedResults(),u=i.$results.find("[aria-selected]"),f=u.index(r),n,t;if(0!==f){n=f-1;0===r.length&&(n=0);t=u.eq(n);t.trigger("mouseenter");var e=i.$results.offset().top,o=t.offset().top,s=i.$results.scrollTop()+(o-e);0===n?i.$results.scrollTop(0):0>o-e&&i.$results.scrollTop(s)}});t.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),o=t.index(e),r=o+1,n;if(!(r>=t.length)){n=t.eq(r);n.trigger("mouseenter");var u=i.$results.offset().top+i.$results.outerHeight(!1),f=n.offset().top+n.outerHeight(!1),s=i.$results.scrollTop()+f-u;0===r?i.$results.scrollTop(0):f>u&&i.$results.scrollTop(s)}});t.on("results:focus",function(n){n.element.addClass("select2-results__option--highlighted")});t.on("results:message",function(n){i.displayMessage(n)});n.fn.mousewheel&&this.$results.on("mousewheel",function(n){var t=i.$results.scrollTop(),r=i.$results.get(0).scrollHeight-t+n.deltaY,u=n.deltaY>0&&t-n.deltaY<=0,f=n.deltaY<0&&r<=i.$results.height();u?(i.$results.scrollTop(0),n.preventDefault(),n.stopPropagation()):f&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),n.preventDefault(),n.stopPropagation())});this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var r=n(this),u=r.data("data");return"true"===r.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:t,data:u}):i.trigger("close",{})):void i.trigger("select",{originalEvent:t,data:u})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var t=n(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted");i.trigger("results:focus",{data:t,element:n(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var n=this.getHighlightedResults();if(0!==n.length){var f=this.$results.find("[aria-selected]"),e=f.index(n),t=this.$results.offset().top,i=n.offset().top,r=this.$results.scrollTop()+(i-t),u=i-t;r-=2*n.outerHeight(!1);2>=e?this.$results.scrollTop(0):(u>this.$results.outerHeight()||0>u)&&this.$results.scrollTop(r)}},i.prototype.template=function(t,i){var u=this.options.get("templateResult"),f=this.options.get("escapeMarkup"),r=u(t,i);null==r?i.style.display="none":"string"==typeof r?i.innerHTML=f(r):n(i).append(r)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"><\/span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},r.prototype.bind=function(n){var t=this,r=(n.id+"-container",n.id+"-results");this.container=n;this.$selection.on("focus",function(n){t.trigger("focus",n)});this.$selection.on("blur",function(n){t._handleBlur(n)});this.$selection.on("keydown",function(n){t.trigger("keypress",n);n.which===i.SPACE&&n.preventDefault()});n.on("results:focus",function(n){t.$selection.attr("aria-activedescendant",n.data._resultId)});n.on("selection:update",function(n){t.update(n.data)});n.on("open",function(){t.$selection.attr("aria-expanded","true");t.$selection.attr("aria-owns",r);t._attachCloseHandler(n)});n.on("close",function(){t.$selection.attr("aria-expanded","false");t.$selection.removeAttr("aria-activedescendant");t.$selection.removeAttr("aria-owns");t.$selection.focus();t._detachCloseHandler(n)});n.on("enable",function(){t.$selection.attr("tabindex",t._tabindex)});n.on("disable",function(){t.$selection.attr("tabindex","-1")})},r.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||n.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(t){n(document.body).on("mousedown.select2."+t.id,function(t){var i=n(t.target),r=i.closest(".select2"),u=n(".select2.select2-container--open");u.each(function(){var i=n(this),t;this!=r[0]&&(t=i.data("element"),t.select2("close"))})})},r.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(n,t){var i=t.find(".selection");i.append(n)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.");},r}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--single"),n.html('<span class="select2-selection__rendered"><\/span><span class="select2-selection__arrow" role="presentation"><b role="presentation"><\/b><\/span>'),n},r.prototype.bind=function(n){var t=this,i;r.__super__.bind.apply(this,arguments);i=n.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i);this.$selection.attr("aria-labelledby",i);this.$selection.on("mousedown",function(n){1===n.which&&t.trigger("toggle",{originalEvent:n})});this.$selection.on("focus",function(){});this.$selection.on("blur",function(){});n.on("focus",function(){n.isOpen()||t.$selection.focus()});n.on("selection:update",function(n){t.update(n.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(n,t){var i=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(i(n,t))},r.prototype.selectionContainer=function(){return n("<span><\/span>")},r.prototype.update=function(n){if(0===n.length)return void this.clear();var t=n[0],i=this.$selection.find(".select2-selection__rendered"),r=this.display(t,i);i.empty().append(r);i.prop("title",t.title||t.text)},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--multiple"),n.html('<ul class="select2-selection__rendered"><\/ul>'),n},r.prototype.bind=function(){var t=this;r.__super__.bind.apply(this,arguments);this.$selection.on("click",function(n){t.trigger("toggle",{originalEvent:n})});this.$selection.on("click",".select2-selection__choice__remove",function(i){if(!t.options.get("disabled")){var r=n(this),u=r.parent(),f=u.data("data");t.trigger("unselect",{originalEvent:i,data:f})}})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(n,t){var i=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(i(n,t))},r.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;<\/span><\/li>')},r.prototype.update=function(n){var f,r,e;if(this.clear(),0!==n.length){for(f=[],r=0;r<n.length;r++){var u=n[r],t=this.selectionContainer(),o=this.display(u,t);t.append(o);t.prop("title",u.title||u.text);t.data("data",u);f.push(t)}e=this.$selection.find(".select2-selection__rendered");i.appendMany(e,f)}},r}),t.define("select2/selection/placeholder",["../utils"],function(){function n(n,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i)}return n.prototype.normalizePlaceholder=function(n,t){return"string"==typeof t&&(t={id:"",text:t}),t},n.prototype.createPlaceholder=function(n,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},n.prototype.update=function(n,t){var r=1==t.length&&t[0].id!=this.placeholder.id,u=t.length>1,i;if(u||r)return n.call(this,t);this.clear();i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},n}),t.define("select2/selection/allowClear",["jquery","../keys"],function(n,t){function i(){}return i.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.");this.$selection.on("mousedown",".select2-selection__clear",function(n){r._handleClear(n)});t.on("keypress",function(n){r._handleKeyboardClear(n,t)})},i.prototype._handleClear=function(n,t){var r,u,i,f;if(!this.options.get("disabled")&&(r=this.$selection.find(".select2-selection__clear"),0!==r.length)){for(t.stopPropagation(),u=r.data("data"),i=0;i<u.length;i++)if(f={data:u[i]},this.trigger("unselect",f),f.prevented)return;this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle",{})}},i.prototype._handleKeyboardClear=function(n,i,r){r.isOpen()||(i.which==t.DELETE||i.which==t.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(t,i){if(t.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var r=n('<span class="select2-selection__clear">&times;<\/span>');r.data("data",i);this.$selection.find(".select2-selection__rendered").prepend(r)}},i}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(n,t,i){function r(n,t,i){n.call(this,t,i)}return r.prototype.render=function(t){var i=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /><\/li>'),r;return this.$searchContainer=i,this.$search=i.find("input"),r=t.call(this),this._transferTabIndex(),r},r.prototype.bind=function(n,t,r){var u=this,f,e;n.call(this,t,r);t.on("open",function(){u.$search.trigger("focus")});t.on("close",function(){u.$search.val("");u.$search.removeAttr("aria-activedescendant");u.$search.trigger("focus")});t.on("enable",function(){u.$search.prop("disabled",!1);u._transferTabIndex()});t.on("disable",function(){u.$search.prop("disabled",!0)});t.on("focus",function(){u.$search.trigger("focus")});t.on("results:focus",function(n){u.$search.attr("aria-activedescendant",n.id)});this.$selection.on("focusin",".select2-search--inline",function(n){u.trigger("focus",n)});this.$selection.on("focusout",".select2-search--inline",function(n){u._handleBlur(n)});this.$selection.on("keydown",".select2-search--inline",function(n){var r,t,f;n.stopPropagation();u.trigger("keypress",n);u._keyUpPrevented=n.isDefaultPrevented();r=n.which;r===i.BACKSPACE&&""===u.$search.val()&&(t=u.$searchContainer.prev(".select2-selection__choice"),t.length>0&&(f=t.data("data"),u.searchRemoveChoice(f),n.preventDefault()))});f=document.documentMode;e=f&&11>=f;this.$selection.on("input.searchcheck",".select2-search--inline",function(){return e?void u.$selection.off("input.search input.searchcheck"):void u.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(n){if(e&&"input"===n.type)return void u.$selection.off("input.search input.searchcheck");var t=n.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&u.handleSearch(n)})},r.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(n,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(n,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");n.call(this,t);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();i&&this.$search.focus()},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(n,t){this.trigger("unselect",{data:t});this.$search.val(t.text);this.handleSearch()},r.prototype.resizeSearch=function(){var n,t;this.$search.css("width","25px");n="";""!==this.$search.attr("placeholder")?n=this.$selection.find(".select2-selection__rendered").innerWidth():(t=this.$search.val().length+1,n=.75*t+"em");this.$search.css("width",n)},r}),t.define("select2/selection/eventRelay",["jquery"],function(n){function t(){}return t.prototype.bind=function(t,i,r){var u=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],e=["opening","closing","selecting","unselecting"];t.call(this,i,r);i.on("*",function(t,i){if(-1!==n.inArray(t,f)){i=i||{};var r=n.Event("select2:"+t,{params:i});u.$element.trigger(r);-1!==n.inArray(t,e)&&(i.prevented=r.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(n,t){function i(n){this.dict=n||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(n){return this.dict[n]},i.prototype.extend=function(t){this.dict=n.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(n){if(!(n in i._cache)){var r=t(n);i._cache[n]=r}return new i(i._cache[n])},i}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A"," ":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A"," ":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G"," ":"G","":"G"," ":"G","":"G","":"G","":"G","":"G"," ":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L"," ":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N"," ":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O"," ":"O","":"O","":"O"," ":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S"," ":"S"," ":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V"," ":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a"," ":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g"," ":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p"," ":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),t.define("select2/data/base",["../utils"],function(n){function t(){t.__super__.constructor.call(this)}return n.Extend(t,n.Observable),t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.");},t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.");},t.prototype.bind=function(){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var r=t.id+"-result-";return r+=n.generateChars(4),r+(null!=i.id?"-"+i.id.toString():"-"+n.generateChars(4))},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,n),r.prototype.current=function(n){var t=[],r=this;this.$element.find(":selected").each(function(){var n=i(this),u=r.item(n);t.push(u)});n(t)},r.prototype.select=function(n){var t=this,r;if(n.selected=!0,i(n.element).is("option"))return n.element.selected=!0,void this.$element.trigger("change");this.$element.prop("multiple")?this.current(function(r){var f=[],u,e;for(n=[n],n.push.apply(n,r),u=0;u<n.length;u++)e=n[u].id,-1===i.inArray(e,f)&&f.push(e);t.$element.val(f);t.$element.trigger("change")}):(r=n.id,this.$element.val(r),this.$element.trigger("change"))},r.prototype.unselect=function(n){var t=this;if(this.$element.prop("multiple"))return n.selected=!1,i(n.element).is("option")?(n.element.selected=!1,void this.$element.trigger("change")):void this.current(function(r){for(var e,u=[],f=0;f<r.length;f++)e=r[f].id,e!==n.id&&-1===i.inArray(e,u)&&u.push(e);t.$element.val(u);t.$element.trigger("change")})},r.prototype.bind=function(n){var t=this;this.container=n;n.on("select",function(n){t.select(n.data)});n.on("unselect",function(n){t.unselect(n.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},r.prototype.query=function(n,t){var r=[],u=this,f=this.$element.children();f.each(function(){var t=i(this),e,f;(t.is("option")||t.is("optgroup"))&&(e=u.item(t),f=u.matches(n,e),null!==f&&r.push(f))});t({results:r})},r.prototype.addOptions=function(n){t.appendMany(this.$element,n)},r.prototype.option=function(n){var t,u,r;return n.children?(t=document.createElement("optgroup"),t.label=n.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=n.text:t.innerText=n.text),n.id&&(t.value=n.id),n.disabled&&(t.disabled=!0),n.selected&&(t.selected=!0),n.title&&(t.title=n.title),u=i(t),r=this._normalizeItem(n),r.element=t,i.data(t,"data",r),u},r.prototype.item=function(n){var t={},e,o;if(t=i.data(n[0],"data"),null!=t)return t;if(n.is("option"))t={id:n.val(),text:n.text(),disabled:n.prop("disabled"),selected:n.prop("selected"),title:n.prop("title")};else if(n.is("optgroup")){t={text:n.prop("label"),children:[],title:n.prop("title")};for(var u=n.children("option"),f=[],r=0;r<u.length;r++)e=i(u[r]),o=this.item(e),f.push(o);t.children=f}return t=this._normalizeItem(t),t.element=n[0],i.data(n[0],"data",t),t},r.prototype._normalizeItem=function(n){i.isPlainObject(n)||(n={id:n,text:n});n=i.extend({},{text:""},n);return null!=n.id&&(n.id=n.id.toString()),null!=n.text&&(n.text=n.text.toString()),null==n._resultId&&n.id&&null!=this.container&&(n._resultId=this.generateResultId(this.container,n)),i.extend({},{selected:!1,disabled:!1},n)},r.prototype.matches=function(n,t){var i=this.options.get("matcher");return i(n,t)},r}),t.define("select2/data/array",["./select","../utils","jquery"],function(n,t,i){function r(n,t){var i=t.get("data")||[];r.__super__.constructor.call(this,n,t);this.addOptions(this.convertToOptions(i))}return t.Extend(r,n),r.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,i){return i.value==n.id.toString()});0===t.length&&(t=this.option(n),this.addOptions(t));r.__super__.select.call(this,n)},r.prototype.convertToOptions=function(n){function c(n){return function(){return i(this).val()==n.id}}for(var r,f,h,l=this,e=this.$element.find("option"),a=e.map(function(){return l.item(i(this)).id}).get(),o=[],u=0;u<n.length;u++)if(r=this._normalizeItem(n[u]),i.inArray(r.id,a)>=0){var s=e.filter(c(r)),v=this.item(s),y=i.extend(!0,{},r,v),p=this.option(y);s.replaceWith(p)}else f=this.option(r),r.children&&(h=this.convertToOptions(r.children),t.appendMany(f,h)),o.push(f);return o},r}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(n,t,i){function r(n,t){this.ajaxOptions=this._applyDefaults(t.get("ajax"));null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults);r.__super__.constructor.call(this,n,t)}return t.Extend(r,n),r.prototype._applyDefaults=function(n){var t={data:function(n){return i.extend({},n,{q:n.term})},transport:function(n,t,r){var u=i.ajax(n);return u.then(t),u.fail(r),u}};return i.extend({},t,n,!0)},r.prototype.processResults=function(n){return n},r.prototype.query=function(n,t){function f(){var f=r.transport(r,function(r){var f=u.processResults(r,n);u.options.get("debug")&&window.console&&console.error&&(f&&f.results&&i.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response."));t(f)},function(){f.status&&"0"===f.status||u.trigger("results:message",{message:"errorLoading"})});u._request=f}var u=this,r;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);r=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,n));"function"==typeof r.data&&(r.data=r.data.call(this.$element,n));this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(f,this.ajaxOptions.delay)):f()},r}),t.define("select2/data/tags",["jquery"],function(n){function t(t,i,r){var f=r.get("tags"),o=r.get("createTag"),e,u;if(void 0!==o&&(this.createTag=o),e=r.get("insertTag"),void 0!==e&&(this.insertTag=e),t.call(this,i,r),n.isArray(f))for(u=0;u<f.length;u++){var s=f[u],h=this._normalizeItem(s),c=this.option(h);this.$element.append(c)}}return t.prototype.query=function(n,t,i){function u(n,f){for(var s,c,e=n.results,o=0;o<e.length;o++){var h=e[o],l=null!=h.children&&!u({results:h.children},!0),a=h.text===t.term;if(a||l)return f?!1:(n.data=e,void i(n))}if(f)return!0;s=r.createTag(t);null!=s&&(c=r.option(s),c.attr("data-select2-tag",!0),r.addOptions([c]),r.insertTag(e,s));n.results=e;i(n)}var r=this;return this._removeOldTags(),null==t.term||null!=t.page?void n.call(this,t,i):void n.call(this,t,u)},t.prototype.createTag=function(t,i){var r=n.trim(i.term);return""===r?null:{id:r,text:r}},t.prototype.insertTag=function(n,t,i){t.unshift(i)},t.prototype._removeOldTags=function(){var t=(this._lastTag,this.$element.find("option[data-select2-tag]"));t.each(function(){this.selected||n(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(n){function t(n,t,i){var r=i.get("tokenizer");void 0!==r&&(this.tokenizer=r);n.call(this,t,i)}return t.prototype.bind=function(n,t,i){n.call(this,t,i);this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,r){function e(t){var i=u._normalizeItem(t),f=u.$element.find("option").filter(function(){return n(this).val()===i.id}),r;f.length||(r=u.option(i),r.attr("data-select2-tag",!0),u._removeOldTags(),u.addOptions([r]));o(i)}function o(n){u.trigger("select",{data:n})}var u=this,f;i.term=i.term||"";f=this.tokenizer(i,this.options,e);f.term!==i.term&&(this.$search.length&&(this.$search.val(f.term),this.$search.focus()),i.term=f.term);t.call(this,i,r)},t.prototype.tokenizer=function(t,i,r,u){for(var o,h=r.get("tokenSeparators")||[],e=i.term,f=0,c=this.createTag||function(n){return{id:n.term,text:n.term}};f<e.length;)if(o=e[f],-1!==n.inArray(o,h)){var l=e.substr(0,f),a=n.extend({},i,{term:l}),s=c(a);null!=s?(u(s),e=e.substr(f+1)||"",f=0):f++}else f++;return{term:e}},t}),t.define("select2/data/minimumInputLength",[],function(){function n(n,t,i){this.minimumInputLength=i.get("minimumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void n.call(this,t,i)},n}),t.define("select2/data/maximumInputLength",[],function(){function n(n,t,i){this.maximumInputLength=i.get("maximumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void n.call(this,t,i)},n}),t.define("select2/data/maximumSelectionLength",[],function(){function n(n,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){var r=this;this.current(function(u){var f=null!=u?u.length:0;return r.maximumSelectionLength>0&&f>=r.maximumSelectionLength?void r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):void n.call(r,t,i)})},n}),t.define("select2/dropdown",["jquery","./utils"],function(n,t){function i(n,t){this.$element=n;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<span class="select2-dropdown"><span class="select2-results"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(n){function t(){}return t.prototype.render=function(t){var r=t.call(this),i=n('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /><\/span>');return this.$searchContainer=i,this.$search=i.find("input"),r.prepend(i),r},t.prototype.bind=function(t,i,r){var u=this;t.call(this,i,r);this.$search.on("keydown",function(n){u.trigger("keypress",n);u._keyUpPrevented=n.isDefaultPrevented()});this.$search.on("input",function(){n(this).off("keyup")});this.$search.on("keyup input",function(n){u.handleSearch(n)});i.on("open",function(){u.$search.attr("tabindex",0);u.$search.focus();window.setTimeout(function(){u.$search.focus()},0)});i.on("close",function(){u.$search.attr("tabindex",-1);u.$search.val("")});i.on("focus",function(){i.isOpen()&&u.$search.focus()});i.on("results:all",function(n){if(null==n.query.term||""===n.query.term){var t=u.showSearch(n);t?u.$searchContainer.removeClass("select2-search--hide"):u.$searchContainer.addClass("select2-search--hide")}})},t.prototype.handleSearch=function(){if(!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},t.prototype.showSearch=function(){return!0},t}),t.define("select2/dropdown/hidePlaceholder",[],function(){function n(n,t,i,r){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i,r)}return n.prototype.append=function(n,t){t.results=this.removePlaceholder(t.results);n.call(this,t)},n.prototype.normalizePlaceholder=function(n,t){return"string"==typeof t&&(t={id:"",text:t}),t},n.prototype.removePlaceholder=function(n,t){for(var u,r=t.slice(0),i=t.length-1;i>=0;i--)u=t[i],this.placeholder.id===u.id&&r.splice(i,1);return r},n}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function t(n,t,i,r){this.lastParams={};n.call(this,t,i,r);this.$loadingMore=this.createLoadingMore();this.loading=!1}return t.prototype.append=function(n,t){this.$loadingMore.remove();this.loading=!1;n.call(this,t);this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,i,r){var u=this;t.call(this,i,r);i.on("query",function(n){u.lastParams=n;u.loading=!0});i.on("query:append",function(n){u.lastParams=n;u.loading=!0});this.$results.on("scroll",function(){var r=n.contains(document.documentElement,u.$loadingMore[0]),t,i;!u.loading&&r&&(t=u.$results.offset().top+u.$results.outerHeight(!1),i=u.$loadingMore.offset().top+u.$loadingMore.outerHeight(!1),t+50>=i&&u.loadMore())})},t.prototype.loadMore=function(){this.loading=!0;var t=n.extend({},{page:1},this.lastParams);t.page++;this.trigger("query:append",t)},t.prototype.showLoadingMore=function(n,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=n('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"><\/li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(n,t){function i(t,i,r){this.$dropdownParent=r.get("dropdownParent")||n(document.body);t.call(this,i,r)}return i.prototype.bind=function(n,t,i){var r=this,u=!1;n.call(this,t,i);t.on("open",function(){r._showDropdown();r._attachPositioningHandler(t);u||(u=!0,t.on("results:all",function(){r._positionDropdown();r._resizeDropdown()}),t.on("results:append",function(){r._positionDropdown();r._resizeDropdown()}))});t.on("close",function(){r._hideDropdown();r._detachPositioningHandler(t)});this.$dropdownContainer.on("mousedown",function(n){n.stopPropagation()})},i.prototype.destroy=function(n){n.call(this);this.$dropdownContainer.remove()},i.prototype.position=function(n,t,i){t.attr("class",i.attr("class"));t.removeClass("select2");t.addClass("select2-container--open");t.css({position:"absolute",top:-999999});this.$container=i},i.prototype.render=function(t){var i=n("<span><\/span>"),r=t.call(this);return i.append(r),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,r){var u=this,f="scroll.select2."+r.id,o="resize.select2."+r.id,s="orientationchange.select2."+r.id,e=this.$container.parents().filter(t.hasScroll);e.each(function(){n(this).data("select2-scroll-position",{x:n(this).scrollLeft(),y:n(this).scrollTop()})});e.on(f,function(){var t=n(this).data("select2-scroll-position");n(this).scrollTop(t.y)});n(window).on(f+" "+o+" "+s,function(){u._positionDropdown();u._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,r){var u="scroll.select2."+r.id,f="resize.select2."+r.id,e="orientationchange.select2."+r.id,o=this.$container.parents().filter(t.hasScroll);o.off(u);n(window).off(u+" "+f+" "+e)},i.prototype._positionDropdown=function(){var s=n(window),u=this.$dropdown.hasClass("select2-dropdown--above"),v=this.$dropdown.hasClass("select2-dropdown--below"),t=null,i=this.$container.offset(),r,o;i.bottom=i.top+this.$container.outerHeight(!1);r={height:this.$container.outerHeight(!1)};r.top=i.top;r.bottom=i.top+r.height;var h={height:this.$dropdown.outerHeight(!1)},c={top:s.scrollTop(),bottom:s.scrollTop()+s.height()},l=c.top<i.top-h.height,a=c.bottom>i.bottom+h.height,f={left:i.left,top:r.bottom},e=this.$dropdownParent;"static"===e.css("position")&&(e=e.offsetParent());o=e.offset();f.top-=o.top;f.left-=o.left;u||v||(t="below");a||!l||u?!l&&a&&u&&(t="below"):t="above";("above"==t||u&&"below"!==t)&&(f.top=r.top-o.top-h.height);null!=t&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+t),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+t));this.$dropdownContainer.css(f)},i.prototype._resizeDropdown=function(){var n={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(n.minWidth=n.width,n.position="relative",n.width="auto");this.$dropdown.css(n)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function n(t){for(var u,i=0,r=0;r<t.length;r++)u=t[r],u.children?i+=n(u.children):i++;return i}function t(n,t,i,r){this.minimumResultsForSearch=i.get("minimumResultsForSearch");this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0);n.call(this,t,i,r)}return t.prototype.showSearch=function(t,i){return n(i.data.results)<this.minimumResultsForSearch?!1:t.call(this,i)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("close",function(n){r._handleSelectOnClose(n)})},n.prototype._handleSelectOnClose=function(n,t){var r,u,i;t&&null!=t.originalSelect2Event&&(r=t.originalSelect2Event,"select"===r._type||"unselect"===r._type)||(u=this.getHighlightedResults(),u.length<1||(i=u.data("data"),null!=i.element&&i.element.selected||null==i.element&&i.selected||this.trigger("select",{data:i})))},n}),t.define("select2/dropdown/closeOnSelect",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("select",function(n){r._selectTriggered(n)});t.on("unselect",function(n){r._selectTriggered(n)})},n.prototype._selectTriggered=function(n,t){var i=t.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},n}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(n){var t=n.input.length-n.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(n){var t=n.minimum-n.input.length;return"Please enter "+t+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(n){var t="You can only select "+n.maximum+" item";return 1!=n.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot){function st(){this.reset()}st.prototype.apply=function(l){var vt,yt,pt,wt,bt,kt,dt,ct,lt,st,ot,ht,gt,at;if((l=n.extend(!0,{},this.defaults,l),null==l.dataAdapter)&&((l.dataAdapter=null!=l.ajax?y:null!=l.data?v:a,l.minimumInputLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,b)),l.maximumInputLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,k)),l.maximumSelectionLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,d)),l.tags&&(l.dataAdapter=h.Decorate(l.dataAdapter,p)),(null!=l.tokenSeparators||null!=l.tokenizer)&&(l.dataAdapter=h.Decorate(l.dataAdapter,w)),null!=l.query)&&(vt=t(l.amdBase+"compat/query"),l.dataAdapter=h.Decorate(l.dataAdapter,vt)),null!=l.initSelection&&(yt=t(l.amdBase+"compat/initSelection"),l.dataAdapter=h.Decorate(l.dataAdapter,yt))),(null==l.resultsAdapter&&(l.resultsAdapter=i,null!=l.ajax&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,it)),null!=l.placeholder&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,tt)),l.selectOnClose&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,ft))),null==l.dropdownAdapter)&&(l.multiple?l.dropdownAdapter=g:(pt=h.Decorate(g,nt),l.dropdownAdapter=pt),(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=h.Decorate(l.dropdownAdapter,ut)),l.closeOnSelect&&(l.dropdownAdapter=h.Decorate(l.dropdownAdapter,et)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass)&&(wt=t(l.amdBase+"compat/dropdownCss"),l.dropdownAdapter=h.Decorate(l.dropdownAdapter,wt)),l.dropdownAdapter=h.Decorate(l.dropdownAdapter,rt)),null==l.selectionAdapter&&((l.selectionAdapter=l.multiple?u:r,null!=l.placeholder&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,e)),l.multiple&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,o)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass)&&(bt=t(l.amdBase+"compat/containerCss"),l.selectionAdapter=h.Decorate(l.selectionAdapter,bt)),l.selectionAdapter=h.Decorate(l.selectionAdapter,s)),"string"==typeof l.language&&(l.language.indexOf("-")>0?(kt=l.language.split("-"),dt=kt[0],l.language=[l.language,dt]):l.language=[l.language]),n.isArray(l.language)){for(ct=new c,l.language.push("en"),lt=l.language,st=0;st<lt.length;st++){ot=lt[st];ht={};try{ht=c.loadPath(ot)}catch(ni){try{ot=this.defaults.amdLanguageBase+ot;ht=c.loadPath(ot)}catch(ti){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+ot+'" could not be automatically loaded. A fallback will be used instead.');continue}}ct.extend(ht)}l.translations=ct}else gt=c.loadPath(this.defaults.amdLanguageBase+"en"),at=new c(l.language),at.extend(gt),l.translations=at;return l};st.prototype.reset=function(){function i(n){function t(n){return l[n]||n}return n.replace(/[^\u0000-\u007E]/g,t)}function t(r,u){var f,e,o,s,h,c;if(""===n.trim(r.term))return u;if(u.children&&u.children.length>0){for(f=n.extend(!0,{},u),e=u.children.length-1;e>=0;e--)o=u.children[e],s=t(r,o),null==s&&f.children.splice(e,1);return f.children.length>0?f:t(r,f)}return h=i(u.text).toUpperCase(),c=i(r.term).toUpperCase(),h.indexOf(c)>-1?u:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:ot,matcher:t,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(n){return n},templateResult:function(n){return n.text},templateSelection:function(n){return n.text},theme:"default",width:"resolve"}};st.prototype.set=function(t,i){var f=n.camelCase(t),r={},u;r[f]=i;u=h._convertData(r);n.extend(this.defaults,u)};return new st}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(n,t,i,r){function u(t,u){if(this.options=t,null!=u&&this.fromElement(u),this.options=i.apply(this.options),u&&u.is("input")){var f=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,f)}}return u.prototype.fromElement=function(n){var e=["select2"],f,u,i;null==this.options.multiple&&(this.options.multiple=n.prop("multiple"));null==this.options.disabled&&(this.options.disabled=n.prop("disabled"));null==this.options.language&&(n.prop("lang")?this.options.language=n.prop("lang").toLowerCase():n.closest("[lang]").prop("lang")&&(this.options.language=n.closest("[lang]").prop("lang")));null==this.options.dir&&(this.options.dir=n.prop("dir")?n.prop("dir"):n.closest("[dir]").prop("dir")?n.closest("[dir]").prop("dir"):"ltr");n.prop("disabled",this.options.disabled);n.prop("multiple",this.options.multiple);n.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.data("data",n.data("select2Tags")),n.data("tags",!0));n.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),n.attr("ajax--url",n.data("ajaxUrl")),n.data("ajax--url",n.data("ajaxUrl")));f={};f=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&n[0].dataset?t.extend(!0,{},n[0].dataset,n.data()):n.data();u=t.extend(!0,{},f);u=r._convertData(u);for(i in u)t.inArray(i,e)>-1||(t.isPlainObject(this.options[i])?t.extend(this.options[i],u[i]):this.options[i]=u[i]);return this},u.prototype.get=function(n){return this.options[n]},u.prototype.set=function(n,t){this.options[n]=t},u}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(n,t,i,r){var u=function(n,i){var f,e,r,o,s,h,c;null!=n.data("select2")&&n.data("select2").destroy();this.$element=n;this.id=this._generateId(n);i=i||{};this.options=new t(i,n);u.__super__.constructor.call(this);f=n.attr("tabindex")||0;n.data("old-tabindex",f);n.attr("tabindex","-1");e=this.options.get("dataAdapter");this.dataAdapter=new e(n,this.options);r=this.render();this._placeContainer(r);o=this.options.get("selectionAdapter");this.selection=new o(n,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,r);s=this.options.get("dropdownAdapter");this.dropdown=new s(n,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,r);h=this.options.get("resultsAdapter");this.results=new h(n,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);c=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(n){c.trigger("selection:update",{data:n})});n.addClass("select2-hidden-accessible");n.attr("aria-hidden","true");this._syncAttributes();n.data("select2",this)};return i.Extend(u,i.Observable),u.prototype._generateId=function(n){var t="";return t=null!=n.attr("id")?n.attr("id"):null!=n.attr("name")?n.attr("name")+"-"+i.generateChars(2):i.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t},u.prototype._placeContainer=function(n){n.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&n.css("width",t)},u.prototype._resolveWidth=function(n,t){var r,u,f,s,i;if("resolve"==t)return r=this._resolveWidth(n,"style"),null!=r?r:this._resolveWidth(n,"element");if("element"==t)return u=n.outerWidth(!1),0>=u?"auto":u+"px";if("style"==t){if(f=n.attr("style"),"string"!=typeof f)return null;for(var o=f.split(";"),e=0,h=o.length;h>e;e+=1)if(s=o[e].replace(/\s/g,""),i=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&i.length>=1)return i[1];return null}return t},u.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)},u.prototype._registerDomEvents=function(){var t=this,r;this.$element.on("change.select2",function(){t.dataAdapter.current(function(n){t.trigger("selection:update",{data:n})})});this.$element.on("focus.select2",function(n){t.trigger("focus",n)});this._syncA=i.bind(this._syncAttributes,this);this._syncS=i.bind(this._syncSubtree,this);this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=r?(this._observer=new r(function(i){n.each(i,t._syncA);n.each(i,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},u.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()});this.selection.on("focus",function(n){t.focus(n)});this.selection.on("*",function(r,u){-1===n.inArray(r,i)&&t.trigger(r,u)})},u.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")});this.on("close",function(){n.$container.removeClass("select2-container--open")});this.on("enable",function(){n.$container.removeClass("select2-container--disabled")});this.on("disable",function(){n.$container.addClass("select2-container--disabled")});this.on("blur",function(){n.$container.removeClass("select2-container--focus")});this.on("query",function(t){n.isOpen()||n.trigger("open",{});this.dataAdapter.query(t,function(i){n.trigger("results:all",{data:i,query:t})})});this.on("query:append",function(t){this.dataAdapter.query(t,function(i){n.trigger("results:append",{data:i,query:t})})});this.on("keypress",function(t){var i=t.which;n.isOpen()?i===r.ESC||i===r.TAB||i===r.UP&&t.altKey?(n.close(),t.preventDefault()):i===r.ENTER?(n.trigger("results:select",{}),t.preventDefault()):i===r.SPACE&&t.ctrlKey?(n.trigger("results:toggle",{}),t.preventDefault()):i===r.UP?(n.trigger("results:previous",{}),t.preventDefault()):i===r.DOWN&&(n.trigger("results:next",{}),t.preventDefault()):(i===r.ENTER||i===r.SPACE||i===r.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},u.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},u.prototype._syncSubtree=function(n,t){var i=!1,f=this,r,u;if(!n||!n.target||"OPTION"===n.target.nodeName||"OPTGROUP"===n.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(r=0;r<t.addedNodes.length;r++)u=t.addedNodes[r],u.selected&&(i=!0);else t.removedNodes&&t.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(n){f.trigger("selection:update",{data:n})})}},u.prototype.trigger=function(n,t){var r=u.__super__.trigger,f={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"},e,i;if((void 0===t&&(t={}),n in f)&&(e=f[n],i={prevented:!1,name:n,args:t},r.call(this,e,i),i.prevented))return void(t.prevented=!0);r.call(this,n,t)},u.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},u.prototype.open=function(){this.isOpen()||this.trigger("query",{})},u.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},u.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},u.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},u.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},u.prototype.enable=function(n){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');(null==n||0===n.length)&&(n=[!0]);var t=!n[0];this.$element.prop("disabled",t)},u.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var n=[];return this.dataAdapter.current(function(t){n=t}),n},u.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var i=t[0];n.isArray(i)&&(i=n.map(i,function(n){return n.toString()}));this.$element.val(i).trigger("change")},u.prototype.destroy=function(){this.$container.remove();this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA);null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1));this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null},u.prototype.render=function(){var t=n('<span class="select2 select2-container"><span class="selection"><\/span><span class="dropdown-wrapper" aria-hidden="true"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},u}),t.define("jquery-mousewheel",["jquery"],function(n){return n}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(n,t,i,r){if(null==n.fn.select2){var u=["open","close","destroy"];n.fn.select2=function(t){if(t=t||{},"object"==typeof t)return this.each(function(){var r=n.extend(!0,{},t);new i(n(this),r)}),this;if("string"==typeof t){var r,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=n(this).data("select2");null==i&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");r=i[t].apply(i,f)}),n.inArray(t,u)>-1?this:r}throw new Error("Invalid arguments for Select2: "+t);}}return null==n.fn.select2.defaults&&(n.fn.select2.defaults=r),i}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return n.fn.select2.amd=t,i});!function r(n,t,i){function r(u,e){var s,h,o;if(!t[u]){if(!n[u]){if(s="function"==typeof require&&require,!e&&s)return s(u,!0);if(f)return f(u,!0);h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h;}o=t[u]={exports:{}};n[u][0].call(o.exports,function(t){return r(n[u][1][t]||t)},o,o.exports,r,n,t,i)}return t[u].exports}for(var f="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}var u,f,y,c;Object.defineProperty(i,"__esModule",{value:!0});var r=o(n("../fw/fw")),e=o(n("../fw/env")),l=o(n("../core/ui/core-ui")),p=o(n("../core/utils/error"));u={};f=20;u.destroy=function(){this.dom.container&&(this.dom.container.removeEventListener("ready",this.onReadyMain360),this.dom.container.removeEventListener("playing",this.onPlayingUpdate360UI));try{this.requestAnimation360&&window.cancelAnimationFrame(this.requestAnimation360);this.texture360&&this.texture360.dispose();this.scene360&&this.mesh360&&this.scene360.remove(this.mesh360)}catch(n){r.default.trace(n)}r.default.removeElement(this.canvas360)};u.resize=function(){var n,t,i;this.renderer360&&this.camera360&&(n=-1,t=-1,this.isInFullscreen?this.hasNativeFullscreenSupport?(n=r.default.getScreenWidth(),t=r.default.getScreenHeight()):this.fullWindowMode&&(i=e.default.getViewportSize(),-1<i.width&&-1<i.height&&(n=i.width,t=i.height)):(n=this.width,t=this.height),0<n&&0<t&&(this.renderer360.setSize(n,t),this.camera360.aspect=n/t,this.camera360.updateProjectionMatrix()))};var a=function(n){n&&("mousedown"===n.type?(this.dragStart.x=r.default.getPosX(n),this.dragStart.y=r.default.getPosY(n)):"touchstart"===n.type&&(n.preventDefault(),this.dragStart.x=r.default.getPosXTouch(n),this.dragStart.y=r.default.getPosYTouch(n)),r.default.addClass(this.canvas360,"rmp-canvas-360-grabbing"),this.mouseDown=!0)},h=function(){r.default.removeClass(this.canvas360,"rmp-canvas-360-grabbing");this.mouseDown=!1},v=function(n){var f,e,t,i,o,u;!this.progressiveMoveInprogress&&this.mouseDown&&(t=void 0,i=void 0,"mousemove"===n.type?(t=r.default.getPosX(n),i=r.default.getPosY(n)):"touchmove"===n.type&&(t=r.default.getPosXTouch(n),i=r.default.getPosYTouch(n)),f=this.dragStart.x-t,e=this.dragStart.y-i,this.dragStart.x=t,this.dragStart.y=i,o=this.getPlayerWidth()/this.getPlayerHeight(),u=1,r.default.hasClass(this.dom.container,"rmp-extrasmall")?u=2:r.default.hasClass(this.dom.container,"rmp-small")&&(u=1.5),this.lon+=.1*f*u,this.lat+=.1*e*o*u)},s=function(){this.camera360&&(this.fov>this.video360MaxFocalLength?this.fov=this.video360MaxFocalLength:this.fov<this.video360MinFocalLength&&(this.fov=this.video360MinFocalLength),this.camera360.fov=this.fov,this.camera360.updateProjectionMatrix())},w=function(){this.dom.content.addEventListener("mousedown",a.bind(this));this.dom.content.addEventListener("mouseup",h.bind(this));this.dom.content.addEventListener("mouseleave",h.bind(this));this.dom.content.addEventListener("mousemove",v.bind(this));this.dom.content.addEventListener("wheel",function(n){n&&(n.stopPropagation(),n.preventDefault());this.progressiveMoveInprogress||n&&n.wheelDeltaY&&(0<n.wheelDeltaY?this.fov-=10:this.fov+=10,s.call(this))}.bind(this));this.dom.content.addEventListener("touchstart",a.bind(this));this.dom.content.addEventListener("touchend",h.bind(this));this.dom.content.addEventListener("touchmove",v.bind(this),!!e.default.hasPassiveEventListeners&&{passive:!0})};u.setCamLatLongFov=function(n,t,i,u,e){var o=this,h;if(!this.progressiveMoveInprogress){if(this.progressiveMoveInprogress=!0,e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),l.default.showChrome.call(this),u)return this.lon=t,this.lat=n,this.fov=i,s.call(this),void(this.progressiveMoveInprogress=!1);0!==t&&(this.lon+=t/f);0!==n&&(this.lat-=n/f);0!==i&&(this.fov-=i/f,s.call(this));h=1;r.default.clearInterval(this.progressiveInterval);this.progressiveInterval=setInterval(function(){0!==t&&(o.lon+=t/f);0!==n&&(o.lat-=n/f);0!==i&&(o.fov-=i/f,s.call(o));++h===f&&(o.progressiveMoveInprogress=!1,r.default.clearInterval(o.progressiveInterval))},f)}};y=function(){var i=this,h,t,c,n;this.dom.container.removeEventListener("ready",this.onReadyMain360);this.onPlayingUpdate360UI=function(){var h,n,t,i,f,e,o,s;this.dom.container.removeEventListener("playing",this.onPlayingUpdate360UI);h=this.dom.container.querySelector(".rmp-360-ui-text");null!==h&&r.default.removeElement(h);r.default.show(this.dom.ui360);n=document.createElement("div");n.className="rmp-360-ui-button rmp-360-ui-top rmp-i rmp-i-up";r.default.addEvent(["touchend","click"],n,u.setCamLatLongFov.bind(this,20,0,0,!1));this.dom.ui360.appendChild(n);t=document.createElement("div");t.className="rmp-360-ui-button rmp-360-ui-bottom rmp-i rmp-i-down";r.default.addEvent(["touchend","click"],t,u.setCamLatLongFov.bind(this,-20,0,0,!1));this.dom.ui360.appendChild(t);i=document.createElement("div");i.className="rmp-360-ui-button rmp-360-ui-left rmp-i rmp-i-left";r.default.addEvent(["touchend","click"],i,u.setCamLatLongFov.bind(this,0,-20,0,!1));this.dom.ui360.appendChild(i);f=document.createElement("div");f.className="rmp-360-ui-button rmp-360-ui-right rmp-i rmp-i-right";r.default.addEvent(["touchend","click"],f,u.setCamLatLongFov.bind(this,0,20,0,!1));this.dom.ui360.appendChild(f);e=document.createElement("div");e.className="rmp-360-ui-button rmp-360-ui-plus rmp-i rmp-i-plus-360";r.default.addEvent(["touchend","click"],e,u.setCamLatLongFov.bind(this,0,0,10,!1));this.dom.ui360.appendChild(e);o=document.createElement("div");o.className="rmp-360-ui-button rmp-360-ui-minus rmp-i rmp-i-minus-360";r.default.addEvent(["touchend","click"],o,u.setCamLatLongFov.bind(this,0,0,-10,!1));this.dom.ui360.appendChild(o);s=document.createElement("div");s.className="rmp-360-ui-button rmp-360-ui-reset rmp-i rmp-i-reset-360";r.default.addEvent(["touchend","click"],s,u.setCamLatLongFov.bind(this,this.video360InitialLat,this.video360InitialLon,this.video360FocalLength,!0));this.dom.ui360.appendChild(s)}.bind(this);this.dom.container.addEventListener("playing",this.onPlayingUpdate360UI);var f=this.getPlayerWidth(),o=this.getPlayerHeight(),s=f/o;this.lat=this.video360InitialLat;this.lon=this.video360InitialLon;this.fov=this.video360FocalLength;this.camera360=new THREE.PerspectiveCamera(this.video360FocalLength,s,1,1100);this.camera360.target=new THREE.Vector3(0,0,0);this.scene360=new THREE.Scene;h=2*Math.round(30/s);t=new THREE.SphereBufferGeometry(500,60,h);t.scale(-1,1,1);this.texture360=new THREE.VideoTexture(this.dom.video);c=new THREE.MeshBasicMaterial({map:this.texture360});this.texture360.minFilter=THREE.LinearFilter;this.texture360.format=THREE.RGBFormat;this.mesh360=new THREE.Mesh(t,c);this.scene360.add(this.mesh360);this.renderer360=new THREE.WebGLRenderer;this.renderer360.setPixelRatio(e.default.devicePixelRatio);this.renderer360.setSize(f,o);this.canvas360=this.renderer360.domElement;this.canvas360.className="rmp-canvas-360";this.dom.content.insertBefore(this.canvas360,this.dom.poster);r.default.hide(this.dom.video);this.dom.ui360=document.createElement("div");r.default.addEvent(["touchend","click"],this.dom.ui360,function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());l.default.showChrome.call(this)}.bind(this));e.default.isMobile||(this.dom.ui360.addEventListener("mouseenter",function(n){n&&n.stopPropagation();i.forceResetTimer=!0}),this.dom.ui360.addEventListener("mouseleave",function(n){n&&n.stopPropagation();i.forceResetTimer=!1}));this.dom.ui360.className="rmp-360-ui rmp-color-bg";r.default.hide(this.dom.ui360);this.dom.container.appendChild(this.dom.ui360);n=document.createElement("div");n.className="rmp-360-ui-text rmp-color-bg";n.textContent="360";this.dom.container.appendChild(n);w.call(this);this.animate360=function(){this.requestAnimation360=window.requestAnimationFrame(this.animate360);this.lat=Math.max(-85,Math.min(85,this.lat));var n=THREE.Math.degToRad(90-this.lat),t=THREE.Math.degToRad(this.lon),i=50*Math.sin(n);this.camera360.position.x=i*Math.cos(t);this.camera360.position.y=50*Math.cos(n);this.camera360.position.z=i*Math.sin(t);this.camera360.lookAt(this.camera360.target);this.renderer360.render(this.scene360,this.camera360)}.bind(this);this.animate360()};c=function(){this.onReadyMain360=y.bind(this);this.get5Ready()?this.onReadyMain360():this.dom.container.addEventListener("ready",this.onReadyMain360)};u.load=function(){if("undefined"!=typeof THREE)c.call(this);else r.default.getScript("https://cdn.radiantmediatechs.com/rmp/5.0.9/three/three.min.js",c.bind(this),p.default.fatal.bind(this,"failed to load required lib three.js (360 video)",500,null))};i.default=u},{"../core/ui/core-ui":41,"../core/utils/error":44,"../fw/env":52,"../fw/fw":53}],2:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(i,"__esModule",{value:!0});e(n("../fw/fw"));r=e(n("../core/utils/error"));var u={},o=void 0,f=function(n,t,i){i.addEventListener(n,function(){t(arguments[0])})};u.filterDrm=function(){var n,t,i,r,u,f;return"string"==typeof this.fpsDrm.certificatePath&&""!==this.fpsDrm.certificatePath&&"string"==typeof this.fpsDrm.processSpcPath&&""!==this.fpsDrm.processSpcPath?(n="text","string"==typeof this.fpsDrm.licenseResponseType&&-1<["blob","json","text","arraybuffer"].indexOf(this.fpsDrm.licenseResponseType)&&(n=this.fpsDrm.licenseResponseType),this.fpsDrm.licenseResponseType=n,t=[],Array.isArray(this.fpsDrm.licenseRequestHeaders)&&(t=this.fpsDrm.licenseRequestHeaders),this.fpsDrm.licenseRequestHeaders=t,i=[{name:"Pragma",value:"Cache-Control: no-cache"},{name:"Cache-Control",value:"max-age=0"}],Array.isArray(this.fpsDrm.certificateRequestHeaders)&&(i=this.fpsDrm.certificateRequestHeaders),this.fpsDrm.certificateRequestHeaders=i,r=function(n){var t,r=(t=new Uint16Array(n.buffer),String.fromCharCode.apply(null,t)),i=document.createElement("a");return i.href=r,i.hostname},"function"==typeof this.fpsDrm.extractContentId&&(r=this.fpsDrm.extractContentId),this.fpsDrm.extractContentId=r,u=function(n,t){return"spc="+function(n){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="",s=void 0,u=void 0,f=void 0,h=void 0,c=void 0,e=void 0,r=void 0,t=0;t<n.length;)h=(s=n[t++])>>2,c=(3&s)<<4|(u=t<n.length?n[t++]:Number.NaN)>>4,e=(15&u)<<2|(f=t<n.length?n[t++]:Number.NaN)>>6,r=63&f,Number.isNaN(u)?e=r=64:Number.isNaN(f)&&(r=64),o+=i.charAt(h)+i.charAt(c)+i.charAt(e)+i.charAt(r);return o}(n)+"&assetId="+encodeURIComponent(t.contentId)},"function"==typeof this.fpsDrm.licenseRequestMessage&&(u=this.fpsDrm.licenseRequestMessage),this.fpsDrm.licenseRequestMessage=u,f=function(n){var i=n.target,u=i.session,t=i.responseText.trim(),r;"<ckc>"===t.substr(0,5)&&"<\/ckc>"===t.substr(-6)&&(t=t.slice(5,-6));r=function(n){for(var i=window.atob(n),r=i.length,u=new Uint8Array(new ArrayBuffer(r)),t=0;t<r;t++)u[t]=i.charCodeAt(t);return u}(t);u.update(r)},"function"==typeof this.fpsDrm.licenseRequestLoaded&&(f=this.fpsDrm.licenseRequestLoaded),this.fpsDrm.licenseRequestLoaded=f,!0):!1};var s=function(n,t,i){var f;"string"==typeof t&&(t=function(n){for(var r=new ArrayBuffer(2*n.length),i=new Uint16Array(r),t=0,u=n.length;t<u;t++)i[t]=n.charCodeAt(t);return i}(t));var r=0,u=new ArrayBuffer(n.byteLength+4+t.byteLength+4+i.byteLength),e=new DataView(u);return new Uint8Array(u,r,n.byteLength).set(n),r+=n.byteLength,e.setUint32(r,t.byteLength,!0),r+=4,f=new Uint16Array(u,r,t.length),f.set(t),r+=f.byteLength,e.setUint32(r,i.byteLength,!0),r+=4,new Uint8Array(u,r,i.byteLength).set(i),new Uint8Array(u,0,u.byteLength)},h=function(n){var u=n.target,o=n.message,i=new XMLHttpRequest,f,t,e;for(i.responseType=this.fpsDrm.licenseResponseType,i.session=u,i.addEventListener("load",this.fpsDrm.licenseRequestLoaded.bind(this),!1),i.addEventListener("error",function(n){var t=null;n&&(t=n);r.default.fatal.call(this,"FPS license request failed",604,t)}.bind(this),!1),f=this.fpsDrm.licenseRequestMessage(o,u),i.open("POST",this.fpsDrm.processSpcPath,!0),t=0,e=this.fpsDrm.licenseRequestHeaders.length;t<e;t++)"string"==typeof this.fpsDrm.licenseRequestHeaders[t].name&&""!==this.fpsDrm.licenseRequestHeaders[t].name&&"string"==typeof this.fpsDrm.licenseRequestHeaders[t].value&&""!==this.fpsDrm.licenseRequestHeaders[t].value&&i.setRequestHeader(this.fpsDrm.licenseRequestHeaders[t].name,this.fpsDrm.licenseRequestHeaders[t].value);i.send(f)},c=function(n){var t=null;n&&(t=n);r.default.warning.call(this,"FPS decryption key error was encountered",6e3,t)},l=function(){0},a=function(n){var t=null;n&&(t=n);r.default.warning.call(this,"FPS video playback error occured",6001,t)},v=function(n,t){var u=t.initData,e=this.fpsDrm.extractContentId(u),i;(u=s(u,e,n),this.dom.video.webkitKeys||(!function(){window.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4")?o="com.apple.fps.1_0":r.default.fatal.call(this,"FPS key System not supported",601,null)}(),this.dom.video.webkitSetMediaKeys(new window.WebKitMediaKeys(o))),this.dom.video.webkitKeys)?(i=this.dom.video.webkitKeys.createSession("video/mp4",u),i?(i.contentId=e,f("webkitkeymessage",h.bind(this),i),f("webkitkeyadded",l,i),f("webkitkeyerror",c,i)):r.default.fatal.call(this,"FPS could not create key session",603,null)):r.default.fatal.call(this,"FPS could not create MediaKeys",602,null)};u.init=function(){var t=new XMLHttpRequest,n,i;for(t.responseType="arraybuffer",t.addEventListener("load",function(n){var t=n.target,i=new Uint8Array(t.response);this.dom.video.addEventListener("webkitneedkey",v.bind(this,i));this.dom.video.addEventListener("error",a);this.dom.video.src=this.startingBitratePath}.bind(this)),t.addEventListener("error",function(n){var t=null;n&&(t=n);r.default.fatal.call(this,"FPS failed to retrieve the FPS server certificate",600,t)}.bind(this)),t.open("GET",this.fpsDrm.certificatePath,!0),n=0,i=this.fpsDrm.certificateRequestHeaders.length;n<i;n++)"string"==typeof this.fpsDrm.certificateRequestHeaders[n].name&&""!==this.fpsDrm.certificateRequestHeaders[n].name&&"string"==typeof this.fpsDrm.certificateRequestHeaders[n].value&&""!==this.fpsDrm.certificateRequestHeaders[n].value&&t.setRequestHeader(this.fpsDrm.certificateRequestHeaders[n].name,this.fpsDrm.certificateRequestHeaders[n].value);t.send()};i.default=u},{"../core/utils/error":44,"../fw/fw":53}],3:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var c,o;Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../fw/fw")),k=u(n("../fw/env")),l=u(n("../core/ui/core-ui")),s=u(n("../core/utils/error")),a=u(n("../core/modules/quality")),v=u(n("../vtt/captions")),y=u(n("../core/utils/utils")),e=u(n("../core/modules/modules")),d=u(n("../../../../rmp-connection/js/rmp-connection")),g=u(n("../cast/cast")),nt=u(n("../ads/ima-dai")),tt=u(n("../analytics/mux"));var h={destroy:function(){try{this.hlsJS&&(this.hlsJS.destroy(),this.hlsJS.bufferTimer=void 0,r.default.clearInterval(this.hlsJS.bufferTimer));r.default.clearInterval(this.hlsJSAbrInterval);r.default.clearTimeout(this.hlsJSErrorRetryTimeout)}catch(n){r.default.trace(n)}}},it=function(n,t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault());this.hlsJS.audioTrack=n;e.default.setActiveLevel.call(this,"audio",n);this.googleCast&&g.default.setAudioTrack.call(this,n)},p=function(n,t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault());this.setBitrate(n-1)},f=function(n){r.default.createCustomEvent("hlserror",this.dom.container,n);s.default.fatal.call(this,"hls.js error - cannot recover",201,n)},w=function(){var n=void 0;this.hlsJS&&this.hlsJS.subtitleTracks&&0<this.hlsJS.subtitleTracks.length?(n=this.hlsJS.subtitleTracks,this.hlsJS.subtitleDisplay=!0):this.dom.video&&this.dom.video.textTracks&&0<this.dom.video.textTracks.length&&(n=this.dom.video.textTracks,this.hlsJSCEA=!0);n&&(this.textTracks=n,this.textTracks=r.default.filterTextTracks(this.textTracks),0<this.textTracks.length&&(r.default.clearInterval(this.hlsJSCCInterval),v.default.appendUI.call(this)))},rt=function(){this.hlsJS.off(Hls.Events.MANIFEST_PARSED,this.hlsManifestParsed),function(){var t=this.hlsJS.levels,n,f,u,i;if(Array.isArray(t)&&0<t.length&&(a.default.setUpAbrUI.call(this),this.dom.qualityAuto))for(r.default.addEvent(["touchend","click"],this.dom.qualityAuto,p.bind(this,0)),n=0,f=t.length;n<f;n++)u=document.createElement("div"),r.default.setClass(u,"rmp-overlay-level rmp-color-bg rmp-q"+(n+1)),i="",t[n]&&(this.hlsJSUseManifestRenditionName&&"string"==typeof t[n].name&&""!==t[n].name?i+=t[n].name:(t[n].bitrate||t[n].height)&&(t[n].height&&0<t[n].height&&(i+=t[n].height+"p",t[n].bitrate&&1e4<t[n].bitrate&&(i+=" "+this.uiSeparator+" ")),t[n].bitrate&&1e4<t[n].bitrate&&(i+=Math.round(t[n].bitrate/1e3).toString()+" kbps"))),""===i&&(i+="Level "+(n+1)),r.default.setText(u,i),r.default.addEvent(["touchend","click"],u,p.bind(this,n+1)),this.dom.qualityOverlayLevelsArea.appendChild(u)}.call(this);this.hlsJSEnableCaptions&&function(){var n=this;w.call(this);r.default.clearInterval(this.hlsJSCCInterval);this.hlsJSCCInterval=setInterval(w.bind(this),1e3);this.hlsJS.on(Hls.Events.SUBTITLE_TRACK_SWITCH,function(){r.default.createStdEvent("hlssubtitletrackswitch",n.dom.container)})}.call(this);r.default.createStdEvent("hlsmanifestparsed",this.dom.container)},b=function(){var t=-1,n,i,u;try{t=this.hlsJS.currentLevel}catch(t){r.default.trace(t)}if(-1<t&&this.dom.qualityOverlayLevelsArea&&(n=this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),0<n.length)){for(i=0,u=n.length;i<u;i++)r.default.removeClass(n[i],"rmp-abr-active");r.default.addClass(n[t+1],"rmp-abr-active")}};h.initFinised=function(){this.initHLSJS=function(){this.hlsJS.loadSource(this.startingBitratePath)}.bind(this);this.hlsJS.attachMedia(this.dom.video);this.readingHlsHevc?y.default.checkStreams.call(this,this.initHLSJS,this.backupSrc,"hlsHevc"):y.default.checkStreams.call(this,this.initHLSJS,this.backupSrc,"hls");this.msePreloadCompleted=!0;this.muxData&&!this.muxDataHlsJSMonitored&&tt.default.initHlsJS.call(this);r.default.createStdEvent("hlsinstancecreated",this.dom.container)};c=function(){var n=this,p;if("undefined"==typeof Hls)s.default.fatal.call(this,"failed to load required lib hls.js",200,null);else{if(p=function(){var t,n,u;if(this.hasCC&&(this.hlsJSEnableCaptions=!1),t=d.default.getBandwidthEstimate(),t<=0&&(t=k.default.fallbackArbitraryBWEstimate),n={capLevelToPlayerSize:this.hlsJSCapLevelToPlayerSize,debug:!1,maxBufferLength:this.hlsJSMaxBufferLength,autoStartLoad:!0,maxBufferSize:this.hlsJSMaxBufferSize,minAutoBitrate:this.hlsJSMinAutoBitrate,liveSyncDuration:this.hlsJSLiveSyncDuration,maxAudioFramesDrift:this.hlsJSMaxAudioFramesDrift,enableCEA708Captions:this.hlsJSEnableCaptions,enableWebVTT:this.hlsJSEnableCaptions,abrEwmaDefaultEstimate:t,abrBandWidthFactor:this.hlsJSAbrBandWidthFactor,abrBandWidthUpFactor:this.hlsJSAbrBandWidthUpFactor},"mp4a.40.2"!==this.hlsJSDefaultAudioCodec&&"mp4a.40.5"!==this.hlsJSDefaultAudioCodec||(n.defaultAudioCodec=this.hlsJSDefaultAudioCodec),this.isVod&&(n.levelLoadingMaxRetry=2,n.fragLoadingMaxRetry=3),this.hlsJSXhrWithCredentials&&(n.xhrSetup=function(n){n.withCredentials=!0}),null!==this.hlsJSXhrSetup&&(n.xhrSetup=this.hlsJSXhrSetup),this.hlsJSAppleAppStoreCompliance&&(n.minAutoBitrate=192001,this.hlsJSStartLevel=-1),!r.default.isEmptyObject(this.hlsJSCustomConfig))for(var f=Object.keys(this.hlsJSCustomConfig),i=0,e=f.length;i<e;i++)u=f[i],n[u]=this.hlsJSCustomConfig[u];return n}.call(this),this.hlsJS=new Hls(p),this.hasStreamroot&&"undefined"!=typeof HlsjsDnaWrapper&&(this.streamrootWrapper=new HlsjsDnaWrapper(this.hlsJS,this.streamrootConfig.streamrootKey,this.streamrootConfig.dnaConfig)),this.hlsJS.startLevel=this.hlsJSStartLevel<0?-1:parseInt(this.hlsJSStartLevel),this.hlsManifestParsed=rt.bind(this),this.hlsJS.on(Hls.Events.MANIFEST_PARSED,this.hlsManifestParsed),this.hlsJSStopDownloadWhilePaused&&(this.hlsOnFirstPlaying=function(){this.dom.container.removeEventListener("playing",this.hlsOnFirstPlaying);this.hlsOnPauseStopLoad=function(){this.hlsStopLoad()}.bind(this);this.dom.container.addEventListener("pause",this.hlsOnPauseStopLoad);this.hlsOnPlayStartLoad=function(){this.hlsStartLoad()}.bind(this);this.dom.container.addEventListener("play",this.hlsOnPlayStartLoad)}.bind(this),this.dom.container.addEventListener("playing",this.hlsOnFirstPlaying)),this.hlsJS.on(Hls.Events.FRAG_LOADED,function(t,i){i&&void 0!==i.frag&&(n.hlsFragmentData=i.frag,r.default.createStdEvent("hlsfragmentloaded",n.dom.container))}),b.call(this),r.default.clearInterval(this.hlsJSAbrInterval),this.hlsJSAbrInterval=setInterval(b.bind(this),1e3),this.hlsJS.on(Hls.Events.LEVEL_SWITCHING,function(){r.default.createStdEvent("hlslevelswitching",n.dom.container)}),this.hlsJS.on(Hls.Events.LEVEL_SWITCHED,function(){r.default.createStdEvent("hlslevelswitched",n.dom.container)}),this.hlsJS.on(Hls.Events.LEVEL_LOADED,function(t,i){if(void 0!==i.details&&(n.hlsLevelData=i.details,r.default.createStdEvent("hlslevelloaded",n.dom.container),n.hlsLevelData.fragments&&n.hlsLevelData.fragments[0])){var u=n.hlsLevelData.fragments[0];u.programDateTime&&"function"==typeof u.programDateTime.getTime&&(n.hlsEpochProgramDateTime=u.programDateTime.getTime(),u.rawProgramDateTime&&(n.hlsRawProgramDateTime=u.rawProgramDateTime),r.default.createStdEvent("hlsprogramdatetimeavailable",n.dom.container))}}),this.hlsJS.on(Hls.Events.MANIFEST_LOADED,function(t,i){void 0!==i.levels&&(n.hlsManifestData=i.levels,r.default.createStdEvent("hlsmanifestloaded",n.dom.container))}),this.hlsJS.on(Hls.Events.FRAG_PARSING_METADATA,function(t,i){i&&i.samples?(n.hlsID3TagData=i.samples,r.default.createStdEvent("hlsid3tagparsingcompleted",n.dom.container)):n.hlsID3TagData=null}),this.hlsJS.on(Hls.Events.FRAG_CHANGED,function(t,i){i&&void 0!==i.frag&&(n.hlsFragmentBeingPlayed=i.frag,r.default.createStdEvent("hlsfragmentbeingplayedchanged",n.dom.container))}),this.hlsJS.on(Hls.Events.AUDIO_TRACK_SWITCHING,function(){r.default.createStdEvent("hlsaudiotrackswitching",n.dom.container)}),this.hlsJS.on(Hls.Events.AUDIO_TRACK_SWITCHED,function(){r.default.createStdEvent("hlsaudiotrackswitched",n.dom.container)}),this.hlsJSAttachMultiAudio=function(){var n,i,u,f,t;if(this.hlsJS.off(Hls.Events.AUDIO_TRACKS_UPDATED,this.hlsJSAttachMultiAudio),n=this.hlsJS.audioTracks,Array.isArray(n)&&1<n.length){if(e.default.append.call(this,"audio"),e.default.appendOverlay.call(this,"audio"),e.default.deferredShow.call(this,"audio"),i=void 0,1===n.filter(function(n){return!0===n.default}).length)for(u=0;u<n.length;u++)f=void 0,"AUDIO"===n[u].type&&!0===n[u].default&&0!==u&&(f=n.splice(u,1)),f&&f[0]&&n.unshift(f[0]);for(t=0;t<n.length;t++)"AUDIO"===n[t].type&&(i=document.createElement("div"),0===t?r.default.setClass(i,"rmp-overlay-level rmp-color-bg rmp-overlay-level-active"):r.default.setClass(i,"rmp-overlay-level rmp-color-bg"),this.hlsJSUseManifestRenditionName&&"string"==typeof n[t].name&&""!==n[t].name?r.default.setText(i,n[t].name):"string"==typeof n[t].lang&&""!==n[t].lang?r.default.setText(i,n[t].lang):r.default.setText(i,"Audio "+t),r.default.addEvent(["touchend","click"],i,it.bind(this,t)),this.dom.audioOverlayLevelsArea.appendChild(i))}}.bind(this),this.hlsJS.on(Hls.Events.AUDIO_TRACKS_UPDATED,this.hlsJSAttachMultiAudio),this.isLiveDvr&&this.hlsJS.on(Hls.Events.LEVEL_LOADED,function(t,i){i&&i.details&&"number"==typeof i.details.totalduration&&(n.hlsJSLevelDuration=i.details.totalduration)}),this.hlsJS.on(Hls.Events.FRAG_BUFFERED,function(t,i){if(i&&r.default.isObject(i.stats)){var u=i.stats;"number"==typeof u.bwEstimate&&0<u.bwEstimate&&(n.bwEstimate=Math.round(u.bwEstimate))}}),this.adImaDai)return void nt.default.init.call(this);var u=0,o=0,t=0,c=null;this.hlsJSUnstalledBuffer=function(){this.dom.container.removeEventListener("playing",this.hlsJSUnstalledBuffer);l.default.hideLoadingSpin.call(this);r.default.createStdEvent("buffernotstalledanymore",this.dom.container)}.bind(this);var w=[Hls.ErrorDetails.MANIFEST_LOAD_ERROR,Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT],g=[Hls.ErrorDetails.LEVEL_LOAD_ERROR,Hls.ErrorDetails.LEVEL_LOAD_TIMEOUT,Hls.ErrorDetails.FRAG_LOAD_ERROR,Hls.ErrorDetails.FRAG_LOAD_TIMEOUT],y=0,i=null;this.hlsJS.on(Hls.Events.ERROR,function(h,p){var k,d,nt,ut,tt;if(r.default.isObject(p)&&"boolean"==typeof p.fatal&&p.details&&p.type){var it=p.fatal,rt=p.type,b=p.details;if(!it&&b===Hls.ErrorDetails.BUFFER_STALLED_ERROR)return l.default.showLoadingSpin.call(n),n.dom.container.addEventListener("playing",n.hlsJSUnstalledBuffer),void r.default.createStdEvent("bufferstalled",n.dom.container);if(it)if(rt===Hls.ErrorTypes.NETWORK_ERROR)if(k=-1<w.indexOf(b),d=-1<g.indexOf(b),(n.isLive||n.isLiveDvr&&n.dvrLiveMode)&&(k||d))if(y<n.liveRetries){if(null===i&&(i=function(){this.hlsJS.off(Hls.Events.LEVEL_LOADED,this.hlsJSOnLiveRetriesSuccess);this.hlsJS.off(Hls.Events.MANIFEST_LOADED,this.hlsJSOnLiveRetriesSuccess);this.hlsJS.off(Hls.Events.FRAG_LOADED,this.hlsJSOnLiveRetriesSuccess);y=0;i=null},n.hlsJSOnLiveRetriesSuccess=i.bind(n),n.hlsJS.on(Hls.Events.LEVEL_LOADED,n.hlsJSOnLiveRetriesSuccess),n.hlsJS.on(Hls.Events.MANIFEST_LOADED,n.hlsJSOnLiveRetriesSuccess),n.hlsJS.on(Hls.Events.FRAG_LOADED,n.hlsJSOnLiveRetriesSuccess)),k){if(!n.hasLoadedMetadata)return void f.call(n,p);r.default.clearTimeout(n.hlsJSErrorRetryTimeout);n.hlsJSErrorRetryTimeout=setTimeout(function(){n.dom.quality&&a.default.destroy.call(n);n.dom.audio&&e.default.destroy.call(n,"audio");n.dom.captions&&v.default.destroy.call(n);n.hlsJS.loadSource(n.startingBitratePath)},400)}else r.default.clearTimeout(n.hlsJSErrorRetryTimeout),n.hlsJSErrorRetryTimeout=setTimeout(function(){n.hlsJS.startLoad()},400);y++}else f.call(n,p);else k||b===Hls.ErrorDetails.MANIFEST_PARSING_ERROR?f.call(n,p):d?(nt=n.getBitrates(),b===Hls.ErrorDetails.LEVEL_LOAD_ERROR&&1===nt.length?(t=0,f.call(n,p)):t<3?(0===t&&null===c&&(c=function(){0<t&&(t=0)},n.hlsJS.on(Hls.Events.LEVEL_LOADED,c)),t++,ut=r.default.getRandomInt(0,nt.length),n.hlsJS.currentLevel=ut):(t=0,f.call(n,p))):(r.default.clearTimeout(n.hlsJSErrorRetryTimeout),n.hlsJSErrorRetryTimeout=setTimeout(function(){n.hlsJS.startLoad()},400));else if(rt===Hls.ErrorTypes.MEDIA_ERROR){if(b===Hls.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR)return void f.call(n,p);tt=r.default.getNow();0===u||3e3<tt-u?(u=r.default.getNow(),n.hlsJS.recoverMediaError()):0===o||3e3<tt-o?(o=r.default.getNow(),n.hlsJS.swapAudioCodec(),n.hlsJS.recoverMediaError()):f.call(n,p)}else f.call(n,p);else r.default.createCustomEvent("hlswarning",n.dom.container,p),s.default.warning.call(n,"hls.js warning",2e3,p)}});h.initFinised.call(this)}};o=function(){if("undefined"!=typeof Hls)c.call(this);else r.default.getScript("https://cdn.radiantmediatechs.com/rmp/5.0.9/hls/hls.min.js",c.bind(this),s.default.fatal.bind(this,"failed to load required lib hls.js",200,null))};h.init=function(){this.msePreloadRequested?this.msePreloadRequested=!1:!r.default.isEmptyObject(this.streamrootConfig)&&this.streamrootConfig.streamrootKey&&"hlsjs"===this.streamrootConfig.type?(this.hasStreamroot=!0,"undefined"!=typeof HlsjsDnaWrapper)?o.call(this):r.default.getScript("https://cdn.streamroot.io/hlsjs-dna-wrapper/1/stable/hlsjs-dna-wrapper.js",o.bind(this),o.bind(this)):o.call(this)};i.default=h},{"../../../../rmp-connection/js/rmp-connection":253,"../ads/ima-dai":8,"../analytics/mux":13,"../cast/cast":22,"../core/modules/modules":30,"../core/modules/quality":31,"../core/ui/core-ui":41,"../core/utils/error":44,"../core/utils/utils":46,"../fw/env":52,"../fw/fw":53,"../vtt/captions":57}],4:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../fw/fw")),v=u(n("../core/modules/quality")),y=u(n("../vtt/captions")),p=u(n("./shaka/configuration")),o=u(n("../core/ui/core-ui")),l=u(n("../core/utils/utils")),f=u(n("../core/utils/error")),s=u(n("../core/modules/modules")),d=u(n("../cast/cast")),g=u(n("../api/offline"));var e={},nt=function(n,t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault());o.default.showChrome.call(this);this.setBitrate(n-1)},tt=function(n,t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault());o.default.showChrome.call(this);this.setAudioTrack(n);this.googleCast&&d.default.setAudioTrack.call(this,n)},w=function(){var n=this.shakaPlayer.getVariantTracks(),t=n.find(function(n){return!0===n.active});return t?t.language:n[0].language},b=function(){var e=this.shakaPlayer.getVariantTracks(),t,i,c,u,l,n,o,f,a,s,h;if(0<e.length&&this.dom.qualityOverlayLevelsArea&&(t=this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),0<t.length)){for(i=0,c=t.length;i<c;i++)r.default.removeClass(t[i],"rmp-abr-active");for(u=0,l=e.length;u<l;u++)if(n=e[u],n.active){for(o=this.shakaCurrentLevel,this.audioOnly?n.audioBandwidth?this.shakaCurrentLevel=n.audioBandwidth:n.bandwidth&&(this.shakaCurrentLevel=n.bandwidth):n.videoBandwidth?this.shakaCurrentLevel=n.videoBandwidth:n.bandwidth&&(this.shakaCurrentLevel=n.bandwidth),null!==o&&this.shakaCurrentLevel===o||r.default.createStdEvent("shakalevelswitching",this.dom.container),f=0,a=t.length;f<a;f++)if(s=t[f],h=s.getAttribute("data-track-id"),h&&parseInt(h)===n.id){r.default.addClass(s,"rmp-abr-active");break}break}}};e.setUpVideoRenditions=function(){var i,u,n,o,s;this.shakaVideoRenditions=[];for(var e=w.call(this),f=this.variantsPerLng.filter(function(n){return Object.keys(n)[0]===e}),t=0,h=(f=void 0!==f[0][e]?f[0][e]:[]).length;t<h;t++)i=f[t],u=document.createElement("div"),r.default.setClass(u,"rmp-overlay-level rmp-color-bg rmp-q"+(t+1)),u.setAttribute("data-track-id",i.id),this.shakaVideoRenditions.push(i.id),n="",o=i.height,o&&(n+=o+"p"),s=Math.round(i.bandwidth/1e3),10<s&&(n+=" "+this.uiSeparator+" "+s.toString()+" kbps"),n||(n+="Level "+(t+1)),r.default.setText(u,n),this.dom.qualityOverlayLevelsArea.appendChild(u);(function(){if(this.dom.qualityOverlayLevelsArea)for(var t=this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),n=0,i=t.length;n<i;n++)r.default.addEvent(["touchend","click"],t[n],nt.bind(this,n))}).call(this);b.call(this)};var it=function(){(function(){var t=this,n;this.variantsAudioLng=this.shakaPlayer.getAudioLanguages();n=this.shakaPlayer.getVariantTracks();this.variantsPerLng=[];this.variantsAudioLng.forEach(function(i){var u=n.filter(function(n){return n.language===i}),r;u.sort(function(n,t){return n.bandwidth-t.bandwidth});r={};r[i]=u;t.variantsPerLng.push(r)});this.hasCC||(this.shakaTextTracks=this.shakaPlayer.getTextTracks())}).call(this);0<this.variantsPerLng.length&&(v.default.setUpAbrUI.call(this),e.setUpVideoRenditions.call(this),1<this.variantsPerLng.length&&function(){var f,n,i,t,u;for(s.default.append.call(this,"audio"),s.default.appendOverlay.call(this,"audio"),s.default.deferredShow.call(this,"audio"),f=w.call(this),n=0;n<this.variantsAudioLng.length;n++)i=this.variantsAudioLng[n],t=document.createElement("div"),i===f?r.default.setClass(t,"rmp-overlay-level rmp-color-bg rmp-overlay-level-active"):r.default.setClass(t,"rmp-overlay-level rmp-color-bg"),u="Audio "+n,"und"!==i&&(u=i),r.default.setText(t,u),r.default.addEvent(["touchend","click"],t,tt.bind(this,n)),this.dom.audioOverlayLevelsArea.appendChild(t)}.call(this),!this.hasCC&&0<this.shakaTextTracks.length&&(this.textTracks=r.default.filterTextTracks(this.shakaTextTracks),0<this.textTracks.length&&y.default.appendUI.call(this)))},h=0,rt=function(n){if(n){var t=n;n&&n.detail&&(t=n.detail);t&&"number"==typeof t.severity&&(2===t.severity?(r.default.createCustomEvent("shakaerror",this.dom.container,t),f.default.fatal.call(this,"Shaka player error - cannot recover",301,t)):1===t.severity&&(1===t.category&&this.isLive&&this.hasLoadedMetadata?h<this.liveRetries?(0===h&&(this.shakaOnPlayingResetRetriesCount=function(){this.dom.container.removeEventListener("playing",this.shakaOnPlayingResetRetriesCount);h=0}.bind(this),this.dom.container.addEventListener("playing",this.shakaOnPlayingResetRetriesCount)),h++):(this.dom.container.removeEventListener("playing",this.shakaOnPlayingResetRetriesCount),r.default.createCustomEvent("shakaerror",this.dom.container,t),f.default.fatal.call(this,"Shaka player error - cannot recover",301,t)):(r.default.createStdEvent("shakawarning",this.dom.container,t),f.default.warning.call(this,"Shaka player warning",3e3,t))))}};e.destroy=function(){this.shakaPlayer&&(this.shakaPlayer.removeEventListener("error",this.shakaError),this.shakaPlayer.removeEventListener("adaptation",this.shakaAdaptationChanged),this.shakaPlayer.removeEventListener("buffering",this.shakaBuffering),this.shakaPlayer.removeEventListener("trackschanged",this.shakaTracksChanged),this.shakaPlayer.removeEventListener("buffering",this.shakaUnstalledBuffer));this.dom.container&&this.dom.container.removeEventListener("playing",this.shakaOnPlayingResetRetriesCount)};var a=function(){this.shakaPlayer=new shaka.Player(this.dom.video);this.hasStreamroot&&"undefined"!=typeof ShakaPlayerDnaWrapper&&(this.streamrootWrapper=new ShakaPlayerDnaWrapper(this.shakaPlayer,this.streamrootConfig.streamrootKey,this.streamrootConfig.dnaConfig));var n=void 0;n=r.default.isEmptyObject(this.shakaCustomConfig)?p.default.initial.call(this):this.shakaCustomConfig;this.shakaPlayer.configure(n);null!==this.shakaCustomRequestFilter?this.shakaPlayer.getNetworkingEngine().registerRequestFilter(this.shakaCustomRequestFilter):r.default.isEmptyObject(this.shakaRequestConfiguration)||p.default.request.call(this);this.shakaError=rt.bind(this);this.shakaPlayer.addEventListener("error",this.shakaError);this.shakaAdaptationChanged=function(){this.shakaPlayer.getConfiguration().abr.enabled&&b.call(this)}.bind(this);this.shakaPlayer.addEventListener("adaptation",this.shakaAdaptationChanged);this.shakaBuffering=function(n){n&&"buffering"===n.type&&n.buffering&&(this.firstBufferStalledEvent||(o.default.showLoadingSpin.call(this),this.shakaPlayer.addEventListener("buffering",this.shakaUnstalledBuffer),r.default.createStdEvent("bufferstalled",this.dom.container)),this.firstBufferStalledEvent=!1)}.bind(this);this.shakaUnstalledBuffer=function(n){this.shakaPlayer.removeEventListener("buffering",this.shakaUnstalledBuffer);n&&"buffering"===n.type&&!n.buffering&&(o.default.hideLoadingSpin.call(this),r.default.createStdEvent("buffernotstalledanymore",this.dom.container))}.bind(this);this.shakaPlayer.addEventListener("buffering",this.shakaBuffering);this.shakaTracksChanged=function(){this.dom.quality&&v.default.destroy.call(this);this.dom.audio&&s.default.destroy.call(this,"audio");this.hasCC||this.dom.captions&&y.default.destroy.call(this);it.call(this);r.default.createStdEvent("shakatrackschanged",this.dom.container)}.bind(this);this.shakaPlayer.addEventListener("trackschanged",this.shakaTracksChanged);this.shakaOffline&&this.isVod&&(this.hasDownloadSupport()?g.default.init.call(this):f.default.warning.call(this,"offline storage is not supported in this environment",3007,null));this.shakaPlayer.load(this.startingBitratePath).catch(this.shakaError);this.msePreloadCompleted=!0;r.default.createStdEvent("shakainstancecreated",this.dom.container)},k=function(){"undefined"!=typeof shaka&&(shaka.polyfill.installAll(),shaka.Player.isBrowserSupported())?this.readingDash?l.default.checkStreams.call(this,a.bind(this),this.backupSrc,"dash"):this.readingHlsShaka&&(this.readingHlsHevc?l.default.checkStreams.call(this,a.bind(this),this.backupSrc,"hlsHevc"):l.default.checkStreams.call(this,a.bind(this),this.backupSrc,"hls")):f.default.fatal.call(this,"failed to load required lib Shaka player",300,null)},c=function(){if("undefined"!=typeof shaka)k.call(this);else r.default.getScript("https://cdn.radiantmediatechs.com/rmp/5.0.9/dash/shaka-player.compiled.js",k.bind(this),f.default.fatal.bind(this,"failed to load required lib Shaka player",300,null))};e.init=function(){this.msePreloadRequested?this.msePreloadRequested=!1:!r.default.isEmptyObject(this.streamrootConfig)&&this.streamrootConfig.streamrootKey&&"shakaplayer"===this.streamrootConfig.type?(this.hasStreamroot=!0,"undefined"!=typeof ShakaPlayerDnaWrapper)?c.call(this):r.default.getScript("https://cdn.streamroot.io/shakaplayer-dna-wrapper/1/stable/shakaplayer-dna-wrapper.js",c.bind(this),c.bind(this)):c.call(this)};i.default=e},{"../api/offline":19,"../cast/cast":22,"../core/modules/modules":30,"../core/modules/quality":31,"../core/ui/core-ui":41,"../core/utils/error":44,"../core/utils/utils":46,"../fw/fw":53,"../vtt/captions":57,"./shaka/configuration":5}],5:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var u,e;Object.defineProperty(i,"__esModule",{value:!0});var r=f(n("../../fw/fw")),o=f(n("../../fw/env")),s=f(n("../../../../../rmp-connection/js/rmp-connection"));u={};e=function(n){var t=o.default.devicePixelRatio,i,r,u;return(t<=1&&!this.getFullscreen()&&(t=1.25),i=this.getPlayerWidth()*t,r=this.getPlayerHeight()*t,0<i&&0<r)?(u={maxWidth:i,maxHeight:r},n?(n.abr.restrictions=u,n):{abr:{restrictions:u}}):null};u.initial=function(){var n={abr:{},drm:{},manifest:{},restrictions:{},streaming:{}},i={},t={},u=this.shakaStartLevel,f=null,h;return(u<0&&0<(f=s.default.getBandwidthEstimate())&&(u=Math.round(1e6*f)),null===f&&(u=o.default.fallbackArbitraryBWEstimate),n.abr.defaultBandwidthEstimate=u,n.abr.bandwidthDowngradeTarget=this.shakaBandwidthDowngradeTarget,n.abr.bandwidthUpgradeTarget=this.shakaBandwidthUpgradeTarget,this.shakaCapLevelToPlayerSize)&&(h=e.call(this,n),h&&(n=h),this.configureShakaCapLevelToPlayerSize=function(){var n=e.call(this,null);n&&this.shakaPlayer.configure(n)}.bind(this,null),this.dom.container.addEventListener("resize",this.configureShakaCapLevelToPlayerSize)),(n.preferredAudioLanguage=this.shakaPreferredAudioLanguage,n.streaming.bufferBehind=this.shakaStreamingBufferBehind,n.streaming.bufferingGoal=this.shakaStreamingBufferingGoal,n.streaming.rebufferingGoal=this.shakaStreamingRebufferingGoal,n.streaming.ignoreTextStreamFailures=this.shakaStreamingIgnoreTextStreamFailures,n.streaming.jumpLargeGaps=this.shakaJumpLargeGaps,n.streaming.smallGapLimit=this.shakaSmallGapLimit,10!==this.shakaManifestDashDefaultPresentationDelay&&(n.manifest.dash={},n.manifest.dash.defaultPresentationDelay=this.shakaManifestDashDefaultPresentationDelay),r.default.isEmptyObject(this.shakaRetryParameters))?(n.manifest.retryParameters={maxAttempts:3},n.streaming.retryParameters={maxAttempts:4}):("number"==typeof this.shakaRetryParameters.maxAttempts&&(i.maxAttempts=this.shakaRetryParameters.maxAttempts),"number"==typeof this.shakaRetryParameters.baseDelay&&(i.baseDelay=this.shakaRetryParameters.baseDelay),"number"==typeof this.shakaRetryParameters.backoffFactor&&(i.backoffFactor=this.shakaRetryParameters.backoffFactor),"number"==typeof this.shakaRetryParameters.fuzzFactor&&(i.fuzzFactor=this.shakaRetryParameters.fuzzFactor),"number"==typeof this.shakaRetryParameters.timeout&&(i.timeout=this.shakaRetryParameters.timeout),r.default.isEmptyObject(i)||(n.drm.retryParameters=i,n.manifest.retryParameters=i,n.streaming.retryParameters=i)),r.default.isEmptyObject(this.shakaDrm)||(r.default.isObject(this.shakaDrm.servers)&&(n.drm.servers=this.shakaDrm.servers),r.default.isObject(this.shakaDrm.clearKeys)&&(n.drm.clearKeys=this.shakaDrm.clearKeys),r.default.isObject(this.shakaDrm.advanced)&&(n.drm.advanced=this.shakaDrm.advanced)),r.default.isEmptyObject(this.shakaRestrictions)||("number"==typeof this.shakaRestrictions.minWidth&&(t.minWidth=this.shakaRestrictions.minWidth),"number"==typeof this.shakaRestrictions.maxWidth&&(t.maxWidth=this.shakaRestrictions.maxWidth),"number"==typeof this.shakaRestrictions.minHeight&&(t.minHeight=this.shakaRestrictions.minHeight),"number"==typeof this.shakaRestrictions.maxHeight&&(t.maxHeight=this.shakaRestrictions.maxHeight),"number"==typeof this.shakaRestrictions.minPixels&&(t.minPixels=this.shakaRestrictions.minPixels),"number"==typeof this.shakaRestrictions.maxPixels&&(t.maxPixels=this.shakaRestrictions.maxPixels),"number"==typeof this.shakaRestrictions.minAudioBandwidth&&(t.minAudioBandwidth=this.shakaRestrictions.minAudioBandwidth),"number"==typeof this.shakaRestrictions.maxAudioBandwidth&&(t.maxAudioBandwidth=this.shakaRestrictions.maxAudioBandwidth),"number"==typeof this.shakaRestrictions.minVideoBandwidth&&(t.minVideoBandwidth=this.shakaRestrictions.minVideoBandwidth),"number"==typeof this.shakaRestrictions.maxVideoBandwidth&&(t.maxVideoBandwidth=this.shakaRestrictions.maxVideoBandwidth),r.default.isEmptyObject(t)||(n.restrictions=t)),r.default.isEmptyObject(n.drm)&&delete n.drm,r.default.isEmptyObject(n.manifest)&&delete n.manifest,r.default.isEmptyObject(n.restrictions)&&delete n.restrictions,n};u.request=function(){var n={},f=!1,t="",i,u;r.default.isObject(this.shakaRequestConfiguration.license)&&(r.default.isObject(this.shakaRequestConfiguration.license.headers)&&(n=this.shakaRequestConfiguration.license.headers),"boolean"==typeof this.shakaRequestConfiguration.license.credentials&&(f=this.shakaRequestConfiguration.license.credentials),"string"==typeof this.shakaRequestConfiguration.license.parameters&&(t=this.shakaRequestConfiguration.license.parameters));i=!1;r.default.isObject(this.shakaRequestConfiguration.manifest)&&"boolean"==typeof this.shakaRequestConfiguration.manifest.credentials&&(i=this.shakaRequestConfiguration.manifest.credentials);u=!1;r.default.isObject(this.shakaRequestConfiguration.segment)&&"boolean"==typeof this.shakaRequestConfiguration.segment.credentials&&(u=this.shakaRequestConfiguration.segment.credentials);this.shakaPlayer.getNetworkingEngine().registerRequestFilter(function(e,o){var h;if(e===shaka.net.NetworkingEngine.RequestType.LICENSE){if(!r.default.isEmptyObject(n))for(var c=Object.keys(n),s=0,l=c.length;s<l;s++)h=c[s],o.headers[h]=n[h];""!==t&&(o.uris[0]+=t);f&&(o.allowCrossSiteCredentials=!0)}e===shaka.net.NetworkingEngine.RequestType.MANIFEST&&i&&(o.allowCrossSiteCredentials=!0);e===shaka.net.NetworkingEngine.RequestType.SEGMENT&&u&&(o.allowCrossSiteCredentials=!0)})};i.default=u},{"../../../../../rmp-connection/js/rmp-connection":253,"../../fw/env":52,"../../fw/fw":53}],6:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function a(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)}var u,v,y,h;Object.defineProperty(i,"__esModule",{value:!0});var r=o(n("../fw/fw")),e=o(n("../fw/env")),f=o(n("../core/ui/core-ui")),c=o(n("./ima-ads")),l=o(n("./rmp-vast")),s=o(n("../core/modules/modules")),k=o(n("../core/accessible/accessible"));u={destroy:function(){r.default.removeEvent("ended",this.dom.container,this.onEndedWaitForPlay);r.default.removeEvent("play",this.dom.container,this.onRePlayLoadAdTag);r.default.removeEvent("adloaded",this.dom.container,this.onAdLoadedAfterReload)}};v=function(){this.dom.container.removeEventListener("ended",this.onEndedWaitForPlay);this.onRePlayLoadAdTag=function(){this.dom.container.removeEventListener("play",this.onRePlayLoadAdTag);this.adTagWaterfall=[].concat(a(this.originalAdTagWaterfall));this.adTagUrl=this.originalAdTagUrl;"ima"===this.adParser?this.contentCompleteCalled=!1:this.rmpVast.setContentPlayerCompleted(!1);this.loadAds(this.adTagUrl);this.dom.container.addEventListener("ended",this.onEndedWaitForPlay)}.bind(this);this.dom.container.addEventListener("play",this.onRePlayLoadAdTag)};u.onEndedReloadAdTag=function(){this.onEndedWaitForPlay=v.bind(this);this.dom.container.addEventListener("ended",this.onEndedWaitForPlay)};y=function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());r.default.removeEvent(["touchend","click"],this.dom.overlayButton,this.onInteractionReloadAdTag);e.default.isMobile&&r.default.removeEvent(["touchend","click"],this.dom.centralMobileUI,this.onInteractionReloadAdTag);this.adTagWaterfall=[].concat(a(this.originalAdTagWaterfall));this.adTagUrl=this.originalAdTagUrl;this.loadAds(this.adTagUrl);this.onAdLoadedAfterReload=function(){this.dom.container.removeEventListener("adloaded",this.onAdLoadedAfterReload);r.default.removeClass(this.dom.overlayButtonIcon,"rmp-i-replay");r.default.addClass(this.dom.overlayButtonIcon,"rmp-i-play");e.default.isMobile&&(r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-replay"),r.default.removeClass(this.dom.centralMobileUI,"rmp-mobile-show-play"),r.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-pause"));r.default.show(this.dom.outline)}.bind(this);this.dom.container.addEventListener("adloaded",this.onAdLoadedAfterReload)};u.endedOutStreamUI=function(){""!==this.endOfVideoPoster&&this.setPoster(this.endOfVideoPoster);""!==this.poster&&r.default.show(this.dom.poster);r.default.hide(this.dom.outline);this.adTagReloadOnEnded?(r.default.removeClass(this.dom.overlayButtonIcon,"rmp-i-play"),r.default.addClass(this.dom.overlayButtonIcon,"rmp-i-replay"),f.default.showCentralPlay.call(this),this.onInteractionReloadAdTag=y.bind(this),r.default.addEvent(["touchend","click"],this.dom.overlayButton,this.onInteractionReloadAdTag),e.default.isMobile&&(r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-play"),r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-pause"),r.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-replay"),r.default.addClass(this.dom.centralMobileUI,"rmp-mobile-show-play"),r.default.addEvent(["touchend","click"],this.dom.centralMobileUI,this.onInteractionReloadAdTag))):(f.default.hideCentralPlay.call(this),f.default.hideLoadingSpin.call(this),r.default.removeEvent(["touchend","click"],this.dom.playPause,this.initiatePlayback),r.default.removeEvent(["touchend","click"],this.dom.overlayButton,this.initiatePlayback),e.default.isMobile&&(r.default.hide(this.dom.centralMobileUI),r.default.removeEvent(["touchend","click"],this.dom.centralMobileUI,this.initiatePlayback)))};u.createControlBarAdInfo=function(){this.dom.adInfo=document.createElement("div");r.default.setClass(this.dom.adInfo,"rmp-ad-info");r.default.hide(this.dom.adInfo);!e.default.isMobile||"ima"!==this.adParser||"s3"!==this.skin&&"s4"!==this.skin||r.default.addClass(this.dom.adInfo,"rmp-no-display");this.dom.outline.appendChild(this.dom.adInfo);""!==this.labels.ads.controlBarCustomMessage&&(this.dom.adMessage=document.createElement("span"),r.default.setClass(this.dom.adMessage,"rmp-ad-info-message"),r.default.setText(this.dom.adMessage,this.labels.ads.controlBarCustomMessage),this.dom.adInfo.appendChild(this.dom.adMessage))};var p=function(){var n=this.getAdCurrentTime(),t;n>1e3*this.adSkipOffset?(r.default.clearInterval(this.adSkipInterval),this.dom.adSkipWaiting.style.display="none",this.dom.adSkipMessage.style.display="block",this.dom.skipIcon.style.display="block"):-1<n&&(t=Math.round((1e3*this.adSkipOffset-n)/1e3),0<t&&(this.dom.adSkipWaiting.textContent=this.labels.ads.skipWaitingMessage+" "+t+"s"))},d=function(){if(!this.rmpVast.getIsSkippableAd()&&!this.isVpaidCreative()){if(void 0===this.dom.adSkipButton)if(this.dom.adSkipButton=document.createElement("div"),this.dom.adSkipButton.className="rmp-ad-skip",k.default.makeAccessible.call(this,this.dom.adSkipButton,"Ad skip button",!0),this.dom.adSkipWaiting=document.createElement("div"),this.dom.adSkipWaiting.className="rmp-ad-skip-waiting",this.dom.adSkipMessage=document.createElement("div"),this.dom.adSkipMessage.className="rmp-ad-skip-message",this.dom.adSkipMessage.textContent=this.labels.ads.skipMessage,this.dom.skipIcon=document.createElement("div"),this.dom.skipIcon.className="rmp-ad-skip-icon",r.default.addEvent(["touchend","click"],this.dom.adSkipButton,function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());this.getAdCurrentTime()>1e3*this.adSkipOffset&&(r.default.createStdEvent("adskipped",this.dom.container),this.stopAds())}.bind(this)),this.dom.adSkipButton.appendChild(this.dom.adSkipWaiting),this.dom.adSkipButton.appendChild(this.dom.adSkipMessage),this.dom.adSkipButton.appendChild(this.dom.skipIcon),"ima"===this.adParser)this.dom.adContainer.appendChild(this.dom.adSkipButton);else{var n=this.dom.container.querySelector(".rmp-ad-container");null!==n&&n.appendChild(this.dom.adSkipButton)}this.dom.adSkipButton.style.display="block";this.adSkipOffset<=0?(this.dom.adSkipWaiting.style.display="none",this.dom.adSkipMessage.style.display="block",this.dom.skipIcon.style.display="block"):(this.dom.adSkipWaiting.style.display="block",this.dom.adSkipMessage.style.display="none",this.dom.skipIcon.style.display="none");0<this.adSkipOffset&&(p.call(this),r.default.clearInterval(this.adSkipInterval),this.adSkipInterval=setInterval(p.bind(this),1e3))}},w=function(){r.default.removeClass(this.dom.outline,"rmp-no-display");f.default.enableCentralUI.call(this)},b=function(){r.default.addClass(this.dom.outline,"rmp-no-display");f.default.disableCentralUI.call(this)};u.setAdUI=function(n){if(n&&!this.hasAdUI){if(!this.adOutStream&&(s.default.closeAll.call(this),s.default.hide.call(this),r.default.hide([this.dom.seekBar,this.dom.duration,this.dom.timeElapsed]),this.dom.logoImg&&r.default.hide(this.dom.logoImg),this.dom.quickRewind&&r.default.hide(this.dom.quickRewind),this.hasRelated&&r.default.hide(this.dom.relatedSkip),this.hasPlaylist&&(r.default.hide(this.dom.playlistLeftArrow),r.default.hide(this.dom.playlistRightArrow)),this.video360)){var t=this.dom.container.querySelector(".rmp-360-ui-text");null!==t&&r.default.removeElement(t);r.default.hide(this.dom.ui360);r.default.show(this.dom.adContainer)}r.default.addClass(this.dom.contentTitle,"rmp-no-display");this.dom.adInfo||u.createControlBarAdInfo.call(this);!1===this.adCountDown&&""===this.labels.ads.controlBarCustomMessage||r.default.show(this.dom.adInfo);this.adSkipButton&&"ima"!==this.adParser&&d.call(this);this.isVPAID&&u.setVPAIDUI.call(this,!0),function(){/adsense/i.test(this.adSystem)&&/(text|image\/)/i.test(this.adContentType)&&b.call(this)}.call(this);f.default.showChrome.call(this);this.hasAdUI=!0}else!n&&this.hasAdUI&&(this.adOutStream||(s.default.show.call(this),this.isLive?r.default.setText(this.dom.timeElapsedText,this.labels.hint.live):r.default.show([this.dom.seekBar,this.dom.duration]),r.default.show(this.dom.timeElapsed),this.dom.quickRewind&&r.default.show(this.dom.quickRewind),this.hasRelated&&r.default.show(this.dom.relatedSkip),this.hasPlaylist&&(r.default.show(this.dom.playlistLeftArrow),r.default.show(this.dom.playlistRightArrow)),this.video360&&(r.default.hide(this.dom.adContainer),r.default.show(this.dom.ui360))),r.default.hide(this.dom.adInfo),this.isVPAID&&u.setVPAIDUI.call(this,!1),r.default.removeClass(this.dom.contentTitle,"rmp-no-display"),this.dom.logoImg&&r.default.show(this.dom.logoImg),w.call(this),r.default.clearInterval(this.adCountdownInterval),this.adSkipButton&&"ima"!==this.adParser&&function(){r.default.clearInterval(this.adSkipInterval);this.dom.adSkipButton&&(this.dom.adSkipButton.style.display="none")}.call(this),this.hasAdUI=!1)};u.updateVPAIDStatus=function(n){var t=this.getAdContentType();/\/javascript/i.test(t)&&(this.isVPAID=!0,n&&u.setVPAIDUI.call(this,!0))};u.setVPAIDUI=function(n){n?this.adVpaidControls?r.default.addClass(this.dom.outline,"rmp-force-show"):b.call(this):this.adVpaidControls?r.default.removeClass(this.dom.outline,"rmp-force-show"):w.call(this)};u.udpatePlayPause=function(){this.getAdPaused()?(r.default.addClass(this.dom.playPause,"rmp-i-play"),r.default.removeClass(this.dom.playPause,"rmp-i-pause"),e.default.isMobile&&(r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-pause"),r.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-play"),r.default.addClass(this.dom.centralMobileUI,"rmp-mobile-show-play")),f.default.showChrome.call(this),f.default.showCentralPlay.call(this)):(r.default.removeClass(this.dom.playPause,"rmp-i-play"),r.default.addClass(this.dom.playPause,"rmp-i-pause"),e.default.isMobile&&(r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-play"),r.default.removeClass(this.dom.centralMobileUI,"rmp-mobile-show-play"),r.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-pause")),f.default.hideCentralPlay.call(this))};u.playPause=function(){"ima"===this.adParser?this.getAdPaused()?c.default.resumeAds.call(this):c.default.pauseAds.call(this):this.getAdPaused()?l.default.resumeAds.call(this):l.default.pauseAds.call(this)};h=function(){var n=-1;if("ima"===this.adParser)try{n=this.adsManager.getRemainingTime()}catch(n){r.default.trace(n)}else n=(this.getAdDuration()-this.getAdCurrentTime())/1e3;"number"==typeof n&&0<=n&&(n=r.default.readableTime(Math.round(n)),r.default.setText(this.dom.adCountdown,"("+n+")"))};u.addCountDown=function(){this.dom.adCountdown||(this.dom.adCountdown=document.createElement("span"),r.default.setClass(this.dom.adCountdown,"rmp-ad-info-countdown"),this.dom.adInfo.appendChild(this.dom.adCountdown));h.call(this);r.default.clearInterval(this.adCountdownInterval);this.adCountdownInterval=setInterval(h.bind(this),1e3)};u.onAdBlockDetection=function(){var n=this;r.default.addClass(this.dom.container,"rmp-ad-block-detected");this.googleCast=!1;this.airplay=!1;this.dom.container.addEventListener("playing",function(){n.pause();n.showPoster()}),function(){var n=document.createElement("div"),t;n.className="rmp-ad-block-container";n.addEventListener("click",function(n){n.preventDefault();n.stopPropagation()});t=document.createElement("div");t.className="rmp-ad-block-text";t.textContent=this.adBlockerDetectedMessage;n.appendChild(t);this.dom.container.appendChild(n);r.default.fadeIn(n);r.default.show(this.dom.poster)}.call(this)};u.replaceAdTagVar=function(n){var f=n,t,c,i,u,l,a,v,o,y,p,w,b,k,s,h;if(!/__.+__/i.test(f))return f;for(t=[],c="",window.location&&window.location.hostname&&(c=window.location.hostname.toLowerCase()),t.push(r.default.RFC3986EncodeURIComponent(c)),i=this.height,this.isInFullscreen&&(i=r.default.getScreenHeight()),("number"!=typeof i||i<=0)&&(i=""),t.push(r.default.RFC3986EncodeURIComponent(Math.round(i).toString())),u=this.width,this.isInFullscreen&&(u=r.default.getScreenWidth()),("number"!=typeof u||u<=0)&&(u=""),t.push(r.default.RFC3986EncodeURIComponent(Math.round(u).toString())),l="",a=0;a<12;a++)l+=r.default.getRandomInt(0,9).toString();return t.push(r.default.RFC3986EncodeURIComponent(l)),v="",document.URL&&(v=document.URL),t.push(r.default.RFC3986EncodeURIComponent(v)),o=Date.now(),("number"!=typeof o||o<=0)&&(o=""),t.push(r.default.RFC3986EncodeURIComponent(o.toString())),y="",document.referrer&&(y=document.referrer),t.push(r.default.RFC3986EncodeURIComponent(y)),p="",e.default.isMobile&&(p="mobile"),t.push(r.default.RFC3986EncodeURIComponent(p)),w="","ima"===this.adParser&&(w=this.adParser),t.push(r.default.RFC3986EncodeURIComponent(w)),b="",""!==this.contentTitle&&(b=this.contentTitle),t.push(r.default.RFC3986EncodeURIComponent(b)),k="",""!==this.contentDescription&&(k=this.contentDescription),t.push(r.default.RFC3986EncodeURIComponent(k)),s=this.getDuration(),s=-1!==s&&this.isVod?Math.round(s/1e3).toString():"",t.push(r.default.RFC3986EncodeURIComponent(s)),h=this.getCurrentTime(),h=-1!==h&&this.isVod?Math.round(h/1e3).toString():"",t.push(r.default.RFC3986EncodeURIComponent(h)),["__domain__","__player-height__","__player-width__","__random-number__","__page-url__","__timestamp__","__referrer__","__mobile__","__ima__","__item-title__","__item-description__","__item-duration__","__current-time__"].forEach(function(n,i){f=f.replace(n,t[i])}),f};i.default=u},{"../core/accessible/accessible":23,"../core/modules/modules":30,"../core/ui/core-ui":41,"../fw/env":52,"../fw/fw":53,"./ima-ads":7,"./rmp-vast":9}],7:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}var f,l,a;Object.defineProperty(i,"__esModule",{value:!0});var r=o(n("../fw/fw")),e=o(n("../fw/env")),h=o(n("../core/ready")),y=o(n("../core/volume/volume")),tt=o(n("../core/resize/resize")),s=o(n("../core/ui/core-ui")),c=o(n("../core/utils/utils")),u=o(n("./ads-helpers"));f={};l=function(){if(null!==this.adsManager&&"function"==typeof this.adsManager.destroy)try{this.adsManager.destroy()}catch(n){r.default.trace(n)}};f.contentCompleteAds=function(){if(null!==this.adsLoader&&"function"==typeof this.adsLoader.contentComplete)try{this.adsLoader.contentComplete()}catch(n){r.default.trace(n)}};a=function(){this.adShowRemainingTime&&(r.default.hide(this.dom.adCurrentTime),r.default.clearInterval(this.adRemainingTimeBarInterval));this.isVod&&this.dom.video.addEventListener("ended",this.ended);this.readingPDorNative&&this.dom.video.addEventListener("error",this.generateError,!0);u.default.setAdUI.call(this,!1)};f.resetAdsForNewRequest=function(){this.adOnStage=!1;this.adPaused=!1;this.isVPAID=!1;this.getAdOnStage()&&this.getAdLinear()&&a.call(this);l.call(this)};f.requestAds=function(n){if(this.get5Ready()&&this.ads&&this.adParserLoaded&&"string"==typeof n&&null!==this.adsLoader){s.default.showLoadingSpin.call(this);try{var i=n.trim(),t=new google.ima.AdsRequest;/^<\?xml.+\?>/i.test(i)?t.adsResponse=i:t.adTagUrl=i;t.linearAdSlotWidth=this.width;t.linearAdSlotHeight=this.height;t.nonLinearAdSlotWidth=this.width;t.nonLinearAdSlotHeight=this.height;t.vastLoadTimeout=this.adLoadVastTimeout;this.adForceNonLinearFullSlot&&(t.forceNonLinearFullSlot=!0);0<this.adContentDuration&&(t.contentDuration=this.adContentDuration);""!==this.adContentKeywords&&(t.contentKeywords=this.adContentKeywords);""!==this.adContentTitle&&(t.contentTitle=this.adContentTitle);t.setAdWillAutoPlay(this.autoplay);t.setAdWillPlayMuted(this.muted);this.adsLoader.requestAds(t)}catch(n){r.default.trace(n);this.play()}}else this.play()};var v=function(){if(this.adPaused=!1,this.adOnStage=!1,a.call(this),this.adOutStream)return u.default.endedOutStreamUI.call(this),void r.default.createStdEvent("adcontentresumerequested",this.dom.container);if(!this.contentCompleteCalled){if(this.firstPreroll&&(this.firstPreroll=!1,this.adAutoplayOnlyPreroll))return r.default.show(this.dom.poster),void s.default.restorePlayUI.call(this);c.default.playPromise.call(this)}r.default.createStdEvent("adcontentresumerequested",this.dom.container)},p=function(){Array.isArray(this.adTagWaterfall)&&"string"==typeof this.adTagWaterfall[0]&&""!==this.adTagWaterfall[0]?(this.adTagUrl=u.default.replaceAdTagVar.call(this,this.adTagWaterfall[0]),0<this.adTagWaterfall.length&&this.adTagWaterfall.shift(),f.resetAdsForNewRequest.call(this),f.requestAds.call(this,this.adTagUrl),r.default.createStdEvent("adclientsidewaterfallrequested",this.dom.container)):(l.call(this),v.call(this))},it=[201,202,203,600,601,603,604],w=function(n){var t=n.getError();void 0!==t&&(this.adErrorCode=t.getErrorCode(),this.adErrorMessage=t.getMessage(),this.adErrorType=t.getType(),this.adVastErrorCode=t.getVastErrorCode(),-1<it.indexOf(this.adVastErrorCode))||(s.default.hideLoadingSpin.call(this),r.default.createStdEvent("aderror",this.dom.container),void 0!==t&&(this.adErrorType===google.ima.AdError.Type.AD_LOAD?r.default.createStdEvent("adloaderror",this.dom.container):this.adErrorType===google.ima.AdError.Type.AD_PLAY&&r.default.createStdEvent("adplayerror",this.dom.container)),p.call(this))},b=function(n){this.adOnStage=!0;this.isVPAID=!1;s.default.hideLoadingSpin.call(this);s.default.showChrome.call(this);tt.default.resizeAds.call(this);r.default.removeClass(this.dom.adContainer,"rmp-ad-overlay");var t=n.isLinear();"boolean"==typeof t&&(this.isLinear=!!t);this.adID=n.getAdId();this.adCreativeAdId=n.getCreativeAdId();this.adCreativeId=n.getCreativeId();this.adDealId=n.getDealId();this.adSystem=n.getAdSystem();this.adAdvertiserName=n.getAdvertiserName();this.adMediaUrl=n.getMediaUrl();this.adSurveyUrl=n.getSurveyUrl();this.adUniversalAdIdRegistry=n.getUniversalAdIdRegistry();this.adUniversalAdIdValue=n.getUniversalAdIdValue();this.adApiFramework=n.getApiFramework();this.adContentType=n.getContentType();this.adDescription=n.getDescription();this.adDuration=n.getDuration();this.adTraffickingParameters=n.getTraffickingParameters();this.adTraffickingParametersString=n.getTraffickingParametersString();this.adNonLinearHeight=n.getHeight();this.adNonLinearWidth=n.getWidth();this.adTitle=n.getTitle();this.adWrapperAdIds=n.getWrapperAdIds();this.adWrapperAdSystems=n.getWrapperAdSystems();this.adWrapperCreativeIds=n.getWrapperCreativeIds();this.currentAdForCompanion=n;this.isLinear&&(this.muted?y.default.setVolumeAds.call(this,0):y.default.setVolumeAds.call(this,this.currentVolume))},rt=function(n){if(b.call(this,n),this.googleCast&&this.castConnected||this.video360&&!this.isLinear)return this.video360&&r.default.hide(this.dom.adContainer),this.stopAds(),void this.play();u.default.updateVPAIDStatus.call(this,this.isLinear);this.isLinear?(this.adPaused=!1,u.default.udpatePlayPause.call(this),this.adCountDown&&this.dom.adInfo&&u.default.addCountDown.call(this),function(n){var t,i;(this.adPodInfo=n.getAdPodInfo(),this.dom.adPod&&r.default.setText(this.dom.adPod,""),this.adPodInfo&&this.dom.adInfo)&&(t=this.adPodInfo.getTotalAds(),"number"==typeof t&&1<t&&(this.dom.adPod||(this.dom.adPod=document.createElement("span"),r.default.setClass(this.dom.adPod,"rmp-ad-info-pod"),this.dom.adCountdown?this.dom.adInfo.insertBefore(this.dom.adPod,this.dom.adCountdown):this.dom.adInfo.appendChild(this.dom.adPod)),i=this.adPodInfo.getAdPosition(),"number"==typeof i&&r.default.setText(this.dom.adPod,i+"/"+t)))}.call(this,n),r.default.hide(this.dom.poster)):this.adOutStream?(this.stopAds(),p.call(this)):(this.adNonLinearHeight+40<this.height&&r.default.addClass(this.dom.adContainer,"rmp-ad-overlay"),this.adAutoAlign||r.default.addClass(this.dom.adContainer,"rmp-ad-no-auto-align"),c.default.playPromise.call(this));r.default.createStdEvent("adstarted",this.dom.container)},ut=function(n){if(r.default.isObject(n)){0;var t=n.getAd();if(r.default.isObject(t)&&n.type)switch(n.type){case google.ima.AdEvent.Type.LOADED:(function(n){b.call(this,n);r.default.createStdEvent("adloaded",this.dom.container)}).call(this,t);break;case google.ima.AdEvent.Type.STARTED:rt.call(this,t);break;case google.ima.AdEvent.Type.COMPLETE:(function(){this.isLive||r.default.setText(this.dom.timeElapsedText,r.default.readableTime(r.default.getMediaCurrentTime(this.dom.video)));r.default.createStdEvent("adcomplete",this.dom.container)}).call(this);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:(function(){r.default.createStdEvent("adalladscompleted",this.dom.container);this.contentCompleteCalled&&(this.contentCompleteCalled=!1,this.loop||(r.default.show(this.dom.poster),s.default.restorePlayUI.call(this)),!this.adDisableCustomPlaybackForIOS10Plus&&e.default.isIos[0]&&this.dom.video.src!==this.currentiOSSrc&&(this.srcChangeAutoplay=!1,this.setSrc(this.currentiOSSrc)));this.adOutStream&&e.default.isIphone&&v.call(this)}).call(this);break;case google.ima.AdEvent.Type.RESUMED:(function(){this.adPaused=!1;u.default.udpatePlayPause.call(this);r.default.createStdEvent("adresumed",this.dom.container)}).call(this);break;case google.ima.AdEvent.Type.PAUSED:(function(){this.adPaused=!0;u.default.udpatePlayPause.call(this);r.default.createStdEvent("adpaused",this.dom.container)}).call(this);break;case google.ima.AdEvent.Type.CLICK:(function(){!this.adPauseOnClick||this.isVpaidCreative()||this.getAdPaused()||this.pause();r.default.createStdEvent("adclick",this.dom.container)}).call(this);break;case google.ima.AdEvent.Type.AD_BREAK_READY:r.default.createStdEvent("adbreakready",this.dom.container);break;case google.ima.AdEvent.Type.AD_METADATA:r.default.createStdEvent("admetadata",this.dom.container);break;case google.ima.AdEvent.Type.DURATION_CHANGE:r.default.createStdEvent("addurationchange",this.dom.container);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:r.default.createStdEvent("adfirstquartile",this.dom.container);break;case google.ima.AdEvent.Type.MIDPOINT:r.default.createStdEvent("admidpoint",this.dom.container);break;case google.ima.AdEvent.Type.THIRD_QUARTILE:r.default.createStdEvent("adthirdquartile",this.dom.container);break;case google.ima.AdEvent.Type.IMPRESSION:r.default.createStdEvent("adimpression",this.dom.container);break;case google.ima.AdEvent.Type.INTERACTION:r.default.createStdEvent("adinteraction",this.dom.container);break;case google.ima.AdEvent.Type.LINEAR_CHANGED:(function(){r.default.createStdEvent("adlinearchanged",this.dom.container)}).call(this);break;case google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:r.default.createStdEvent("adskippablestatechanged",this.dom.container);break;case google.ima.AdEvent.Type.SKIPPED:r.default.createStdEvent("adskipped",this.dom.container);break;case google.ima.AdEvent.Type.USER_CLOSE:r.default.createStdEvent("aduserclose",this.dom.container);break;case google.ima.AdEvent.Type.VOLUME_CHANGED:r.default.createStdEvent("advolumechanged",this.dom.container);break;case google.ima.AdEvent.Type.VOLUME_MUTED:r.default.createStdEvent("advolumemuted",this.dom.container);break;case google.ima.AdEvent.Type.LOG:(function(n){var i=n.getAdData(),t;r.default.isObject(i)&&i.adError&&(t=i.adError,this.adErrorCode=t.getErrorCode(),this.adErrorMessage=t.getMessage(),this.adErrorType=t.getType(),this.vastError=t.getVastErrorCode(),r.default.createStdEvent("adlog",this.dom.container))}).call(this,n)}}},k=function(){var n,t,i;if(this.adsManager&&this.dom.adCurrentTime){n=-1;t=-1;try{n=this.adsManager.getRemainingTime();t=this.getAdDuration()}catch(n){r.default.trace(n)}0<n&&0<t&&(i=Math.floor(100*(1-1e3*n/t)),i<0&&(i=0),this.dom.adCurrentTime&&(this.dom.adCurrentTime.style.width=i+"%"))}},ft=function(n){if(void 0!==n){for(var i=[google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED],t=0,f=i.length;t<f;t++)n.addEventListener(i[t],ut.bind(this));n.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){!this.adDisableCustomPlaybackForIOS10Plus&&e.default.isIos[0]&&this.dom.video.src&&(this.currentiOSSrc=this.dom.video.src);this.adShowRemainingTime&&(void 0===this.dom.adCurrentTime&&(this.dom.adCurrentTime=document.createElement("div"),this.dom.adCurrentTime.className="rmp-ad-current-time",this.dom.outline.appendChild(this.dom.adCurrentTime)),r.default.show(this.dom.adCurrentTime),this.dom.adCurrentTime.style.width=0,k.call(this),r.default.clearInterval(this.adRemainingTimeBarInterval),this.adRemainingTimeBarInterval=setInterval(k.bind(this),250));this.isVod&&r.default.removeEvent("ended",this.dom.video,this.ended);this.readingPDorNative&&this.dom.video.removeEventListener("error",this.generateError,!0);u.default.setAdUI.call(this,!0);this.adOutStream||this.dom.video.paused||this.dom.video.pause();r.default.createStdEvent("adcontentpauserequested",this.dom.container)}.bind(this));n.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,v.bind(this));n.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,w.bind(this));try{n.init(this.width,this.height,google.ima.ViewMode.NORMAL);n.start()}catch(n){r.default.trace(n);this.play()}}},d=function(n){var t=new google.ima.AdsRenderingSettings,i=t.restoreCustomPlaybackStateOnAdBreakComplete=!0;(e.default.isIos[0]||e.default.isAndroid[0]&&e.default.isAndroid[1]<4)&&(i=!1);t.enablePreloading=this.adEnablePreloading&&i?!0:!1;0<this.adLoadMediaTimeout&&(t.loadVideoTimeout=this.adLoadMediaTimeout);this.adAutoAlign||(t.autoAlign=this.adAutoAlign);this.adUseStyledNonLinearAds&&(t.useStyledNonLinearAds=!0);e.default.isMobile&&this.adOutStreamSkin&&(t.uiElements=[]);this.adsManager=n.getAdsManager(this.dom.video,t);ft.call(this,this.adsManager)},g=function(){if(r.default.clearTimeout(this.imaLoadTimeout),!this.imaLoadCancel){if("undefined"!=typeof google&&void 0!==google.ima){if(this.adImaDai)return this.adParserLoaded=!0,u.default.createControlBarAdInfo.call(this),void h.default.fire.call(this);if(this.adParserLoaded=!0,this.dom.adContainer&&this.dom.video){google.ima.settings.setLocale(this.adLocale);google.ima.settings.setNumRedirects(this.adMaxNumRedirects);"enabled"===this.adVpaidMode?google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED):"insecure"===this.adVpaidMode?google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE):google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED);e.default.isIphone&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.adDisableCustomPlaybackForIOS10Plus);google.ima.settings.setPlayerType("radiantmediaplayer");google.ima.settings.setPlayerVersion(this.playerVersion);try{this.adDisplayContainer=new google.ima.AdDisplayContainer(this.dom.adContainer,this.dom.video);this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer);this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(n){var t=this;this.hasLoadedMetadata?d.call(this,n):(r.default.clearInterval(this.runAdsManagerInterval),this.runAdsManagerInterval=setInterval(function(){t.hasLoadedMetadata&&(r.default.clearInterval(t.runAdsManagerInterval),d.call(t,n))},10));r.default.createStdEvent("adadsmanagerloaded",this.dom.container)}.bind(this));this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,w.bind(this))}catch(n){return r.default.trace(n),void h.default.fire.call(this)}u.default.createControlBarAdInfo.call(this)}}h.default.fire.call(this)}},nt=function(){r.default.clearTimeout(this.imaLoadTimeout);this.imaLoadCancel||(this.adParserLoadError=!0,this.ads=!1,this.adAutoplayOnlyPreroll&&c.default.autoplayFailureRestorePlayUI.call(this),r.default.createStdEvent("adloadererror",this.dom.container),h.default.fire.call(this),this.adOutStream&&u.default.endedOutStreamUI.call(this))};f.init=function(){var t=this,n;"undefined"!=typeof google&&void 0!==google.ima?g.call(this):(n=void 0,n=this.adImaTest?"https://imasdk.googleapis.com/js/sdkloader/ima3_test.js":this.adImaDai?"https://imasdk.googleapis.com/js/sdkloader/ima3_dai.js":"https://imasdk.googleapis.com/js/sdkloader/ima3.js",r.default.getScript(n,g.bind(this),nt.bind(this)),r.default.clearTimeout(this.imaLoadTimeout),this.imaLoadTimeout=setTimeout(function(){nt.call(t);t.imaLoadCancel=!0},this.ajaxInternalTimeout))};f.resumeAds=function(){if(this.adsManager){0;try{this.adsManager.resume()}catch(n){r.default.trace(n)}}};f.pauseAds=function(){if(this.adsManager){0;try{this.adsManager.pause()}catch(n){r.default.trace(n)}}};i.default=f},{"../core/ready":35,"../core/resize/resize":36,"../core/ui/core-ui":41,"../core/utils/utils":46,"../core/volume/volume":48,"../fw/env":52,"../fw/fw":53,"./ads-helpers":6}],8:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../fw/fw")),f=u(n("../abr/hls")),o=u(n("./ads-helpers")),s=u(n("../core/utils/error"));var e={},c=function(n){if(n&&n.type)switch(n.type){case google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED:r.default.createStdEvent("adstreaminitialized",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.LOADED:this.startingBitratePath=n.getStreamData().url;f.default.initFinised.call(this);r.default.createStdEvent("adloaded",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.ERROR:r.default.createStdEvent("aderror",this.dom.container);this.adImaDaiBackupStream?(this.startingBitratePath=this.adImaDaiBackupStream,f.default.initFinised.call(this)):s.default.fatal.call(this,"IMA DAI backup stream not provided - cannot recover",202,n);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:this.adOnStage=!0;this.isLinear=!0;o.default.setAdUI.call(this,!0);this.dom.imaDaiClickElement.style.display="block";r.default.createStdEvent("adbreakstarted",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:this.isLinear=!1;this.adOnStage=!1;o.default.setAdUI.call(this,!1);this.dom.imaDaiClickElement.style.display="none";r.default.createStdEvent("adbreakended",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.AD_PROGRESS:(function(n){var o,t;if(n&&"function"==typeof n.getStreamData){var i=n.getStreamData().adProgressData,f=i.adPosition,u=i.totalAds,e=i.currentTime;this.imaDaiAdCurrentTime=e;o=i.duration;t=Math.floor(o-e);this.adCountDown&&0<=t&&(t=r.default.readableTime(t),r.default.setText(this.dom.adCountdown,"("+t+")"));"number"==typeof u&&1<u&&(this.dom.adPod||(this.dom.adPod=document.createElement("span"),r.default.setClass(this.dom.adPod,"rmp-ad-info-pod"),this.dom.adCountdown?this.dom.adInfo.insertBefore(this.dom.adPod,this.dom.adCountdown):this.dom.adInfo.appendChild(this.dom.adPod)),"number"==typeof f&&r.default.setText(this.dom.adPod,f+"/"+u))}}).call(this,n);r.default.createStdEvent("adprogress",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED:r.default.createStdEvent("adcuepointschanged",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.CLICK:this.adPauseOnClick&&!this.getAdPaused()&&this.pause();r.default.createStdEvent("adclick",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.STARTED:(function(n){if(n&&(this.adCountDown&&this.dom.adInfo&&(this.dom.adCountdown||(this.dom.adCountdown=document.createElement("span"),r.default.setClass(this.dom.adCountdown,"rmp-ad-info-countdown"),this.dom.adInfo.appendChild(this.dom.adCountdown))),"function"==typeof n.getAd)){var t=n.getAd();this.adID=t.getAdId();this.adPodInfo=t.getAdPodInfo();this.adSystem=t.getAdSystem();this.adAdvertiserName=t.getAdvertiserName();this.adApiFramework=t.getApiFramework();this.adCreativeAdId=t.getCreativeAdId();this.adCreativeId=t.getCreativeId();this.adDealId=t.getDealId();this.adDescription=t.getDescription();this.adDuration=t.getDuration();this.adTitle=t.getTitle();this.adWrapperAdIds=t.getWrapperAdIds();this.adWrapperAdSystems=t.getWrapperAdSystems();this.adWrapperCreativeIds=t.getWrapperCreativeIds();this.currentAdForCompanion=t}}).call(this,n);r.default.createStdEvent("adstarted",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:r.default.createStdEvent("adfirstquartile",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:r.default.createStdEvent("admidpoint",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:r.default.createStdEvent("adthirdquartile",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:r.default.createStdEvent("adcomplete",this.dom.container)}},h=function(){this.adImaDaiBackupStream?(this.startingBitratePath=this.adImaDaiBackupStream,f.default.initFinised.call(this)):s.default.fatal.call(this,"IMA DAI backup stream not provided - cannot recover",202,null)};e.init=function(){var n=this;"undefined"!=typeof google&&void 0!==google.ima&&void 0!==google.ima.dai?this.adParserLoadError?h.call(this):(this.dom.imaDaiClickElement=document.createElement("div"),this.dom.imaDaiClickElement.className="rmp-ima-dai-click-area",this.dom.content.appendChild(this.dom.imaDaiClickElement),this.imaDaiStreamManager=new google.ima.dai.api.StreamManager(this.dom.video),this.imaDaiStreamManager.setClickElement(this.dom.imaDaiClickElement),this.imaDaiStreamManager.addEventListener([google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.LOADED,google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE],c.bind(this),!1),this.hlsJS.on(Hls.Events.FRAG_PARSING_METADATA,function(t,i){n.imaDaiStreamManager&&i&&i.samples.forEach(function(t){n.imaDaiStreamManager.processMetadata("ID3",t.data,t.pts)})}),this.imaDaiLive?function(n,t,i,u){var f=new google.ima.dai.api.LiveStreamRequest;f.assetKey=n;t&&(f.apiKey=t);r.default.isEmptyObject(i)||(f.adTagParameters=i);u&&(f.streamActivityMonitorId=u);this.imaDaiStreamManager.requestStream(f)}.call(this,this.adImaDaiLiveAssetKey,this.adImaDaiApiKey,this.adImaDaiAdTagParameters,this.adImaDaiStreamActivityMonitorId):this.imaDaiVod&&function(n,t,i,u,f){var e=new google.ima.dai.api.VODStreamRequest;e.contentSourceId=n;e.videoId=t;i&&(e.apiKey=i);r.default.isEmptyObject(u)||(e.adTagParameters=u);f&&(e.streamActivityMonitorId=f);this.imaDaiStreamManager.requestStream(e)}.call(this,this.adImaDaiVodContentSourceId,this.adImaDaiVodVideoId,this.adImaDaiApiKey,this.adImaDaiAdTagParameters,this.adImaDaiStreamActivityMonitorId)):setTimeout(function(){n.adParserLoadError?h.call(n):e.init.call(n)},100)};i.default=e},{"../abr/hls":3,"../core/utils/error":44,"../fw/fw":53,"./ads-helpers":6}],9:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var u,h;Object.defineProperty(i,"__esModule",{value:!0});var r=e(n("../fw/fw")),c=e(n("../fw/env")),l=e(n("../core/ready")),s=e(n("../core/volume/volume")),o=e(n("../core/ui/core-ui")),a=e(n("../core/resize/resize")),f=e(n("./ads-helpers")),v=e(n("../../../../rmp-vast/js/src/module"));u={};h=function(){var n,t,i;if(r.default.removeEvent("adstarted",this.dom.container,this.onRmpVastAdStarted),o.default.hideLoadingSpin.call(this),this.googleCast&&this.castConnected)return this.stopAds(),void this.play();a.default.resizeAds.call(this);n=this.dom.container.querySelector(".rmp-ad-container");null!==n&&r.default.removeClass(n,"rmp-ad-overlay");t=this.getAdLinear();(f.default.updateVPAIDStatus.call(this,t),t)?(this.isVod&&r.default.removeEvent("ended",this.dom.video,this.ended),f.default.udpatePlayPause.call(this),f.default.setAdUI.call(this,!0),this.adCountDown&&this.dom.adInfo&&f.default.addCountDown.call(this),null===this.adPodInfo&&function(){var n,t;(this.adPodInfo=this.rmpVast.getAdPodInfo(),this.dom.adPod&&r.default.setText(this.dom.adPod,""),this.adPodInfo&&this.dom.adInfo)&&(n=this.adPodInfo.adPodLength,"number"==typeof n&&1<n&&(this.dom.adPod||(this.dom.adPod=document.createElement("span"),r.default.setClass(this.dom.adPod,"rmp-ad-info-pod"),this.dom.adCountdown?this.dom.adInfo.insertBefore(this.dom.adPod,this.dom.adCountdown):this.dom.adInfo.appendChild(this.dom.adPod)),t=this.adPodInfo.adPodCurrentIndex,"number"==typeof t&&r.default.setText(this.dom.adPod,t+1+"/"+n)))}.call(this),this.muted?s.default.setVolumeAds.call(this,0):s.default.setVolumeAds.call(this,this.currentVolume)):(i=this.getAdMediaHeight(),-1<i&&i+40<this.height&&n&&r.default.addClass(n,"rmp-ad-overlay"))};u.restoreContentUI=function(){(function(){this.rmpVast.getIsUsingContentPlayerForAds()||(r.default.removeEvent("adresumed",this.dom.container,this.onRmpVastAdPlayPause),r.default.removeEvent("adpaused",this.dom.container,this.onRmpVastAdPlayPause));r.default.removeEvent("adstarted",this.dom.container,this.onRmpVastAdStarted);r.default.removeEvent("addestroyed",this.dom.container,this.onRmpVastAdDestroyed);r.default.removeEvent("aderror",this.dom.container,this.onRmpVastAdError);r.default.removeEvent("adinteraction",this.dom.container,this.onRmpVastAdInteraction);r.default.removeEvent("adlinearchange",this.dom.container,this.onRmpVastAdLinearChanged)}).call(this);o.default.hideLoadingSpin.call(this);f.default.setAdUI.call(this,!1);this.isVod&&r.default.addEvent("ended",this.dom.video,this.ended)};u.wireAdEvents=function(){this.rmpVast.getIsUsingContentPlayerForAds()||(this.onRmpVastAdPlayPause=function(){f.default.udpatePlayPause.call(this)}.bind(this),r.default.addEvent("adresumed",this.dom.container,this.onRmpVastAdPlayPause),r.default.addEvent("adpaused",this.dom.container,this.onRmpVastAdPlayPause));this.onRmpVastAdStarted=h.bind(this);r.default.addEvent("adstarted",this.dom.container,this.onRmpVastAdStarted);this.onRmpVastAdDestroyed=function(){if(this.adPodInfo=this.rmpVast.getAdPodInfo(),this.adPodInfo&&this.adPodInfo.adPodCurrentIndex+1!==this.adPodInfo.adPodLength){var n=this.adPodInfo.adPodCurrentIndex,t=this.adPodInfo.adPodLength;return"number"==typeof n&&"number"==typeof t&&r.default.setText(this.dom.adPod,n+2+"/"+t),void r.default.addEvent("adstarted",this.dom.container,this.onRmpVastAdStarted)}if(this.adPodInfo=null,this.adErrorDetected&&(this.adErrorDetected=!1,Array.isArray(this.adTagWaterfall)&&"string"==typeof this.adTagWaterfall[0]&&""!==this.adTagWaterfall[0]))return this.adTagUrl=f.default.replaceAdTagVar.call(this,this.adTagWaterfall[0]),0<this.adTagWaterfall.length&&this.adTagWaterfall.shift(),this.loadAds(this.adTagUrl),void r.default.createStdEvent("adclientsidewaterfallrequested",this.dom.container);this.adOutStream?f.default.endedOutStreamUI.call(this):(this.readingPDorNative&&this.dom.video.addEventListener("error",this.generateError,!0),u.restoreContentUI.call(this))}.bind(this);r.default.addEvent("addestroyed",this.dom.container,this.onRmpVastAdDestroyed);this.onRmpVastAdError=function(){var n=this.getAdErrorType();n&&("adLoadError"===n?r.default.createStdEvent("adloaderror",this.dom.container):"adPlayError"===n&&r.default.createStdEvent("adplayerror",this.dom.container));this.adErrorDetected=!0}.bind(this);r.default.addEvent("aderror",this.dom.container,this.onRmpVastAdError);this.onRmpVastAdInteraction=function(){r.default.createStdEvent("adinteraction",this.dom.container)}.bind(this);r.default.addEvent("adinteraction",this.dom.container,this.onRmpVastAdInteraction);this.onRmpVastAdLinearChanged=function(){r.default.createStdEvent("adlinearchanged",this.dom.container)}.bind(this);r.default.addEvent("adlinearchange",this.dom.container,this.onRmpVastAdLinearChanged)};u.loadAds=function(n){this.isVPAID=!1;o.default.showLoadingSpin.call(this);this.onAdTagStartLoading=function(){this.dom.container.removeEventListener("adtagstartloading",this.onAdTagStartLoading);this.readingPDorNative&&this.dom.video.removeEventListener("error",this.generateError,!0);u.wireAdEvents.call(this)}.bind(this);this.dom.container.addEventListener("adtagstartloading",this.onAdTagStartLoading);var t=n.trim();this.rmpVast.loadAds(t)};u.init=function(){var n,t,i;this.adParserLoaded=!0;n={ajaxTimeout:this.adLoadVastTimeout,creativeLoadTimeout:this.adLoadMediaTimeout,ajaxWithCredentials:this.adAjaxWithCredentials,maxNumRedirects:this.adMaxNumRedirects,pauseOnClick:this.adPauseOnClick,skipMessage:this.labels.ads.skipMessage,skipWaitingMessage:this.labels.ads.skipWaitingMessage,textForClickUIOnMobile:this.labels.ads.textForClickUIOnMobile,outstream:this.adOutStream};this.adRmpVastEnableVpaid&&(n.enableVpaid=this.adRmpVastEnableVpaid,t="normal",this.isInFullscreen&&(t="fullscreen"),i=500,c.default.isMobile||(i=750),n.vpaidSettings={width:this.width,height:this.height,viewMode:t,desiredBitrate:i});this.rmpVast=new v.default(this.id,n);f.default.createControlBarAdInfo.call(this);l.default.fire.call(this)};u.resumeAds=function(){this.rmpVast&&"function"==typeof this.rmpVast.play&&this.rmpVast.play()};u.pauseAds=function(){this.rmpVast&&"function"==typeof this.rmpVast.pause&&this.rmpVast.pause()};i.default=u},{"../../../../rmp-vast/js/src/module":262,"../core/ready":35,"../core/resize/resize":36,"../core/ui/core-ui":41,"../core/volume/volume":48,"../fw/env":52,"../fw/fw":53,"./ads-helpers":6}],10:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}var r,f,u,e;Object.defineProperty(i,"__esModule",{value:!0});r=o(n("../fw/fw"));f=o(n("./ads-helpers"));u={};e=function(){var i=void 0,o,r,t,s;if(this.isVod?(o=this.getCurrentTime(),-1<o&&(i=Math.round(o/100)/10)):i=this.liveAdSchedulerCheckerIndex,r=void 0,t=void 0,Array.isArray(this.adSchedule.midroll)&&Array.isArray(this.adSchedule.midroll[0])&&(r=this.adSchedule.midroll[0][0],t=this.adSchedule.midroll[0][1],"number"==typeof r&&"number"==typeof i&&r<i&&"string"==typeof t&&""!==t)){if(this.adTagUrl=f.default.replaceAdTagVar.call(this,t),this.isVod){this.dom.container.removeEventListener("timeupdate",this.adSchedulerChecker);var u=void 0,e=void 0,n=void 0;(n=function(){this.dom.container.removeEventListener("adstarted",n);this.getAdLinear()||this.dom.container.addEventListener("timeupdate",this.adSchedulerChecker)}.bind(this),this.dom.container.addEventListener("adstarted",n),"ima"===this.adParser)?(u=function(){this.dom.container.removeEventListener("adstarted",n);this.dom.container.removeEventListener("aderror",e);this.dom.container.removeEventListener("adcontentresumerequested",u);this.dom.container.addEventListener("timeupdate",this.adSchedulerChecker)}.bind(this),this.dom.container.addEventListener("adcontentresumerequested",u),e=function(){this.dom.container.removeEventListener("adstarted",n);this.dom.container.removeEventListener("aderror",e);this.dom.container.removeEventListener("adcontentresumerequested",u);this.dom.container.addEventListener("timeupdate",this.adSchedulerChecker)}.bind(this),this.dom.container.addEventListener("aderror",e)):(s=function(){this.dom.container.removeEventListener("adstarted",n);this.dom.container.removeEventListener("addestroyed",s);this.dom.container.addEventListener("timeupdate",this.adSchedulerChecker)}.bind(this),this.dom.container.addEventListener("addestroyed",s))}this.loadAds(this.adTagUrl);this.adSchedule.midroll.shift()}};u.destroy=function(){this.dom.container&&(this.isVod&&(this.dom.container.removeEventListener("timeupdate",this.adSchedulerChecker),this.dom.container.removeEventListener("ended",this.adSchedulerEnded)),this.dom.container.removeEventListener("play",this.playScheduler),this.dom.container.removeEventListener("pause",this.pauseScheduler))};u.init=function(){this.adScheduleInput&&this.ads&&(this.adSchedulerChecker=e.bind(this),this.isVod?(this.dom.container.addEventListener("timeupdate",this.adSchedulerChecker),this.adSchedulerEnded=function(){r.default.removeEvent("ended",this.dom.container,this.adSchedulerEnded);this.adSchedule.postroll&&(this.adTagUrl=f.default.replaceAdTagVar.call(this,this.adSchedule.postroll),this.loadAds(this.adTagUrl))}.bind(this),this.dom.container.addEventListener("ended",this.adSchedulerEnded)):(this.playScheduler=function(){var n=this;r.default.clearInterval(this.liveAdSchedulerChecker);this.liveAdSchedulerChecker=setInterval(function(){n.getAdOnStage()&&(!n.getAdOnStage()||n.getAdLinear())||(n.liveAdSchedulerCheckerIndex++,e.call(n))},1e3)}.bind(this),this.dom.container.addEventListener("play",this.playScheduler),this.pauseScheduler=function(){r.default.clearInterval(this.liveAdSchedulerChecker)}.bind(this),this.dom.container.addEventListener("pause",this.pauseScheduler)))};i.default=u},{"../fw/fw":53,"./ads-helpers":6}],11:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,e=n("../fw/fw"),u=(r=e)&&r.__esModule?r:{"default":r},f={},o=function(){var t,r,o,i,f,s,h,e,n=this,c;("undefined"==typeof ga&&(t=window,r=document,o="ga",t.GoogleAnalyticsObject=o,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,i=r.createElement("script"),f=r.getElementsByTagName("script")[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",f.parentNode.insertBefore(i,f)),"undefined"!=typeof ga)&&(this.gaAnonymizeIp&&ga("set","anonymizeIp",!0),""!==this.gaNamedTracker?(ga("create",this.gaTrackingId,"auto",this.gaNamedTracker),this.gaCommand=this.gaNamedTracker+".send"):ga("create",this.gaTrackingId,"auto"),0===this.gaEvents.length&&(this.gaEvents=["context","ready","playerstart","error","adimpression","adloadererror","aderror"]),c=(s=this.gaEvents,h=["context","ready","playerstart","error","adimpression","adloadererror","aderror","adloaderror","adplayerror","enterfullscreen","ended","seeking","adclick","adclientsidewaterfallrequested"],e=[],s.forEach(function(n){-1<h.indexOf(n)&&e.push(n)}),e),c.forEach(function(t){switch(t){case"context":n.gaContext=!0;break;case"ready":n.logGaReady=function(){var n,t,i;if(this.dom.container.removeEventListener("ready",this.logGaReady),ga(this.gaCommand,"event",this.gaCategory,"ready",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents}),this.gaContext){if(n=this.getPlayerMode(),t=this.getStreamType(),""===n||""===t&&"nosupport"!==n)return;i=n;"nosupport"!==n&&(i+="-"+t);ga(this.gaCommand,"event",this.gaCategory,i,this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}}.bind(n);n.dom.container.addEventListener("ready",n.logGaReady);break;case"playerstart":n.logGaPlayerStart=function(){this.dom.container.removeEventListener("playing",this.logGaPlayerStart);this.dom.container.removeEventListener("adloaded",this.logGaPlayerStart);ga(this.gaCommand,"event",this.gaCategory,"playerstart",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(n);n.dom.container.addEventListener("playing",n.logGaPlayerStart);n.ads&&n.dom.container.addEventListener("adloaded",n.logGaPlayerStart);n.logGaSrcChanged=function(){this.dom.container.removeEventListener("playing",this.logGaPlayerStart);this.dom.container.removeEventListener("adloaded",this.logGaPlayerStart);this.dom.container.addEventListener("playing",this.logGaPlayerStart);this.dom.container.addEventListener("adloaded",this.logGaPlayerStart)}.bind(n);n.dom.container.addEventListener("srcchanged",n.logGaSrcChanged);break;case"error":n.logGaError=function(){ga(this.gaCommand,"event",this.gaCategory,"error",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(n);n.dom.container.addEventListener("error",n.logGaError);break;case"adimpression":n.ads&&(n.logGaAdImpression=function(){ga(this.gaCommand,"event",this.gaCategory,"adimpression",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(n),n.dom.container.addEventListener("adimpression",n.logGaAdImpression));break;case"adloadererror":n.ads&&(n.logGaAdLoaderError=function(){this.dom.container.removeEventListener("adloadererror",this.logGaAdLoaderError);ga(this.gaCommand,"event",this.gaCategory,"adloadererror",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(n),n.dom.container.addEventListener("adloadererror",n.logGaAdLoaderError));break;case"aderror":n.ads&&(n.logGaAdError=function(){ga(this.gaCommand,"event",this.gaCategory,"aderror",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(n),n.dom.container.addEventListener("aderror",n.logGaAdError));break;case"adloaderror":n.ads&&(n.logGaAdLoadError=function(){ga(this.gaCommand,"event",this.gaCategory,"adloaderror",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(n),n.dom.container.addEventListener("adloaderror",n.logGaAdLoadError));break;case"adplayerror":n.ads&&(n.logGaAdPlayError=function(){ga(this.gaCommand,"event",this.gaCategory,"adplayerror",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(n),n.dom.container.addEventListener("adplayerror",n.logGaAdPlayError));break;case"enterfullscreen":n.logGaFullscreen=function(){ga(this.gaCommand,"event",this.gaCategory,"enterfullscreen",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(n);n.dom.container.addEventListener("enterfullscreen",n.logGaFullscreen);break;case"ended":n.isVod&&(n.logGaEnded=function(){ga(this.gaCommand,"event",this.gaCategory,"ended",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(n),n.dom.container.addEventListener("ended",n.logGaEnded));break;case"seeking":n.isVod&&(n.logGaSeeking=function(){var n=this;this.isVod&&!this.gaSeekingSending&&(this.gaSeekingSending=!0,u.default.clearTimeout(this.logGaSeekingTimeout),this.logGaSeekingTimeout=setTimeout(function(){n.gaSeekingSending=!1},400),ga(this.gaCommand,"event",this.gaCategory,"seeking",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents}))}.bind(n),n.dom.container.addEventListener("seeking",n.logGaSeeking));break;case"adclick":n.ads&&(n.logGaAdClick=function(){ga(this.gaCommand,"event",this.gaCategory,"adclick",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(n),n.dom.container.addEventListener("adclick",n.logGaAdClick));break;case"adclientsidewaterfallrequested":n.ads&&(n.logGaAdClientSideWaterfallRequested=function(){ga(this.gaCommand,"event",this.gaCategory,"adclientsidewaterfallrequested",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(n),n.dom.container.addEventListener("adclientsidewaterfallrequested",n.logGaAdClientSideWaterfallRequested))}}))};f.reset=function(){u.default.clearInterval(this.analyticsInterval);this.dom.container&&(this.dom.container.removeEventListener("playing",this.analyticsPlay),this.dom.container.removeEventListener("pause",this.analyticsPause),this.dom.container.removeEventListener("waiting",this.analyticsPause),this.dom.container.removeEventListener("ready",this.logGaReady),this.dom.container.removeEventListener("playing",this.logGaPlayerStart),this.dom.container.removeEventListener("srcchanged",this.logGaSrcChanged),this.dom.container.removeEventListener("error",this.logGaError),this.ads&&(this.dom.container.removeEventListener("adloaded",this.logGaPlayerStart),this.dom.container.removeEventListener("adimpression",this.logGaAdImpression),this.dom.container.removeEventListener("adloadererror",this.logGaAdLoaderError),this.dom.container.removeEventListener("aderror",this.logGaAdError),this.dom.container.removeEventListener("adloaderror",this.logGaAdLoadError),this.dom.container.removeEventListener("adplayerror",this.logGaAdPlayError),this.dom.container.removeEventListener("adclick",this.logGaAdClick),this.dom.container.removeEventListener("adclientsidewaterfallrequested",this.logGaAdClientSideWaterfallRequested)),this.dom.container.removeEventListener("enterfullscreen",this.logGaFullscreen),this.isVod&&(this.dom.container.removeEventListener("ended",this.logGaEnded),this.dom.container.removeEventListener("seeking",this.logGaSeeking)),this.heatMap&&this.dom.container.removeEventListener("timeupdate",this.updateHeatMap))};f.init=function(){if(this.analyticsPlay=function(){var n=this;u.default.clearInterval(this.analyticsInterval);this.analyticsInterval=setInterval(function(){n.changingSrc||n.getAdOnStage()&&n.getAdLinear()||(n.analyticsSecondsPlayed=n.analyticsSecondsPlayed+.25)},250)}.bind(this),this.dom.container.addEventListener("playing",this.analyticsPlay),this.analyticsPause=function(){u.default.clearInterval(this.analyticsInterval)}.bind(this),this.dom.container.addEventListener("pause",this.analyticsPause),this.dom.container.addEventListener("waiting",this.analyticsPause),""!==this.gaTrackingId&&o.call(this),this.isVod&&this.heatMap){100<this.heatMapAccuracy?this.heatMapAccuracy=100:this.heatMapAccuracy<1&&(this.heatMapAccuracy=1);for(var n=0;n<this.heatMapAccuracy;n++)this.heatMapArray[n]=0;this.updateHeatMap=function(){var t=this.getDuration(),i=this.getCurrentTime();if(-1<i&&-1<t)for(var r=100*i/t,u=100/this.heatMapAccuracy,n=0;n<this.heatMapAccuracy;n++)n*u<=r&&r<(n+1)*u&&(this.heatMapArray[n]=this.heatMapArray[n]+1)}.bind(this);this.dom.container.addEventListener("timeupdate",this.updateHeatMap)}};i.default=f},{"../fw/fw":53}],12:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var r,u;Object.defineProperty(i,"__esModule",{value:!0});r=e(n("../fw/env"));u=e(n("../fw/fw"));var f={},o="https://www.rmp-data.com/ls/increment.php",l=["a2VpdWR5dHNobEAxNDg4ODkxNTQy","dW9wY2N0dmtpZ0AxNDkxMzg5"],s=function(n){var u=n.match(/(http:\/\/|https:\/\/|\/\/)/i),t=void 0,f,i,r;return"string"==typeof u[1]&&""!==u[1]&&(f=u[1],i=n.split(f),"string"==typeof i[1]&&""!==i[1]&&(r=i[1].split("/"),"string"==typeof r[0]&&""!==r[0]&&(t=r[0]))),t&&/^.+\..+$/i.test(t)?t:null},h=function(n,t,i){return new Promise(function(r,u){if("undefined"!=typeof XMLHttpRequest){var f=new XMLHttpRequest;f.open("POST",t,!0);f.timeout=i;f.onloadend=function(){"number"==typeof f.status&&200<=f.status&&f.status<300?r():u()};f.ontimeout=function(){u()};f.send(n)}else u()})},c=function(){var t=0,n;return"plus"===this.licType&&r.default.localStorage(this.allowLocalStorage)&&(n=window.localStorage.getItem("rmpBacklog"),null!==n&&(n=JSON.parse(n)).value&&(t=parseInt(n.value))),t},a=function(){var t=this,n,i,f;if(r.default.isOnline())r.default.formData()&&(n=new FormData,(n.append("licType",this.licType),n.append("licenseKey",this.licenseKey),"file:"===r.default.getProtocol)?(i="app",this.appName&&(i=i+"."+this.appName.replace(/\s/g,"-").toLowerCase()),n.append("hostname",i)):r.default.isInIframe&&-1<l.indexOf(this.licenseKey)&&"string"==typeof document.referrer&&""!==document.referrer&&null!==s(document.referrer)?n.append("hostname",s(document.referrer)):n.append("hostname",this.ragnarok),n.append("version",this.playerVersion),n.append("cs",function(n){var t=n.split(".");if(3===t.length){var u=parseInt(t[0])+parseInt(t[1])+parseInt(t[2]),i=[89,251,307,523,907,1171,1423],r=Math.floor(Math.random()*i.length);if("number"==typeof i[r])return u*i[r]}return 0}(this.playerVersion)),h(n,o,this.ajaxInternalTimeout).then(function(){0}).catch(function(){u.default.clearTimeout(t.logRetryTimeout);t.logRetryTimeout=setTimeout(function(){h(n,o,t.ajaxInternalTimeout).then(function(){0}).catch(function(){0})},1e4)}));else{f=c.call(this);try{window.localStorage.setItem("rmpBacklog",JSON.stringify({value:(f+1).toString()}))}catch(t){u.default.trace(t)}}};f.destroy=function(){this.dom.container&&(this.dom.container.removeEventListener("srcchanged",this.runLogsOnSrcChanged),this.dom.container.removeEventListener("playing",this.runLogs),this.dom.container.removeEventListener("adloaded",this.runLogs))};f.init=function(){var n,t,i;if(this.ragnarok!==this.originLocal&&this.ragnarok!==this.altLocal&&(n=Math.floor(10*Math.random()+1),("plus"===this.licType&&(4===n||5===n)||5===n)&&(this.runLogs=function(){f.destroy.call(this);this.dom.container.addEventListener("srcchanged",this.runLogsOnSrcChanged);this.appendFormDataAndSendLog()}.bind(this),this.runLogsOnSrcChanged=function(){this.dom.container.removeEventListener("srcchanged",this.runLogsOnSrcChanged);this.dom.container.addEventListener("playing",this.runLogs);this.dom.container.addEventListener("adloaded",this.runLogs)}.bind(this),this.appendFormDataAndSendLog=a.bind(this),this.dom.container.addEventListener("playing",this.runLogs),this.dom.container.addEventListener("adloaded",this.runLogs),t=c.call(this),"plus"===this.licType&&0<t&&r.default.isOnline()))){for(i=0;i<t;i++)this.appendFormDataAndSendLog();if(r.default.localStorage(this.allowLocalStorage))try{window.localStorage.setItem("rmpBacklog",JSON.stringify({value:"0"}))}catch(n){u.default.trace(n)}}};i.default=f},{"../fw/env":52,"../fw/fw":53}],13:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,e=n("../fw/fw"),f=(r=e)&&r.__esModule?r:{"default":r},u={destroy:function(){this.dom.container.removeEventListener("error",this.onHlsjsErrorEmitMuxError);window.mux.removeHLSJS("#"+this.id+" .rmp-video")},detect:function(){void 0===window.mux||f.default.isEmptyObject(this.muxDataSettings)||f.default.isEmptyObject(this.muxDataSettings.data)||"string"!=typeof this.muxDataSettings.data.env_key||""===this.muxDataSettings.data.env_key||(this.muxData=!0,this.muxDataSettings.data.player_init_time=Date.now(),this.muxDataSettings.data.player_name="radiantmediaplayer",this.muxDataSettings.data.player_version=this.playerVersion)}};u.initHlsJS=function(){this.muxDataHlsJSMonitored=!0;var n={};n.hlsjs=this.hlsJS;n.Hls=window.Hls;this.onHlsjsErrorEmitMuxError=function(){window.mux.emit("#"+this.id+" .rmp-video","error",{player_error_code:this.errorData.code,player_error_message:this.errorData.message})}.bind(this);this.dom.container.addEventListener("error",this.onHlsjsErrorEmitMuxError);window.mux.addHLSJS("#"+this.id+" .rmp-video",n)};u.initHTML5=function(){window.mux.monitor("#"+this.id+" .rmp-video",this.muxDataSettings)};i.default=u},{"../fw/fw":53}],14:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var o;Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../fw/fw")),s=u(n("../ads/ima-ads")),f=u(n("../ads/rmp-vast")),e=u(n("../ads/ads-helpers"));o={};o.attach=function(n){n.prototype.getAdLinear=function(){if(this.getAdOnStage()){if("ima"===this.adParser)return this.isLinear;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdLinear()}return!1};n.prototype.getAdSystem=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&"string"==typeof this.adSystem)return this.adSystem;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdSystem()}return""};n.prototype.getAdContentType=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&"string"==typeof this.adContentType)return this.adContentType;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdContentType()}return""};n.prototype.getAdTitle=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&"string"==typeof this.adTitle)return this.adTitle;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdTitle()}return""};n.prototype.getAdDescription=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&"string"==typeof this.adDescription)return this.adDescription;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdDescription()}return""};n.prototype.getAdMediaUrl=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&"string"==typeof this.adMediaUrl)return this.adMediaUrl;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdMediaUrl()}return""};n.prototype.getAdMediaHeight=function(){if(this.getAdOnStage())if("ima"===this.adParser){var n=void 0;if("number"==typeof(n=this.getAdLinear()?this.getPlayerHeight():this.adNonLinearHeight))return n}else if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdMediaHeight();return-1};n.prototype.getAdMediaWidth=function(){if(this.getAdOnStage())if("ima"===this.adParser){var n=void 0;if("number"==typeof(n=this.getAdLinear()?this.getPlayerWidth():this.adNonLinearWidth))return n}else if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdMediaWidth();return-1};n.prototype.getAdCurrentTime=function(){if(this.getAdOnStage()&&this.getAdLinear())if("ima"===this.adParser)if(this.adImaDai){if(0<=this.imaDaiAdCurrentTime)return Math.round(1e3*this.imaDaiAdCurrentTime)}else{var t=this.getAdDuration(),n=this.adsManager.getRemainingTime();if(r.default.isNumber(n)&&0<=n&&0<=t)return Math.round(t-1e3*n)}else if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdCurrentTime();return-1};n.prototype.getAdDuration=function(){if(this.getAdOnStage()&&this.getAdLinear()){if("ima"===this.adParser&&r.default.isNumber(this.adDuration)&&0<=this.adDuration)return 1e3*this.adDuration;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdDuration()}return-1};n.prototype.getAdOnStage=function(){if(this.ads&&this.get5Ready()){if("ima"===this.adParser)return this.adOnStage;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdOnStage()}return!1};n.prototype.getAdPaused=function(){if(this.getAdOnStage()&&this.getAdLinear()){if("ima"===this.adParser)return this.adImaDai?this.getPaused():this.adPaused;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdPaused()}return!1};n.prototype.getAdTagUrl=function(){if(this.ads&&this.get5Ready()){if(this.adScheduleInput&&this.adSchedule.preroll&&!this.getPlayerInitialized())return e.default.replaceAdTagVar.call(this,this.adSchedule.preroll);if(""!==this.adTagUrl)return this.adTagUrl}return""};n.prototype.loadAds=function(n){var t=this;if(this.ads&&this.get5Ready()){if("string"!=typeof n||this.googleCast&&this.castConnected)return void 0;if(this.adTagUrl=e.default.replaceAdTagVar.call(this,n),this.adTagUrl=this.adTagUrl.trim(),"ima"===this.adParser){if(!this.adDCInitialized)return;this.onContentResumeRequestedLoadAds=function(){this.dom.container.removeEventListener("adcontentresumerequested",this.onContentResumeRequestedLoadAds);s.default.resetAdsForNewRequest.call(this);s.default.requestAds.call(this,this.adTagUrl)}.bind(this);this.getAdOnStage()&&this.getAdLinear()?(this.dom.container.addEventListener("adcontentresumerequested",this.onContentResumeRequestedLoadAds),this.stopAds()):this.onContentResumeRequestedLoadAds()}else if("rmp-vast"===this.adParser&&this.rmpVast){if(!this.rmpVast.getInitialized())return;f.default.restoreContentUI.call(this);setTimeout(function(){f.default.loadAds.call(t,t.adTagUrl)},1)}}};n.prototype.stopAds=function(){if(this.ads&&this.get5Ready())if("ima"===this.adParser){if(this.adsManager){this.adOnStage=!1;try{this.adsManager.stop()}catch(n){r.default.trace(n)}}}else"rmp-vast"===this.adParser&&this.rmpVast&&(this.rmpVast.stopAds(),f.default.restoreContentUI.call(this))};n.prototype.getAdUI=function(){return this.hasAdUI};n.prototype.setAdUI=function(n){"boolean"==typeof n&&this.get5Ready()&&e.default.setAdUI.call(this,n)};n.prototype.getAdErrorMessage=function(){if(this.get5Ready()){if("ima"===this.adParser&&this.adErrorMessage)return this.adErrorMessage;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdErrorMessage()}return""};n.prototype.getAdVastErrorCode=function(){if(this.get5Ready()){if("ima"===this.adParser&&r.default.isNumber(this.adVastErrorCode))return this.adVastErrorCode;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdVastErrorCode()}return-1};n.prototype.getAdErrorType=function(){if(this.get5Ready()){if("ima"===this.adParser&&this.adErrorType)return this.adErrorType;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdErrorType()}return""};n.prototype.getAdPodInfo=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&r.default.isObject(this.adPodInfo))return this.adPodInfo;if("rmp-vast"===this.adParser)return this.rmpVast.getAdPodInfo()}return null};n.prototype.getAdID=function(){return this.getAdOnStage()&&"string"==typeof this.adID?this.adID:""};n.prototype.getAdCreativeAdId=function(){return this.getAdOnStage()&&"string"==typeof this.adCreativeAdId?this.adCreativeAdId:""};n.prototype.getAdCreativeId=function(){return this.getAdOnStage()&&"string"==typeof this.adCreativeId?this.adCreativeId:""};n.prototype.getAdDealId=function(){return this.getAdOnStage()&&"string"==typeof this.adDealId?this.adDealId:""};n.prototype.getAdSurveyUrl=function(){return this.getAdOnStage()&&"string"==typeof this.adSurveyUrl?this.adSurveyUrl:""};n.prototype.getAdUniversalAdIdRegistry=function(){return this.getAdOnStage()&&"string"==typeof this.adUniversalAdIdRegistry?this.adUniversalAdIdRegistry:""};n.prototype.getAdUniversalAdIdValue=function(){return this.getAdOnStage()&&"string"==typeof this.adUniversalAdIdValue?this.adUniversalAdIdValue:""};n.prototype.getAdvertiserName=function(){return this.getAdOnStage()&&"string"==typeof this.adAdvertiserName?this.adAdvertiserName:""};n.prototype.getAdApiFramework=function(){return this.getAdOnStage()&&"string"==typeof this.adApiFramework?this.adApiFramework:""};n.prototype.getAdTraffickingParameters=function(){return this.getAdOnStage()&&r.default.isObject(this.adTraffickingParameters)?this.adTraffickingParameters:null};n.prototype.getAdTraffickingParametersString=function(){return this.getAdOnStage()&&"string"==typeof this.adTraffickingParametersString?this.adTraffickingParametersString:""};n.prototype.getAdWrapperAdIds=function(){return this.getAdOnStage()&&Array.isArray(this.adWrapperAdIds)?this.adWrapperAdIds:null};n.prototype.getAdWrapperAdSystems=function(){return this.getAdOnStage()&&Array.isArray(this.adWrapperAdSystems)?this.adWrapperAdSystems:null};n.prototype.getAdWrapperCreativeIds=function(){return this.getAdOnStage()&&Array.isArray(this.adWrapperCreativeIds)?this.adWrapperCreativeIds:null};n.prototype.getCompanionAds=function(n,t,i){if(this.ads&&this.get5Ready()&&"ima"===this.adParser)if(this.adImaDai){if("function"==typeof this.currentAdForCompanion.getCompanionAds)return this.currentAdForCompanion.getCompanionAds()}else{var r=this.currentAdForCompanion.getCompanionAds(n,t,i);if(Array.isArray(r)&&0<r.length)return r}return null};n.prototype.getAdErrorCode=function(){return r.default.isNumber(this.adErrorCode)?this.adErrorCode:-1};n.prototype.getAdParser=function(){return this.adParser};n.prototype.getAdParserBlocked=function(){return this.adParserLoadError};n.prototype.getAdBlockerDetected=function(){return"boolean"==typeof window.rmpGlobals.adBlockerDetected&&window.rmpGlobals.adBlockerDetected};n.prototype.isVpaidCreative=function(){return this.isVPAID}};i.default=o},{"../ads/ads-helpers":6,"../ads/ima-ads":7,"../ads/rmp-vast":9,"../fw/fw":53}],15:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var v;Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../fw/fw")),e=u(n("../fw/env")),g=u(n("../fw/defaults/input-defaults")),h=u(n("../core/volume/volume")),l=u(n("../core/resize/resize")),y=u(n("../ads/ima-ads")),p=u(n("../ads/rmp-vast")),o=u(n("../core/ui/core-ui")),a=u(n("../core/ui/logo")),w=u(n("../playlist/playlist")),b=u(n("../playlist/related")),nt=u(n("../core/dvr/dvr")),tt=u(n("../core/seek/seek")),k=u(n("../360/360")),f=u(n("../cast/cast")),s=u(n("../vtt/captions")),d=u(n("../vtt/thumbnails")),c=u(n("../core/modules/modules"));v={};v.attach=function(n){n.prototype.getReady=function(){return this.playerReady};n.prototype.get5Ready=function(){return this.isHTML5&&this.playerReady};n.prototype.getEnvironment=function(){return e.default};n.prototype.getFramework=function(){return r.default};n.prototype.getPlayerSettings=function(){return g.default};n.prototype.isStandalone=function(){return e.default.isStandalone};n.prototype.isWebView=function(){return e.default.isWebView};n.prototype.getPlayerVersion=function(){return this.playerVersion};n.prototype.getAutoplayRequested=function(){return!!this.getReady()&&this.autoplay};n.prototype.getPreload=function(){return this.getReady()?this.preload:""};n.prototype.getPaused=function(){if(this.get5Ready()){if(f.default.castingAPIAvailable.call(this))return this.remotePlayer.isPaused;if("boolean"==typeof this.dom.video.paused)return this.dom.video.paused}return!1};n.prototype.getCurrentTime=function(){if(this.isLive)return-1;if(this.isLiveDvr)return this.dvrLiveMode?-1:0<=this.dvrCurrentTime?1e3*this.dvrCurrentTime:-1;if(this.get5Ready()&&f.default.castingAPIAvailable.call(this))return f.default.getCurrentTime.call(this);if(this.getAdOnStage()&&this.getAdLinear()&&(e.default.isIos[0]||"rmp-vast"===this.adParser&&e.default.isMacosSafari[0]))return-1;var n=r.default.getMediaCurrentTime(this.dom.video);return 0<=n?Math.round(1e3*n):-1};n.prototype.getDuration=function(){if(this.isLive)return-1;if(this.isLiveDvr)return 0<=this.hlsJSLevelDuration?Math.round(1e3*this.hlsJSLevelDuration):-1;if(this.get5Ready()&&f.default.castingAPIAvailable.call(this))return f.default.getDuration.call(this);if(this.getAdOnStage()&&this.getAdLinear()&&(e.default.isIos[0]||"rmp-vast"===this.adParser&&e.default.isMacosSafari[0]))return-1;var n=r.default.getMediaDuration(this.dom.video);return 0<=n?Math.round(1e3*n):-1};n.prototype.getPlayerMode=function(){return this.playerReady?this.isHTML5?"html5":"nosupport":""};n.prototype.getStreamType=function(){var n="";return this.get5Ready()&&(this.readingDash?n="dash":this.readingHlsHevc?n="hlsHevc":this.readingHlsJS||this.readingHls||this.readingHlsShaka?n="hls":this.readingMp4Hevc&&this.readingMp4?n="mp4Hevc":this.readingMp4&&!this.readingWebM?n="mp4":this.readingMp4&&this.readingWebM?n="webm":this.readingM4a?n="m4a":this.readingMp3?n="mp3":this.readingOgg?n="ogg":this.readingOutstream&&(n="outstream")),n};n.prototype.getBufferLength=function(n){var t,r,i,u,f;if("string"!=typeof n||"behind"!==n&&"ahead"!==n)return-1;if(this.get5Ready()&&(t=this.getCurrentTime(),-1<t&&void 0!==this.dom.video.buffered&&"function"==typeof this.dom.video.buffered.start&&"function"==typeof this.dom.video.buffered.end)){for(r=this.dom.video.buffered,i=0;i<r.length;++i)if(u=1e3*r.start(i),f=1e3*r.end(i),u<=t&&t<=f)return"behind"===n?Math.round(t-u):Math.round(f-t);return-1}return-1};n.prototype.getLoop=function(){return!(!this.get5Ready()||"boolean"!=typeof this.dom.video.loop)&&this.dom.video.loop};n.prototype.setLoop=function(n){!this.isVod||this.ads&&e.default.isIos[0]||"boolean"==typeof n&&this.dom.video&&(this.dom.video.loop=n)};n.prototype.getControls=function(){return!!this.get5Ready()&&this.controls};n.prototype.setControls=function(n){"boolean"==typeof n&&this.get5Ready()&&(n?o.default.protoShowControls.call(this):o.default.protoHideControls.call(this))};n.prototype.getControlsVisible=function(){if(this.get5Ready()&&!this.hideControls){if(r.default.hasClass(this.dom.container,"rmp-chrome"))return!0;if(r.default.hasClass(this.dom.container,"rmp-no-chrome"))return!1}return!1};n.prototype.setControlsVisible=function(n){"boolean"==typeof n&&this.get5Ready()&&!this.hideControls&&(n?o.default.showChrome.call(this):o.default.hideChrome.call(this))};n.prototype.getFullscreen=function(){return!!this.get5Ready()&&this.isInFullscreen};n.prototype.setFullscreen=function(n){if(this.get5Ready()&&"boolean"==typeof n){var t=this.getFullscreen();if(t&&n||!t&&!n)return;l.default.fullscreenInteraction.call(this)}};n.prototype.play=function(){if(this.get5Ready()){if(f.default.castingAPIAvailable.call(this))return void(this.remotePlayer.isPaused&&this.remotePlayerController.playOrPause());this.getAdOnStage()&&this.getAdLinear()?"ima"===this.adParser?y.default.resumeAds.call(this):p.default.resumeAds.call(this):this.getPaused()&&this.initiatePlayback()}};n.prototype.pause=function(){if(this.get5Ready()){if(f.default.castingAPIAvailable.call(this))return void(this.remotePlayer.isPaused||this.remotePlayerController.playOrPause());this.getAdOnStage()&&this.getAdLinear()&&!this.adImaDai?"ima"===this.adParser?y.default.pauseAds.call(this):p.default.pauseAds.call(this):this.getPaused()||this.initiatePlayback()}};n.prototype.stop=function(){if(this.get5Ready()){if(f.default.castingAPIAvailable.call(this))return this.remotePlayer.isPaused||this.remotePlayerController.playOrPause(),this.isVod&&(this.remotePlayer.currentTime=0,this.remotePlayerController.seek(),this.dom.current.style.width=0,this.dom.handle.style.left=0,this.dom.timeElapsedText.textContent="00:00"),void r.default.createStdEvent("stopcompleted",this.dom.container);null===this.postStop&&(this.postStop=function(){this.ads&&null!==this.postStop&&("ima"===this.adParser?this.dom.container.removeEventListener("adalladscompleted",this.postStop):"rmp-vast"===this.adParser&&this.rmpVast&&this.dom.container.removeEventListener("addestroyed",this.postStop));this.getPaused()||this.pause();this.isVod&&this.seekTo(0);this.showPoster();r.default.createStdEvent("stopcompleted",this.dom.container)}.bind(this));this.getAdOnStage()?"ima"===this.adParser?this.getAdLinear()?(this.dom.container.addEventListener("adalladscompleted",this.postStop),this.stopAds()):(this.stopAds(),this.postStop()):"rmp-vast"===this.adParser&&this.rmpVast&&(this.dom.container.addEventListener("addestroyed",this.postStop),this.stopAds()):this.postStop()}};n.prototype.seekTo=function(n){if(this.get5Ready()){if(!r.default.isNumber(n)||this.isLive||this.isLiveDvr||this.getAdOnStage()&&this.getAdLinear())return void 0;if(0<=n){var t=Math.round(n/10)/100;if(f.default.castingAPIAvailable.call(this))return this.remotePlayer.currentTime=t,void this.remotePlayerController.seek();r.default.setMediaCurrentTime(this.dom.video,t)}}};n.prototype.dvrSeekTo=function(n){if(this.isLiveDvr&&this.get5Ready()){if(!r.default.isNumber(n)||this.getAdOnStage()&&this.getAdLinear())return void 0;n<1e4&&(n=1e4);var t=n/this.getDuration();if(1<=t)return;tt.default.do.call(this,t)}};n.prototype.dvrJumpToLive=function(){this.isLiveDvr&&this.get5Ready()&&nt.default.setLiveMode.call(this,null)};n.prototype.dvrIsLive=function(){return!(!this.get5Ready()||!this.isLiveDvr)&&this.dvrLiveMode};n.prototype.getVolume=function(){if(this.get5Ready()){if(f.default.castingAPIAvailable.call(this))return this.remotePlayer.volumeLevel;var n=void 0;if(n=this.getAdOnStage()&&this.getAdLinear()?h.default.getVolumeAds.call(this):this.dom.video.volume,r.default.isNumber(n)&&-2!==n)return n}return-1};n.prototype.setVolume=function(n){if(r.default.isNumber(n)&&this.get5Ready()){var t=void 0;if(t=n<0?0:1<n?1:n,this.currentVolume=t,this.getMute()&&this.setMute(!1),f.default.castingAPIAvailable.call(this))return this.remotePlayer.volumeLevel=this.currentVolume,this.remotePlayerController.setVolumeLevel(),void h.default.change.call(this);this.dom.video.volume=this.currentVolume;this.getAdOnStage()&&this.getAdLinear()&&h.default.setVolumeAds.call(this,this.currentVolume)}};n.prototype.getMute=function(){return!!this.playerReady&&(f.default.castingAPIAvailable.call(this)?this.remotePlayer.isMuted:this.muted)};n.prototype.setMute=function(n){this.get5Ready()&&(n?h.default.protoMute.call(this):h.default.protoUnmute.call(this))};n.prototype.getPlaybackRate=function(){return this.dom.video&&"number"==typeof this.dom.video.playbackRate?this.dom.video.playbackRate:-1};n.prototype.setPlaybackRate=function(n){if(this.get5Ready()){if(!r.default.isNumber(n))return void 0;var t=this.getPaused();!t&&e.default.isIos[0]&&this.pause();this.dom.video.playbackRate=n;!t&&e.default.isIos[0]&&this.play()}};n.prototype.getContentTitle=function(){return this.contentTitle};n.prototype.setContentTitle=function(n){if("string"==typeof n&&(this.contentTitle=n),this.dom.container&&this.dom.container.setAttribute("aria-label",this.contentTitle),this.sharing){var t=this.labels.hint.sharing+" "+this.uiSeparator+" "+this.contentTitle;r.default.setText(this.dom.sharingTitleWrapper,t)}r.default.setText(this.dom.contentTitle,this.contentTitle)};n.prototype.getContentDescription=function(){return this.contentDescription};n.prototype.setContentDescription=function(n){"string"==typeof title&&(this.contentDescription=n);r.default.setText(this.dom.contentDescription,this.contentDescription)};n.prototype.getContentID=function(){return this.contentID};n.prototype.setContentID=function(n){"string"==typeof n&&(this.contentID=n)};n.prototype.getVideoTitle=function(){return this.videoTitle};n.prototype.setVideoTitle=function(n){this.useVideoTitle&&"string"==typeof n&&(this.videoTitle=n,this.dom.video&&this.dom.video.setAttribute("title",this.videoTitle))};n.prototype.getAppName=function(){return this.appName};n.prototype.showCaptions=function(n){"string"==typeof n&&this.get5Ready()&&s.default.menuItemInteraction.call(this,n)};n.prototype.hideCaptions=function(){this.get5Ready()&&s.default.menuItemInteraction.call(this,"off")};n.prototype.getCCVisibleLanguage=function(){var t;if(this.get5Ready()&&this.dom.captionsOverlayLevelsArea)for(var i=this.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),n=0,u=i.length;n<u;n++)if(t=i[n],r.default.hasClass(t,"rmp-overlay-level-active"))return t.getAttribute("lang");return""};n.prototype.getCaptionsData=function(){return this.get5Ready()?s.default.getData.call(this):null};n.prototype.getCaptionsList=function(){return this.get5Ready()&&this.hasCC&&this.ccFilesReady?this.loadedCCFiles:null};n.prototype.setCaptionsList=function(n){this.get5Ready()&&r.default.isValidTextTracksSet(n)&&(this.ccFiles=n,this.hasCC||s.default.prepare.call(this),s.default.destroy.call(this),s.default.initVttJS.call(this))};n.prototype.getPoster=function(){return this.playerReady?this.poster:""};n.prototype.setPoster=function(n){"string"==typeof n&&this.dom.posterImg&&(this.dom.posterImg.removeEventListener("load",this.onPosterLoad),this.dom.posterImg.removeEventListener("error",this.onPosterError),this.dom.posterImg.addEventListener("load",this.onPosterLoad),this.dom.posterImg.addEventListener("error",this.onPosterError),this.poster=n,this.dom.posterImg.src=this.poster)};n.prototype.showPoster=function(){this.get5Ready()&&r.default.show(this.dom.poster)};n.prototype.hidePoster=function(){this.get5Ready()&&r.default.hide(this.dom.poster)};n.prototype.resize=function(){this.playerReady&&l.default.resize.call(this)};n.prototype.getPlayerWidth=function(){return r.default.getWidth(this.dom.container)};n.prototype.getPlayerHeight=function(){return r.default.getHeight(this.dom.container)};n.prototype.setPlayerSize=function(n,t){if(!("number"!=typeof n||n<=0||"number"!=typeof t||t<=0)&&(!this.isInFullscreen||this.fullWindowMode)&&!this.iframeMode&&!this.autoHeightMode&&this.playerReady){this.width=n;this.height=t;this.audioOnly&&(this.height=40);var i={width:n+"px",height:t+"px"};r.default.setStyle(this.dom.container,i);l.default.auxResize.call(this,n)}};n.prototype.getPlayerInitialized=function(){return this.playerInitialized};n.prototype.getTimeViewed=function(){return this.get5Ready()&&r.default.isNumber(this.analyticsSecondsPlayed)?Math.round(1e3*this.analyticsSecondsPlayed):-1};n.prototype.getPercentViewed=function(){if(this.get5Ready()&&this.isVod&&r.default.isNumber(this.analyticsSecondsPlayed)){var n=this.getDuration();if(-1<n)return Math.round(1e5*this.analyticsSecondsPlayed/n)}return-1};n.prototype.getTimeReady=function(){return this.playerReady&&r.default.isNumber(this.timeReady)&&0<this.timeReady?this.timeReady:-1};n.prototype.getStartUpTime=function(){return this.get5Ready()?this.startUpTime:-1};n.prototype.getRawHeatMap=function(){return this.get5Ready()&&this.isVod&&this.heatMap?this.heatMapArray:null};n.prototype.getGALabel=function(){return"string"==typeof this.gaLabel&&""!==this.gaLabel?this.gaLabel:""};n.prototype.setGALabel=function(n){"string"==typeof n&&""!==n&&(this.gaLabel=n)};n.prototype.getGACategory=function(){return"string"==typeof this.gaCategory&&""!==this.gaCategory?this.gaCategory:""};n.prototype.setGACategory=function(n){"string"==typeof n&&""!==n&&(this.gaCategory=n)};n.prototype.sendGAEvent=function(n){this.get5Ready()&&"undefined"!=typeof ga&&"string"==typeof n&&""!==n&&ga(this.gaCommand,"event",this.gaCategory,n,this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})};n.prototype.getLogo=function(){var n,t;return this.logoAppended?(n="",""!==this.logo&&(n=this.logo),t="",""!==this.logoLoc&&(t=this.logoLoc),{img:n,loc:t}):null};n.prototype.setLogo=function(n){if(!r.default.isEmptyObject(n)&&"string"==typeof n.img){if("string"==typeof n.loc&&(this.logoLoc=n.loc),this.logo=n.img,""===this.logo)return void(this.logoAppended&&r.default.hide(this.dom.logoImg));r.default.show(this.dom.logoImg);this.logoAppended?a.default.update.call(this):(a.default.init.call(this),a.default.append.call(this))}};n.prototype.getThumbnails=function(){return this.seekBarThumbnailsLoc};n.prototype.setThumbnails=function(n){"string"==typeof n&&""!==n&&(d.default.destroy.call(this),this.seekBarThumbnailsLoc=n,d.default.init.call(this))};n.prototype.getWaitingUI=function(){return!!r.default.hasClass(this.dom.container,"rmp-waiting")};n.prototype.setWaitingUI=function(n){this.get5Ready()&&"boolean"==typeof n&&(n&&!this.getWaitingUI()?o.default.showLoadingSpin.call(this):!n&&this.getWaitingUI()&&o.default.hideLoadingSpin.call(this))};n.prototype.getCurrentPlaylistItemIndex=function(){return this.currentPlaylistIndex};n.prototype.setPlaylistItem=function(n){this.get5Ready()&&"number"==typeof n&&0<=n&&w.default.load.call(this,n,null)};n.prototype.isPlaylist=function(){return this.hasPlaylist};n.prototype.getPlaylistData=function(){return this.isPlaylist()&&0<this.playlistList.length&&r.default.isObject(this.playlistList[0])?this.playlistList:null};n.prototype.setPlaylistData=function(n){this.isPlaylist()&&("string"==typeof n&&""!==n||Array.isArray(n)&&r.default.isObject(n[0]))&&w.default.setData.call(this,n,!1)};n.prototype.getCurrentRelatedItemIndex=function(){return this.currentRelatedIndex};n.prototype.setRelatedItem=function(n){this.get5Ready()&&"number"==typeof n&&0<=n&&b.default.load.call(this,n,null)};n.prototype.isRelated=function(){return this.hasRelated};n.prototype.getRelatedData=function(){return this.isRelated()&&0<this.relatedList.length&&r.default.isObject(this.relatedList[0])?this.relatedList:null};n.prototype.setRelatedData=function(n){this.isRelated()&&("string"==typeof n&&""!==n||Array.isArray(n)&&r.default.isObject(n[0]))&&b.default.setData.call(this,n,!1)};n.prototype.getCamLat=function(){return this.lat};n.prototype.getCamLon=function(){return this.lon};n.prototype.getCamFov=function(){return this.fov};n.prototype.setCamLatLongFov=function(n,t,i){this.get5Ready()&&"number"==typeof n&&"number"==typeof t&&"number"==typeof i&&k.default.setCamLatLongFov.call(this,n,t,i,!0)};n.prototype.resetCamLatLongFov=function(){this.get5Ready()&&k.default.setCamLatLongFov.call(this,this.video360InitialLat,this.video360InitialLon,this.video360FocalLength,!0)};n.prototype.getChapters=function(){return this.get5Ready()&&0<this.chaptersArray.length?this.chaptersArray:null};n.prototype.seekToChapter=function(n){this.get5Ready()&&0<this.chaptersArray.length&&"number"==typeof n&&-1<n&&null!==this.getChapters()&&void 0!==this.chaptersArray[n]&&this.seekTo(this.chaptersArray[n].start)};n.prototype.getCastMediaLoaded=function(){return this.castMediaLoaded};n.prototype.getCastConnected=function(){return this.castConnected};n.prototype.getCastUrl=function(){return this.castUrl};n.prototype.getHlsManifestData=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsManifestData:null};n.prototype.getHlsLevelData=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsLevelData:null};n.prototype.getHlsFragmentData=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsFragmentData:null};n.prototype.getHlsFragmentBeingPlayedData=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsFragmentBeingPlayed:null};n.prototype.getHlsEpochProgramDateTime=function(){return this.hlsEpochProgramDateTime};n.prototype.getHlsRawProgramDateTime=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsRawProgramDateTime:null};n.prototype.getHlsId3TagSamples=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsID3TagData:null};n.prototype.getHlsBwEstimate=function(){return this.bwEstimate};n.prototype.hlsStartLoad=function(){null!==this.hlsJS&&this.hlsJS.startLoad()};n.prototype.hlsStopLoad=function(){null!==this.hlsJS&&this.hlsJS.stopLoad()};n.prototype.getHlsJSInstance=function(){return this.hlsJS};n.prototype.getShakaPlayerInstance=function(){return this.shakaPlayer};n.prototype.getHtmlMediaElement=function(){return this.dom.video?this.dom.video:null};n.prototype.getErrorData=function(){return this.errorData};n.prototype.setModuleOverlayVisible=function(n,t){"boolean"==typeof t&&"string"==typeof n&&-1<c.default.types.indexOf(n)&&this.dom[n+"Overlay"]&&(t&&!r.default.isVisible(this.dom[n+"Overlay"])?c.default.open.call(this,n,null):!t&&r.default.isVisible(this.dom[n+"Overlay"])&&c.default.close.call(this,n,400,null))};n.prototype.getModuleOverlayVisible=function(n){return!!("string"==typeof n&&-1<c.default.types.indexOf(n)&&this.dom[n+"Overlay"])&&r.default.isVisible(this.dom[n+"Overlay"])}};i.default=v},{"../360/360":1,"../ads/ima-ads":7,"../ads/rmp-vast":9,"../cast/cast":22,"../core/dvr/dvr":26,"../core/modules/modules":30,"../core/resize/resize":36,"../core/seek/seek":39,"../core/ui/core-ui":41,"../core/ui/logo":43,"../core/volume/volume":48,"../fw/defaults/input-defaults":51,"../fw/env":52,"../fw/fw":53,"../playlist/playlist":55,"../playlist/related":56,"../vtt/captions":57,"../vtt/thumbnails":58}],16:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../fw/fw")),o=u(n("../abr/shaka")),f=u(n("../core/modules/modules"));e={attach:function(n){n.prototype.getAudioTracks=function(){var n,i,r,t,u;return this.get5Ready()?(n=[],this.readingHlsJS&&this.hlsJS&&Array.isArray(this.hlsJS.audioTracks)&&0<this.hlsJS.audioTracks.length)?(i=this.hlsJS.audioTrack,this.hlsJS.audioTracks.forEach(function(t,r){t.id===i?n.push({language:t.lang,active:!0,id:r}):n.push({language:t.lang,active:!1,id:r})}),n):(this.readingDash||this.readingHlsShaka)&&this.shakaPlayer?(r=this.shakaPlayer.getAudioLanguages(),t=this.shakaPlayer.getVariantTracks().find(function(n){return!0===n.active}),t&&(u=t.language,r.forEach(function(t,i){t===u?n.push({language:t,active:!0,id:i}):n.push({language:t,active:!1,id:i})})),n):null:null};n.prototype.setAudioTrack=function(n){var i,t,s;if(this.get5Ready()&&"number"==typeof n)if(this.readingHlsJS&&this.hlsJS&&Array.isArray(this.hlsJS.audioTracks)&&1<this.hlsJS.audioTracks.length&&r.default.isObject(this.hlsJS.audioTracks[n]))this.hlsJS.audioTrack=n,f.default.setActiveLevel.call(this,"audio",n);else if((this.readingDash||this.readingHlsShaka)&&this.shakaPlayer&&(i=this.getAudioTracks().find(function(t){return t.id===n}),i)){if(this.shakaPlayer.selectAudioLanguage(i.language),this.abrAutoMode=!0,this.shakaPlayer.configure({abr:{enabled:!0}}),f.default.setActiveLevel.call(this,"audio",n),this.dom.qualityOverlayLevelsArea){for(var h=this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),c=[],u=0,a=h.length;u<a;u++)t=h[u],r.default.hasClass(t,"rmp-q0")?r.default.addClass(t,"rmp-overlay-level-active"):c.push(t);c.forEach(function(n){r.default.removeElement(n)});0<this.variantsPerLng.length&&o.default.setUpVideoRenditions.call(this)}if(!this.hasCC&&0<this.shakaTextTracks.length&&this.dom.captionsOverlayLevelsArea){this.defaultTrack=0;for(var l=this.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),e=0,v=l.length;e<v;e++)r.default.removeClass(l[e],"rmp-overlay-level-active");s=this.dom.container.querySelector(".captions-off");null!==s&&r.default.addClass(s,"rmp-overlay-level-active");this.shakaPlayer.setTextTrackVisibility(!1)}r.default.createStdEvent("shakaaudiotrackswitching",this.dom.container)}}}};i.default=e},{"../abr/shaka":4,"../core/modules/modules":30,"../fw/fw":53}],17:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../fw/fw")),o=u(n("../core/modules/quality")),f=u(n("../core/modules/modules"));e={attach:function(n){n.prototype.getBitrates=function(){var t=this,n,i,r;if(!this.get5Ready())return null;if(n=[],(this.readingDash||this.readingHlsShaka)&&this.shakaPlayer)return this.shakaPlayer.getVariantTracks().forEach(function(i){for(var f,r={},u=0,e=t.shakaVideoRenditions.length;u<e;u++)if(f=t.shakaVideoRenditions[u],i.id===f){r.id=u;r.active=!1;i.active&&(r.active=!0);i.bandwidth&&(r.bandwidth=i.bandwidth);i.width&&(r.width=i.width);i.height&&(r.height=i.height);i.videoCodec&&(r.videoCodec=i.videoCodec);i.audioCodec&&(r.audioCodec=i.audioCodec);n.push(r);break}}),n;if(this.readingHlsJS&&this.hlsJS){if(Array.isArray(this.hlsJS.levels)&&0<this.hlsJS.levels.length)return i=this.hlsJS.currentLevel,this.hlsJS.levels.forEach(function(t,r){var u={};u.id=r;u.active=!1;r===i&&(u.active=!0);t.bitrate&&(u.bitrate=t.bitrate);t.width&&(u.width=t.width);t.height&&(u.height=t.height);t.videoCodec&&(u.videoCodec=t.videoCodec);t.audioCodec&&(u.audioCodec=t.audioCodec);n.push(u)}),n}else{if(this.readingMp4)return r=this.getCurrentBitrateIndex(),this.src.mp4.forEach(function(t,i){var u=!1;i===r&&(u=!0);n.push({active:u,id:i})}),n;if(this.readingM4a||this.readingMp3||this.readingOgg)return n.push({active:!0,id:0}),n}return null};n.prototype.setBitrate=function(n){var s,h,e,t,i,c,u;if("number"==typeof n&&this.get5Ready()&&(!this.getAdOnStage()||!this.getAdLinear())&&(s=this.getBitrates(),!(-1!==n&&void 0===s[n]||this.readingMp4&&-1===n)))if(this.readingMp4)o.default.setMp4Bitrate.call(this,n);else if((this.readingDash||this.readingHlsShaka)&&this.shakaPlayer){if(-1===n?(this.abrAutoMode=!0,this.shakaPlayer.configure({abr:{enabled:!0}})):(this.abrAutoMode=!1,this.shakaPlayer.configure({abr:{enabled:!1}}),h=this.shakaVideoRenditions[n],e=this.shakaPlayer.getVariantTracks().find(function(n){return n.id===h}),e&&(this.shakaPlayer.selectVariantTrack(e,!0),r.default.createStdEvent("shakalevelswitching",this.dom.container))),this.dom.qualityOverlayLevelsArea){if(t=this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),0<t.length&&t[n+1]){for(i=0,c=t.length;i<c;i++)r.default.removeClass(t[i],"rmp-abr-active");r.default.addClass(t[n+1],"rmp-abr-active")}f.default.setActiveLevel.call(this,"quality",n+1)}}else if(this.readingHlsJS&&this.hlsJS){if(-1===n){this.abrAutoMode=!0;try{this.hlsJS.nextLevel=-1}catch(n){r.default.trace(n)}}else if(u=this.hlsJS.levels,u&&u.length&&0<=n&&n<u.length){this.abrAutoMode=!1;try{this.hlsJS.nextLevel=n}catch(n){r.default.trace(n)}}else 0;f.default.setActiveLevel.call(this,"quality",n+1)}};n.prototype.getAbrAutoMode=function(){return!!this.get5Ready()&&(this.readingMse?this.abrAutoMode:!!this.readingHls||(this.readingMp4||this.readingM4a||this.readingMp3||this.readingOgg,!1))};n.prototype.getCurrentBitrateIndex=function(){var t,i,n;if(!this.get5Ready())return-2;if(this.readingMse||this.readingHls){if(this.getAbrAutoMode())return-1;if(t=this.getBitrates(),t)return t.find(function(n){return!0===n.active}).id}else{if(this.readingMp4)return i=this.getSrc(),n=this.src.mp4.findIndex(function(n){return n===i}),-1===n&&(n=0),n;if(this.readingM4a||this.readingMp3||this.readingOgg)return 0}return-2}}};i.default=e},{"../core/modules/modules":30,"../core/modules/quality":31,"../fw/fw":53}],18:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../fw/fw")),f=u(n("../fw/env")),o=u(n("../ads/ima-ads")),s=u(n("../ads/scheduler")),h=u(n("../ads/ads-helpers")),c=u(n("../analytics/logs")),l=u(n("../cast/cast")),a=u(n("../cast/airplay")),v=u(n("../abr/shaka")),y=u(n("../abr/hls")),p=u(n("../core/utils/viewable")),w=u(n("../vtt/captions")),b=u(n("../vtt/thumbnails")),k=u(n("../360/360")),d=u(n("../core/dom")),g=u(n("../analytics/analytics")),nt=u(n("../analytics/mux")),tt=u(n("../core/utils/utils")),it=u(n("../core/utils/error"));e={};e.attach=function(n){var t=function(){var n=this;setTimeout(function(){n.destroyRunning=!1;r.default.createStdEvent("destroycompleted",n.dom.container)},1)},e=function(){var n=this;h.default.destroy.call(this);this.dom.container.removeEventListener("adcontentresumerequested",this.castInit);this.adScheduleInput&&s.default.destroy.call(this);tt.default.clearAdAutoplayEvents.call(this);"ima"===this.adParser&&null===this.postImaAdDestroy&&(this.postImaAdDestroy=function(){this.dom.container.removeEventListener("adcontentresumerequested",this.postImaAdDestroy);o.default.resetAdsForNewRequest.call(this);try{this.adsLoader.destroy();this.adDisplayContainer.destroy()}catch(n){r.default.trace(n)}this.adsDestroyed=!0}.bind(this));"ima"===this.adParser?this.getAdOnStage()?this.getAdLinear()?(this.dom.container.addEventListener("adcontentresumerequested",this.postImaAdDestroy),this.stopAds()):(this.stopAds(),this.postImaAdDestroy()):this.postImaAdDestroy():this.getAdOnStage()?this.getAdLinear()?(this.dom.container.addEventListener("addestroyed",function(){n.adsDestroyed=!0}),this.stopAds()):(this.stopAds(),this.adsDestroyed=!0):this.adsDestroyed=!0},i=function(){(function(){f.default.isMobile&&(this.dom.container.removeEventListener("playing",this.onMobileStartAutoHideCentralUI),this.dom.container.removeEventListener("adloaded",this.onMobileStartAutoHideCentralUI),this.dom.container.removeEventListener("aderror",this.onMobileStartAutoHideCentralUI));this.ads&&(f.default.isIos[0]&&!this.hideFullscreen&&(this.dom.container.removeEventListener("adloaded",this.onIosStartShowFS),this.dom.container.removeEventListener("aderror",this.onIosStartShowFS),this.dom.container.removeEventListener("playing",this.onIosStartShowFS)),"ima"===this.adParser&&f.default.isIphone&&this.adDisableCustomPlaybackForIOS10Plus&&(this.dom.container.removeEventListener("adcontentpauserequested",this.onIphone10PlusHideFS),this.dom.container.removeEventListener("adcontentresumerequested",this.onIphone10PlusHideFS)));this.dom.container.removeEventListener("srcchanged",this.appendFormDataAndSendLog);this.dom.container.removeEventListener("loadedmetadata",this.afterSrcSwitch);this.dom.container.removeEventListener("contextmenu",r.default.contextMenuInteraction);this.dom.container.removeEventListener("mousemove",this.showChrome);this.dom.container.removeEventListener("touchend",this.containerTouch);this.dom.container.removeEventListener("click",this.containerClick);this.dom.container.removeEventListener("playing",this.setAudioTrackFn);this.dom.container.removeEventListener("resize",this.configureShakaCapLevelToPlayerSize);this.processInitiatePlayback&&this.dom.container.removeEventListener("loadedmetadata",this.processInitiatePlayback);this.dom.container.removeEventListener("playing",this.unstalledBuffer);this.dom.container.removeEventListener("playing",this.hlsJSUnstalledBuffer);w.default.destroy.call(this);this.dom.container.removeEventListener("playing",this.startUpLogPlaying);this.dom.container.removeEventListener("adloaded",this.startUpLogPlaying);this.dom.container.removeEventListener("loadedmetadata",this.afterMp4BitrateSwitch);this.hlsJSStopDownloadWhilePaused&&(this.dom.container.removeEventListener("playing",this.hlsOnFirstPlaying),this.dom.container.removeEventListener("pause",this.hlsOnPauseStopLoad),this.dom.container.removeEventListener("play",this.hlsOnPlayStartLoad));this.hasChapters&&this.dom.container.removeEventListener("loadedmetadata",this.onLoadedmetadaAddChapters)}).call(this);this.video360&&k.default.destroy.call(this);this.dom.video&&function(){d.default.destroyVideo.call(this);this.dom.video.removeEventListener("ended",this.ended);null!==this.hlsResizeLevelSwitch&&this.dom.video.removeEventListener("resize",this.hlsResizeLevelSwitch);this.readingPDorNative&&this.dom.video.removeEventListener("error",this.generateError,!0)}.call(this),function(){var n=this;if(this.readingDash||this.readingHlsShaka){if(null===this.shakaPlayer)return void t.call(this);v.default.destroy.call(this);this.shakaPlayer.destroy().then(function(){t.call(n)}).catch(function(i){r.default.trace(i);t.call(n)})}else if(this.readingHlsJS){if(null===this.hlsJS)return void t.call(this);y.default.destroy.call(this);t.call(this)}else this.readingPDorNative?(r.default.clearNativeHtml5Buffer(this.dom.video),t.call(this)):this.readingOutstream&&t.call(this)}.call(this)},u=function(){var n=this,t;(document.removeEventListener("fullscreenchange",this.fullscreenchange),document.removeEventListener("fullscreenerror",this.fullscreenerror),document.removeEventListener("mouseup",this.mouseupDoc),document.removeEventListener("mousemove",this.mousemoveDoc),function(){r.default.clearTimeout(this.imaLoadTimeout);r.default.clearTimeout(this.throttledResizeTimeout);r.default.clearTimeout(this.cssLinkTimeout);r.default.clearTimeout(this.logRetryTimeout);r.default.clearTimeout(this.logGaSeekingTimeout);r.default.clearTimeout(this.prerollMaskRemovalTimeout);r.default.clearTimeout(this.orientationChangeResizeTimeout);r.default.clearTimeout(this.siteCheckerRetryTimeout);r.default.clearTimeout(this.rmpPlusCheckerRetryTimeout);r.default.clearTimeout(this.hlsJSErrorRetryTimeout);r.default.clearInterval(this.progressiveInterval);r.default.clearInterval(this.hlsJSCCInterval);r.default.clearInterval(this.hlsJSAbrInterval);r.default.clearInterval(this.adSkipInterval);r.default.clearInterval(this.adCountdownInterval);r.default.clearInterval(this.adRemainingTimeBarInterval);r.default.clearInterval(this.runAdsManagerInterval);r.default.clearInterval(this.liveAdSchedulerChecker);r.default.clearInterval(this.analyticsInterval);r.default.clearInterval(this.setSrcResetAdInterval);r.default.clearInterval(this.chromeTimer)}.call(this),p.default.destroy.call(this),this.googleCast&&l.default.destroy.call(this),a.default.destroy.call(this),0<this.offsetStartPosition&&this.isVod&&this.dom.container&&this.dom.container.removeEventListener("playing",this.onStartSeekToOffset),this.dummyThumbnailsImg&&b.default.destroy.call(this),this.ads)?(e.call(this),t=setInterval(function(){n.adsDestroyed&&(r.default.clearInterval(t),i.call(n))},10)):i.call(this)};n.prototype.destroy=function(){var n=this,i;this.playerReady&&(this.destroyRunning?it.default.warning.call(this,"destroy currently running - wait for completion before invoking",1004,null):(this.destroyRunning=!0,r.default.removeEvent("resize",window,this.throttledResize),r.default.removeEvent("orientationchange",window,this.throttledResize),r.default.removeEvent("online",window,this.windowOnline),r.default.removeEvent("offline",window,this.windowOffline),this.disableKeyboardControl||(r.default.removeEvent("keyup",document,this.addTabKeyDetection),r.default.removeEvent("blur",this.dom.container,this.removeFocusToContainer),r.default.removeEvent("keyup",this.dom.container,this.bindKeyboard),r.default.removeEvent("keydown",this.dom.container,r.default.preventKeyDown)),c.default.destroy.call(this),this.isHTML5)?(g.default.reset.call(this),this.muxData&&this.readingHlsJS&&nt.default.destroy.call(this),this.getFullscreen()&&(this.proceedDestroy=!1,this.exitFSDestroy=function(){this.exitFSDestroy&&this.dom.container.removeEventListener("exitfullscreen",this.exitFSDestroy);this.proceedDestroy=!0}.bind(this),this.dom.container.addEventListener("exitfullscreen",this.exitFSDestroy),this.setFullscreen(!1)),this.proceedDestroy)?u.call(this):i=setInterval(function(){n.proceedDestroy&&(r.default.clearInterval(i),u.call(n))},10):t.call(this))}};i.default=e},{"../360/360":1,"../abr/hls":3,"../abr/shaka":4,"../ads/ads-helpers":6,"../ads/ima-ads":7,"../ads/scheduler":10,"../analytics/analytics":11,"../analytics/logs":12,"../analytics/mux":13,"../cast/airplay":21,"../cast/cast":22,"../core/dom":25,"../core/utils/error":44,"../core/utils/utils":46,"../core/utils/viewable":47,"../fw/env":52,"../fw/fw":53,"../vtt/captions":57,"../vtt/thumbnails":58}],19:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});var u=e(n("../fw/fw")),h=e(n("../fw/env")),r=e(n("../core/utils/error"));var o={},s=function(n,t){this.shakaOfflineDownloadProgress=t;u.default.createStdEvent("downloadprogress",this.dom.container)},f=function(n){var t=n.length;return 1===t?n[0]:n[Math.floor(t/2)]};o.init=function(){window.rmpStorage=new shaka.offline.Storage(this.shakaPlayer);var n={progressCallback:s.bind(this),usePersistentLicense:this.shakaUsePersistentLicense};-4!==this.shakaOfflinePreferredTrackQuality&&(n.trackSelectionCallback=function(n){var i=void 0,r=n.filter(function(n){return"variant"===n.type}),u,e,t;if(0===r.length)return[n[0]];if(u=this.shakaPlayer.getVariantTracks().find(function(n){return!0===n.active}),!u)return[f(r)];if(e=u.language,t=r.filter(function(n){return n.language===e}).sort(function(n,t){return n.bandwidth>t.bandwidth}),0===t.length)return[f(r)];switch(this.shakaOfflinePreferredTrackQuality){case-3:i=t[t.length-1];break;case-2:i=t[0];break;case-1:i=f(t);break;default:i=0<=this.shakaOfflinePreferredTrackQuality&&t[this.shakaOfflinePreferredTrackQuality]?t[this.shakaOfflinePreferredTrackQuality]:f(t)}return[i]}.bind(this));window.rmpStorage.configure(n)};o.attach=function(n){n.prototype.isOnline=function(){return h.default.isOnline()};n.prototype.hasDownloadSupport=function(){return!!("undefined"!=typeof shaka&&shaka.offline&&shaka.offline.Storage&&shaka.offline.Storage.support())};n.prototype.getDownloadedList=function(){return this.hasDownloadSupport()?this.shakaOfflineList:(r.default.warning.call(this,"offline storage is not supported in this environment",3007,null),null)};n.prototype.listDownloadedContent=function(){var n=this;this.hasDownloadSupport()?window.rmpStorage?window.rmpStorage.list().then(function(t){n.shakaOfflineList=t;u.default.createStdEvent("downloadlistavailable",n.dom.container)}).catch(function(t){r.default.warning.call(n,"could not list offline downloaded content",3003,t)}):r.default.warning.call(this,"storage has not been initialized",3001,null):r.default.warning.call(this,"offline storage is not supported in this environment",3007,null)};n.prototype.download=function(n){var t=this,i;this.hasDownloadSupport()?window.rmpStorage?(i={},u.default.isObject(n)&&(i=n),this.shakaOfflineDownloadProgress=0,u.default.createStdEvent("downloadstarted",this.dom.container),window.rmpStorage.store(this.startingBitratePath,i).then(function(){s.call(t,null,1);u.default.createStdEvent("downloadcompleted",t.dom.container)}).catch(function(n){s.call(t,null,-1);r.default.warning.call(t,"could not download offline content",3002,n)})):r.default.warning.call(this,"storage has not been initialized",3001,null):r.default.warning.call(this,"offline storage is not supported in this environment",3007,null)};n.prototype.getDownloadProgress=function(){return this.hasDownloadSupport()?this.shakaOfflineDownloadProgress:(r.default.warning.call(this,"offline storage is not supported in this environment",3007,null),-1)};n.prototype.loadDownload=function(n){this.hasDownloadSupport()?window.rmpStorage?n&&n.offlineUri?this.setSrc(n.offlineUri):r.default.warning.call(this,"could not load offline content - invalid input",3005,null):r.default.warning.call(this,"storage has not been initialized",3001,null):r.default.warning.call(this,"offline storage is not supported in this environment",3007,null)};n.prototype.removeDownload=function(n){var t=this;this.hasDownloadSupport()?window.rmpStorage?window.rmpStorage.remove(n.offlineUri).then(function(){u.default.createStdEvent("downloadremoved",t.dom.container)}).catch(function(n){r.default.warning.call(t,"could not remove offline downloaded content",3004,n)}):r.default.warning.call(this,"storage has not been initialized",3001,null):r.default.warning.call(this,"offline storage is not supported in this environment",3007,null)}};i.default=o},{"../core/utils/error":44,"../fw/env":52,"../fw/fw":53}],20:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var h;Object.defineProperty(i,"__esModule",{value:!0});var r=f(n("../fw/fw")),e=f(n("../abr/shaka")),o=f(n("../abr/hls")),u=f(n("../core/ui/core-ui")),s=f(n("../core/modules/modules")),c=f(n("../core/modules/quality")),a=f(n("../vtt/captions")),l=f(n("../ads/ima-ads")),v=f(n("../vtt/thumbnails")),y=f(n("../core/utils/error"));h={};h.attach=function(n){var t=function(){this.changingSrc=!1;r.default.createStdEvent("srcchanged",this.dom.container)},h=function(){"ima"===this.adParser?(this.contentCompleteCalled=!1,this.getAdLinear()?(this.setSrcResetIMA=function(){this.dom.container.removeEventListener("adcontentresumerequested",this.setSrcResetIMA);l.default.resetAdsForNewRequest.call(this);this.setSrcAdReset=!0}.bind(this),this.dom.container.addEventListener("adcontentresumerequested",this.setSrcResetIMA),this.stopAds()):(l.default.resetAdsForNewRequest.call(this),this.setSrcAdReset=!0)):(this.rmpVast.setContentPlayerCompleted(!1),this.setSrcResetRmpVast=function(){this.dom.container.removeEventListener("addestroyed",this.setSrcResetRmpVast);this.setSrcAdReset=!0}.bind(this),this.dom.container.addEventListener("addestroyed",this.setSrcResetRmpVast),this.stopAds())},i=function(){this.dom.video.src=this.startingBitratePath;try{this.dom.video.load()}catch(n){r.default.trace(n)}},f=function(){var n=this;this.dom.container.addEventListener("loadedmetadata",this.afterSrcSwitch);this.dom.container.addEventListener("error",this.afterSrcSwitch);this.readingHlsJS?(o.default.destroy.call(this),o.default.init.call(this)):this.readingDash||this.readingHlsShaka?this.shakaPlayer?(e.default.destroy.call(this),this.shakaPlayer.destroy().then(function(){e.default.init.call(n)}).catch(function(t){r.default.trace(t);e.default.init.call(n)})):e.default.init.call(this):i.call(this)};n.prototype.setSrc=function(n){var l=this,p;if(this.get5Ready()&&!(this.video360||this.readingFps||this.readingOutstream))if(this.changingSrc)y.default.warning.call(this,"setSrc currently running - wait for completion before invoking",1005,null);else if(p=function(n){var u=this.getStreamType(),t="",i=!1;if("string"==typeof n)i=!0;else if(!r.default.isObject(n))return t;switch(u){case"hlsHevc":i?t=n:n.hlsHevc&&(t=n.hlsHevc);break;case"hls":i?t=n:n.hls&&(t=n.hls);break;case"dash":i?t=n:n.dash&&(t=n.dash);break;case"mp4":i?t=n:n.mp4&&n.mp4[0]&&(t=n.mp4[0]);break;case"mp4Hevc":i?t=n:n.mp4Hevc&&n.mp4Hevc[0]&&(t=n.mp4Hevc[0]);break;case"webm":i?t=n:n.webm&&n.webm[0]&&(t=n.webm[0]);break;case"m4a":i?t=n:n.m4a&&(t=n.m4a);break;case"mp3":i?t=n:n.mp3&&(t=n.mp3);break;case"ogg":i?t=n:n.ogg&&(t=n.ogg)}return t}.call(this,n),""!==p){if(this.readingMse&&this.msePreloadRequested){if(!this.msePreloadCompleted)return void 0;this.msePreloadRequested=!1}if(this.changingSrc=!0,r.default.createStdEvent("srcchanging",this.dom.container),this.castUrl=p,this.startingBitratePath=p,s.default.show.call(this),this.readingMp4&&r.default.isObject(n)&&(Array.isArray(n.webm)&&0<n.webm.length||Array.isArray(n.mp4)&&0<n.mp4.length)&&(Array.isArray(n.webm)&&this.readingWebM?this.src.mp4=n.webm:Array.isArray(n.mp4)&&(this.src.mp4=n.mp4),this.initialBitrate=r.default.filterInitialBitrate(this.initialBitrate,this.src.mp4),this.startingBitratePath=this.src.mp4[this.initialBitrate],this.castUrl=this.startingBitratePath),this.afterSrcSwitch?(this.dom.container.removeEventListener("loadedmetadata",this.afterSrcSwitch),this.dom.container.removeEventListener("error",this.afterSrcSwitch)):this.afterSrcSwitch=function(n){this.dom.container.removeEventListener("loadedmetadata",this.afterSrcSwitch);this.dom.container.removeEventListener("error",this.afterSrcSwitch);n&&n.type&&("loadedmetadata"===n.type?(this.srcChangeAutoplay?this.play():(u.default.showCentralPlay.call(this),this.showPoster()),this.googleCast&&this.castConnected&&this.loadCastMedia(),t.call(this)):"error"===n.type&&(this.changingSrc=!1))}.bind(this),function(){!this.abrAutoMode&&(this.readingMse||this.readingHls)&&(this.abrAutoMode=!0);this.readingMse||(this.dom.video.preload="auto");this.analyticsSecondsPlayed=0}.call(this),function(){this.hasChapters&&(this.dom.container.removeEventListener("loadedmetadata",this.onLoadedmetadaAddChapters),s.default.destroy.call(this,"chapters"),this.hasChapters=!1,this.chaptersArray=[]);this.hasThumbnails&&v.default.destroy.call(this);var n=this.dom.container.querySelector(".rmp-error");null!==n&&r.default.removeElement(n);u.default.enableCentralUI.call(this);u.default.showLoadingSpin.call(this);u.default.showChrome.call(this);s.default.closeAll.call(this);this.setSrcPDModule||(this.dom.quality&&c.default.destroy.call(this),this.dom.audio&&s.default.destroy.call(this,"audio"),this.dom.captions&&a.default.destroy.call(this),this.isVod&&this.dom.current&&this.dom.handle&&this.dom.timeElapsedText&&(this.dom.current.style.width=0,this.dom.handle.style.left=0,this.dom.timeElapsedText.textContent="00:00"),this.readingMp4&&1<this.src.mp4.length&&(c.default.setUpMP4UI.call(this),r.default.show(this.dom.quality)))}.call(this),this.getPlayerInitialized())this.getAdOnStage()?(h.call(this),r.default.clearInterval(this.setSrcResetAdInterval),this.setSrcResetAdInterval=setInterval(function(){l.setSrcAdReset&&(r.default.clearInterval(l.setSrcResetAdInterval),l.setSrcAdReset=!1,f.call(l))},10)):f.call(this);else{if(this.readingPDorNative)i.call(this),u.default.showCentralPlay.call(this);else if(this.readingHlsJS)this.msePreloadCompleted?(o.default.destroy.call(this),u.default.showCentralPlay.call(this),o.default.init.call(this),this.msePreloadRequested=!0):u.default.showCentralPlay.call(this);else if(this.readingDash||this.readingHlsShaka){if(this.msePreloadCompleted)return e.default.destroy.call(this),void this.shakaPlayer.destroy().then(function(){u.default.showCentralPlay.call(l);e.default.init.call(l);l.msePreloadRequested=!0;t.call(l)}).catch(function(n){r.default.trace(n);u.default.showCentralPlay.call(l);e.default.init.call(l);l.msePreloadRequested=!0;t.call(l)});u.default.showCentralPlay.call(this)}t.call(this)}}};n.prototype.getSrc=function(){return this.startingBitratePath};n.prototype.isChangingSrc=function(){return this.changingSrc}};i.default=h},{"../abr/hls":3,"../abr/shaka":4,"../ads/ima-ads":7,"../core/modules/modules":30,"../core/modules/quality":31,"../core/ui/core-ui":41,"../core/utils/error":44,"../fw/fw":53,"../vtt/captions":57,"../vtt/thumbnails":58}],21:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var r,u,f,o;Object.defineProperty(i,"__esModule",{value:!0});r=e(n("../fw/fw"));u=e(n("../core/modules/modules"));f={destroy:function(){this.dom.video&&this.dom.video.removeEventListener("webkitplaybacktargetavailabilitychanged",this.onAirPlayAvailabilityChanged);this.dom.airplay&&this.dom.airplay.removeEventListener("click",this.onAirPlayClick);this.dom.container&&this.dom.container.removeEventListener("loadedmetadata",this.onLoadedmetadataShowAirPlay)}};o=function(n){if(n)switch(n.availability){case"available":this.dom.airplay||(u.default.append.call(this,"airplay"),this.onAirPlayClick=function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());try{this.dom.video.webkitShowPlaybackTargetPicker()}catch(n){r.default.trace(n)}}.bind(this),this.dom.airplay.addEventListener("click",this.onAirPlayClick),r.default.addClass(this.dom.container,"rmp-airplay-available"));this.hasLoadedMetadata?u.default.deferredShow.call(this,"airplay"):(this.onLoadedmetadataShowAirPlay=function(){this.dom.container.removeEventListener("loadedmetadata",this.onLoadedmetadataShowAirPlay);u.default.deferredShow.call(this,"airplay")}.bind(this),this.dom.container.addEventListener("loadedmetadata",this.onLoadedmetadataShowAirPlay));break;default:r.default.hide(this.dom.airplay)}};f.init=function(){"undefined"!=typeof WebKitPlaybackTargetAvailabilityEvent&&(this.onAirPlayAvailabilityChanged=o.bind(this),this.dom.video.addEventListener("webkitplaybacktargetavailabilitychanged",this.onAirPlayAvailabilityChanged))};i.default=f},{"../core/modules/modules":30,"../fw/fw":53}],22:[function(n,t,i){"use strict";function h(n){return n&&n.__esModule?n:{"default":n}}var ht;Object.defineProperty(i,"__esModule",{value:!0});var r=h(n("../fw/fw")),pt=h(n("../fw/env")),y=h(n("../core/ui/core-ui")),c=h(n("../core/events")),ct=h(n("../core/volume/volume")),p=h(n("../core/modules/modules")),lt=h(n("../core/utils/error"));var u={},w=!1,o=void 0,b=!1,s="",k=!1,d="",g=r.default.nullFn,nt=r.default.nullFn,tt=r.default.nullFn,it=r.default.nullFn,rt=r.default.nullFn,ut=r.default.nullFn,ft=r.default.nullFn,et=r.default.nullFn,a=r.default.nullFn,at=r.default.nullFn,ot=r.default.nullFn,f=null,e=null,l=[],st=function(){this.setVolume(this.currentVolume);r.default.removeClass(this.dom.container,"rmp-casting");r.default.hide(o)};u.destroy=function(){if(this.castConnected){st.call(this);try{e.endSession()}catch(n){r.default.trace(n)}}this.remotePlayerController&&(this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,g),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,nt),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,tt),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,it),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,rt),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,at),this.isVod&&(this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,ft),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED,et)));f&&(f.removeEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,ot),f.removeEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,ut));this.dom.container&&(this.dom.container.removeEventListener("playing",a),this.dom.container.removeEventListener("ready",this.castReady),this.dom.container.removeEventListener("playing",this.onPlayingSetupRemotePlayer))};u.castingAPIAvailable=function(){return!!(this.googleCast&&this.castMediaLoaded&&this.remotePlayer&&this.remotePlayerController)};u.connectedAPIAvailable=function(){return!!(this.googleCast&&this.castConnected&&this.remotePlayer&&this.remotePlayerController)};u.setAudioTrack=function(n){var t,i,u;this.castMediaLoaded&&this.castMedia&&0<l.length&&(t=l.filter(function(n){return"AUDIO"===n.type}),t[n]&&"number"==typeof t[n].trackId&&(i=t[n].trackId,u=new chrome.cast.media.EditTracksInfoRequest([i]),this.castMedia.editTracksInfo(u,r.default.log,r.default.trace)))};u.setTextTrack=function(n){var t,i,u,f;this.castMediaLoaded&&this.castMedia&&0<l.length&&(t=l.filter(function(n){return"TEXT"===n.type}),t[n]&&"number"==typeof t[n].trackId&&(i=t[n].trackId,u=function(){var n=new chrome.cast.media.TextTrackStyle;return n.foregroundColor="#"+this.googleCastCCForegroundColor,n.backgroundColor="#"+this.googleCastCCBackgroundColor,n.fontScale=this.googleCastCCFontScale,n}.call(this),f=new chrome.cast.media.EditTracksInfoRequest([i],u),this.castMedia.editTracksInfo(f,r.default.log,r.default.trace)))};u.getDuration=function(){var n=void 0;return this.remotePlayer.duration?n=this.remotePlayer.duration:this.remotePlayer.mediaInfo&&this.remotePlayer.mediaInfo.duration&&(n=this.remotePlayer.mediaInfo.duration),n?Math.round(1e3*n):-1};u.getCurrentTime=function(){return"number"==typeof this.remotePlayer.currentTime&&0<=this.remotePlayer.currentTime?Math.round(1e3*this.remotePlayer.currentTime):-1};var v=function(){var n=void 0,t;this.remotePlayer&&("LOADING"===this.remotePlayerState||"BUFFERING"===this.remotePlayerState?y.default.showLoadingSpin.call(this):"LOADED"!==this.remotePlayerState&&"ENDED"!==this.remotePlayerState&&"IDLE"!==this.remotePlayerState&&"PLAYING"!==this.remotePlayerState&&"PAUSED"!==this.remotePlayerState||y.default.hideLoadingSpin.call(this),n=this.remotePlayerState);n||(n="STANDBY");o||(o=document.createElement("div"),r.default.hide(o),r.default.setClass(o,"rmp-cast-diplay-message"),this.dom.container.appendChild(o));r.default.show(o);t=d+" "+n;e&&(t+=" on "+e.getCastDevice().friendlyName);r.default.setText(o,t)},vt=function(){(function(){this.getAdOnStage()&&this.stopAds();r.default.addClass(this.dom.container,"rmp-casting")}).call(this);(e=f.getCurrentSession())&&(this.castConnected=!0,w?(this.castMedia=e.getMediaSession(),this.castMedia?(this.pause(),this.castMediaLoaded=!0):this.loadCastMedia()):this.loadCastMedia(),w=!1)},wt=function(){this.remotePlayer.isConnected?this.getPlayerInitialized()?vt.call(this):(this.initiatePlayback(),this.onPlayingSetupRemotePlayer=function(){this.dom.container.removeEventListener("playing",this.onPlayingSetupRemotePlayer);vt.call(this)}.bind(this),this.dom.container.addEventListener("playing",this.onPlayingSetupRemotePlayer)):function(){if(this.remotePlayerState="",this.castMediaLoaded=!1,this.castConnected=!1,e.endSession(),st.call(this),!b&&(this.remotePlayer.savedPlayerState.isPaused||this.play(),this.isVod&&this.remotePlayer&&this.remotePlayer.savedPlayerState&&this.remotePlayer.savedPlayerState.currentTime)){var n=this.remotePlayer.savedPlayerState.currentTime;r.default.isNumber(n)&&0<=n&&this.seekTo(1e3*n)}}.call(this)},yt=function(){r.default.addClass(this.dom.container,"rmp-cast-available");p.default.append.call(this,"cast");r.default.addEvent(["touchend","click"],this.dom.cast,function(n){n&&n.stopPropagation();y.default.showChrome.call(this)}.bind(this));p.default.deferredShow.call(this,"cast");pt.default.isMobile&&!this.getPlayerInitialized()&&(a=function(){this.dom.container.removeEventListener("playing",a);p.default.deferredShow.call(this,"cast")}.bind(this),r.default.hide(this.dom.cast),this.dom.container.addEventListener("playing",a));this.readingDash?s="application/dash+xml":this.readingHls||this.readingHlsJS||this.readingHlsShaka?s="application/vnd.apple.mpegurl":this.readingMp4&&!this.readingWebM?s="video/mp4":this.readingMp4&&this.readingWebM?s="video/webm":this.audioOnly&&this.readingM4a?s="audio/mp4":this.audioOnly&&this.readingMp3?s="audio/mp3":this.audioOnly&&this.readingOgg&&(s="audio/ogg");this.castUrl=this.startingBitratePath;this.loadCastMedia=function(){var n=this,t,o,h;if(b=!1,this.pause(),t=new chrome.cast.media.MediaInfo(this.castUrl,s),t.metadata=new chrome.cast.media.GenericMediaMetadata,t.metadata.metadataType="MOVIE"===this.googleCastMetadataType||"TV_SHOW"===this.googleCastMetadataType?this.googleCastMetadataType:chrome.cast.media.MetadataType.GENERIC,d=""===this.googleCastContentTitle?this.contentTitle:this.googleCastContentTitle,t.metadata.title=d,o=void 0,this.googleCastPoster?o=this.googleCastPoster:this.poster&&(o=this.poster),t.metadata.images=[{url:o}],""!==this.googleCastReleaseDate&&(t.metadata.subtitle=this.googleCastReleaseDate),t.streamType=this.isVod?chrome.cast.media.StreamType.BUFFERED:chrome.cast.media.StreamType.LIVE,t.customData={},this.hasCC){for(var f=[],i=0,a=this.ccFiles.length;i<a;i++)f[i]=new chrome.cast.media.Track(i+1,chrome.cast.media.TrackType.TEXT),f[i].trackContentId=this.ccFiles[i][2],f[i].trackContentType="text/vtt",f[i].subtype=chrome.cast.media.TextTrackType.SUBTITLES,f[i].name=this.ccFiles[i][1],f[i].language=this.ccFiles[i][0],f[i].customData=null;t.streamType=chrome.cast.media.StreamType.BUFFERED;t.textTrackStyle=new chrome.cast.media.TextTrackStyle;t.textTrackStyle.foregroundColor="#"+this.googleCastCCForegroundColor;t.textTrackStyle.backgroundColor="#"+this.googleCastCCBackgroundColor;t.textTrackStyle.fontScale=this.googleCastCCFontScale;t.duration=null;t.tracks=f}this.remotePlayerState="LOADING";v.call(this);h=new chrome.cast.media.LoadRequest(t);this.hasCC&&0<this.defaultTrack&&(h.activeTrackIds=[this.defaultTrack]);e.loadMedia(h).then(function(){var f;if(n.remotePlayerState="LOADED",v.call(n),f=n.getCurrentTime(),n.isVod&&0<f&&(n.remotePlayer.currentTime=f/1e3,n.remotePlayerController.seek()),c.default.play.call(n),n.castMedia=e.getMediaSession(),l=n.castMedia.media.tracks,n.castMediaLoaded=!0,n.dom.captions&&n.dom.captionsOverlayLevelsArea){for(var h=n.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),o=0,t=0,y=h.length;t<y;t++)if(r.default.hasClass(h[t],"rmp-overlay-level-active")){o=t;break}0<o&&u.setTextTrack.call(n,o-1)}if(n.dom.audio&&n.dom.audioOverlayLevelsArea){for(var a=n.dom.audioOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),s=0,i=0,p=a.length;i<p;i++)if(r.default.hasClass(a[i],"rmp-overlay-level-active")){s=i;break}0<s&&u.setAudioTrack.call(n,s)}r.default.createStdEvent("castmedialoaded",n.dom.container)}).catch(function(t){n.castMediaLoaded=!1;n.castConnected=!1;b=!0;st.call(n);e.endSession();r.default.createStdEvent("castmediaerror",n.dom.container);var i=null;t&&(i=t);lt.default.warning.call(n,"castSession.loadMedia failed on receiving device",7001,i)})}.bind(this);g=function(){if(this.remotePlayer&&this.remotePlayer.playerState){switch(this.remotePlayer.playerState){case"BUFFERING":this.remotePlayerState="BUFFERING";r.default.createStdEvent("waiting",this.dom.container);break;case"PLAYING":this.remotePlayerState="PLAYING";r.default.createStdEvent("playing",this.dom.container);break;case"IDLE":this.remotePlayerState="IDLE";break;case"PAUSED":this.remotePlayerState="PAUSED"}v.call(this)}}.bind(this);nt=wt.bind(this);tt=function(){this.remotePlayer&&(ct.default.change.call(this),r.default.createStdEvent("volumechange",this.dom.container))}.bind(this);it=function(){}.bind(this);rt=function(){this.remotePlayer&&(this.remotePlayer.isPaused?c.default.pause.call(this):c.default.play.call(this))}.bind(this);this.isVod&&(ft=function(){c.default.timeupdate.call(this)}.bind(this),et=function(){(this.remotePlayer.duration||this.remotePlayer.mediaInfo&&this.remotePlayer.mediaInfo.duration)&&c.default.durationchange.call(this)}.bind(this));at=function(){ct.default.change.call(this);r.default.createStdEvent("volumechange",this.dom.container)}.bind(this),function(){var n=this;this.remotePlayer=new cast.framework.RemotePlayer;this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer);this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,nt);this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED,function(){n.isVod&&!n.remotePlayer.isMediaLoaded&&n.castMediaLoaded&&(n.castMediaLoaded=!1,n.remotePlayerState="ENDED",v.call(n),c.default.pause.call(n),n.seekTo(0),r.default.createStdEvent("ended",n.dom.container))});this.isVod&&(this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,ft),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED,et));this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,rt);this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,tt);this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,it);this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,g)}.call(this)};ut=function(n){if(n)switch(n.sessionState){case cast.framework.SessionState.NO_SESSION:case cast.framework.SessionState.SESSION_STARTING:case cast.framework.SessionState.SESSION_STARTED:case cast.framework.SessionState.SESSION_START_FAILED:case cast.framework.SessionState.SESSION_ENDING:case cast.framework.SessionState.SESSION_ENDED:0;break;case cast.framework.SessionState.SESSION_RESUMED:w=!0}};ht=function(){var n,t;(this.dom.container.removeEventListener("adcontentresumerequested",this.castInit),"undefined"!=typeof cast&&void 0!==cast.framework&&void 0!==cast.framework.CastContext&&(r.default.createStdEvent("castapiavailable",this.dom.container),f=cast.framework.CastContext.getInstance()))&&(n=this.googleCastReceiverAppId,"cast-default"===n&&(n=chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID),f.setOptions({receiverApplicationId:n,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),ot=function(n){if(n)switch(n.castState){case cast.framework.CastState.NOT_CONNECTED:case cast.framework.CastState.CONNECTED:k||(k=!0,yt.call(this))}}.bind(this),f.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,ot),f.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,ut),t=f.getCastState(),t!==cast.framework.CastState.NO_DEVICES_AVAILABLE&&(k=!0,yt.call(this)))};u.ready=function(){(this.dom.container.removeEventListener("ready",this.castReady),this.googleCast)&&(chrome.cast&&chrome.cast.isAvailable?ht.call(this):(window.__onGCastApiAvailable=function(n){n&&chrome.cast&&(this.castInit=ht.bind(this),this.getAdOnStage()&&this.getAdLinear()?this.dom.container.addEventListener("adcontentresumerequested",this.castInit):this.castInit(),delete window.__onGCastApiAvailable)}.bind(this),r.default.getScript("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",function(){},lt.default.warning.bind(this,"failed to load cast_sender.js dependency",7e3,null))))};i.default=u},{"../core/events":27,"../core/modules/modules":30,"../core/ui/core-ui":41,"../core/utils/error":44,"../core/volume/volume":48,"../fw/env":52,"../fw/fw":53}],23:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});var u=o(n("../../fw/fw")),c=o(n("../ui/core-ui")),l=o(n("../resize/resize")),e=o(n("../../cast/cast")),s=o(n("../volume/volume"));var h={},f=function(n){n&&(n.id===this.id?u.default.addClass(n,"rmp-container-focus"):u.default.addClass(n,"rmp-focus"))},r=function(n){n&&(n.id===this.id?u.default.removeClass(n,"rmp-container-focus"):u.default.removeClass(n,"rmp-focus"))};h.makeAccessible=function(n,t,i){var f=this;n&&(n.tabIndex=0,n===this.dom.seekBar?n.setAttribute("role","progressbar"):n.setAttribute("role","button"),t&&n.setAttribute("aria-label",t),i&&n.addEventListener("keyup",function(t){var i=t.which;13!==i&&32!==i||(t.stopPropagation(),t.preventDefault(),u.default.createStdEvent("click",n))}),n.addEventListener("blur",function(){r.call(f,n)}))};h.init=function(){this.dom.container.setAttribute("tabindex","0");this.dom.container.setAttribute("role","application");var n="Media content";""!==this.contentTitle&&(n=this.contentTitle);this.dom.container.setAttribute("aria-label",n);""!==this.contentDescription&&this.dom.container.setAttribute("aria-describedby","media-description-for-"+this.id);this.disableKeyboardControl||(this.addTabKeyDetection=function(n){if(n&&9===n.which){var t=document.activeElement;r.call(this,this.dom.container);r.call(this,this.dom.playPause);r.call(this,this.dom.volume);r.call(this,this.dom.seekBar);r.call(this,this.dom.fullscreen);this.dom.container&&t===this.dom.container?f.call(this,this.dom.container):this.dom.playPause&&t===this.dom.playPause?f.call(this,this.dom.playPause):this.dom.volume&&t===this.dom.volume?f.call(this,this.dom.volume):this.dom.seekBar&&t===this.dom.seekBar?f.call(this,this.dom.seekBar):this.dom.fullscreen&&t===this.dom.fullscreen?f.call(this,this.dom.fullscreen):this.dom.adSkipButton&&t===this.dom.adSkipButton&&f.call(this,this.dom.adSkipButton)}}.bind(this),document.addEventListener("keyup",this.addTabKeyDetection),this.removeFocusToContainer=r.bind(this,this.dom.container),this.dom.container.addEventListener("blur",this.removeFocusToContainer),this.bindKeyboard=function(n){var t=this.getCurrentTime(),i=this.getVolume(),r,u,f,o,h;c.default.showChrome.call(this);r=void 0;u=void 0;switch(n.which){case 32:n.preventDefault();(this.getAdOnStage()&&this.getAdLinear()?this.getAdPaused():this.getPaused())?this.play():this.pause();break;case 70:n.preventDefault();this.hideFullscreen||this.castConnected||this.audioOnly||l.default.fullscreenInteraction.call(this);break;case 37:if(n.preventDefault(),this.hasAdUI)break;this.isVod&&!this.hideSeekBar&&-1<t&&(f=t-1e4,e.default.castingAPIAvailable.call(this)?(this.remotePlayer.currentTime=f/1e3,this.remotePlayerController.seek()):this.seekTo(f));break;case 39:if(n.preventDefault(),this.hasAdUI)break;this.isVod&&!this.hideSeekBar&&-1<t&&(o=t+1e4,e.default.castingAPIAvailable.call(this)?(this.remotePlayer.currentTime=o/1e3,this.remotePlayerController.seek()):this.seekTo(o));break;case 38:n.preventDefault();r=i<=.9?i+.1:1;e.default.castingAPIAvailable.call(this)?(this.remotePlayer.isMuted&&this.remotePlayerController.muteOrUnmute(),this.remotePlayer.volumeLevel=r,this.remotePlayerController.setVolumeLevel()):(this.getMute()&&this.setMute(!1),this.setVolume(r),this.currentVolume=this.getVolume());s.default.writeToLocalStorage.call(this,this.currentVolume);break;case 40:n.preventDefault();u=.1<i?i-.1:0;e.default.castingAPIAvailable.call(this)?(this.remotePlayer.isMuted&&this.remotePlayerController.muteOrUnmute(),this.remotePlayer.volumeLevel=u,this.remotePlayerController.setVolumeLevel()):(this.getMute()&&this.setMute(!1),this.setVolume(u),this.currentVolume=this.getVolume());s.default.writeToLocalStorage.call(this,this.currentVolume);break;case 77:(n.preventDefault(),e.default.castingAPIAvailable.call(this))?this.remotePlayerController.muteOrUnmute():(h=0,this.getMute()?(this.setMute(!1),h=this.getVolume()):this.setMute(!0),s.default.writeToLocalStorage.call(this,h))}}.bind(this),this.dom.container.addEventListener("keyup",this.bindKeyboard),this.dom.container.addEventListener("keydown",u.default.preventKeyDown));this.dom.video.setAttribute("tabindex","-1")};i.default=h},{"../../cast/cast":22,"../../fw/fw":53,"../resize/resize":36,"../ui/core-ui":41,"../volume/volume":48}],24:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../../fw/fw")),o=u(n("../../fw/env")),e=u(n("../ui/core-ui"));f={};f.init=function(){var t=document.createElement("div"),n;r.default.setClass(t,"rmp-i rmp-i-minus");this.dom.outline.appendChild(t);r.default.addEvent(["click","touchend"],t,function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());e.default.showChrome.call(this);this.currentVolume=this.getVolume();this.currentVolume<=0||(this.currentVolume<=1&&0<this.currentVolume&&(this.currentVolume=this.currentVolume-.1,this.currentVolume<0&&(this.currentVolume=0)),this.setVolume(this.currentVolume))}.bind(this));n=document.createElement("div");r.default.setClass(n,"rmp-i rmp-i-plus");this.dom.outline.appendChild(n);r.default.addEvent(["click","touchend"],n,function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());e.default.showChrome.call(this);this.currentVolume=this.getVolume();1<=this.currentVolume||(this.currentVolume<1&&0<=this.currentVolume&&(this.currentVolume+=.1,1<this.currentVolume&&(this.currentVolume=1)),this.setVolume(this.currentVolume))}.bind(this));o.default.isIos[0]&&r.default.hide([t,n])};i.default=f},{"../../fw/env":52,"../../fw/fw":53,"../ui/core-ui":41}],25:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var l,y,p;Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../fw/fw")),f=u(n("../fw/env")),w=u(n("../vtt/thumbnails")),b=u(n("./modules/chapters")),k=u(n("./playback")),d=u(n("./ready")),g=u(n("./audio-only/audio-only")),e=u(n("./events")),h=u(n("./seek/seek")),nt=u(n("./modules/quality")),tt=u(n("./modules/speed")),it=u(n("./modules/sharing")),a=u(n("./volume/volume")),rt=u(n("../ads/scheduler")),o=u(n("./resize/resize")),c=u(n("./accessible/accessible")),ut=u(n("./ui/indicator")),s=u(n("./ui/core-ui")),ft=u(n("./utils/error")),v=u(n("./dvr/dvr")),et=u(n("../abr/hls")),ot=u(n("../abr/shaka")),st=u(n("../analytics/mux"));l={destroyVideo:function(){this.dom.video&&(this.dom.video.removeEventListener("loadstart",this.loadstartFn),this.dom.video.removeEventListener("durationchange",this.durationchangeFn),this.dom.video.removeEventListener("loadedmetadata",this.loadedmetadataFn),this.dom.video.removeEventListener("loadeddata",this.loadeddataFn),this.dom.video.removeEventListener("progress",this.progressFn),this.dom.video.removeEventListener("playing",this.playingFn),this.dom.video.removeEventListener("waiting",this.waitingFn),this.dom.video.removeEventListener("seeking",this.seekingFn),this.dom.video.removeEventListener("seeked",this.seekedFn),this.dom.video.removeEventListener("pause",this.pauseFn),this.dom.video.removeEventListener("play",this.playFn),this.dom.video.removeEventListener("timeupdate",this.timeupdateFn),this.dom.video.removeEventListener("webkitbeginfullscreen",this.webkitbeginfullscreenFn),this.dom.video.removeEventListener("webkitendfullscreen",this.webkitendfullscreenFn),this.dom.video.removeEventListener("volumechange",this.volumechangeFn))}};y=function(){this.dom.centralMobileUI=document.createElement("div");this.dom.centralMobileUI.className="rmp-mobile-central-ui rmp-mobile-show-play rmp-color-bg";this.dom.centralMobileUIIcon=document.createElement("span");this.dom.centralMobileUIIcon.className="rmp-i rmp-i-play";this.dom.centralMobileUI.appendChild(this.dom.centralMobileUIIcon);this.dom.container.appendChild(this.dom.centralMobileUI);this.onMobileStartAutoHideCentralUI=function(){this.dom.container.removeEventListener("playing",this.onMobileStartAutoHideCentralUI);this.dom.container.removeEventListener("adloaded",this.onMobileStartAutoHideCentralUI);this.dom.container.removeEventListener("aderror",this.onMobileStartAutoHideCentralUI);r.default.removeClass(this.dom.centralMobileUI,"rmp-mobile-show-play")}.bind(this);this.dom.container.addEventListener("playing",this.onMobileStartAutoHideCentralUI);this.dom.container.addEventListener("adloaded",this.onMobileStartAutoHideCentralUI);this.dom.container.addEventListener("aderror",this.onMobileStartAutoHideCentralUI)};l.prepare=function(){(this.readingDash||this.readingHlsJS||this.readingHlsShaka)&&(this.readingMse=!0);(this.readingMse||this.readingOutstream)&&(this.readingPDorNative=!1);this.readingMse&&f.default.isMacosSafari[0]&&this.ads&&"rmp-vast"===this.adParser&&(this.ads=!1);f.default.isMobile&&(r.default.addClass(this.dom.container,"rmp-hide-central-play"),y.call(this)),function(){var i,u,n,t,f;if(this.dom.loadingSpin=document.createElement("div"),this.dom.loadingSpin.className="rmp-loading-spin rmp-color-bg","s1"===this.skin||"s3"===this.skin)i=document.createElement("div"),i.className="rmp-loading-spin-bounce rmpBounce1 rmp-color-bg-button",u=document.createElement("div"),u.className="rmp-loading-spin-bounce rmpBounce2 rmp-color-bg-button",this.dom.loadingSpin.appendChild(i),this.dom.loadingSpin.appendChild(u);else{for(n=document.createElement("div"),n.className="rmp-loading-spin-circle",t=1;t<13;t++)f=document.createElement("div"),f.className="rmp-circle rmp-circle-"+t,n.appendChild(f);this.dom.loadingSpin.appendChild(n)}this.dom.container.appendChild(this.dom.loadingSpin);r.default.hideAria(this.dom.loadingSpin)}.call(this),function(){this.dom.overlayButton=document.createElement("div");this.dom.overlayButton.className="rmp-overlay-button rmp-color-bg";this.dom.overlayButtonIcon=document.createElement("span");this.dom.overlayButtonIcon.className="rmp-i rmp-i-play";this.dom.overlayButton.appendChild(this.dom.overlayButtonIcon);this.dom.container.appendChild(this.dom.overlayButton);r.default.hideAria(this.dom.overlayButton)}.call(this);this.hideControls&&s.default.protoHideControls.call(this);this.hideCentralPlayButton&&r.default.addClass(this.dom.container,"rmp-hide-central-play");this.hideCentralBuffering&&r.default.addClass(this.dom.container,"rmp-hide-central-buffering");this.hideExternalPlayerLabels&&r.default.addClass(this.dom.container,"rmp-no-hint");this.dom.video.controls=!1;this.loop&&(this.dom.video.loop="loop");""!==this.crossorigin&&this.dom.video.setAttribute("crossorigin",this.crossorigin);this.dom.video.setAttribute("x-webkit-airplay","allow");this.audioOnly||("boolean"==typeof this.dom.video.playsInline?f.default.isIpad&&this.ads&&"ima"===this.adParser||this.dom.video.setAttribute("playsinline",!0):f.default.isMobile&&this.dom.video.setAttribute("webkit-playsinline",!0));f.default.isAndroidWebView&&(this.dom.video.poster=r.default.blackFrame);this.readingPDorNative?this.dom.video.preload=this.preload:"none"!==this.preload&&(this.readingHlsJS?(et.default.init.call(this),this.msePreloadRequested=!0):(this.readingDash||this.readingHlsShaka)&&(ot.default.init.call(this),this.msePreloadRequested=!0));this.dom.video.defaultPlaybackRate=1;this.useVideoTitle&&this.dom.video.setAttribute("title",this.videoTitle);this.loadstartFn=e.default.loadstart.bind(this);this.dom.video.addEventListener("loadstart",this.loadstartFn);this.durationchangeFn=e.default.durationchange.bind(this);this.dom.video.addEventListener("durationchange",this.durationchangeFn);this.loadedmetadataFn=e.default.loadedmetadata.bind(this);this.dom.video.addEventListener("loadedmetadata",this.loadedmetadataFn);this.loadeddataFn=e.default.loadeddata.bind(this);this.dom.video.addEventListener("loadeddata",this.loadeddataFn);this.progressFn=e.default.progress.bind(this);this.dom.video.addEventListener("progress",this.progressFn);this.playingFn=e.default.playing.bind(this);this.dom.video.addEventListener("playing",this.playingFn);this.waitingFn=e.default.waiting.bind(this);this.unstalledBuffer=function(){this.dom.container.removeEventListener("playing",this.unstalledBuffer);s.default.hideLoadingSpin.call(this);r.default.createStdEvent("buffernotstalledanymore",this.dom.container)}.bind(this);this.dom.video.addEventListener("waiting",this.waitingFn);this.seekingFn=e.default.seeking.bind(this);this.dom.video.addEventListener("seeking",this.seekingFn);this.seekedFn=e.default.seeked.bind(this);this.dom.video.addEventListener("seeked",this.seekedFn);this.isVod&&(this.ended=e.default.ended.bind(this),this.dom.video.addEventListener("ended",this.ended));e.default.auxiliaryEvents.call(this);this.dom.content=document.createElement("div");r.default.addClass(this.dom.content,"rmp-content");r.default.hideAria(this.dom.content);this.dom.content.appendChild(this.dom.video);this.dom.container.insertBefore(this.dom.content,this.dom.container.firstChild);""!==this.contentDescription&&(this.dom.contentDescription=document.createElement("label"),r.default.hide(this.dom.contentDescription),r.default.setText(this.dom.contentDescription,this.contentDescription),this.dom.contentDescription.id="media-description-for-"+this.id,this.dom.content.appendChild(this.dom.contentDescription));this.muxData&&st.default.initHTML5.call(this);r.default.createStdEvent("htmlmediaelementappendedtodom",this.dom.container)};p=function(){this.dom.container.removeEventListener("adloaded",this.onIosStartShowFS);this.dom.container.removeEventListener("aderror",this.onIosStartShowFS);this.dom.container.removeEventListener("playing",this.onIosStartShowFS);r.default.removeClass(this.dom.fullscreen,"rmp-no-display");"ima"===this.adParser&&f.default.isIphone&&this.adDisableCustomPlaybackForIOS10Plus&&(this.onIphone10PlusHideFS=function(n){n&&("adcontentpauserequested"===n.type?r.default.addClass(this.dom.fullscreen,"rmp-no-display"):"adcontentresumerequested"===n.type&&r.default.removeClass(this.dom.fullscreen,"rmp-no-display"))}.bind(this),this.dom.container.addEventListener("adcontentpauserequested",this.onIphone10PlusHideFS),this.dom.container.addEventListener("adcontentresumerequested",this.onIphone10PlusHideFS))};l.append=function(){var t=this,n,i,u;r.default.addClass(this.dom.container,"rmp-preparing");this.dom.container.addEventListener("contextmenu",r.default.contextMenuInteraction);this.readingPDorNative&&(this.generateError=ft.default.mediaTag.bind(this),this.dom.video.addEventListener("error",this.generateError,!0));n="";(n+='<div class="rmp-outline rmp-color-bg rmp-force-invisibility"><div class="rmp-play-pause rmp-i rmp-i-play"><\/div><div class="rmp-time-elapsed rmp-color-bg"><span class="rmp-time-elapsed-text"><\/span><\/div>',n+='<div class="rmp-seek-bar"><div class="rmp-time-total"><div class="rmp-loaded"><\/div><div class="rmp-current rmp-color-bg-button"><\/div>',f.default.isMobile||this.isLive||(n+='<div class="rmp-indicator rmp-color-bg"><span class="rmp-time-indicator"><\/span><\/div>'),n+='<div class="rmp-handle rmp-color-bg-button"><\/div><\/div><\/div> <div class="rmp-duration rmp-color-bg"><\/div>',n+='<div class="rmp-volume rmp-i rmp-i-volume-up"><div class="rmp-background-volume rmp-color-bg"><div class="rmp-volume-bar"><\/div><div class="rmp-current-volume rmp-color-bg-button"><div class="rmp-handle-volume rmp-color-bg-button"><\/div><\/div><\/div><\/div><div class="rmp-fullscreen rmp-i rmp-i-resize-full"><\/div><\/div>',this.dom.container.insertAdjacentHTML("beforeend",n),this.ads&&"ima"===this.adParser&&!this.adImaDai)&&(this.dom.video.parentNode.insertAdjacentHTML("afterend",'<div class="rmp-ad-container"><\/div>'),this.dom.adContainer=this.dom.container.getElementsByClassName("rmp-ad-container")[0]);this.dom.outline=this.dom.container.getElementsByClassName("rmp-outline")[0];(this.readingMse&&this.msePreloadRequested||this.readingPDorNative&&"none"!==this.preload)&&r.default.removeClass(this.dom.outline,"rmp-force-invisibility");this.dom.playPause=this.dom.container.getElementsByClassName("rmp-play-pause")[0];c.default.makeAccessible.call(this,this.dom.playPause,"Play",!1);this.dom.volume=this.dom.container.getElementsByClassName("rmp-volume")[0];c.default.makeAccessible.call(this,this.dom.volume,"Volume",!0);this.dom.fullscreen=this.dom.container.getElementsByClassName("rmp-fullscreen")[0];this.hideFullscreen&&r.default.addClass(this.dom.fullscreen,"rmp-no-display");f.default.isIos[0]&&this.ads&&!this.hideFullscreen&&(r.default.addClass(this.dom.fullscreen,"rmp-no-display"),this.onIosStartShowFS=p.bind(this),this.dom.container.addEventListener("adloaded",this.onIosStartShowFS),this.dom.container.addEventListener("aderror",this.onIosStartShowFS),this.dom.container.addEventListener("playing",this.onIosStartShowFS));this.dom.timeElapsed=this.dom.container.getElementsByClassName("rmp-time-elapsed")[0];this.dom.timeElapsedText=this.dom.container.getElementsByClassName("rmp-time-elapsed-text")[0];this.isLiveDvr&&(r.default.addEvent(["touchend","click"],this.dom.timeElapsed,v.default.setLiveMode.bind(this)),v.default.resyncAfterLivePause.call(this));r.default.hideAria(this.dom.timeElapsed);this.dom.seekBar=this.dom.container.getElementsByClassName("rmp-seek-bar")[0];this.hideSeekBar&&r.default.addClass(this.dom.seekBar,"rmp-no-display");c.default.makeAccessible.call(this,this.dom.seekBar,"Seek",!1);this.dom.duration=this.dom.container.getElementsByClassName("rmp-duration")[0];r.default.hideAria(this.dom.duration);this.pauseFn=e.default.pause.bind(this);this.dom.video.addEventListener("pause",this.pauseFn);this.playFn=e.default.play.bind(this);this.dom.video.addEventListener("play",this.playFn);this.isLive||(this.dom.current=this.dom.container.getElementsByClassName("rmp-current")[0],this.dom.handle=this.dom.container.getElementsByClassName("rmp-handle")[0],this.dom.timetotal=this.dom.container.getElementsByClassName("rmp-time-total")[0],this.dom.seekBar.addEventListener("touchend",h.default.touchend.bind(this)),this.dom.seekBar.addEventListener("touchmove",h.default.touchmove.bind(this),!!f.default.hasPassiveEventListeners&&{passive:!0}),this.mouseupDoc=h.default.mouseupDoc.bind(this),this.mousemoveDoc=h.default.mousemoveDoc.bind(this),this.dom.timetotal.addEventListener("mousedown",function(n){n&&n.stopPropagation();t.draggingTimeCursor=!0;document.addEventListener("mouseup",t.mouseupDoc);document.addEventListener("mousemove",t.mousemoveDoc)}));this.timeupdateFn=e.default.timeupdate.bind(this);this.dom.video.addEventListener("timeupdate",this.timeupdateFn);this.dom.currentVolume=this.dom.container.getElementsByClassName("rmp-current-volume")[0];i=this.dom.container.querySelector(".rmp-background-volume");this.dom.volumeBar=this.dom.container.getElementsByClassName("rmp-volume-bar")[0];r.default.addEvent(["touchend","click"],this.dom.volume,a.default.volumeInteraction.bind(this));this.volumechangeFn=a.default.change.bind(this);this.dom.video.addEventListener("volumechange",this.volumechangeFn);u=!0;(this.permanentMuted||f.default.isMobile||this.adOutStreamSkin)&&(u=!1);u&&(this.dom.volume.addEventListener("mouseenter",function(n){n&&n.stopPropagation();r.default.fadeIn(i)}),this.dom.volume.addEventListener("mouseleave",function(n){n&&n.stopPropagation();r.default.fadeOut(i)}));i.addEventListener("click",a.default.setHtml5Volume.bind(this));this.readingMp4&&1<this.src.mp4.length&&nt.default.setUpMP4UI.call(this);this.nav&&tt.default.init.call(this);this.sharing&&this.sharingUrl&&it.default.init.call(this);this.hasNativeFullscreenSupport?(!f.default.isIos[0]||f.default.isIos[0]&&f.default.isIpad&&11<f.default.isIos[1]?(this.fullscreenchange=o.default.fullscreenchange.bind(this),document.addEventListener("fullscreenchange",this.fullscreenchange),this.fullscreenerror=o.default.fullscreenerror.bind(this),document.addEventListener("fullscreenerror",this.fullscreenerror)):(this.webkitbeginfullscreenFn=o.default.webkitbeginfullscreen.bind(this),this.dom.video.addEventListener("webkitbeginfullscreen",this.webkitbeginfullscreenFn),this.webkitendfullscreenFn=o.default.webkitendfullscreen.bind(this),this.dom.video.addEventListener("webkitendfullscreen",this.webkitendfullscreenFn)),r.default.addEvent(["touchend","click"],this.dom.fullscreen,o.default.fullscreenButtonInteraction.bind(this))):this.fullWindowMode&&r.default.addEvent(["touchend","click"],this.dom.fullscreen,o.default.fullscreenButtonInteraction.bind(this));c.default.makeAccessible.call(this,this.dom.fullscreen,"Enter fullscreen",!0);f.default.isMobile||this.isLive||(this.dom.indicator=this.dom.container.getElementsByClassName("rmp-indicator")[0],ut.default.init.call(this));this.showChrome=s.default.showChrome.bind(this);this.dom.container.addEventListener("mousemove",this.showChrome);this.initiatePlayback=k.default.init.bind(this);r.default.addEvent(["touchend","click"],this.dom.playPause,this.initiatePlayback);r.default.addEvent(["touchend","click"],this.dom.overlayButton,this.initiatePlayback);f.default.isMobile&&r.default.addEvent(["touchend","click"],this.dom.centralMobileUI,this.initiatePlayback);this.containerTouch=function(n){n&&n.stopPropagation();this.touchRmp=!0;s.default.showChrome.call(this)}.bind(this);r.default.addEvent("touchend",this.dom.container,this.containerTouch);this.containerClick=function(n){if(this.get5Ready()&&!this.touchRmp){if(n&&n.stopPropagation(),this.getAdOnStage()&&this.getAdLinear())return;if(this.video360&&!this.firstPlay)return;this.initiatePlayback()}}.bind(this);r.default.addEvent("click",this.dom.container,this.containerClick);r.default.addEvent(["touchend","click"],this.dom.outline,function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());s.default.showChrome.call(this)}.bind(this));f.default.isMobile||(this.dom.outline.addEventListener("mouseenter",function(n){n&&n.stopPropagation();t.forceResetTimer=!0}),this.dom.outline.addEventListener("mouseleave",function(n){n&&n.stopPropagation();t.forceResetTimer=!1}));this.audioOnly&&g.default.init.call(this);this.ads&&this.adScheduleInput&&rt.default.init.call(this);this.isVod&&(""!==this.chaptersLoc&&b.default.init.call(this),""!==this.seekBarThumbnailsLoc&&r.default.cssPropertySupport("backgroundImage")&&r.default.cssPropertySupport("backgroundPosition")?w.default.init.call(this):this.seekBarThumbnailsLoc="",0<this.quickRewind&&function(){r.default.addClass(this.dom.container,"rmp-quick-rewind-ui");this.dom.quickRewind=document.createElement("div");var n="5";7.5<this.quickRewind&&this.quickRewind<20?n="10":20<this.quickRewind&&(n="30");this.dom.quickRewind.className="rmp-quick-rewind rmp-i rmp-i-quick-rewind-"+n;r.default.addEvent(["touchend","click"],this.dom.quickRewind,function(n,t){if(t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),"number"==typeof n&&0<n){var i=this.getCurrentTime(),r=1e3*n;r<i&&this.seekTo(i-r)}}.bind(this,parseInt(n)));this.dom.outline.appendChild(this.dom.quickRewind)}.call(this));d.default.init.call(this)};i.default=l},{"../abr/hls":3,"../abr/shaka":4,"../ads/scheduler":10,"../analytics/mux":13,"../fw/env":52,"../fw/fw":53,"../vtt/thumbnails":58,"./accessible/accessible":23,"./audio-only/audio-only":24,"./dvr/dvr":26,"./events":27,"./modules/chapters":28,"./modules/quality":31,"./modules/sharing":32,"./modules/speed":33,"./playback":34,"./ready":35,"./resize/resize":36,"./seek/seek":39,"./ui/core-ui":41,"./ui/indicator":42,"./utils/error":44,"./volume/volume":48}],26:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u,e=n("../../fw/fw"),r=(u=e)&&u.__esModule?u:{"default":u},f={setLiveModeUI:function(){this.dvrLiveMode=!0;this.dom.current.style.width="100%";this.dom.handle.style.left="100%";r.default.removeClass(this.dom.container,"rmp-dvr-rec");r.default.setText(this.dom.duration,this.labels.hint.live)},setLiveMode:function(n){if(n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault()),!this.dvrLiveMode){f.setLiveModeUI.call(this);var t=this.hlsJS.liveSyncPosition;("number"!=typeof t||t<=0)&&(t=this.hlsJSLevelDuration);0<t&&r.default.setMediaCurrentTime(this.dom.video,t)}},resyncAfterLivePause:function(){var n=0;this.pauseDvr=function(){this.dvrLiveMode&&(n=r.default.getMediaCurrentTime(this.dom.video),this.dom.container.removeEventListener("pause",this.pauseDvr),this.dom.container.addEventListener("playing",this.playingDvr),this.dom.container.addEventListener("seeking",this.seekingDvr))}.bind(this);this.playingDvr=function(){this.dom.container.removeEventListener("seeking",this.seekingDvr);this.dom.container.removeEventListener("playing",this.playingDvr);var t=r.default.getMediaDuration(this.dom.video)-this.hlsJSLevelDuration;r.default.isNumber(t)&&r.default.isNumber(n)&&this.dvrSeekTo(1e3*(n-t));this.dom.container.addEventListener("pause",this.pauseDvr)}.bind(this);this.seekingDvr=function(){this.dom.container.removeEventListener("seeking",this.seekingDvr);this.dom.container.removeEventListener("playing",this.playingDvr);this.dom.container.addEventListener("pause",this.pauseDvr)}.bind(this);this.dom.container.addEventListener("pause",this.pauseDvr)}};i.default=f},{"../../fw/fw":53}],27:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var u,h;Object.defineProperty(i,"__esModule",{value:!0});var r=f(n("../fw/fw")),o=f(n("../fw/env")),e=f(n("./ui/core-ui")),c=f(n("./dvr/dvr")),l=f(n("../ads/ima-ads")),a=f(n("../playlist/related")),v=f(n("../playlist/playlist")),s=f(n("../cast/cast"));u={};h=function(){var n=this.dom.video,u=r.default.getMediaDuration(n),i=0,f=n.buffered,e=n.buffered.length,h=r.default.getMediaCurrentTime(n),o=0,t,s;try{for(t=e-1;0<=t;t--)if(h>=f.start(t)){o=t;break}0<e&&r.default.isNumber(u)&&(i=f.end(o)/u*100)}catch(n){return void r.default.trace(n)}r.default.isNumber(i)&&(s={width:i+"%"},r.default.setStyle(this.dom.loaded,s))};u.loadstart=function(){r.default.createStdEvent("loadstart",this.dom.container)};u.durationchange=function(){var n=this.getDuration();-1<n&&(n/=1e3,this.isLiveDvr||r.default.setText(this.dom.duration,r.default.readableTime(n)));this.isLiveDvr&&this.dvrLiveMode&&r.default.setText(this.dom.duration,this.labels.hint.live);this.firstDurationChange&&!s.default.connectedAPIAvailable.call(this)&&(this.firstDurationChange=!1,this.isVod?r.default.setText(this.dom.timeElapsedText,"00:00"):(r.default.setText(this.dom.timeElapsedText,this.labels.hint.live),this.isLiveDvr&&c.default.setLiveModeUI.call(this)));r.default.createStdEvent("durationchange",this.dom.container)};u.loadedmetadata=function(){this.hasLoadedMetadata=!0;r.default.createStdEvent("loadedmetadata",this.dom.container)};u.loadeddata=function(){void 0===this.dom.loaded&&(this.dom.loaded=this.dom.container.getElementsByClassName("rmp-loaded")[0]);h.call(this);r.default.createStdEvent("loadeddata",this.dom.container)};u.progress=function(){void 0===this.dom.loaded&&(this.dom.loaded=this.dom.container.getElementsByClassName("rmp-loaded")[0]);h.call(this);r.default.createStdEvent("progress",this.dom.container)};u.playing=function(){e.default.hideLoadingSpin.call(this);r.default.createStdEvent("playing",this.dom.container)};u.waiting=function(){e.default.showLoadingSpin.call(this);r.default.createStdEvent("waiting",this.dom.container);this.readingMse||(this.firstBufferStalledEvent||(this.dom.container.addEventListener("playing",this.unstalledBuffer),r.default.createStdEvent("bufferstalled",this.dom.container)),this.firstBufferStalledEvent=!1)};u.seeking=function(){r.default.createStdEvent("seeking",this.dom.container)};u.seeked=function(){e.default.hideLoadingSpin.call(this);e.default.showChrome.call(this);r.default.createStdEvent("seeked",this.dom.container)};u.ended=function(){this.loop||(this.getPaused()||this.pause(),this.ads&&("ima"===this.adParser&&(this.contentCompleteCalled=!0,l.default.contentCompleteAds.call(this)),this.onAdStartedPostRollUpdateCentralUI=function(){this.dom.container.removeEventListener("adstarted",this.onAdStartedPostRollUpdateCentralUI);this.isVod&&(r.default.hasClass(this.dom.overlayButtonIcon,"rmp-i-replay")&&(r.default.removeClass(this.dom.overlayButtonIcon,"rmp-i-replay"),r.default.addClass(this.dom.overlayButtonIcon,"rmp-i-play")),o.default.isMobile&&r.default.hasClass(this.dom.centralMobileUIIcon,"rmp-i-replay")&&(r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-replay"),r.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-pause")))}.bind(this),this.dom.container.addEventListener("adstarted",this.onAdStartedPostRollUpdateCentralUI)),this.dom.poster&&(""!==this.endOfVideoPoster&&this.endOfVideoPoster!==this.poster&&this.setPoster(this.endOfVideoPoster),r.default.show(this.dom.poster)),r.default.removeClass(this.dom.overlayButtonIcon,"rmp-i-play"),r.default.addClass(this.dom.overlayButtonIcon,"rmp-i-replay"),o.default.isMobile&&(r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-play"),r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-pause"),r.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-replay")));this.hasRelated&&this.relatedUpNextAutoplay&&(this.relatedEndedLoop||!this.relatedEndedLoop&&void 0!==this.relatedList[this.currentRelatedIndex+1])&&(r.default.removeClass(this.dom.relatedSkipPreview,"rmp-force-show"),a.default.load.call(this,this.currentRelatedIndex+1,null));this.hasPlaylist&&this.playlistUpNextAutoplay&&(this.playlistEndedLoop||!this.playlistEndedLoop&&void 0!==this.playlistList[this.currentPlaylistIndex+1])&&v.default.load.call(this,this.currentPlaylistIndex+1,null);r.default.createStdEvent("ended",this.dom.container)};u.auxiliaryEvents=function(){var n=this;["canplay","canplaythrough","ratechange"].forEach(function(t){n.dom.video.addEventListener(t,function(){r.default.createStdEvent(t,n.dom.container)})})};u.pause=function(){r.default.addClass(this.dom.playPause,"rmp-i-play");r.default.removeClass(this.dom.playPause,"rmp-i-pause");o.default.isMobile&&(r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-pause"),r.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-play"),r.default.addClass(this.dom.centralMobileUI,"rmp-mobile-show-play"));e.default.showCentralPlay.call(this);e.default.showChrome.call(this);r.default.updateAriaLabel(this.dom.playPause,"Play");r.default.createStdEvent("pause",this.dom.container)};u.play=function(){r.default.addClass(this.dom.playPause,"rmp-i-pause");r.default.removeClass(this.dom.playPause,"rmp-i-play");o.default.isMobile&&(r.default.removeClass(this.dom.centralMobileUI,"rmp-mobile-show-play"),r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-play"),r.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-pause"));this.isVod&&(r.default.hasClass(this.dom.overlayButtonIcon,"rmp-i-replay")&&(r.default.removeClass(this.dom.overlayButtonIcon,"rmp-i-replay"),r.default.addClass(this.dom.overlayButtonIcon,"rmp-i-play")),o.default.isMobile&&r.default.hasClass(this.dom.centralMobileUIIcon,"rmp-i-replay")&&(r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-replay"),r.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-pause")));r.default.hide(this.dom.poster);e.default.hideCentralPlay.call(this);r.default.updateAriaLabel(this.dom.playPause,"Pause");r.default.createStdEvent("play",this.dom.container)};u.timeupdate=function(){var t,n,i,c,e,u,f,o,h;this.isLive||this.isLiveDvr&&this.dvrLiveMode?r.default.createStdEvent("timeupdate",this.dom.container):(this.dom.video&&this.dom.current&&this.dom.handle&&this.dom.timeElapsedText&&!this.draggingTimeCursor&&!this.touchDown&&(t=void 0,n=void 0,s.default.castingAPIAvailable.call(this)?(i=s.default.getCurrentTime.call(this),n=-1<i?Math.round(i/1e3):i,t=Math.round(s.default.getDuration.call(this)/1e3)):(t=r.default.getMediaDuration(this.dom.video),n=r.default.getMediaCurrentTime(this.dom.video),this.isLiveDvr)&&(c=t-this.hlsJSLevelDuration,t=this.hlsJSLevelDuration,n-=c),r.default.isNumber(t)&&0<t&&r.default.isNumber(n)&&0<=n&&(e=100/t*n,this.dom.current.style.width=e+"%",this.dom.handle.style.left=e+"%",u=void 0,f=void 0,this.isLiveDvr?(f=this.dom.duration,u="-"+r.default.readableTime(t-n),this.dvrCurrentTime=n):(f=this.dom.timeElapsedText,u=r.default.readableTime(n)),r.default.setText(f,u))),!s.default.connectedAPIAvailable.call(this)&&this.hasRelated&&0<this.relatedUpNextOffset&&(o=this.getCurrentTime(),h=this.getDuration(),-1<o&&-1<h&&(h-o<=1e3*this.relatedUpNextOffset?this.getAdOnStage()&&this.getAdLinear()?r.default.removeClass(this.dom.relatedSkipPreview,"rmp-force-show"):(r.default.createStdEvent("mousemove",this.dom.container),r.default.addClass(this.dom.relatedSkipPreview,"rmp-force-show")):r.default.removeClass(this.dom.relatedSkipPreview,"rmp-force-show"))),r.default.createStdEvent("timeupdate",this.dom.container))};i.default=u},{"../ads/ima-ads":7,"../cast/cast":22,"../fw/env":52,"../fw/fw":53,"../playlist/playlist":55,"../playlist/related":56,"./dvr/dvr":26,"./ui/core-ui":41}],28:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var r,u;Object.defineProperty(i,"__esModule",{value:!0});r=f(n("../../fw/fw"));u=f(n("./modules"));var e={},o=function(n,t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault());this.seekTo(n)},s=function(n){for(var s,c,h=n.split(/\r\n|\r|\n/g),t=[],e=0,a=h.length;e<a;e++)/^\s*$/.test(h[e])||t.push(h[e]);if(/WEBVTT/i.test(t[0])){t.shift();for(var i=0,v=t.length;i<v;i++)if(t[i]&&t[i+1]&&/^\s*\d*?:?\d*?:?\d+(\.\d+)?\s*-->\s*\d*?:?\d*?:?\d+(\.\d+)?\s*$/.test(t[i])&&(s=t[i].split("-->"),c=t[i+1],2===s.length)){var l=s[0].trim(),y=s[1].trim(),f=l.replace(/\.\d+/i,"");/^00:/i.test(f)&&5<f.length&&(f=f.replace(/^00:/i,""));this.chaptersArray.push({start:1e3*r.default.dateToSeconds(l),end:1e3*r.default.dateToSeconds(y),title:c+" "+this.uiSeparator+" "+f})}this.onLoadedmetadaAddChapters=function(){var i,n,e,f,t;if(this.dom.container.removeEventListener("loadedmetadata",this.onLoadedmetadaAddChapters),i=this.getDuration(),0<i&&0<this.chaptersArray.length){for(u.default.append.call(this,"chapters"),u.default.appendOverlay.call(this,"chapters"),u.default.deferredShow.call(this,"chapters"),n=0,e=this.chaptersArray.length;n<e;n++)f=this.chaptersArray[n].start,i<=f||(t=document.createElement("div"),r.default.setClass(t,"rmp-overlay-level rmp-color-bg rmp-chapters-text"),r.default.setText(t,this.chaptersArray[n].title),r.default.addEvent(["touchend","click"],t,o.bind(this,f)),this.dom.chaptersOverlayLevelsArea.appendChild(t));this.hasChapters=!0}}.bind(this);this.hasLoadedMetadata?this.onLoadedmetadaAddChapters():this.dom.container.addEventListener("loadedmetadata",this.onLoadedmetadaAddChapters)}};e.init=function(){var n=this;r.default.ajax(this.chaptersLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(t){"string"==typeof t&&s.call(n,t)}).catch(function(n){r.default.trace(n)})};i.default=e},{"../../fw/fw":53,"./modules":30}],29:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r,o;Object.defineProperty(i,"__esModule",{value:!0});var f=u(n("../../fw/fw")),e=u(n("../ui/core-ui")),s=u(n("../accessible/accessible"));r={};o=function(n,t,i,r){var u,o,h,c,l;this.dom[n]=document.createElement("div");u=n.toLowerCase();u=u.replace(/\s+/g,"-");this.dom[n].className="rmp-"+u+" rmp-module rmp-color-bg";o=document.createElement("div");o.className="rmp-module-button";h=document.createElement("span");h.className="rmp-custom-module-icon";c=".rmp-"+u+" .rmp-custom-module-icon {background-image: url("+t+")}";c+=".rmp-"+u+" .rmp-custom-module-icon:hover {background-image: url("+i+")}";f.default.appendStyle(c);o.appendChild(h);this.dom[n].appendChild(o);this.dom.container.appendChild(this.dom[n]);l=e.default.appendHint(n);this.dom[n].appendChild(l);s.default.makeAccessible.call(this,this.dom[n],n,!0);f.default.addEvent(["touchend","click"],this.dom[n],function(n,t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault());e.default.showChrome.call(this);n()}.bind(this,r))};r.filter=function(){var n=[];this.customModule.forEach(function(t){"string"==typeof t.hint&&"string"==typeof t.svg&&"function"==typeof t.callback&&("string"!=typeof t.svgHover&&(t.svgHover=t.svg),n.push(t))});this.customModule=n};r.init=function(){var n=this;this.customModule.forEach(function(t){var i=t.hint,r=t.svg,u=t.svgHover,f=t.callback;o.call(n,i,r,u,f)})};i.default=r},{"../../fw/fw":53,"../accessible/accessible":23,"../ui/core-ui":41}],30:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var u,s;Object.defineProperty(i,"__esModule",{value:!0});var r=e(n("../../fw/fw")),h=e(n("../../fw/env")),f=e(n("../ui/core-ui")),o=e(n("../resize/resize"));u={types:["quality","sharing","audio","captions","speed","related","chapters"],destroy:function(n){r.default.removeElement(this.dom[n]);r.default.removeElement(this.dom[n+"Overlay"])}};u.open=function(n,t){var i=this;t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault());this.getPaused()?(r.default.removeClass(this.dom[n+"OverlayPlayPause"],"rmp-i-pause"),r.default.addClass(this.dom[n+"OverlayPlayPause"],"rmp-i-play")):(r.default.removeClass(this.dom[n+"OverlayPlayPause"],"rmp-i-play"),r.default.addClass(this.dom[n+"OverlayPlayPause"],"rmp-i-pause")),function(){r.default.addClass(this.dom.logoImg,"rmp-no-display");r.default.addClass(this.dom.contentTitle,"rmp-no-display");for(var t=this.dom.container.querySelectorAll(".rmp-hint"),n=0,i=t.length;n<i;n++)r.default.hide(t[n]);u.hide.call(this);r.default.addClass(this.dom.outline,"rmp-no-display");f.default.disableCentralUI.call(this);this.googleCast&&this.castConnected&&r.default.addClass(this.dom.container,"rmp-casting-module-overlay-open");this.video360&&r.default.addClass(this.dom.ui360,"rmp-no-display")}.call(this);"related"===n?(o.default.related.call(this),setTimeout(function(){o.default.related.call(i)},401)):setTimeout(function(){o.default.closeModule.call(i,n)},401);r.default.fadeIn(this.dom[n+"Overlay"])};s=function(){for(var t=this.dom.container.querySelectorAll(".rmp-hint"),n=0,i=t.length;n<i;n++)r.default.show(t[n]);r.default.removeClass(this.dom.logoImg,"rmp-no-display");r.default.removeClass(this.dom.contentTitle,"rmp-no-display");u.show.call(this);r.default.removeClass(this.dom.outline,"rmp-no-display");f.default.enableCentralUI.call(this);this.googleCast&&r.default.removeClass(this.dom.container,"rmp-casting-module-overlay-open");this.video360&&r.default.removeClass(this.dom.ui360,"rmp-no-display");f.default.showChrome.call(this)};u.close=function(n,t,i){var u=this;i&&(i.stopPropagation(),"touchend"===i.type&&i.preventDefault());1===t?(r.default.hide(this.dom[n+"Overlay"]),r.default.fadeOut(this.dom[n+"Overlay"]),setTimeout(function(){r.default.show(u.dom[n+"Overlay"])},401),s.call(this)):(r.default.fadeOut(this.dom[n+"Overlay"]),setTimeout(function(){s.call(u)},t))};u.playPause=function(n,t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault());this.getPaused()?(r.default.removeClass(this.dom[n+"OverlayPlayPause"],"rmp-i-play"),r.default.addClass(this.dom[n+"OverlayPlayPause"],"rmp-i-pause"),this.play()):(r.default.removeClass(this.dom[n+"OverlayPlayPause"],"rmp-i-pause"),r.default.addClass(this.dom[n+"OverlayPlayPause"],"rmp-i-play"),this.pause())};u.closeAll=function(){for(var n=0,t=u.types.length;n<t;n++)u.close.call(this,u.types[n],1,null)};u.hide=function(){for(var t=this.dom.container.querySelectorAll(".rmp-module"),n=0,i=t.length;n<i;n++)r.default.addClass(t[n],"rmp-no-display")};u.show=function(){for(var t=this.dom.container.querySelectorAll(".rmp-module"),n=0,i=t.length;n<i;n++)r.default.removeClass(t[n],"rmp-no-display")};u.deferredShow=function(n){(function(){for(var n=0,t=u.types.length;n<t;n++)if(r.default.isVisible(this.dom[u.types[n]+"Overlay"]))return!0;return!1}.call(this)||this.getAdOnStage()&&this.getAdLinear())&&r.default.addClass(this.dom[n],"rmp-no-display");r.default.show(this.dom[n])};u.append=function(n){var u=this,t,i,e;this.dom[n]=document.createElement("div");h.default.isMobile||(this.dom[n].addEventListener("mouseenter",function(n){n&&n.stopPropagation();u.forceResetTimer=!0}),this.dom[n].addEventListener("mouseleave",function(n){n&&n.stopPropagation();u.forceResetTimer=!1}));this.dom[n].className="rmp-"+n+" rmp-module rmp-color-bg";t=document.createElement("div");t.className="rmp-module-button";i=void 0;"cast"===n?i=document.createElement("google-cast-launcher"):(i=document.createElement("span")).className="rmp-i rmp-i-"+n;t.appendChild(i);this.dom[n].appendChild(t);this.dom.container.appendChild(this.dom[n]);r.default.hideAria(this.dom[n]);r.default.hide(this.dom[n]);e=f.default.appendHint(this.labels.hint[n]);this.dom[n].appendChild(e)};u.appendOverlay=function(n){var t,e,i,f;this.dom[n+"Overlay"]=document.createElement("div");this.dom[n+"Overlay"].className="rmp-module-overlay";r.default.hideAria(this.dom[n+"Overlay"]);this.dom[n+"Overlay"].addEventListener("touchend",r.default.stopPropagation);this.dom[n+"Overlay"].addEventListener("click",r.default.stopPropagation);this.dom.container.appendChild(this.dom[n+"Overlay"]);this.dom[n+"OverlayWrapper"]=document.createElement("div");this.dom[n+"OverlayWrapper"].className="rmp-overlay-wrapper";this.dom[n+"Overlay"].appendChild(this.dom[n+"OverlayWrapper"]);t=document.createElement("div");t.className="rmp-overlay-title";e=this.labels.hint[n];"sharing"===n&&""!==this.contentTitle&&(e+=" "+this.uiSeparator+" "+this.contentTitle);i=document.createElement("span");i.className="rmp-overlay-title-text";r.default.setText(i,e);t.appendChild(i);this.dom[n+"OverlayWrapper"].appendChild(t);this.dom[n+"OverlayPlayPause"]=document.createElement("span");this.dom[n+"OverlayPlayPause"].className="rmp-i rmp-module-overlay-icons rmp-module-overlay-play-pause";r.default.addEvent(["touchend","click"],this.dom[n+"OverlayPlayPause"],u.playPause.bind(this,n));this.dom[n+"Overlay"].appendChild(this.dom[n+"OverlayPlayPause"]);f=document.createElement("span");f.className="rmp-i rmp-i-close rmp-module-overlay-icons rmp-module-overlay-close";r.default.addEvent(["touchend","click"],f,u.close.bind(this,n,400));this.dom[n+"Overlay"].appendChild(f);this.dom[n+"OverlayLevelsArea"]=document.createElement("div");"related"!==n&&(this.dom[n+"OverlayLevelsArea"].className="rmp-overlay-levels-area");this.dom[n+"OverlayWrapper"].appendChild(this.dom[n+"OverlayLevelsArea"]);r.default.addEvent(["touchend","click"],this.dom[n],u.open.bind(this,n))};u.setActiveLevel=function(n,t){var i,u,e;if(this.dom[n+"OverlayLevelsArea"]&&(i=this.dom[n+"OverlayLevelsArea"].querySelectorAll(".rmp-overlay-level"),0<i.length)){for(u=0,e=i.length;u<e;u++)r.default.removeClass(i[u],"rmp-overlay-level-active");r.default.addClass(i[t],"rmp-overlay-level-active");f.default.showChrome.call(this)}};i.default=u},{"../../fw/env":52,"../../fw/fw":53,"../resize/resize":36,"../ui/core-ui":41}],31:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var f,r,u;Object.defineProperty(i,"__esModule",{value:!0});f=e(n("../../fw/fw"));r=e(n("./modules"));u={destroy:function(){this.readingMp4?this.dom.container&&this.dom.container.removeEventListener("srcchanged",this.afterMp4BitrateSwitch):this.readingHlsJS?this.dom.container&&this.dom.container.removeEventListener("playing",this.hlsJSUnstalledBuffer):(this.readingDash||this.readingHlsShaka)&&this.shakaPlayer&&this.shakaPlayer.removeEventListener("buffering",this.shakaUnstalledBuffer);r.default.destroy.call(this,"quality")}};u.setMp4Bitrate=function(n){this.dom.container.removeEventListener("srcchanged",this.afterMp4BitrateSwitch);var t=this.getCurrentTime();-1===t&&(t=0);this.afterMp4BitrateSwitch=function(n,t){this.dom.container.removeEventListener("srcchanged",this.afterMp4BitrateSwitch);r.default.setActiveLevel.call(this,"quality",t);this.getPlayerInitialized()&&(this.play(),0<n&&this.seekTo(n))}.bind(this,t,n);this.dom.container.addEventListener("srcchanged",this.afterMp4BitrateSwitch);this.setSrcPDModule=!0;this.setSrc(this.src.mp4[n]);this.setSrcPDModule=!1};u.setUpMP4UI=function(){var e=function(n,t){var i=n;if(1<t&&1===i.length&&"auto"===i[0])switch(t){case 2:i=["Low","High"];break;case 3:i=["Low","Medium","High"];break;case 4:i=["Low","Medium","High","Highest"];break;case 5:i=["Lowest","Medium","High","Higher","Highest"];break;case 6:default:i=["Lowest","Lower","Medium","High","Higher","Highest"]}return i}(this.labels.bitrates.renditions,this.src.mp4.length),n,t,i;for(r.default.append.call(this,"quality"),r.default.appendOverlay.call(this,"quality"),n=0;n<this.src.mp4.length;n++)t=document.createElement("div"),n===this.initialBitrate?(f.default.setClass(t,"rmp-overlay-level rmp-overlay-level-active rmp-color-bg rmp-q"+n),t.setAttribute("data-src",this.src.mp4[this.initialBitrate])):(f.default.setClass(t,"rmp-overlay-level rmp-color-bg rmp-q"+n),t.setAttribute("data-src",this.src.mp4[n])),i=void 0,i=e[n]?e[n].toString():"Bitrate "+n,f.default.setText(t,i),f.default.addEvent(["touchend","click"],t,u.setMp4Bitrate.bind(this,n)),this.dom.qualityOverlayLevelsArea.appendChild(t)};u.setUpAbrUI=function(){r.default.append.call(this,"quality");r.default.appendOverlay.call(this,"quality");r.default.deferredShow.call(this,"quality");this.dom.qualityAuto=document.createElement("div");this.dom.qualityAuto.className="rmp-overlay-level rmp-color-bg rmp-overlay-level-active rmp-q0";this.dom.qualityAuto.textContent=this.labels.bitrates.auto;this.dom.qualityOverlayLevelsArea.appendChild(this.dom.qualityAuto)};i.default=u},{"../../fw/fw":53,"./modules":30}],32:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(i,"__esModule",{value:!0});var r=f(n("../../fw/fw")),s=f(n("../../fw/env")),o=f(n("./modules")),u=f(n("../utils/utils"));e={};e.init=function(){var n=function(n){for(var r,u=["facebook","twitter","googleplus","linkedin","reddit","email"],t=[],i=0,f=n.length;i<f;i++)-1===u.indexOf(n[i])&&t.push(i);if(0<t.length)for(r=t.length-1;0<=r;r--)n.splice(t[r],1);return n}(this.sharingNetworks);o.default.append.call(this,"sharing");o.default.appendOverlay.call(this,"sharing"),function(n){var t=document.createElement("div"),i,b,f,k,e,d,o,g,h,nt,c,l,a,v,y;if((t.className="rmp-sharing-social",-1<n.indexOf("facebook"))&&(i=document.createElement("span"),i.className="rmp-i rmp-i-facebook rmp-sharing-social-icons",b="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(this.sharingUrl),r.default.addEvent(["touchend","click"],i,u.default.openUrl.bind(this,b)),t.appendChild(i)),-1<n.indexOf("twitter")&&(f=document.createElement("span"),f.className="rmp-i rmp-i-twitter rmp-sharing-social-icons",k="https://twitter.com/share?url="+encodeURIComponent(this.sharingUrl),r.default.addEvent(["touchend","click"],f,u.default.openUrl.bind(this,k)),t.appendChild(f)),-1<n.indexOf("linkedin")&&(e=document.createElement("span"),e.className="rmp-i rmp-i-linkedin rmp-sharing-social-icons",d="https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(this.sharingUrl),r.default.addEvent(["touchend","click"],e,u.default.openUrl.bind(this,d)),t.appendChild(e)),-1<n.indexOf("googleplus")&&(o=document.createElement("span"),o.className="rmp-i rmp-i-gplus rmp-sharing-social-icons",g="https://plus.google.com/share?url="+encodeURIComponent(this.sharingUrl),r.default.addEvent(["touchend","click"],o,u.default.openUrl.bind(this,g)),t.appendChild(o)),-1<n.indexOf("reddit")&&(h=document.createElement("span"),h.className="rmp-i rmp-i-reddit rmp-sharing-social-icons",nt="https://www.reddit.com/submit?url="+encodeURIComponent(this.sharingUrl),r.default.addEvent(["touchend","click"],h,u.default.openUrl.bind(this,nt)),t.appendChild(h)),-1<n.indexOf("email")&&(c=document.createElement("span"),c.className="rmp-i rmp-i-email rmp-sharing-social-icons",r.default.addEvent(["touchend","click"],c,function(){window.location.href="mailto:?body="+encodeURIComponent(this.sharingUrl)}.bind(this)),t.appendChild(c)),this.dom.sharingOverlayLevelsArea.appendChild(t),l=document.createElement("div"),l.className="rmp-sharing-link",a='<span class="rmp-i rmp-i-link"><\/span>',(a+='<label for="rmp-sharing-link-'+this.id+'">Link to media<\/label>',a+='<input class="rmp-sharing-input" aria-label="Link to media" id="rmp-sharing-link-'+this.id+'" type="text" value="'+this.sharingUrl+'">',l.innerHTML=a,this.dom.sharingOverlayLevelsArea.appendChild(l),""!==this.sharingCode)&&(this.sharingCode=this.sharingCode.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),v=document.createElement("div"),v.className="rmp-sharing-code",y='<span class="rmp-i rmp-i-code"><\/span>',y+='<label for="rmp-sharing-code-'+this.id+'">Embed code for media<\/label>',y+='<input class="rmp-sharing-input" aria-label="Embed code for media" id="rmp-sharing-code-'+this.id+'" type="text" value="'+this.sharingCode+'">',v.innerHTML=y,this.dom.sharingOverlayLevelsArea.appendChild(v)),!s.default.isMobile&&this.dom.sharingOverlay)for(var w=this.dom.sharingOverlay.querySelectorAll(".rmp-sharing-input"),p=0,tt=w.length;p<tt;p++)r.default.addEvent("click",w[p],r.default.selectText.bind(null,w[p]))}.call(this,n)};i.default=e},{"../../fw/env":52,"../../fw/fw":53,"../utils/utils":46,"./modules":30}],33:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f,o;Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../../fw/fw")),s=u(n("../ui/core-ui")),e=u(n("./modules"));f={};o=function(n,t){var i,e,u,f,o;if(t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),i=this.dom.speedOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),0<i.length&&i[n]){if(e=i[n],u=e.textContent,"string"==typeof u&&""!==u){for(u=parseFloat(u.replace("x","")),this.setPlaybackRate(u),f=0,o=i.length;f<o;f++)r.default.removeClass(i[f],"rmp-overlay-level-active");r.default.addClass(e,"rmp-overlay-level-active")}s.default.showChrome.call(this)}};f.init=function(){var n,i,t;for(e.default.append.call(this,"speed"),e.default.appendOverlay.call(this,"speed"),n=0,i=this.navRates.length;n<i;n++)t=document.createElement("div"),1===this.navRates[n]?r.default.setClass(t,"rmp-overlay-level rmp-color-bg rmp-overlay-level-active"):r.default.setClass(t,"rmp-overlay-level rmp-color-bg"),r.default.setText(t,"x"+this.navRates[n]),r.default.addEvent(["touchend","click"],t,o.bind(this,n)),this.dom.speedOverlayLevelsArea.appendChild(t)};i.default=f},{"../../fw/fw":53,"../ui/core-ui":41,"./modules":30}],34:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});var u=r(n("../fw/fw")),f=r(n("../fw/env")),l=r(n("../abr/hls")),a=r(n("../abr/shaka")),v=r(n("../ads/ima-ads")),y=r(n("../ads/rmp-vast")),s=r(n("../ads/ads-helpers")),p=r(n("./ui/core-ui")),e=r(n("./utils/utils")),w=r(n("../cast/cast"));var h={},b=function(){this.onAdAutoplaySuccess=function(){var n=this.getAdLinear();null!==n&&(n||!n&&"rmp-vast"===this.adParser)&&e.default.fireAutoplaySuccess.call(this)}.bind(this);this.dom.container.addEventListener("adstarted",this.onAdAutoplaySuccess);this.onAdAutoplayFailed=function(){e.default.autoplayFailureRestorePlayUI.call(this)}.bind(this);this.dom.container.addEventListener("adinitialplayrequestfailed",this.onAdAutoplayFailed);this.dom.container.addEventListener("adinitialplayrequestsucceeded",this.onAdAutoplaySuccess)},k=function(){this.startUpLogPlaying=function(){var n=this;u.default.removeEvent("playing",this.dom.container,this.startUpLogPlaying);u.default.removeEvent("adloaded",this.dom.container,this.startUpLogPlaying);setTimeout(function(){n.startUpPlaying=u.default.getNow();0<n.startUpPlay&&n.startUpPlaying>n.startUpPlay&&(n.startUpTime=n.startUpPlaying-n.startUpPlay);n.firstFrameReached=!0;u.default.createStdEvent("firstframe",n.dom.container);u.default.createStdEvent("startuptimeavailable",n.dom.container)},1)}.bind(this);this.dom.container.addEventListener("playing",this.startUpLogPlaying);this.dom.container.addEventListener("adloaded",this.startUpLogPlaying);this.ads&&!this.adImaDai?(this.autoplay&&b.call(this),function(){this.emptyInitAdTagUrl?e.default.playPromise.call(this):(this.adScheduleInput&&(this.adTagUrl=s.default.replaceAdTagVar.call(this,this.adSchedule.preroll)),"ima"===this.adParser?v.default.requestAds.call(this,this.adTagUrl):y.default.loadAds.call(this,this.adTagUrl))}.call(this)):e.default.playPromise.call(this)},c=function(){if(this.googleCast){if(w.default.castingAPIAvailable.call(this))return void this.remotePlayerController.playOrPause();if(this.castConnected&&"ENDED"===this.remotePlayerState)return void this.loadCastMedia()}if(this.firstPlay)return this.firstPlay=!1,void k.call(this);this.dom.video.paused?e.default.playPromise.call(this):this.dom.video.pause()},o=function(){var n=this;null!==this.processInitiatePlayback&&this.dom.container.removeEventListener("loadedmetadata",this.processInitiatePlayback);this.video360&&this.firstPlay&&"undefined"==typeof THREE?setTimeout(function(){o.call(n)},10):this.ads&&this.firstPlay&&this.adParserLoaded?c.call(this):this.getAdOnStage()&&this.getAdLinear()&&!this.adImaDai?s.default.playPause.call(this):this.adOutStream||c.call(this)};h.init=function(n){if(n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault()),this.get5Ready()){if(this.firstPlay){if(this.ads&&!this.adParserLoaded)return void 0;this.startUpPlay=u.default.getNow();u.default.removeClass(this.dom.outline,"rmp-force-invisibility")}this.playerInitialized||(this.playerInitialized=!0,u.default.hide(this.dom.poster),p.default.showLoadingSpin.call(this),this.ads?"ima"===this.adParser&&this.adDisplayContainer?(this.adDisplayContainer.initialize(),this.adDCInitialized=!0,f.default.isMobile?this.dom.video.load():this.readingMse||this.hasLoadedMetadata||this.dom.video.load()):"rmp-vast"===this.adParser&&this.rmpVast&&(this.rmpVast.initialize(),f.default.isMacosSafari[0]||f.default.isMobile||this.readingMse||this.hasLoadedMetadata||this.dom.video.load()):this.ads||(f.default.isMobile||f.default.isMacosSafari[0]&&!this.readingMse||f.default.isMacosSafari[0]&&this.readingHlsJS&&!this.hasLoadedMetadata?this.dom.video.load():this.readingMse||this.hasLoadedMetadata||this.dom.video.load()),this.readingHlsJS?l.default.init.call(this):(this.readingDash||this.readingHlsShaka)&&a.default.init.call(this));this.hasLoadedMetadata?o.call(this):null===this.processInitiatePlayback&&(this.processInitiatePlayback=o.bind(this),this.dom.container.addEventListener("loadedmetadata",this.processInitiatePlayback))}};i.default=h},{"../abr/hls":3,"../abr/shaka":4,"../ads/ads-helpers":6,"../ads/ima-ads":7,"../ads/rmp-vast":9,"../cast/cast":22,"../fw/env":52,"../fw/fw":53,"./ui/core-ui":41,"./utils/utils":46}],35:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f,e;Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../fw/fw")),s=u(n("../fw/env")),l=u(n("../vtt/captions")),a=u(n("../ads/ima-ads")),v=u(n("../ads/rmp-vast")),y=u(n("../ads/ads-helpers")),h=u(n("./resize/resize")),o=u(n("./ui/core-ui")),p=u(n("./ui/logo")),c=u(n("./modules/custom")),w=u(n("../cast/airplay")),b=u(n("./modules/modules")),k=u(n("./utils/utils"));f={dispatchEvent:function(){this.fadeInPlayer&&r.default.fadeIn(this.dom.container);r.default.removeClass(this.dom.container,"rmp-preparing");f.updateTime.call(this);r.default.createStdEvent("ready",this.dom.container)},updateTime:function(){this.timeReady=r.default.getNow()-this.refTime}};f.minimalFire=function(){this.playerReady||(this.playerReady=!0,h.default.resize.call(this),f.dispatchEvent.call(this))};f.fire=function(){var t,i,n;this.playerReady||(this.playerReady=!0,h.default.resize.call(this),t="00:00",(this.dom.timeElapsed&&this.dom.timeElapsedText&&(this.isVod||(r.default.addClass(this.dom.timeElapsed,"rmp-i rmp-i-live"),t=this.labels.hint.live),this.dom.timeElapsedText.textContent=t),this.dom.duration)&&(i=this.dom.duration.textContent,"string"==typeof i&&""!==i||(this.dom.duration.textContent=t)),(s.default.isMobile&&(this.initialVolume=1,this.rememberVolume=!1),this.allowLocalStorage||(this.rememberVolume=!1),this.muted)?this.setMute(!0):this.rememberVolume&&1===this.initialVolume&&s.default.localStorage(this.allowLocalStorage)&&null!==window.localStorage.getItem("rmpVolume")?(n=JSON.parse(window.localStorage.getItem("rmpVolume")),n.value&&(0===(n=parseFloat(n.value))?this.setMute(!0):n<=1&&0<n&&this.setVolume(n))):this.initialVolume<1&&0<=this.initialVolume&&this.setVolume(this.initialVolume),this.autoplay?(this.initialAutoplayRequest=!0,this.initiatePlayback()):o.default.showCentralPlay.call(this),0<this.offsetStartPosition&&this.isVod&&(this.onStartSeekToOffset=function(){this.dom.container.removeEventListener("playing",this.onStartSeekToOffset);this.seekTo(this.offsetStartPosition)}.bind(this),this.dom.container.addEventListener("playing",this.onStartSeekToOffset)),this.adOutStream&&(b.default.hide.call(this),r.default.hide([this.dom.seekBar,this.dom.duration,this.dom.timeElapsed])),f.dispatchEvent.call(this),this.adBlockerDetection&&!0===window.rmpGlobals.adBlockerDetected&&r.default.createStdEvent("adblockerdetected",this.dom.container),this.hasCC&&l.default.initVttJS.call(this))};e=function(){if(this.adBlockerDetection&&!0===window.rmpGlobals.adBlockerDetected&&this.adBlockerDetectedPreventPlayback)return r.default.removeElement(this.dom.prerollMask),y.default.onAdBlockDetection.call(this),this.autoplay&&k.default.fireAutoplayFailure.call(this),this.offsetStartPosition=0,void f.fire.call(this);this.dom.prerollMask&&(this.onAdOnStageUpdatePrerollMask=function(){var n=this;r.default.removeEvent(["playing","adloaded","adstarted","aderror","adloadererror","autoplayfailure"],this.dom.container,this.onAdOnStageUpdatePrerollMask);r.default.clearTimeout(this.prerollMaskRemovalTimeout);this.prerollMaskRemovalTimeout=setTimeout(function(){r.default.hide(n.dom.prerollMask);r.default.removeElement(n.dom.prerollMask)},401);r.default.fadeOut(this.dom.prerollMask)}.bind(this),r.default.addEvent(["playing","adloaded","adstarted","aderror","adloadererror","autoplayfailure"],this.dom.container,this.onAdOnStageUpdatePrerollMask));"ima"===this.adParser?a.default.init.call(this):v.default.init.call(this)};f.init=function(){if(this.audioOnly||(this.ads&&!this.emptyInitAdTagUrl&&o.default.appendPrerollMask.call(this),o.default.appendPoster.call(this)),this.nav&&r.default.show(this.dom.speed),this.sharing&&r.default.show(this.dom.sharing),this.hasRelated&&r.default.show(this.dom.related),this.hasPlaylist&&r.default.show([this.dom.playlistLeftArrow,this.dom.playlistRightArrow]),this.readingMp4&&r.default.show(this.dom.quality),void 0!==this.dom.audio&&r.default.show(this.dom.audio),this.airplay&&!this.readingDash&&w.default.init.call(this),""!==this.logo&&p.default.append.call(this),""!==this.contentTitle&&o.default.appendContentTitle.call(this),Array.isArray(this.customModule)&&0<this.customModule.length&&r.default.isObject(this.customModule[0])?(c.default.filter.call(this),0<this.customModule.length&&c.default.init.call(this)):this.customModule=[],r.default.createStdEvent("mousemove",this.dom.container),this.ads)if(this.adBlockerDetection){if("boolean"==typeof window.rmpGlobals.adBlockerDetected)return void e.call(this);if("undefined"==typeof fuckAdBlock||"function"!=typeof fuckAdBlock.setOption)return window.rmpGlobals.adBlockerDetected=!0,void e.call(this);fuckAdBlock.setOption({debug:!1,checkOnLoad:!1,resetOnEnd:!0,loopCheckTime:50,loopMaxNumber:5});this.onAdBlockDetected=function(){window.rmpGlobals.adBlockerDetected=!0;e.call(this)}.bind(this);this.onNoAdBlockDetected=function(){window.rmpGlobals.adBlockerDetected=!1;e.call(this)}.bind(this);fuckAdBlock.onDetected(this.onAdBlockDetected);fuckAdBlock.onNotDetected(this.onNoAdBlockDetected);fuckAdBlock.check(!0)}else e.call(this);else f.fire.call(this)};i.default=f},{"../ads/ads-helpers":6,"../ads/ima-ads":7,"../ads/rmp-vast":9,"../cast/airplay":21,"../fw/env":52,"../fw/fw":53,"../vtt/captions":57,"./modules/custom":29,"./modules/modules":30,"./resize/resize":36,"./ui/core-ui":41,"./ui/logo":43,"./utils/utils":46}],36:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var u,o;Object.defineProperty(i,"__esModule",{value:!0});var r=e(n("../../fw/fw")),f=e(n("../../fw/env")),s=e(n("../ui/core-ui")),h=e(n("../utils/error")),c=e(n("../../360/360"));u={};o=function(){r.default.removeClass(this.dom.container,"rmp-medium");r.default.removeClass(this.dom.container,"rmp-small");r.default.removeClass(this.dom.container,"rmp-extrasmall")};u.auxResize=function(n){if(this.isHTML5){if(n<=0)return;0<n&&n<375?(o.call(this),r.default.addClass(this.dom.container,"rmp-extrasmall")):0<n&&n<480?(o.call(this),r.default.addClass(this.dom.container,"rmp-small")):(o.call(this),r.default.addClass(this.dom.container,"rmp-medium"));this.getAdOnStage()&&u.resizeAds.call(this);this.video360&&c.default.resize.call(this);this.hasRelated&&u.related.call(this);r.default.createStdEvent("resize",this.dom.container)}};u.resizeAds=function(){var n=-1,t=-1,i;if(this.isInFullscreen&&(this.hasNativeFullscreenSupport?(n=r.default.getScreenWidth(),t=r.default.getScreenHeight()):this.fullWindowMode&&(i=f.default.getViewportSize(),n=i.width,t=i.height)),"rmp-vast"===this.adParser&&this.rmpVast&&"function"==typeof this.rmpVast.resizeAd)this.isInFullscreen?0<n&&0<t&&(this.hasNativeFullscreenSupport?this.rmpVast.resizeAd(n,t,"fullscreen"):this.fullWindowMode&&this.rmpVast.resizeAd(n,t,"normal")):this.rmpVast.resizeAd(this.width,this.height,"normal");else if("ima"===this.adParser&&this.adsManager&&"function"==typeof this.adsManager.resize)try{this.isInFullscreen?0<n&&0<t&&(this.hasNativeFullscreenSupport?this.adsManager.resize(n,t,google.ima.ViewMode.FULLSCREEN):this.fullWindowMode&&this.adsManager.resize(n,t,google.ima.ViewMode.NORMAL)):this.adsManager.resize(this.width,this.height,google.ima.ViewMode.NORMAL)}catch(n){r.default.trace(n)}};u.closeModule=function(n){var u=this.getPlayerWidth(),i=this.dom[n+"OverlayLevelsArea"].clientWidth,r=Math.round(u),t;this.dom[n+"Overlay"]&&(t=this.dom[n+"Overlay"].querySelector(".rmp-module-overlay-close"),null!==t&&(t.style.right=i<r?(12+r-i).toString()+"px":"12px"))};u.related=function(){var c,l,t,f,e,v;if(this.get5Ready()&&this.dom.relatedOverlayLevelsArea&&this.dom.relatedOverlay){for(var i=this.dom.relatedOverlayLevelsArea.querySelectorAll(".rmp-related-item"),h=[],y=0,n=0,g=i.length;n<g;n++)n!==this.currentRelatedIndex?(h.push(i[n]),r.default.show(i[n])):r.default.hide(i[n]);(function(n){var t,u;if(this.dom.relatedOverlay){for(var f=this.dom.relatedOverlay.querySelectorAll(".rmp-related-up-next"),i=0,e=f.length;i<e;i++)r.default.hide(f[i]);t=this.currentRelatedIndex+1;(void 0===n[this.currentRelatedIndex+1]&&(t=0),n[t])&&(u=n[t].querySelector(".rmp-related-up-next"),null!==u&&r.default.show(u))}}).call(this,i);c=this.dom.relatedOverlay.querySelector(".rmp-overlay-title");l=12;null!==c&&(l+=r.default.getHeight(c));var p=this.getPlayerWidth(),u=this.dom.relatedOverlayLevelsArea.clientWidth,w=p,b=Math.round(p),a=this.dom.relatedOverlay.querySelector(".rmp-module-overlay-close");if(null!==a&&(u<b?("number"==typeof u&&0<u&&(w=u),a.style.right=(12+b-u).toString()+"px"):a.style.right="12px"),t=2,r.default.hasClass(this.dom.container,"rmp-medium")&&(t=3),f=(w-24-12*(t-1))/t,e=9*f/16,0<f&&0<e){for(var o=1,s=0,nt=h.length;s<nt;s++){t*o<=s&&o++;var tt=h[s],k=s-(o-1)*t,d=l+12+e*(o-1)+12*(o-1),it={left:k*f+12*(k+1)+"px",top:d+"px",width:f+"px",height:e+"px"};r.default.setStyle(tt,it);y=d+e}v=this.dom.relatedOverlayLevelsArea.querySelector(".rmp-related-item-bottom-margin");null!==v&&(v.style.top=y.toString()+"px")}}};u.fullscreenchange=function(){this.isInFullscreen?(this.isInFullscreen=!1,r.default.removeClass(this.dom.fullscreen,"rmp-i-resize-small"),r.default.removeClass(this.dom.container,"rmp-fullscreen-on"),r.default.addClass(this.dom.fullscreen,"rmp-i-resize-full"),r.default.updateAriaLabel(this.dom.fullscreen,"Enter fullscreen"),u.resize.call(this),r.default.createStdEvent("exitfullscreen",this.dom.container)):(this.isInFullscreen=!0,r.default.removeClass(this.dom.fullscreen,"rmp-i-resize-full"),r.default.addClass(this.dom.fullscreen,"rmp-i-resize-small"),r.default.addClass(this.dom.container,"rmp-fullscreen-on"),r.default.updateAriaLabel(this.dom.fullscreen,"Exit fullscreen"),u.auxResize.call(this,r.default.getScreenWidth()),r.default.createStdEvent("enterfullscreen",this.dom.container))};u.fullscreenerror=function(n){r.default.createStdEvent("fullscreenerror",this.dom.container);var t=null;n&&(t=n);h.default.warning.call(this,"fullscreenerror",1003,t)};u.webkitbeginfullscreen=function(){this.isInFullscreen=!0;r.default.createStdEvent("enterfullscreen",this.dom.container)};u.webkitendfullscreen=function(){this.isInFullscreen=!1;u.resize.call(this);r.default.createStdEvent("exitfullscreen",this.dom.container)};u.resize=function(n){var e,o,h;if(this.isInFullscreen){if(this.fullWindowMode)return e=f.default.getViewportSize(),void(-1<e.width&&-1<e.height&&this.setPlayerSize(e.width,e.height));f.default.isIos[0]||u.auxResize.call(this,r.default.getScreenWidth())}else if(o=this.dom.container.parentNode,o)if(this.iframeMode)(this.width=r.default.getTrueWidth(o),this.height=r.default.getTrueHeight(o),n)&&r.default.setStyle(this.dom.container,{width:"100%",height:"100%"}),u.auxResize.call(this,this.width);else{var t=0,i=0,s=r.default.getTrueWidth(o);s>=this.initialWidth?(t=this.initialWidth,i=this.initialHeight):i=(t=s)/this.initialAspectRatio;0===t||0===i?(this.autoHeightMode&&(this.autoHeightMode=!1,this.initialWidth=640,this.initialHeight=360,this.initialAspectRatio=1.7777777778),this.width=this.initialWidth,this.height=this.initialHeight,t=this.initialWidth+"px",i=this.initialHeight+"px"):(this.width=t,this.height=i,this.autoHeightMode?t="100%":(this.audioOnly&&(i=40),t+="px"),i+="px");h={width:t,height:i};r.default.setStyle(this.dom.container,h);u.auxResize.call(this,this.width)}};u.fullscreenInteraction=function(){var e=this,n,t,i;if(this.hasNativeFullscreenSupport)this.isInFullscreen?this.ads&&"rmp-vast"===this.adParser&&this.getAdOnStage()&&this.getAdLinear()&&this.rmpVast&&"function"==typeof this.rmpVast.getVastPlayer?f.default.exitFullscreen(this.rmpVast.getVastPlayer()):f.default.exitFullscreen(this.dom.video):this.ads&&"rmp-vast"===this.adParser&&this.getAdOnStage()&&this.getAdLinear()&&this.rmpVast&&"function"==typeof this.rmpVast.getVastPlayer?f.default.requestFullscreen(this.dom.container,this.rmpVast.getVastPlayer()):f.default.requestFullscreen(this.dom.container,this.dom.video);else if(this.fullWindowMode)if(n=-1,t=-1,this.isInFullscreen)this.isInFullscreen=!1,n=this.initialWidth,t=this.initialHeight,r.default.removeClass(this.dom.fullscreen,"rmp-i-resize-small"),r.default.addClass(this.dom.fullscreen,"rmp-i-resize-full"),r.default.removeClass(this.dom.container,"rmp-full-window-on"),r.default.updateAriaLabel(this.dom.fullscreen,"Enter fullscreen"),r.default.createStdEvent("exitfullscreen",this.dom.container),this.setPlayerSize(n,t),setTimeout(function(){u.resize.call(e)},1);else{if(i=f.default.getViewportSize(),!(-1<i.width&&-1<i.height))return;n=i.width;t=i.height;this.isInFullscreen=!0;r.default.removeClass(this.dom.fullscreen,"rmp-i-resize-full");r.default.addClass(this.dom.fullscreen,"rmp-i-resize-small");r.default.addClass(this.dom.container,"rmp-full-window-on");r.default.updateAriaLabel(this.dom.fullscreen,"Exit fullscreen");r.default.createStdEvent("enterfullscreen",this.dom.container);this.setPlayerSize(n,t)}};u.fullscreenButtonInteraction=function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());s.default.showChrome.call(this);u.fullscreenInteraction.call(this)};u.initialSizing=function(){this.throttledResize=function(n){var t=this;n&&("orientationchange"===n.type?(r.default.clearTimeout(this.orientationChangeResizeTimeout),this.orientationChangeResizeTimeout=setTimeout(function(){u.resize.call(t)},200)):"resize"===n.type&&null===this.throttledResizeTimeout&&(r.default.clearTimeout(this.throttledResizeTimeout),this.throttledResizeTimeout=setTimeout(function(){u.resize.call(t);t.throttledResizeTimeout=null},66)))}.bind(this);window.addEventListener("resize",this.throttledResize);window.addEventListener("orientationchange",this.throttledResize);this.iframeMode&&this.autoHeightMode&&(this.autoHeightMode=!1);var n=this.dom.container.parentNode;this.iframeMode?(this.width=r.default.getTrueWidth(n),this.height=r.default.getTrueHeight(n)):this.autoHeightMode?(this.width=r.default.getTrueWidth(n),this.height=this.width/this.autoHeightModeRatio):(this.width=parseInt(this.width,10),this.height=parseInt(this.height,10));this.initialWidth=this.width;this.initialHeight=this.height;this.initialAspectRatio=this.initialWidth/this.initialHeight;this.autoHeightMode&&(this.initialWidth=999999,this.initialAspectRatio=this.autoHeightModeRatio);u.resize.call(this,!0)};i.default=u},{"../../360/360":1,"../../fw/env":52,"../../fw/fw":53,"../ui/core-ui":41,"../utils/error":44}],37:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../../fw/fw")),e=u(n("../ready")),o=u(n("../utils/utils"));f={init:function(){var u,t,s,f,h,i,c,n;this.dom.video=null;this.isHTML5=!1;this.googleCast=!1;u=document.createElement("div");r.default.setClass(u,"rmp-no-play");t=document.createElement("div");r.default.setClass(t,"rmp-no-play-text");s=document.createElement("div");r.default.setText(s,this.labels.error.noSupportMessage);t.appendChild(s);f=void 0;(this.hasMp4&&(f=this.src.mp4[0]),!this.audioOnly&&f&&this.isVod&&""!==this.labels.error.noSupportDownload)&&(h=document.createElement("div"),i=document.createElement("a"),i.href=f,i.download="true",r.default.setClass(i,"rmp-dl-link"),r.default.setText(i,this.labels.error.noSupportDownload),h.appendChild(i),t.appendChild(h));this.audioOnly||""===this.labels.error.noSupportInstallChrome||(c=document.createElement("div"),n=void 0,""!==this.labels.error.noSupportInstallChromeLink?((n=document.createElement("a")).href=this.labels.error.noSupportInstallChromeLink,n.target="_blank",r.default.setClass(n,"rmp-dl-link")):n=document.createElement("span"),r.default.setText(n,this.labels.error.noSupportInstallChrome),c.appendChild(n),t.appendChild(c));u.appendChild(t);this.dom.container.appendChild(u);this.autoplay&&o.default.fireAutoplayFailure.call(this);e.default.minimalFire.call(this)}};i.default=f},{"../../fw/fw":53,"../ready":35,"../utils/utils":46}],38:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});var o=e(n("../../fw/fw")),f=e(n("../../fw/env")),h=e(n("./runNoSupport")),u=e(n("../../core/utils/utils")),r=e(n("../../core/dom"));var c={},s=function(){o.default.createStdEvent("hlslevelswitching",this.dom.container)},a=function(){f.default.isIos[0]&&10<f.default.isIos[1]||f.default.isMacosSafari[0]&&10<f.default.isMacosSafari[1]?function(){this.readingHls=!0;this.readingHlsHevc=!0;this.startingBitratePath=this.src.hlsHevc;u.default.createNativeSrc.call(this,"hlsHevc");this.hlsResizeLevelSwitch=s.bind(this);this.dom.video.addEventListener("resize",this.hlsResizeLevelSwitch)}.call(this):this.okHlsJS&&"hlsjs"===this.hlsEngine?(this.readingHlsJS=!0,this.readingHlsHevc=!0,this.startingBitratePath=this.src.hlsHevc,r.default.prepare.call(this),r.default.append.call(this)):this.okDash&&"shakaplayer"===this.hlsEngine&&(this.readingHlsShaka=!0,this.readingHlsHevc=!0,this.startingBitratePath=this.src.hlsHevc,r.default.prepare.call(this),r.default.append.call(this))},l=function(){this.readingMp4=!0;this.readingWebM=!0;this.src.mp4=this.src.webm;this.initialBitrate=o.default.filterInitialBitrate(this.initialBitrate,this.src.mp4);this.startingBitratePath=this.src.mp4[this.initialBitrate];u.default.createNativeSrc.call(this,"webm")};c.init=function(){if(f.default.isAndroid[0]&&void 0!==this.dom.video.disableRemotePlayback&&(this.dom.video.disableRemotePlayback=!0),this.adOutStream)(function(){this.hasLoadedMetadata=!0;this.readingOutstream=!0;r.default.prepare.call(this);r.default.append.call(this)}).call(this);else if(this.hasDash&&this.okDash&&this.dashFirst)this.readingDash=!0,this.startingBitratePath=this.src.dash,r.default.prepare.call(this),r.default.append.call(this);else if(this.hasFps&&this.okFps)(function(){this.preload="auto";this.readingHls=!0;this.readingFps=!0;this.startingBitratePath=this.src.fps;u.default.createNativeSrc.call(this,"hls");this.hlsResizeLevelSwitch=s.bind(this);this.dom.video.addEventListener("resize",this.hlsResizeLevelSwitch)}).call(this);else if(!this.audioOnly&&this.hasHlsHevc&&this.okHlsHevc)a.call(this);else if(this.hasHls&&this.okHlsJS&&"hlsjs"===this.hlsEngine)this.readingHlsJS=!0,this.startingBitratePath=this.src.hls,r.default.prepare.call(this),r.default.append.call(this);else if(this.hasHls&&this.okDash&&"shakaplayer"===this.hlsEngine)this.readingHlsShaka=!0,this.startingBitratePath=this.src.hls,r.default.prepare.call(this),r.default.append.call(this);else if(this.hasHls&&this.okHls)(function(){this.readingHls=!0;this.startingBitratePath=this.src.hls;u.default.createNativeSrc.call(this,"hls");this.hlsResizeLevelSwitch=s.bind(this);this.dom.video.addEventListener("resize",this.hlsResizeLevelSwitch)}).call(this);else if(this.hasDash&&this.okDash&&!this.dashFirst)this.readingDash=!0,this.startingBitratePath=this.src.dash,r.default.prepare.call(this),r.default.append.call(this);else if(this.audioOnly)if(this.okOgg&&this.hasOgg)(function(){this.readingOgg=!0;this.startingBitratePath=this.src.ogg;u.default.createNativeSrc.call(this,"ogg")}).call(this);else if(this.okM4a&&this.hasM4a)(function(){this.readingM4a=!0;this.startingBitratePath=this.src.m4a;u.default.createNativeSrc.call(this,"m4a")}).call(this);else{if(!this.okMp3||!this.hasMp3)return void h.default.init.call(this);(function(){this.readingMp3=!0;this.startingBitratePath=this.src.mp3;u.default.createNativeSrc.call(this,"mp3")}).call(this)}else this.okWebM&&this.hasWebM&&this.webmFirst?l.call(this):this.okMp4&&this.hasMp4||this.okMp4Hevc&&this.hasMp4Hevc?function(){this.readingMp4=!0;this.readingWebM=!1;this.okMp4Hevc&&this.hasMp4Hevc&&(this.src.mp4=this.src.mp4Hevc,this.readingMp4Hevc=!0);this.initialBitrate=o.default.filterInitialBitrate(this.initialBitrate,this.src.mp4);this.startingBitratePath=this.src.mp4[this.initialBitrate];this.okMp4Hevc&&this.hasMp4Hevc?u.default.createNativeSrc.call(this,"mp4Hevc"):u.default.createNativeSrc.call(this,"mp4")}.call(this):this.okWebM&&this.hasWebM&&!this.webmFirst?l.call(this):h.default.init.call(this)};i.default=c},{"../../core/dom":25,"../../core/utils/utils":46,"../../fw/env":52,"../../fw/fw":53,"./runNoSupport":37}],39:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var u,o;Object.defineProperty(i,"__esModule",{value:!0});var r=e(n("../../fw/fw")),s=e(n("../ui/core-ui")),f=e(n("../../cast/cast"));u={"do":function(n){var t=void 0,i=void 0,u=void 0,e,o,s;if(f.default.castingAPIAvailable.call(this))e=f.default.getDuration.call(this),i=(t=-1===e?-1:Math.round(e/1e3))*n;else if(this.isLiveDvr){if(t=r.default.getMediaDuration(this.dom.video),!r.default.isNumber(t))return;(u=t-this.hlsJSLevelDuration)<=0&&(u=0);i=this.hlsJSLevelDuration*n+u}else i=(t=r.default.getMediaDuration(this.dom.video))*n;!r.default.isNumber(t)||t<=0||!r.default.isNumber(n)||i<0||t<i||(this.isLiveDvr&&(this.dvrLiveMode=!1,r.default.addClass(this.dom.container,"rmp-dvr-rec"),r.default.setText(this.dom.duration,"-"),r.default.setText(this.dom.timeElapsedText,this.labels.hint.live)),o={width:100*n+"%"},r.default.setStyle(this.dom.current,o),s={left:100*n+"%"},r.default.setStyle(this.dom.handle,s),f.default.castingAPIAvailable.call(this)?(this.remotePlayer.currentTime=i,this.remotePlayerController.seek()):r.default.setMediaCurrentTime(this.dom.video,i))}};o=function(n){var t=void 0,i,u,f;t=100<=n?100:n<0?0:n;i=this.getDuration();-1<i&&this.dom.current&&this.dom.handle&&this.dom.timeElapsedText&&this.dom.duration&&(this.dom.current.style.width=t+"%",this.dom.handle.style.left=t+"%",u=void 0,f=void 0,this.isLiveDvr?(f=this.dom.duration,u="-"+r.default.readableTime((i-t/100*i)/1e3)):(f=this.dom.timeElapsedText,u=r.default.readableTime(t*(i/1e3)/100)),r.default.setText(f,u))};u.touchend=function(n){if(n){n.stopPropagation();n.preventDefault();var t=(r.default.getPosXTouch(n)-r.default.getAbsLeft(this.dom.seekBar))/r.default.getWidth(this.dom.seekBar);if(!r.default.isNumber(t))return;1<=t?t=1:t<0&&(t=0);u.do.call(this,t);this.touchDown=!1}};u.touchmove=function(n){n.preventDefault();this.touchDown=!0;s.default.showChrome.call(this);var t=(r.default.getPosXTouch(n)-r.default.getAbsLeft(this.dom.seekBar))/r.default.getWidth(this.dom.seekBar)*100;r.default.isNumber(t)&&o.call(this,t)};u.mouseupDoc=function(n){if(n){n.stopPropagation();this.draggingTimeCursor=!1;document.removeEventListener("mouseup",this.mouseupDoc);document.removeEventListener("mousemove",this.mousemoveDoc);var t=r.default.getPosX(n),i=r.default.getAbsLeft(this.dom.timetotal),f=r.default.getWidth(this.dom.timetotal),e=void 0;e=t<i?0:i+f<t?.99:(t-i)/f;u.do.call(this,e)}};u.mousemoveDoc=function(n){var t=(r.default.getPosX(n)-r.default.getAbsLeft(this.dom.timetotal))/r.default.getWidth(this.dom.timetotal)*100;r.default.isNumber(t)&&o.call(this,t)};i.default=u},{"../../cast/cast":22,"../../fw/fw":53,"../ui/core-ui":41}],40:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,e=n("../../fw/fw"),u=(r=e)&&r.__esModule?r:{"default":r},f={};f.apply=function(){""!==this.skinBackgroundColor&&"s3"!==this.skin&&(-1===this.skinBackgroundColor.indexOf("rgba")&&(this.skinBackgroundColor="#"+this.skinBackgroundColor),function(){var n=".rmp-color-bg:not(.rmp-overlay-level-active), .rmp-module-overlay-icons, .rmp-related-duration, .rmp-related-up-next, .rmp-related-title {background: "+this.skinBackgroundColor+";} ";n+=".rmp-overlay-level { border-color: "+this.skinBackgroundColor+";} ";n+=".rmp-overlay-level-active { color: "+this.skinBackgroundColor+";} ";"s4"===this.skin&&(n+=".rmp-play-pause, .rmp-ad-info, .rmp-quick-rewind, .rmp-volume, .rmp-fullscreen, .rmp-seek-bar, .rmp-time-elapsed, .rmp-duration, .rmp-related-skip-next, .rmp-overlay-title-text, .rmp-sharing-social-icons { background: "+this.skinBackgroundColor+";} ",n+=".rmp-overlay-level-active.rmp-abr-active { border-color: "+this.skinBackgroundColor+";} ");u.default.appendStyle(n)}.call(this));""!==this.skinButtonColor&&(-1===this.skinButtonColor.indexOf("rgba")&&(this.skinButtonColor="#"+this.skinButtonColor),function(){var n=".rmp-color-button, .rmp-time-elapsed-text, .rmp-dvr-rec .rmp-i-live, .rmp-dvr-rec .rmp-i-live .rmp-time-elapsed-text, .rmp-live-dvr.rmp-dvr-rec .rmp-i-live:hover .rmp-time-elapsed-text {color: "+this.skinButtonColor+";} ";n+=".rmp-color-bg-button, .rmp-circle::before, .rmp-overlay-level-active {background: "+this.skinButtonColor+";} ";n+=".rmp-overlay-title-text {border-bottom-color: "+this.skinButtonColor+";} ";"s3"===this.skin&&(n+=".rmp-time-total, .rmp-volume-bar, .rmp-overlay-level, .rmp-overlay-level-active.rmp-abr-active { border-color: "+this.skinButtonColor+";} ",this.hasPlaylist&&(n+=".rmp-playlist-side-menu {background: "+this.skinButtonColor+";}"));this.hasRelated&&(n+=".rmp-related-item  {border-color: "+this.skinButtonColor+";} ",n+=".rmp-related-skip-preview-title, .rmp-related-skip-preview-up-next {color: "+this.skinButtonColor+" !important;}");u.default.appendStyle(n)}.call(this));""!==this.skinAccentColor&&(-1===this.skinAccentColor.indexOf("rgba")&&(this.skinAccentColor="#"+this.skinAccentColor),function(){var n=".rmp-i:hover, .rmp-module:hover .rmp-i, .rmp-i-live, .rmp-dvr-rec .rmp-i-live:hover, .rmp-i-live, .rmp-overlay-level:hover:not(.rmp-overlay-level-active) {color: "+this.skinAccentColor+";} ";"s3"===this.skin&&(n+=".rmp-overlay-level-active { color: "+this.skinAccentColor+";} ",n+=".rmp-loaded { background-color: "+this.skinAccentColor+";} ");n+=".rmp-abr-active {border-color: "+this.skinAccentColor+";} ";this.hasPlaylist&&(n+=".rmp-playlist-item-active .rmp-playlist-item-number {color: "+this.skinAccentColor+";} ",n+=".rmp-playlist-item-active .rmp-playlist-item-thumbnail {border-color: "+this.skinAccentColor+";} ",n+=".rmp-playlist-side-menu::-webkit-scrollbar-thumb {background: "+this.skinAccentColor+";} ");this.hasRelated&&(n+=".rmp-related-item:hover {border-color: "+this.skinAccentColor+";} ");this.ads&&(n+=".rmp-ad-current-time {background: "+this.skinAccentColor+";} ");u.default.appendStyle(n)}.call(this));this.googleCast&&function(){if(""===this.skinButtonColor)switch(this.skin){case"s1":case"s2":case"s3":this.skinButtonColor="rgba(255, 255, 255, 1)";break;case"s4":this.skinButtonColor="rgba(0, 0, 0, 1)";break;default:this.skinButtonColor="rgba(255, 255, 255, 1)"}if(""===this.skinAccentColor)switch(this.skin){case"s1":case"s4":this.skinAccentColor="rgba(33, 150, 243, 1)";break;case"s2":this.skinAccentColor="rgba(255, 193, 7, 1)";break;case"s3":this.skinAccentColor="rgba(244, 67, 54, 1)";break;default:this.skinAccentColor="rgba(33, 150, 243, 1)"}var n="google-cast-launcher {--disconnected-color: "+this.skinButtonColor+";--connected-color: "+this.skinAccentColor+";} ";n+="google-cast-launcher:hover {--disconnected-color: "+this.skinAccentColor+";}";u.default.appendStyle(n)}.call(this)};i.default=f},{"../../fw/fw":53}],41:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var u,o;Object.defineProperty(i,"__esModule",{value:!0});var r=e(n("../../fw/fw")),f=e(n("../../fw/env")),s=e(n("../utils/error"));u={};o=function(){var n=this;r.default.clearInterval(this.chromeTimer);this.chromeTimer=setInterval(function(){(function(){var n=!1;return this.forceResetTimer&&(n=!0),this.getAdOnStage()?this.getAdLinear()&&this.getAdPaused()?n=!0:!this.getAdLinear()&&this.getPaused()&&(n=!0):this.getPaused()&&(n=!0),n}).call(n)?o.call(n):u.hideChrome.call(n)},this.delayToFade)};u.hideChrome=function(){r.default.removeClass(this.dom.container,"rmp-chrome");r.default.addClass(this.dom.container,"rmp-no-chrome")};u.showChrome=function(){r.default.removeClass(this.dom.container,"rmp-no-chrome");r.default.addClass(this.dom.container,"rmp-chrome");o.call(this)};u.showCentralPlay=function(){r.default.fadeIn(this.dom.overlayButton);u.hideLoadingSpin.call(this)};u.hideCentralPlay=function(){r.default.fadeOut(this.dom.overlayButton)};u.disableCentralUI=function(){f.default.isMobile?r.default.addClass(this.dom.centralMobileUI,"rmp-no-display"):r.default.addClass(this.dom.overlayButton,"rmp-no-display");r.default.addClass(this.dom.loadingSpin,"rmp-no-display")};u.enableCentralUI=function(){f.default.isMobile?r.default.removeClass(this.dom.centralMobileUI,"rmp-no-display"):r.default.removeClass(this.dom.overlayButton,"rmp-no-display");r.default.removeClass(this.dom.loadingSpin,"rmp-no-display")};u.showLoadingSpin=function(){r.default.addClass(this.dom.container,"rmp-waiting");r.default.fadeIn(this.dom.loadingSpin);u.hideCentralPlay.call(this)};u.hideLoadingSpin=function(){r.default.removeClass(this.dom.container,"rmp-waiting");r.default.fadeOut(this.dom.loadingSpin)};u.protoHideControls=function(){r.default.addClass(this.dom.container,"rmp-hide-controls");this.controls=!1};u.protoShowControls=function(){r.default.removeClass(this.dom.container,"rmp-hide-controls");u.showChrome.call(this);this.controls=!0};u.restorePlayUI=function(){r.default.addClass(this.dom.playPause,"rmp-i-play");r.default.removeClass(this.dom.playPause,"rmp-i-pause");f.default.isMobile&&(r.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-pause"),r.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-play"),r.default.addClass(this.dom.centralMobileUI,"rmp-mobile-show-play"));u.showCentralPlay.call(this);r.default.createStdEvent("mousemove",this.dom.container)};u.appendHint=function(n){var t=document.createElement("div");return r.default.setClass(t,"rmp-hint rmp-color-bg"),r.default.setText(t,n),t};u.appendContentTitle=function(){this.dom.contentTitle=document.createElement("div");this.dom.contentTitle.className="rmp-title rmp-color-bg";r.default.hideAria(this.dom.contentTitle);r.default.setText(this.dom.contentTitle,this.contentTitle);this.dom.container&&this.dom.outline&&this.dom.container.insertBefore(this.dom.contentTitle,this.dom.outline)};u.appendPrerollMask=function(){this.dom.prerollMask=document.createElement("div");r.default.setClass(this.dom.prerollMask,"rmp-ad-preroll-mask");this.dom.prerollMask.style.backgroundColor="#"+this.backgroundColor;this.dom.content.appendChild(this.dom.prerollMask)};u.appendPoster=function(){if(this.dom.poster=document.createElement("div"),r.default.setClass(this.dom.poster,"rmp-poster"),this.dom.poster.style.backgroundColor="#"+this.backgroundColor,this.dom.content.appendChild(this.dom.poster),this.autoplay&&r.default.hide(this.dom.poster),this.dom.posterImg=document.createElement("img"),this.dom.posterImg.alt="Media player poster frame",r.default.setClass(this.dom.posterImg,"rmp-poster-img"),r.default.cssPropertySupport("objectFit"))switch(this.posterScaleMode){case"letterbox":r.default.addClass(this.dom.posterImg,"rmp-object-fit-contain");break;case"zoom":r.default.addClass(this.dom.posterImg,"rmp-object-fit-cover");break;case"stretch":r.default.addClass(this.dom.posterImg,"rmp-object-fit-fill");break;case"none":r.default.addClass(this.dom.posterImg,"rmp-object-fit-none");break;default:r.default.addClass(this.dom.posterImg,"rmp-object-fit-contain")}else r.default.addClass(this.dom.posterImg,"rmp-poster-img-no-object-fit");this.onPosterLoad=function(){this.dom.posterImg.removeEventListener("load",this.onPosterLoad);this.dom.posterImg.removeEventListener("error",this.onPosterError);this.dom.poster.contains(this.dom.posterImg)||this.dom.poster.appendChild(this.dom.posterImg)}.bind(this);this.onPosterError=function(n){this.dom.posterImg.removeEventListener("load",this.onPosterLoad);this.dom.posterImg.removeEventListener("error",this.onPosterError);var t=null;n&&(t=n);s.default.warning.call(this,"failed to load poster at "+this.poster,1001,t)}.bind(this);this.dom.posterImg.addEventListener("load",this.onPosterLoad);this.dom.posterImg.addEventListener("error",this.onPosterError);var n=r.default.blackFrame;""!==this.poster&&(n=this.poster);this.dom.posterImg.src=n};i.default=u},{"../../fw/env":52,"../../fw/fw":53,"../utils/error":44}],42:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u,e=n("../../fw/fw"),r=(u=e)&&u.__esModule?u:{"default":u},f={};f.init=function(){r.default.addEvent("mousemove",this.dom.timetotal,function(n){var i,u,e,c,t,l,o,v,f;if(this.dom.indicator){if(i=this.getDuration(),i<=0)return;if(i/=1e3,u=r.default.getPosX(n)-r.default.getAbsLeft(this.dom.timetotal),e=r.default.getWidth(this.dom.timetotal),u<0?u=0:e<=u&&(u=e),c=u/e,t=void 0,i<=(t=this.isLiveDvr?i-c*i:c*i)?t=i:t<=0&&(t=0),l=void 0,l=this.isLiveDvr?"-"+r.default.readableTime(t):r.default.readableTime(t),this.dom.timeIndicator||(this.dom.timeIndicator=this.dom.indicator.firstChild),r.default.setText(this.dom.timeIndicator,l),this.dom.indicator.style.left=u+"px",this.dom.thumbnailsImg)for(o=0,v=this.thumbnailsArray.length;o<v;o++)if(f=this.thumbnailsArray[o],null!==f[0]&&null!==f[1]&&"string"==typeof f[2]&&t>=f[0]&&t<f[1]){if(1<this.thumbnailURIs.length){for(var s=void 0,h=0,p=this.thumbnailURIsTimestamps.length;h<p;h++)t>=this.thumbnailURIsTimestamps[h]&&(s=this.thumbnailURIs[h]);s&&s!==this.currentThumbnailURI&&(this.currentThumbnailURI=s,this.dom.thumbnailsImg.style.backgroundImage='url("'+this.currentThumbnailURI+'")')}var a=f[2].split(","),w=a[0].trim(),b=a[1].trim(),y=a[3].trim();this.dom.thumbnailsImg.style.backgroundPosition="-"+w+"px -"+b+"px";this.dom.thumbnailsImg.style.height=y+"px";this.dom.thumbnailsImg.style.top="-"+y+"px"}}}.bind(this));r.default.addEvent("mouseenter",this.dom.timetotal,function(){this.hasLoadedMetadata&&r.default.fadeIn(this.dom.indicator)}.bind(this));r.default.addEvent("mouseleave",this.dom.timetotal,function(){this.hasLoadedMetadata&&r.default.fadeOut(this.dom.indicator)}.bind(this))};i.default=f},{"../../fw/fw":53}],43:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(i,"__esModule",{value:!0});var r=f(n("../../fw/fw")),o=f(n("../utils/error")),e=f(n("../utils/utils"));u={init:function(){this.audioOnly&&(this.logo="");""!==this.logo&&"bottomleft"!==this.logoPosition&&"topleft"!==this.logoPosition&&"topright"!==this.logoPosition&&"bottomright"!==this.logoPosition&&(this.logoPosition="topleft")}};u.append=function(){/(\.png|\.jpg|\.gif)/i.test(this.logo)&&(this.dom.logoImg=document.createElement("img"),this.dom.logoImg.alt="Media player logo",this.dom.logoImg.className=this.logoWatermark?"rmp-logo rmp-force-show":"rmp-logo","8px"!==this.logoMargin&&(this.dom.logoImg.style.margin=this.logoMargin),"topleft"===this.logoPosition?r.default.addClass(this.dom.logoImg,"rmp-logo-top-left"):"bottomleft"===this.logoPosition?r.default.addClass(this.dom.logoImg,"rmp-logo-bottom-left"):"topright"===this.logoPosition?r.default.addClass(this.dom.logoImg,"rmp-logo-top-right"):"bottomright"===this.logoPosition&&r.default.addClass(this.dom.logoImg,"rmp-logo-bottom-right"),this.onLogoLoad=function(){this.dom.logoImg.removeEventListener("load",this.onLogoLoad);this.dom.logoImg.removeEventListener("error",this.onLogoError);this.logoAppended||(this.dom.container.insertBefore(this.dom.logoImg,this.dom.outline.nextSibling),this.logoAppended=!0)}.bind(this),this.onLogoError=function(n){this.dom.logoImg.removeEventListener("load",this.onLogoLoad);this.dom.logoImg.removeEventListener("error",this.onLogoError);r.default.removeEvent(["touchend","click"],this.dom.logoImg,this.openLogoUrl);var t=null;n&&(t=n);o.default.warning.call(this,"failed to load logo at "+this.logo,1e3,t)}.bind(this),this.dom.logoImg.addEventListener("load",this.onLogoLoad),this.dom.logoImg.addEventListener("error",this.onLogoError),this.openLogoUrl=e.default.openUrl.bind(this,this.logoLoc),r.default.addEvent(["touchend","click"],this.dom.logoImg,this.openLogoUrl),this.dom.logoImg.src=this.logo)};u.update=function(){this.dom.logoImg.removeEventListener("load",this.onLogoLoad);this.dom.logoImg.removeEventListener("error",this.onLogoError);r.default.removeEvent(["touchend","click"],this.dom.logoImg,this.openLogoUrl);this.dom.logoImg.addEventListener("load",this.onLogoLoad);this.dom.logoImg.addEventListener("error",this.onLogoError);this.openLogoUrl=e.default.openUrl.bind(this,this.logoLoc);r.default.addEvent(["touchend","click"],this.dom.logoImg,this.openLogoUrl);this.dom.logoImg.src=this.logo};i.default=u},{"../../fw/fw":53,"../utils/error":44,"../utils/utils":46}],44:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(i,"__esModule",{value:!0});var r=f(n("../../fw/fw")),o=f(n("../ui/core-ui")),e=f(n("../modules/modules")),s=f(n("../ready")),h=f(n("../../abr/shaka")),c=f(n("../../abr/hls"));u={errorLayout:function(){var u=this,n,t,i;this.playerReady||s.default.minimalFire.call(this);n=this.dom.container.querySelector(".rmp-error");(null!==n&&r.default.removeElement(n),(n=document.createElement("div")).className="rmp-error",""!==this.labels.error.customErrorMessage)&&(t=document.createElement("div"),t.className="rmp-error-text",r.default.setText(t,this.labels.error.customErrorMessage),n.appendChild(t));this.dom.content.appendChild(n);i=!1;(this.readingMp4&&1<this.src.mp4.length||this.hasPlaylist||this.hasRelated)&&(i=!0);this.changingSrc&&(this.changingSrc=!1);e.default.closeAll.call(this);i||(e.default.hide.call(this),this.readingPDorNative&&this.dom.video&&this.dom.video.removeEventListener("error",this.generateError,!0));o.default.disableCentralUI.call(this);r.default.hide(this.dom.poster);this.readingHlsJS?(c.default.destroy.call(this),r.default.createStdEvent("error",this.dom.container)):this.readingDash||this.readingHlsShaka?this.shakaPlayer?(h.default.destroy.call(this),this.shakaPlayer.destroy().then(function(){r.default.createStdEvent("error",u.dom.container)}).catch(function(n){r.default.trace(n);r.default.createStdEvent("error",u.dom.container)})):r.default.createStdEvent("error",this.dom.container):(r.default.clearNativeHtml5Buffer(this.dom.video),r.default.createStdEvent("error",this.dom.container))}};u.isFatal=function(n){var t=n,i;return t&&r.default.isObject(t.error)&&"number"==typeof t.error.code&&(i=t.error.code,"string"==typeof t.error.message&&t.error.message,4===i)?!0:!1};u.fatal=function(n,t,i){this.errorData={code:t,message:n,event:i,fatal:!0};u.errorLayout.call(this)};u.warning=function(n,t,i){this.errorData={code:t,message:n,event:i,fatal:!1};r.default.createStdEvent("warning",this.dom.container)};u.mediaTag=function(n){n&&n.target&&u.isFatal(n.target)&&u.fatal.call(this,"error on HTML5 media element",100,n)};i.default=u},{"../../abr/hls":3,"../../abr/shaka":4,"../../fw/fw":53,"../modules/modules":30,"../ready":35,"../ui/core-ui":41}],45:[function(n,t,i){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});var r=s(n("../../fw/fw")),o=s(n("../../fw/env")),p=s(n("../ready"));var u={},c="https://cdn.radiantmediatechs.com/rmp/rr/vgs.json",l="https://cdn.radiantmediatechs.com/rmp/rr/vgt.json",a="https://cdn.radiantmediatechs.com/rmp/rr/vgrp.json",e=!1,h=!1,w={"=":"a","+":"b",y:"c",z:"d",v:"e",u:"f",d:"g",b:"h",s:"i",q:"j",a:"k",c:"l",i:"m",k:"n",e:"o",g:"p",n:"q",o:"r",0:"s",7:"t",8:"u",9:"v",4:"w",5:"x",6:"y",1:"z",2:".",3:"-"},f=function(n,t){if(o.default.localStorage(t)){var i={value:n,timestamp:(new Date).getTime().toString()};window.localStorage.setItem("rmpLU",JSON.stringify(i))}};u.endPlayer=function(){this.licenseFailedDestroyRequested=!0;p.default.minimalFire.call(this);this.licenseDestroyCompleted=function(){var n=document.getElementById(this.id);n&&(n.removeEventListener("destroycompleted",this.licenseDestroyCompleted),r.default.removeElement(n))}.bind(this);this.dom.container.addEventListener("destroycompleted",this.licenseDestroyCompleted);r.default.log("player","invalid license for Radiant Media Player");this.destroy()};var v=function(n){var t=this,i,s,e;if(o.default.localStorage(this.allowLocalStorage)&&null!==window.localStorage.getItem("rmpLU")&&(i=JSON.parse(window.localStorage.getItem("rmpLU")),s=parseInt(i.timestamp),r.default.isNumber(s))){var h=i.value,c=parseInt(i.timestamp),l=(new Date).getTime();if("true"===h&&l<c+36e5)return}this.licUrl=n+"?rdm="+Math.floor((new Date).getTime()/36e5);e=function(n){var t=void 0;this.isLicValid="true";try{t=JSON.parse(n)}catch(n){return r.default.trace(n),void f("false",this.allowLocalStorage)}if(t&&Array.isArray(t.sites)&&this.ragnarok)for(var e=t.sites,i=0,o=e.length;i<o;i++)if(-1<this.ragnarok.indexOf(e[i])){u.endPlayer.call(this,"RMP Edition auth failed");this.isLicValid="false";break}f(this.isLicValid,this.allowLocalStorage)}.bind(this);r.default.ajax(this.licUrl,this.ajaxInternalTimeout,!1,"GET").then(e).catch(function(){r.default.clearTimeout(t.siteCheckerRetryTimeout);t.siteCheckerRetryTimeout=setTimeout(function(){r.default.ajax(t.licUrl,t.ajaxInternalTimeout,!1,"GET").then(e).catch(function(){f("false",t.allowLocalStorage)})},1e4)})},y=function(n){var l=void 0,o=[],s=[],a="",w,v,k,y,d,b,c,p,g;try{l=JSON.parse(n)}catch(n){return r.default.trace(n),void f(this.isLicValid,this.allowLocalStorage)}if(l&&Array.isArray(l.sites))for(var i=l.sites,t=0,nt=i.length;t<nt;t++)if(i[t].license&&(w=i[t].license,(w=w.split("").reverse().join(""))===this.licenseKey)){this.isLicValid="true";e?Array.isArray(i[t].appWhitelist)&&0<i[t].appWhitelist.length&&(s=i[t].appWhitelist):Array.isArray(i[t].blacklist)&&0<i[t].blacklist.length?(o=i[t].blacklist,a="blacklist"):Array.isArray(i[t].whitelist)&&0<i[t].whitelist.length&&(o=i[t].whitelist,a="whitelist");break}if("false"===this.isLicValid)return f(this.isLicValid,this.allowLocalStorage),void u.endPlayer.call(this,"PLATFORM Edition auth failed");if(h)return this.isLicValid="true",void f(this.isLicValid,this.allowLocalStorage);if(!e&&0<o.length){if("blacklist"===a){for(this.isLicValid="true",v=0,k=o.length;v<k;v++)if(-1<this.ragnarok.indexOf(o[v])){this.isLicValid="false";break}}else if("whitelist"===a)for(this.isLicValid="false",y=0,d=o.length;y<d;y++)if(-1<this.ragnarok.indexOf(o[y])){this.isLicValid="true";break}}else if(e&&0<s.length&&"string"==typeof s[0]&&""!==s[0])if(b=this.dom.container.getAttribute("data-rwlan"),b){this.isLicValid="false";c=void 0;try{c=window.atob(b)}catch(n){c=null;r.default.log(null,n)}if(c)for(p=0,g=s.length;p<g;p++)if(-1<c.indexOf(s[p])){this.isLicValid="true";break}}else this.isLicValid="false";"false"===this.isLicValid&&u.endPlayer.call(this,"PLATFORM Edition auth failed");f(this.isLicValid,this.allowLocalStorage)},b=["streams.rip","liluka-site.eu","www.liluka-site.eu"];u.isValidSiteKey=function(n,t){var i=void 0,s,k,u,d,p;if("function"!=typeof window.atob)return 2;try{if(c!==window.atob("aHR0cHM6Ly9jZG4ucmFkaWFudG1lZGlhdGVjaHMuY29tL3JtcC9yci92Z3MuanNvbg==")||l!==window.atob("aHR0cHM6Ly9jZG4ucmFkaWFudG1lZGlhdGVjaHMuY29tL3JtcC9yci92Z3QuanNvbg==")||a!==window.atob("aHR0cHM6Ly9jZG4ucmFkaWFudG1lZGlhdGVjaHMuY29tL3JtcC9yci92Z3JwLmpzb24="))return 0;i=window.atob(n)}catch(n){return 0}if("file:"===o.default.getProtocol?e=!0:h=function(n){return n?n===this.originLocal&&/host$/.test(n)||n===this.rmpDev&&/\.rmp$/.test(n)?!0:/^\d+\.\d+\.\d+\.\d+$/i.test(n)&&(n===this.altLocal||/^192\.168\./i.test(n)||/^172\.[1-3]/i.test(n)||/^10\./i.test(n))?!0:!1:!1}.call(this,t),/^\D{10}@\d+$/i.test(i))return"a2VpdWR5dHNobEAxNDg4ODkxNTQy"===this.licenseKey&&-1<b.indexOf(this.ragnarok)?0:(this.licType="plus",function(n){var t=this,i,u;if(o.default.localStorage(this.allowLocalStorage)&&null!==window.localStorage.getItem("rmpLU")&&(i=JSON.parse(window.localStorage.getItem("rmpLU")),u=parseInt(i.timestamp),r.default.isNumber(u))){var e=i.value,s=parseInt(i.timestamp),h=(new Date).getTime();if("true"===e&&h<s+36e5)return}this.licUrl=n+"?rdm="+Math.floor((new Date).getTime()/36e5);r.default.ajax(this.licUrl,this.ajaxInternalTimeout,!1,"GET").then(y.bind(this)).catch(function(){r.default.clearTimeout(t.rmpPlusCheckerRetryTimeout);t.rmpPlusCheckerRetryTimeout=setTimeout(function(){r.default.ajax(t.licUrl,t.ajaxInternalTimeout,!1,"GET").then(y.bind(t)).catch(function(){f("false",t.allowLocalStorage)})},1e4)})}.call(this,a),3);if(!/\*_%.+/i.test(i))return 0;if(s=!1,-1<(i=(i=i.replace("*_%","")).replace("%_*","")).indexOf("?")&&"rom5dasis30db0A"===i.split("?")[1]&&(s=!0,i=i.replace("?rom5dasis30db0A","")),k=function(n){var t=void 0,u,i;if(-1<n.indexOf("!")){if(t=n.split("!"),u={s:0,c:1,o:2,g:3,i:4,k:5,m:6,e:7,q:8,a:9},i=t[0].replace(/[scogikmeqa]/g,function(n){return u[n]}),/^\d+$/.test(i)){var f=parseInt(i,10),r=new Date,e=r.getTime();return(r=Math.round(e/1e3))+1382400<f?[!0,t[1],"expired"]:f<r?[!0,t[1],"expired"]:[!0,t[1],"notexpired"]}return[!0,t[1],"expired"]}return[!1,null,"notexpired"]}.call(this,i),u=k[0],u&&(this.licType="trial",i=k[1],"expired"===k[2]))return r.default.log("license","trial has expired"),0;if(e&&!u)return 0;if(h){if(s||u)return 2;if(!s)return 1}return d=i.replace(/[=+yzvudbsqacikegno0789456123]/g,function(n){return w[n]}),u?e||v.call(this,l,d):v.call(this,c,d),p=!1,e?p=!0:-1<t.replace(/\d/g,"").indexOf(d)&&(p=!0),(u||s)&&p?2:s||u||!p?0:1};u.ck=function(){var n=u.isValidSiteKey.call(this,this.licenseKey,this.ragnarok);return 0!==n&&(1===n?!(this.video360||this.ads||!r.default.isEmptyObject(this.shakaDrm)||this.hasRelated):2===n||3===n||void 0)};i.default=u},{"../../fw/env":52,"../../fw/fw":53,"../ready":35}],46:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}var u,c;Object.defineProperty(i,"__esModule",{value:!0});var r=o(n("../../fw/fw")),f=o(n("../../fw/env")),e=o(n("../../fw/defaults/input-defaults")),s=o(n("../ui/core-ui")),h=o(n("../../core/dom")),l=o(n("../../abr/fps")),a=o(n("./error"));u={openUrl:function(n,t){t&&t.stopPropagation();s.default.showChrome.call(this);"touchend"!==t.type&&"string"==typeof n&&""!==n&&(this.getPaused()||this.pause(),window.open(n,"_blank"))}};u.checkStreams=function(n,t,i){var u,f,e,o;r.default.isEmptyObject(t)||Array.isArray(t)&&t.length<1?n():(u=t,Array.isArray(t)?u.unshift(this.src):u=[this.src,t],f=[],u.forEach(function(n){r.default.srcExists(n[i],i)&&f.push(n)}),e=0,o=function(){var t=this,u=f[e],s=u[i];(function(n,t){var i=n;Array.isArray(n)&&("string"==typeof n[this.initialBitrate]?i=n[this.initialBitrate]:"string"==typeof n[0]&&(this.initialBitrate=0,i=n[this.initialBitrate]));this.src=t;this.startingBitratePath=i;this.castUrl=i}).call(this,s,u);r.default.ajax(this.startingBitratePath,this.ajaxTimeout,this.ajaxWithCredentials,"HEAD").then(function(){n()}).catch(function(){e===f.length-1?n():(e++,a.default.warning.call(t,"URI "+t.startingBitratePath+" is unavailable - trying next",1007,null),o.call(t))})},o.call(this))};c=function(n){var r={},t,u,i;for(t in e.default.labels)if(Object.prototype.hasOwnProperty.call(e.default.labels,t))if(void 0===r[t]&&(r[t]={}),typeof n[t]==typeof e.default.labels[t]){u=e.default.labels[t];for(i in u)r[t][i]=typeof n[t][i]==typeof u[i]?n[t][i]:e.default.labels[t][i]}else r[t]=e.default.labels[t];return r};u.filterInput=function(n){var i={},t,r;for(t in e.default)Object.prototype.hasOwnProperty.call(e.default,t)&&(i[t]=void 0!==n[t]?"shakaCustomRequestFilter"===t||"hlsJSXhrSetup"===t?"function"==typeof n[t]?n[t]:null:typeof n[t]!=typeof e.default[t]?e.default[t]:"labels"===t?c(n[t]):n[t]:e.default[t],"string"==typeof i[t]&&(i[t]=i[t].trim()));for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(this[r]=i[r])};u.resetSrc=function(){this.hasMp4=!1;this.hasMp4Hevc=!1;this.hasWebM=!1;this.hasHls=!1;this.hasHlsHevc=!1;this.hasDash=!1;this.hasFps=!1;this.hasM4a=!1;this.hasMp3=!1;this.okOgg=!1};u.detectSrc=function(){r.default.srcExists(this.src.mp4,"mp4")&&(this.hasMp4=!0,this.isVod||(this.hasMp4=!1));r.default.srcExists(this.src.mp4Hevc,"mp4Hevc")&&(this.hasMp4Hevc=!0,this.isVod||(this.hasMp4Hevc=!1));r.default.srcExists(this.src.webm,"webm")&&(this.hasWebM=!0,this.isVod||(this.hasWebM=!1));r.default.srcExists(this.src.hls,"hls")&&(this.hasHls=!0);r.default.srcExists(this.src.hlsHevc,"hlsHevc")&&(this.hasHlsHevc=!0);r.default.srcExists(this.src.dash,"dash")&&(this.hasDash=!0,this.isLiveDvr&&(this.hasDash=!1));r.default.isEmptyObject(this.shakaDrm)||(this.hasDash&&(this.dashFirst=!0,(this.hasHls||this.hasHlsHevc)&&(this.hlsEngine="hlsjs")),f.default.isMacosSafari[0]&&(this.okDash=!1,this.hlsEngine="hlsjs"));r.default.srcExists(this.src.fps,"fps")&&(this.hasFps=!0,this.airplay=!1)};u.detectAudioSrc=function(){r.default.srcExists(this.src.m4a,"m4a")&&(this.hasM4a=!0,this.isVod||(this.hasM4a=!1));r.default.srcExists(this.src.mp3,"mp3")&&(this.hasMp3=!0,this.isVod||(this.hasMp3=!1));r.default.srcExists(this.src.ogg,"ogg")&&(this.hasOgg=!0,this.isVod||(this.hasOgg=!1));r.default.srcExists(this.src.hls,"hls")&&(this.hasHls=!0);r.default.srcExists(this.src.dash,"dash")&&(this.hasDash=!0,this.isLiveDvr&&(this.hasDash=!1))};u.createNativeSrc=function(n){h.default.prepare.call(this);u.checkStreams.call(this,function(){this.readingFps?l.default.init.call(this):this.dom.video.src=this.startingBitratePath;h.default.append.call(this)}.bind(this),this.backupSrc,n)};u.getCSS=function(){var n="https://cdn.radiantmediatechs.com/rmp/5.0.9/css/rmp-"+this.skin+".min.css";this.cssLink=document.createElement("link");this.cssLink.id="rmp-dress-code";this.cssLink.type="text/css";this.cssLink.rel="stylesheet";this.cssLink.href=n;r.default.addEventListenerCSS?(this.onLoadedCSS=function(){r.default.clearTimeout(this.cssLinkTimeout);this.cssLoaded||(this.cssLoaded=!0,r.default.addEventListenerCSS&&(this.cssLink.removeEventListener("load",this.onLoadedCSS),this.cssLink.removeEventListener("error",this.onLoadedCSS)),this.initConfig())}.bind(this),this.cssLink.addEventListener("load",this.onLoadedCSS),this.cssLink.addEventListener("error",this.onLoadedCSS),r.default.clearTimeout(this.cssLinkTimeout),this.cssLinkTimeout=setTimeout(this.onLoadedCSS,2500),r.default.appendToHead(this.cssLink)):(r.default.appendToHead(this.cssLink),this.initConfig())};u.clearAdAutoplayEvents=function(){this.dom.container.removeEventListener("adstarted",this.onAdAutoplaySuccess);this.dom.container.removeEventListener("adinitialplayrequestsucceeded",this.onAdAutoplaySuccess);this.dom.container.removeEventListener("adinitialplayrequestfailed",this.onAdAutoplayFailed)};u.fireAutoplayFailure=function(){this.autoplay=!1;r.default.createStdEvent("autoplayfailure",this.dom.container)};u.autoplayFailureRestorePlayUI=function(){this.initialAutoplayRequest=!1;this.ads&&u.clearAdAutoplayEvents.call(this);r.default.show(this.dom.poster);s.default.restorePlayUI.call(this);u.fireAutoplayFailure.call(this)};u.fireAutoplaySuccess=function(){this.initialAutoplayRequest=!1;this.ads&&u.clearAdAutoplayEvents.call(this);r.default.createStdEvent("autoplaysuccess",this.dom.container)};u.playPromise=function(){var t=this,n=!1,i;this.autoplay&&this.initialAutoplayRequest&&(n=!0,this.initialAutoplayRequest=!1);i=this.dom.video.play();void 0!==i?i.then(function(){n&&u.fireAutoplaySuccess.call(t)}).catch(function(){n?u.autoplayFailureRestorePlayUI.call(t):s.default.restorePlayUI.call(t)}):n&&u.fireAutoplaySuccess.call(this)};u.assignPlaybackCapabilities=function(){this.okDash=f.default.okDash;this.okHls=f.default.okHls;this.okHlsHevc=f.default.okHlsHevc;this.okHlsJS=f.default.okHlsJS;"hlsjs"===this.hlsEngine&&(f.default.isAndroid[0]&&f.default.isAndroid[1]<5&&(this.okHls||(this.okHls=!0),this.forceNativeHlsOverHlsJS=!0),this.forceNativeHlsOverHlsJS&&this.okHlsJS&&this.okHls&&(this.okHlsJS=!1),f.default.isMacosSafari[0]&&!this.forceHlsJSOnMacOSSafari&&this.okHls&&(this.okHlsJS=!1));this.isLiveDvr&&(!this.okHlsJS&&r.default.srcExists(this.src.hls,"hls")&&this.okHls||r.default.srcExists(this.src.hlsHevc,"hlsHevc")&&this.okHlsHevc)&&(this.isLiveDvr=!1,this.isLive=!0);this.okFps=f.default.okFps;this.okWebM=f.default.testWebM(this.webmCodecs,f.default.html5Video);this.okMp4=f.default.okMp4;this.okMp4Hevc=f.default.hasHevcSupport;this.audioOnly&&(this.okM4a=f.default.okM4a,this.okMp3=f.default.okMp3,this.okOgg=f.default.testOgg(this.oggCodec,f.default.html5Audio))};i.default=u},{"../../abr/fps":2,"../../core/dom":25,"../../fw/defaults/input-defaults":51,"../../fw/env":52,"../../fw/fw":53,"../ui/core-ui":41,"./error":44}],47:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,f=n("../../fw/fw"),e=(r=f)&&r.__esModule?r:{"default":r},u={destroy:function(){if((this.viewableAutoplay||this.viewablePlayPause)&&this.viewableObserver){0;try{this.viewableObserver.disconnect()}catch(n){e.default.trace(n)}}}},o=function(){this.dom.container.removeEventListener("ready",this.attachViewableObserver);var n={root:null,rootMargin:"0px",threshold:[this.viewableThreshold]};this.viewablePreviousRatio=this.viewableThreshold;this.viewableObserver=new window.IntersectionObserver(function(n){var t=this;n.forEach(function(n){var i=t.getPlayerInitialized();n.intersectionRatio>t.viewablePreviousRatio?t.viewablePlayPause?t.play():t.viewableAutoplay&&!i&&(t.play(),u.destroy.call(t)):t.viewablePlayPause&&i&&t.pause();t.viewablePreviousRatio=n.intersectionRatio})}.bind(this),n);this.viewableObserver.observe(this.dom.container)};u.set=function(){this.attachViewableObserver=o.bind(this);this.dom.container.addEventListener("ready",this.attachViewableObserver)};i.default=u},{"../../fw/fw":53}],48:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(i,"__esModule",{value:!0});var r=e(n("../../fw/fw")),o=e(n("../../fw/env")),s=e(n("../ui/core-ui")),f=e(n("../../cast/cast"));u={getVolumeAds:function(){return"ima"===this.adParser&&this.adsManager&&"function"==typeof this.adsManager.getVolume?this.adsManager.getVolume():"rmp-vast"===this.adParser&&this.rmpVast&&"function"==typeof this.rmpVast.getVolume?this.rmpVast.getVolume():-2},setVolumeAds:function(n){"ima"===this.adParser&&this.adsManager&&"function"==typeof this.adsManager.setVolume?this.adsManager.setVolume(n):"rmp-vast"===this.adParser&&this.rmpVast&&"function"==typeof this.rmpVast.setVolume&&this.rmpVast.setVolume(n)},protoMute:function(){this.currentVolume=this.getVolume();f.default.castingAPIAvailable.call(this)?(this.remotePlayerController.muteOrUnmute(),u.change.call(this)):(this.muted=!0,this.dom.video.muted=!0,this.getAdOnStage()&&this.getAdLinear()&&("ima"===this.adParser?u.setVolumeAds.call(this,0):"rmp-vast"===this.adParser&&this.rmpVast&&"function"==typeof this.rmpVast.setMute&&this.rmpVast.setMute(!0)));this.dom.currentVolume.style.height="0px";r.default.addClass(this.dom.volume,"rmp-i-volume-off");r.default.removeClass(this.dom.volume,"rmp-i-volume-up")},protoUnmute:function(){if(f.default.castingAPIAvailable.call(this))this.remotePlayerController.muteOrUnmute(),u.change.call(this);else{if(this.permanentMuted)return;this.muted=!1;this.dom.video.muted=!1;this.getAdOnStage()&&this.getAdLinear()&&"rmp-vast"===this.adParser&&this.rmpVast&&"function"==typeof this.rmpVast.setMute&&this.rmpVast.setMute(!1);0<this.currentVolume&&this.currentVolume<1?this.setVolume(this.currentVolume):this.setVolume(1)}r.default.addClass(this.dom.volume,"rmp-i-volume-up");r.default.removeClass(this.dom.volume,"rmp-i-volume-off")},writeToLocalStorage:function(n){if(this.rememberVolume&&o.default.localStorage(this.allowLocalStorage)){var t={value:n.toString()};try{window.localStorage.setItem("rmpVolume",JSON.stringify(t))}catch(n){r.default.trace(n)}}},volumeInteraction:function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());s.default.showChrome.call(this);var t=0;this.getMute()?(this.setMute(!1),t=this.getVolume()):this.setMute(!0);u.writeToLocalStorage.call(this,t)},change:function(){var t=this.getMute(),n;this.volumeBarHeight=t?0:r.default.getHeight(this.dom.volumeBar);n=0;f.default.castingAPIAvailable.call(this)?r.default.isNumber(this.remotePlayer.volumeLevel)&&(n=this.remotePlayer.volumeLevel*this.volumeBarHeight):(r.default.isNumber(this.dom.video.volume)&&(n=this.dom.video.volume*this.volumeBarHeight),r.default.createStdEvent("volumechange",this.dom.container));this.dom.currentVolume&&0<=n&&(this.dom.currentVolume.style.height=n+"px")},setHtml5Volume:function(n){if(n){n.stopPropagation();this.volumeBarHeight=r.default.getHeight(this.dom.volumeBar);var i=r.default.getAbsTop(this.dom.volumeBar),t=1-(r.default.getPosY(n)-i)/this.volumeBarHeight;if(t<.1?t=0:.9<t&&(t=1),this.currentVolume=t,u.writeToLocalStorage.call(this,this.currentVolume),f.default.castingAPIAvailable.call(this))return this.remotePlayer.volumeLevel=t,this.remotePlayerController.setVolumeLevel(),this.remotePlayer.isMuted&&this.remotePlayerController.muteOrUnmute(),void u.change.call(this);this.getMute()&&this.setMute(!1);this.dom.video.volume=this.currentVolume;this.getAdOnStage()&&this.getAdLinear()&&u.setVolumeAds.call(this,t)}}};i.default=u},{"../../cast/cast":22,"../../fw/env":52,"../../fw/fw":53,"../ui/core-ui":41}],49:[function(n,t,i){"use strict";function u(n){return Object.assign({muted:!1,timeout:250,inline:!1},n)}function f(n,t){var s=n.muted,f=n.timeout,h=n.inline,e=t(),i=e.element,c=e.source,u=void 0,o=void 0,r=void 0;return!0===(i.muted=s)&&i.setAttribute("muted","muted"),!0===h&&i.setAttribute("playsinline","playsinline"),i.src=c,new Promise(function(n){u=i.play();o=setTimeout(function(){r(!1,new Error("Timeout "+f+" ms has been reached"))},f);r=function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(o);n({result:t,error:i})};void 0!==u?u.then(function(){return r(!0)}).catch(function(n){return r(!1,n)}):r(!0)})}Object.defineProperty(i,"__esModule",{value:!0});var r={},e=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),o=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});r.video=function(n){return f(n=u(n),function(){return{element:document.createElement("video"),source:URL.createObjectURL(o)}})};r.audio=function(n){return f(n=u(n),function(){return{element:document.createElement("audio"),source:URL.createObjectURL(e)}})};i.default=r},{}],50:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){return null},u="string"==typeof window.rmpGetRagnarok?window.rmpGetRagnarok:window.location&&window.location.hostname?window.location.hostname.toLowerCase():null,f={set:function(){this.playerVersion="5.0.9";this.playerReady=!1;this.hasLoadedMetadata=!1;this.timeReady=0;this.isInFullscreen=!1;this.isVod=!0;this.isHTML5=!0;this.setSrcPDModule=!1;this.startingBitratePath="";this.firstPlay=!0;this.draggingTimeCursor=!1;this.touchDown=!1;this.mouseupDoc=r;this.mousemoveDoc=r;this.throttledResize=r;this.firstFrameReached=!1;this.useVideoTitle=!1;this.msePreloadRequested=!1;this.msePreloadCompleted=!1;this.abrAutoMode=!0;this.changingSrc=!1;this.afterMp4BitrateSwitch=r;this.afterSrcSwitch=null;this.currentVolume=1;this.volumeBarHeight=0;this.initialAspectRatio=1.7777777778;this.initialWidth=-1;this.initialHeight=-1;this.hasNativeFullscreenSupport=!1;this.fullWindowMode=!1;this.throttledResizeTimeout=null;this.onPosterLoad=r;this.onPosterError=r;this.logoAppended=!1;this.onLogoLoad=r;this.onLogoError=r;this.openLogoUrl=r;this.windowOnline=r;this.windowOffline=r;this.readingMp4=!1;this.readingMp4Hevc=!1;this.readingWebM=!1;this.readingM4a=!1;this.readingMp3=!1;this.readingOgg=!1;this.readingDash=!1;this.readingHlsJS=!1;this.readingHlsShaka=!1;this.readingHls=!1;this.readingHlsHevc=!1;this.readingPDorNative=!0;this.readingOutstream=!1;this.readingMse=!1;this.hasMp4=!1;this.hasMp4Hevc=!1;this.hasWebM=!1;this.hasM4a=!1;this.hasMp3=!1;this.hasOgg=!1;this.hasHls=!1;this.hasHlsHevc=!1;this.hasFps=!1;this.hasDash=!1;this.okDash=!1;this.okHlsJS=!1;this.okFps=!1;this.okHls=!1;this.okWebM=!1;this.okMp4=!1;this.okMp4Hevc=!1;this.okM4a=!1;this.okMp3=!1;this.okOgg=!1;this.viewablePreviousRatio=.5;this.viewableObserver=null;this.attachViewableObserver=r;this.processInitiatePlayback=null;this.initiatePlayback=r;this.bindKeyboard=r;this.showChrome=r;this.containerTouch=r;this.containerClick=r;this.removeFocusToContainer=r;this.addTabKeyDetection=r;this.controls=!0;this.fullscreenchange=r;this.fullscreenerror=r;this.unstalledBuffer=r;this.firstBufferStalledEvent=!0;this.licenseFailedDestroyRequested=!1;this.destroyRunning=!1;this.onStartSeekToOffset=r;this.forceResetTimer=!1;this.chromeTimer=null;this.touchRmp=!1;this.cssLink=null;this.cssLinkTimeout=null;this.initConfig=r;this.cssLoaded=!1;this.onLoadedCSS=r;this.loadstartFn=r;this.durationchangeFn=r;this.loadedmetadataFn=r;this.loadeddataFn=r;this.progressFn=r;this.playingFn=r;this.waitingFn=r;this.seekingFn=r;this.seekedFn=r;this.pauseFn=r;this.playFn=r;this.timeupdateFn=r;this.webkitbeginfullscreenFn=r;this.webkitendfullscreenFn=r;this.volumechangeFn=r;this.onMobileStartAutoHideCentralUI=r;this.setSrcResetAdInterval=null;this.logRetryTimeout=null;this.logGaSeekingTimeout=null;this.prerollMaskRemovalTimeout=null;this.orientationChangeResizeTimeout=null;this.siteCheckerRetryTimeout=null;this.postStop=null;this.firstDurationChange=!0;this.startUpPlay=0;this.startUpPlaying=0;this.ended=r;this.generateError=r;this.errorData=null;this.adDisplayContainer=null;this.adOnStage=!1;this.adsManager=null;this.adsLoader=null;this.contentCompleteCalled=!1;this.isLinear=!1;this.adPaused=!1;this.adDCInitialized=!1;this.adID="";this.adCreativeAdId="";this.adCreativeId="";this.adDealId="";this.adSystem="";this.adAdvertiserName="";this.adMediaUrl="";this.adSurveyUrl="";this.adUniversalAdIdRegistry="unknown";this.adUniversalAdIdValue="unknown";this.adApiFramework="";this.adContentType="";this.adDescription="";this.adDuration=-1;this.adTraffickingParameters=null;this.adTraffickingParametersString="";this.adNonLinearHeight=-1;this.adNonLinearWidth=-1;this.adTitle="";this.adWrapperAdIds=null;this.adWrapperAdSystems=null;this.adWrapperCreativeIds=null;this.hasAdUI=!1;this.playerInitialized=!1;this.emptyInitAdTagUrl=!1;this.adScheduleInput=!1;this.currentAdForCompanion=null;this.adPodInfo=null;this.adErrorCode=-1;this.adErrorMessage="";this.adErrorType="";this.adVastErrorCode=-1;this.originalAdTagUrl=null;this.originalAdTagWaterfall=[];this.isVPAID=!1;this.adCountdownInterval=null;this.onEndedWaitForPlay=r;this.onRePlayLoadAdTag=r;this.onAdLoadedAfterReload=r;this.adRemainingTimeBarInterval=null;this.firstPreroll=!0;this.currentiOSSrc="";this.onIosStartShowFS=r;this.onIphone10PlusHideFS=r;this.onAdBlockDetected=null;this.onNoAdBlockDetected=null;this.imaLoadTimeout=null;this.imaLoadCancel=!1;this.adSkipInterval=null;this.onContentResumeRequestedLoadAds=r;this.onAdStartedPostRollUpdateCentralUI=r;this.onAdOnStageUpdatePrerollMask=r;this.setSrcAdReset=!1;this.setSrcResetIMA=r;this.runAdsManagerInterval=null;this.adOutStreamSkin=!1;this.postImaAdDestroy=null;this.imaDaiStreamManager=null;this.imaDaiLive=!1;this.imaDaiVod=!1;this.imaDaiAdCurrentTime=-1;this.rmpVast=null;this.onRmpVastAdStarted=r;this.onRmpVastAdDestroyed=r;this.onRmpVastAdError=r;this.onRmpVastAdInteraction=r;this.onRmpVastAdLinearChanged=r;this.onRmpVastAdPlayPause=r;this.adErrorDetected=!1;this.onAdTagStartLoading=r;this.setSrcResetRmpVast=r;this.initialAutoplayRequest=!1;this.onAdAutoplayFailed=r;this.onAdAutoplaySuccess=r;this.liveAdSchedulerChecker=null;this.liveAdSchedulerCheckerIndex=0;this.adSchedulerChecker=r;this.adSchedulerEnded=r;this.playScheduler=r;this.pauseScheduler=r;this.adParserLoaded=!1;this.adParserLoadError=!1;this.analyticsSecondsPlayed=0;this.startUpTime=-1;this.heatMapArray=[];this.startUpLogPlaying=r;this.appendFormDataAndSendLog=r;this.logGaReady=r;this.logGaPlayerStart=r;this.logGaSrcChanged=r;this.logGaError=r;this.logGaAdImpression=r;this.logGaAdLoaderError=r;this.logGaAdError=r;this.logGaAdLoadError=r;this.logGaAdPlayError=r;this.logGaFullscreen=r;this.logGaEnded=r;this.logGaSeeking=r;this.logGaAdClick=r;this.logGaAdClientSideWaterfallRequested=r;this.gaContext=!1;this.analyticsInterval=null;this.analyticsPlay=r;this.analyticsPause=r;this.updateHeatMap=null;this.gaCommand="send";this.gaSeekingSending=!1;this.runLogs=r;this.runLogsOnSrcChanged=r;this.licUrl="";this.isLicValid="false";this.shakaPlayer=null;this.shakaVideoRenditions=[];this.shakaTextTracks=[];this.shakaError=r;this.shakaAdaptationChanged=r;this.shakaBuffering=r;this.shakaUnstalledBuffer=r;this.shakaTracksChanged=r;this.shakaCurrentLevel=null;this.configureShakaCapLevelToPlayerSize=r;this.shakaOnPlayingResetRetriesCount=r;this.shakaOfflineList=null;this.shakaOfflineDownloadProgress=-1;this.hlsJS=null;this.hlsID3TagData=null;this.hlsEpochProgramDateTime=-1;this.hlsRawProgramDateTime=null;this.hlsFragmentData=null;this.hlsFragmentBeingPlayed=null;this.hlsLevelData=null;this.hlsManifestData=null;this.hlsJSLevelDuration=-1;this.hlsOnPauseStopLoad=r;this.hlsOnPlayStartLoad=r;this.hlsOnFirstPlaying=r;this.hlsJSUnstalledBuffer=null;this.hlsManifestParsed=r;this.hlsJSAttachMultiAudio=r;this.hlsJSOnLiveRetriesSuccess=r;this.initHLSJS=r;this.bwEstimate=-1;this.hlsJSCEA=!1;this.hlsJSAbrInterval=null;this.hlsJSErrorRetryTimeout=null;this.hlsResizeLevelSwitch=null;this.exitFSDestroy=null;this.proceedDestroy=!0;this.adsDestroyed=!1;this.dvrLiveMode=!0;this.dvrCurrentTime=-1;this.pauseDvr=r;this.playingDvr=r;this.seekingDvr=r;this.castReady=r;this.castInit=r;this.castMedia=null;this.remotePlayer=null;this.remotePlayerController=null;this.castMediaLoaded=!1;this.castConnected=!1;this.castUrl="";this.loadCastMedia=r;this.remotePlayerState="";this.googleCastCCForegroundColor="FFFFFF99";this.googleCastCCBackgroundColor="00000070";this.googleCastCCFontScale=.9;this.onAirPlayClick=r;this.onAirPlayAvailabilityChanged=r;this.onLoadedmetadataShowAirPlay=r;this.defaultTrack=0;this.textTracks=[];this.hasCC=!1;this.addNativeVTT=r;this.updateCues=r;this.updateCuesResize=r;this.ccData=null;this.ccCues=[];this.ccEnabled=!1;this.loadedCCFiles=[];this.ccFilesReady=!1;this.hlsJSCCInterval=null;this.startIndexCC=0;this.loadVTTFiles=r;this.lat=0;this.lon=0;this.mouseDown=!1;this.dragStart={};this.progressiveInterval=null;this.progressiveMoveInprogress=!1;this.animate360=r;this.onReadyMain360=r;this.onPlayingUpdate360UI=r;this.requestAnimation360=null;this.texture360=null;this.renderer360=null;this.camera360=null;this.scene360=null;this.mesh360=null;this.canvas360=null;this.streamrootWrapper=null;this.hasStreamroot=!1;this.thumbnailsArray=[];this.thumbnailURIs=[];this.thumbnailURIsTimestamps=[];this.currentThumbnailURI="";this.hasThumbnails=!1;this.dummyThumbnailsImg=null;this.onThumbnailsLoad=r;this.onThumbnailsError=r;this.chaptersArray=[];this.hasChapters=!1;this.onLoadedmetadaAddChapters=r;this.licType="rmp";this.hasRelated=!1;this.relatedList=[];this.currentRelatedIndex=0;this.relatedOnSrcChangedLoadAd=r;this.hasPlaylist=!1;this.playlistList=[];this.currentPlaylistIndex=0;this.playlistOnSrcChangedLoadAd=r;this.ajaxInternalTimeout=1e4;this.refTime=0;this.ragnarok=u;this.rmpDev="site.rmp";this.originLocal="localhost";this.altLocal="127.0.0.1";this.muxData=!1;this.muxDataHlsJSMonitored=!1;this.onHlsjsErrorEmitMuxError=r}};i.default=f},{}],51:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={licenseKey:"",width:640,height:360,iframeMode:!1,iframeAllowed:!0,autoHeightMode:!1,autoHeightModeRatio:1.7777777778,backgroundColor:"000000",skin:"s1",skinBackgroundColor:"",skinButtonColor:"",skinAccentColor:"",hideControls:!1,hideCentralPlayButton:!1,hideCentralBuffering:!1,hideSeekBar:!1,hideFullscreen:!1,autoplay:!1,detectAutoplayCapabilities:!0,viewableAutoplay:!1,viewablePlayPause:!1,viewableThreshold:.5,srcChangeAutoplay:!0,poster:"",endOfVideoPoster:"",posterScaleMode:"letterbox",scaleMode:"letterbox",loop:!1,muted:!1,permanentMuted:!1,initialVolume:1,rememberVolume:!0,disableKeyboardControl:!1,preload:"none",delayToFade:2500,contentTitle:"",contentDescription:"",contentID:"",videoTitle:"",appName:"",logo:"",logoLoc:"",logoWatermark:!1,logoPosition:"topleft",logoMargin:"8px",sharing:!1,sharingUrl:"",sharingCode:"",sharingNetworks:["facebook","twitter","email"],audioOnly:!1,debugLevel:1,debugOverlayEnv:!1,pathToRmpFiles:".",offsetStartPosition:0,quickRewind:0,fadeInPlayer:!0,uiSeparator:"-",ajaxWithCredentials:!1,ajaxTimeout:1e4,allowLocalStorage:!0,dashFirst:!1,shakaStartLevel:-1,shakaStreamingBufferBehind:30,shakaStreamingBufferingGoal:20,shakaStreamingRebufferingGoal:4,shakaStreamingIgnoreTextStreamFailures:!1,shakaRetryParameters:{},shakaRestrictions:{},shakaDrm:{},shakaRequestConfiguration:{},shakaPreferredAudioLanguage:"",shakaCapLevelToPlayerSize:!0,shakaOffline:!1,shakaOfflinePreferredTrackQuality:-1,shakaUsePersistentLicense:!0,shakaJumpLargeGaps:!1,shakaSmallGapLimit:.5,shakaBandwidthDowngradeTarget:.95,shakaBandwidthUpgradeTarget:.75,shakaCustomConfig:{},shakaCustomRequestFilter:null,shakaManifestDashDefaultPresentationDelay:10,hlsJSCapLevelToPlayerSize:!0,hlsJSMaxBufferLength:30,hlsJSMaxBufferSize:0,hlsJSStartLevel:-1,hlsJSXhrWithCredentials:!1,hlsJSXhrSetup:null,hlsJSEnableCaptions:!0,hlsJSDefaultAudioCodec:"auto",hlsJSLiveSyncDuration:30,hlsJSMinAutoBitrate:0,hlsJSAppleAppStoreCompliance:!1,hlsJSStopDownloadWhilePaused:!1,hlsJSAbrBandWidthFactor:.95,hlsJSAbrBandWidthUpFactor:.75,hlsJSMaxAudioFramesDrift:1,hlsJSCustomConfig:{},forceHlsJSOnMacOSSafari:!1,forceNativeHlsOverHlsJS:!1,hlsEngine:"hlsjs",hlsJSUseManifestRenditionName:!1,fpsDrm:{},bitrates:{},backupBitrates:{},src:{},backupSrc:{},initialBitrate:0,labels:{bitrates:{auto:"Auto",renditions:["auto"]},hint:{sharing:"Share",quality:"Quality",speed:"Speed",captions:"Captions",audio:"Audio",chapters:"Chapters",live:"Live",cast:"Cast",airplay:"AirPlay",playlist:"Playlist",related:"Related",upNext:"Up Next"},captions:{off:"Off"},error:{customErrorMessage:"This content is currently unavailable",noSupportMessage:"No playback support",noSupportDownload:"You may download video here",noSupportInstallChrome:"Using the latest version of Google Chrome may help to view this content",noSupportInstallChromeLink:"https://www.google.com/chrome/"},ads:{controlBarCustomMessage:"Ad",skipMessage:"Skip ad",skipWaitingMessage:"Skip ad in",textForClickUIOnMobile:"Learn more"}},hideExternalPlayerLabels:!1,webmCodecs:{video:"vp8",audio:"vorbis"},oggCodec:"vorbis",webmFirst:!1,isLive:!1,liveRetries:1/0,isLiveDvr:!1,ccFiles:[],crossorigin:"",ccFontSize:-1,ccFSFontSize:-1,ccTextColor:"FFFFFF",ccBackgroundColor:"000000",ccBackgroundAlpha:.85,ccParser:"vtt.js",gaTrackingId:"",gaCategory:"RMP",gaLabel:"RMP label",gaNamedTracker:"",gaEvents:[],gaAnonymizeIp:!1,gaNonInteractionEvents:!1,heatMap:!1,heatMapAccuracy:20,seekBarThumbnailsLoc:"",chaptersLoc:"",nav:!1,navRates:[.25,.5,1,1.5,2,4],googleCast:!0,googleCastReceiverAppId:"C899A03E",googleCastPoster:"",googleCastMetadataType:"GENERIC",googleCastContentTitle:"",googleCastReleaseDate:"",airplay:!0,ads:!1,adTagUrl:"",adSkipButton:!1,adSkipOffset:5,adsResponse:"",adAutoplayOnlyPreroll:!1,adImaTest:!1,adTagWaterfall:[],adLocale:"en",adUseStyledNonLinearAds:!0,adSchedule:{},adVpaidMode:"insecure",adVpaidControls:!1,adContentDuration:0,adContentKeywords:"",adContentTitle:"",adForceNonLinearFullSlot:!1,adTagReloadOnEnded:!1,adShowRemainingTime:!1,adAutoAlign:!0,adDisableCustomPlaybackForIOS10Plus:!1,adEnablePreloading:!1,adImaDai:!1,adImaDaiVodContentSourceId:"",adImaDaiVodVideoId:"",adImaDaiLiveAssetKey:"",adImaDaiApiKey:"",adImaDaiBackupStream:"",adImaDaiAdTagParameters:{},adImaDaiStreamActivityMonitorId:"",adOutStream:!1,adOutStreamMutedAutoplay:!0,adAjaxWithCredentials:!0,adRmpVastEnableVpaid:!0,adLoadMediaTimeout:8e3,adLoadVastTimeout:5e3,adMaxNumRedirects:4,adCountDown:!1,adPauseOnClick:!0,adParser:"ima",adBlockerDetection:!1,adBlockerDetectedPreventPlayback:!1,adBlockerDetectedMessage:"Ad-blocker software detected. To view this content please disable your ad-blocker.",relatedLoc:"",relatedData:[],relatedUpNextOffset:10,relatedUpNextAutoplay:!0,relatedEndedLoop:!1,playlistLoc:"",playlistData:[],playlistUpNextAutoplay:!0,playlistEndedLoop:!1,video360:!1,video360FocalLength:65,video360MaxFocalLength:115,video360MinFocalLength:25,video360InitialLat:0,video360InitialLon:0,video360FallbackBitrates:{},video360FallbackSrc:{},customModule:[],streamrootConfig:{},muxDataSettings:{},muxDataUseListData:!0}},{}],52:[function(n,t,i){"use strict";var rt;Object.defineProperty(i,"__esModule",{value:!0});var p,vt=n("./fw"),e=(p=vt)&&p.__esModule?p:{"default":p},r={};window.MediaSource=window.MediaSource||window.WebKitMediaSource;var k,d,g,s=document.createElement("video"),h=void 0!==s.canPlayType,l=document.createElement("audio"),a=void 0!==l.canPlayType,w=!!(void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof window.DocumentTouch),u=window.navigator&&window.navigator.userAgent?window.navigator.userAgent:null,yt=window.location&&window.location.protocol?window.location.protocol.toLowerCase():null,b=function(n){if(null!==u){var t=u.match(n);if(Array.isArray(t)&&void 0!==t[1])return parseInt(t[1],10)}return-1},pt=/os\s+(\d+)_(\d+)/i,wt=function(){if(null!==u){var n=u.match(pt);if(Array.isArray(n)&&void 0!==n[1]&&void 0!==n[2])return parseInt(n[2],10)}return-1}(),f=(k=[!1,-1],w&&/(ipad|iphone|ipod)/i.test(u)&&(k=[!0,b(/os\s+(\d+)/i)]),k),bt=!(f[0]||!/(macintosh|mac\s+os)/i.test(u)),et=(d=!1,g=-1,/safari\/[.0-9]*/i.test(u)&&!/(chrome|chromium|android|crios|fxios)/i.test(u)&&(d=!0,g=b(/version\/(\d+)/i)),[d,g]),o=[!1,-1];bt&&et[0]&&(o=[!0,et[1]]);var nt,c=(nt=[!1,-1],f[0]||!w||/android/i.test(u)&&(nt=[!0,b(/android\s*(\d+)/i)]),nt),tt=!1;(f[0]||c[0])&&(tt=!0);var it=!!(f[0]&&window.navigator&&void 0!==window.navigator.standalone&&window.navigator.standalone)||!(!c[0]||"function"!=typeof window.matchMedia||!window.matchMedia("(display-mode: standalone)").matches);r.isAndroidWebView=!(/(samsungbrowser\/|firefox\/|opr\/)/i.test(u)||!c[0]||it||!(c[1]<5&&/version\/[.0-9]*/i.test(u))&&!(5<=c[1]&&/chrome\/[.0-9]*/i.test(u)&&/wv/.test(u)));r.isIosWebView=!(!f[0]||/(version\/|safari\/|crios|fxios)/i.test(u)||it);rt=!1;(r.isAndroidWebView||r.isIosWebView)&&(rt=!0);r.isWebView=rt;var ut,ft,v,ot='video/mp4; codecs="avc1.42E01E,mp4a.40.2"',st=function(){return h&&""!==s.canPlayType(ot)?!0:!1},kt=st(),dt=/vp9|vp09\./i,y=!(!h||void 0===window.MediaSource||"function"!=typeof window.MediaSource.isTypeSupported),ht=void 0!==window.MediaKeys||void 0!==window.WebKitMediaKeys||void 0!==window.MSMediaKeys,ct='video/mp4; codecs="hvc1.1.6.L63.90,mp4a.40.29"',lt='video/mp4; codecs="hev1.1.6.L63.90,mp4a.40.29"',at=(ut=1,"number"==typeof window.devicePixelRatio&&1<window.devicePixelRatio&&(ut=window.devicePixelRatio),ut);r.getViewportSize=function(){var n=-1,t=-1;return e.default.isNumber(window.innerWidth)&&0<window.innerWidth&&e.default.isNumber(window.innerHeight)&&0<window.innerHeight&&(n=window.innerWidth,t=window.innerHeight),{width:n,height:t}};u&&(r.userAgent=u);r.isInIframe=function(){try{if(window.parent!==window)return!0}catch(n){return e.default.trace(n),!1}return!1}();r.isSamsungInternet=(ft=[!1,-1],c[0]&&/samsungbrowser\//i.test(u)&&(ft=[!0,b(/samsungbrowser\/(\d+)/i)]),ft);r.okMp4=st();r.testWebM=function(n){var t="vp8",i="vorbis",r;return(n&&n.video&&n.audio&&(dt.test(n.video)&&(t=n.video),"opus"===n.audio&&(i=n.audio)),r='video/webm; codecs="'+t+", "+i+'"',h&&""!==s.canPlayType(r))?!0:!1};r.okWebM=function(){return h&&""!==s.canPlayType('video/webm; codecs="vp8,vorbis"')?!0:!1}();r.hasHevcSupport=!f[0]&&!o[0]&&!(!h||""===s.canPlayType(ct)&&""===s.canPlayType(lt));r.hasMseHevcSupport=!(!y||!window.MediaSource.isTypeSupported(ct)&&!window.MediaSource.isTypeSupported(lt));r.okM4a=function(){var n=!1;return a&&""!==l.canPlayType('audio/mp4; codecs="mp4a.40.2"')&&(n=!0),n}();r.okMp3=function(){var n=!1;return a&&""!==l.canPlayType("audio/mpeg")&&(n=!0),n}();r.testOgg=function(n){var t="vorbis",i;return("opus"===n&&(t=n),a)&&(i='audio/ogg; codecs="'+t+'"',""!==l.canPlayType(i))?!0:!1};r.okHls=function(){if(h&&kt){var n=s.canPlayType("application/vnd.apple.mpegurl"),t=s.canPlayType("application/x-mpegurl");if(""!==n||""!==t)return!0}return!1}();r.okHlsJS=!(!y||!window.MediaSource.isTypeSupported(ot));r.okHlsHevc=function(n,t,i,r){return h&&(f[0]&&10<f[1]||o[0]&&10<o[1]&&i||i&&t||n&&(r||i))?!0:!1}(r.okHls,r.okHlsJS,r.hasMseHevcSupport,r.hasHevcSupport);r.okDash=!(!y||void 0===window.Promise||void 0===window.Uint8Array||void 0===Array.prototype.forEach||o[0]&&o[1]<9);r.okFps=!!(h&&ht&&(o[0]&&9<=o[1]||f[0]&&10<f[1]));r.ok360=function(){var t=!1,n,i,r;try{n=document.createElement("canvas");i=n.getContext("webgl")||n.getContext("experimental-webgl")||n.getContext("webgl2");"function"==typeof window.requestAnimationFrame&&"function"==typeof window.cancelAnimationFrame&&i&&i instanceof window.WebGLRenderingContext&&(t=!0)}catch(n){e.default.trace(n)}if(t){r=void 0;try{r=!!window.MSInputMethodContext&&!!document.documentMode}catch(n){return e.default.trace(n),t}(f[0]&&(f[1]<11||11===f[1]&&wt<3)||o[0]&&o[1]<11||r)&&(t=!1)}return t}();r.hasIntersectionObserver=void 0!==window.IntersectionObserver;r.html5Video=h;r.html5Audio=a;r.getProtocol=yt;r.isIos=f;r.isIphone=!(!w||!/(iphone|ipod)/i.test(u));r.isIpad=!(!w||!/ipad/i.test(u));r.isMacosSafari=o;r.isAndroid=c;r.isMobile=tt;r.isStandalone=it;r.okMse=y;r.okEme=ht;r.devicePixelRatio=at;r.fallbackArbitraryBWEstimate=function(){var n=7e5;return tt?(n=35e4,3<=at&&(n=525e3)):3840<=Math.max(e.default.getScreenWidth(),e.default.getScreenHeight())&&(n=14e5),n}();r.hasPassiveEventListeners=function(){var n=!1,t;try{t=Object.defineProperty({},"passive",{get:function(){return n=!0}});window.addEventListener("testPassive",null,t);window.removeEventListener("testPassive",null,t)}catch(n){e.default.trace(n)}return n}();r.localStorage=function(n){if(!n)return!1;try{if(window.localStorage){var i=window.localStorage,t="__storage_test__";return i.setItem(t,t),i.removeItem(t),!0}return!1}catch(n){return e.default.trace(n),!1}};r.formData=function(){if(void 0!==window.FormData)try{return(new FormData).append("test","test"),!0}catch(n){return!1}return!1};r.isOnline=function(){return!window.navigator||"boolean"!=typeof window.navigator.onLine||!1!==window.navigator.onLine};r.hasNativeFullscreenSupport=!(!(v=document.documentElement)||void 0===v.requestFullscreen&&void 0===v.webkitRequestFullscreen&&void 0===v.mozRequestFullScreen&&void 0===v.msRequestFullscreen&&void 0===s.webkitEnterFullscreen);r.requestFullscreen=function(n,t){if(n&&t)try{void 0!==n.requestFullscreen?n.requestFullscreen():void 0!==n.webkitRequestFullscreen?n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):void 0!==n.mozRequestFullScreen?n.mozRequestFullScreen():void 0!==n.msRequestFullscreen?n.msRequestFullscreen():t&&void 0!==t.webkitEnterFullscreen&&t.webkitEnterFullscreen()}catch(n){e.default.trace(n)}};r.exitFullscreen=function(n){try{void 0!==document.exitFullscreen?document.exitFullscreen():void 0!==document.webkitExitFullscreen?document.webkitExitFullscreen():void 0!==document.mozCancelFullScreen?document.mozCancelFullScreen():void 0!==document.msExitFullscreen?document.msExitFullscreen():n&&void 0!==n.webkitExitFullscreen&&n.webkitExitFullscreen()}catch(n){e.default.trace(n)}};r.canPlayType=function(n,t,i,r,u,f){var c="video",k,e,v,p,d,w,o,b;-1<["video","audio"].indexOf(t)&&(c=t);k="mp4";-1<["mp4","webm","mp3","m4a","mp2t","ogg","oga"].indexOf(i)&&(k=i);e=void 0;"string"==typeof u&&""!==u&&(e=u);v=void 0;"string"==typeof r&&""!==r&&(v=r);p=void 0;"string"==typeof f&&""!==f&&(p=f);d="native";-1<["native","mse"].indexOf(n)&&(d=n);w=void 0;switch(c){case"video":if(!h)return!1;w=s;break;case"audio":if(!a)return!1;w=l}if(o=c+"/"+k,"video"===c&&v&&e)o+='; codecs="'+v+", "+e+'"';else if("video"===c&&v&&!e)o+='; codecs="'+v+'"';else{if("audio"!==c||!e)return null;o+='; codecs="'+e+'"'}return p&&(o+='; eotf="'+p+'"'),b=!1,"native"===d?""!==w.canPlayType(o)&&(b=!0):y&&window.MediaSource.isTypeSupported(o)&&(b=!0),b};i.default=r},{"./fw":53}],53:[function(n,t,i){"use strict";var u,f,o;Object.defineProperty(i,"__esModule",{value:!0});var r={blackFrame:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=",nullFn:function(){return null}},e=function(n){return document[n]?document[n]:null!==document.querySelector(n)?document.querySelector(n):null},s=function(){if("number"==typeof window.pageXOffset)return window.pageXOffset;if(document.documentElement&&"number"==typeof document.documentElement.scrollLeft&&0<document.documentElement.scrollLeft)return document.documentElement.scrollLeft;var n=e("body");return n&&"number"==typeof n.scrollLeft&&0<n.scrollLeft?n.scrollLeft:0},h=function(){if("number"==typeof window.pageYOffset)return window.pageYOffset;if(document.documentElement&&"number"==typeof document.documentElement.scrollTop&&0<document.documentElement.scrollTop)return document.documentElement.scrollTop;var n=e("body");return n&&"number"==typeof n.scrollTop&&0<n.scrollTop?n.scrollTop:0};r.getPosX=function(n){if(n){if("number"==typeof n.pageX)return n.pageX;if("number"==typeof n.clientX)return n.clientX+s()}return 0};r.getPosXTouch=function(n){return n&&n.changedTouches&&n.changedTouches[0]&&r.isNumber(n.changedTouches[0].pageX)?n.changedTouches[0].pageX:0};r.getPosY=function(n){if(n){if("number"==typeof n.pageY)return n.pageY;if("number"==typeof n.clientY)return n.clientY+h()}return 0};r.getPosYTouch=function(n){return n&&n.changedTouches&&n.changedTouches[0]&&r.isNumber(n.changedTouches[0].pageY)?n.changedTouches[0].pageY:0};r.isNumber=function(n){return!(void 0===n||"number"!=typeof n||!Number.isFinite(n))};r.setStyle=function(n,t){var u;if(n&&r.isObject(t))for(var f=Object.keys(t),i=0,e=f.length;i<e;i++)u=f[i],n.style[u]=t[u]};r.getComputedStyle=function(n,t){var i="",r;return n&&"function"==typeof window.getComputedStyle&&(r=window.getComputedStyle(n,null),r&&(i=(i=r.getPropertyValue(t)).toString().toLowerCase())),i};u=function(n,t){var i=r.getComputedStyle(n,t)||0;return-1<(i=i.toString()).indexOf("px")&&(i=i.replace("px","")),parseFloat(i)};r.getWidth=function(n){return n?"number"==typeof n.offsetWidth&&0!==n.offsetWidth?n.offsetWidth:u(n,"width"):0};r.getTrueWidth=function(n){var i=0,t,f,e,o,s;return n&&0<(i=r.getWidth(n))&&(t=0,f=u(n,"padding-left"),0<f&&(t+=f),e=u(n,"padding-right"),0<e&&(t+=e),o=u(n,"border-left-width"),0<o&&(t+=o),s=u(n,"border-right-width"),0<s&&(t+=s),i-=t),i};r.getHeight=function(n){return n?"number"==typeof n.offsetHeight&&0!==n.offsetHeight?n.offsetHeight:u(n,"height"):0};r.getTrueHeight=function(n){var i=0,t,f,e,o,s;return n&&0<(i=r.getHeight(n))&&(t=0,f=u(n,"padding-top"),0<f&&(t+=f),e=u(n,"padding-bottom"),0<e&&(t+=e),o=u(n,"border-top-width"),0<o&&(t+=o),s=u(n,"border-bottom-width"),0<s&&(t+=s),i-=t),i};r.getAbsLeft=function(n){return n&&n.getBoundingClientRect().left+s()||0};r.getAbsTop=function(n){return n&&n.getBoundingClientRect().top+h()||0};r.setText=function(n,t){n&&"string"==typeof t&&(n.textContent=t)};r.setClass=function(n,t){n&&void 0!==n.className&&"string"==typeof t&&""!==t&&(n.className=t)};r.addClass=function(n,t){n&&void 0!==n.className&&"string"==typeof t&&""!==t&&(""!==n.className?-1===n.className.indexOf(t)&&(n.className=(n.className+" "+t).replace(/\s\s+/g," ")):n.className=t)};r.removeClass=function(n,t){n&&void 0!==n.className&&"string"==typeof t&&""!==t&&-1<n.className.indexOf(t)&&(n.className=n.className.replace(t,"").replace(/\s\s+/g," "))};r.hasClass=function(n,t){return!!(n&&"string"==typeof n.className&&"string"==typeof t&&""!==t&&-1<n.className.indexOf(t))};r.removeElement=function(n){if(n&&n.parentNode)try{n.parentNode.removeChild(n)}catch(n){r.trace(n)}};r.createStdEvent=function(n,t){var i=void 0;if(t)if("function"==typeof window.Event)try{i=new Event(n);t.dispatchEvent(i)}catch(n){r.trace(n)}else try{(i=document.createEvent("Event")).initEvent(n,!0,!0);t.dispatchEvent(i)}catch(n){r.trace(n)}};r.createCustomEvent=function(n,t,i){if(t&&"function"==typeof window.CustomEvent)try{var u=new CustomEvent(n,{detail:i});t.dispatchEvent(u)}catch(n){r.trace(n)}};r.removeEvent=function(n,t,i){"function"==typeof i&&t&&(Array.isArray(n)?n.forEach(function(n){t.removeEventListener(n,i)}):t.removeEventListener(n,i))};r.addEvent=function(n,t,i){"function"==typeof i&&t&&(Array.isArray(n)?n.forEach(function(n){t.addEventListener(n,i)}):t.addEventListener(n,i))};r.appendToHead=function(n){try{var t=e("head");t||(t=e("body"));t&&n&&t.appendChild(n)}catch(n){r.trace(n)}};r.isVisible=function(n){return!(!n||"visible"!==n.style.visibility)};r.show=function(n){if(Array.isArray(n))for(var t=0,i=n.length;t<i;t++)n[t]&&(n[t].style.display="block");else n&&(n.style.display="block")};r.fadeIn=function(n){n&&(1===n.style.opacity&&"visible"===n.style.visibility||setTimeout(function(){r.setStyle(n,{opacity:1,visibility:"visible"})},1))};r.hide=function(n){if(Array.isArray(n))for(var t=0,i=n.length;t<i;t++)n[t]&&(n[t].style.display="none");else n&&(n.style.display="none")};r.fadeOut=function(n){n&&(0===n.style.opacity&&"hidden"===n.style.visibility||setTimeout(function(){r.setStyle(n,{opacity:0,visibility:"hidden"})},1))};r.readableTime=function(n){if("number"==typeof n&&0<=n){var r=Math.floor(n%60),t=Math.floor(n/60),i=0;return 59<t&&(i=Math.floor(n/3600),t=Math.floor(n/3600%1*60),r=Math.floor(n%60)),r<10&&(r="0"+r),t<10&&(t="0"+t),0<i?i+=":":0===i&&(i=""),i+t+":"+r}return""};r.dateToSeconds=function(n){var t=n.match(/(\d+:)?(\d+):(\d+)\.(\d+)/),i,r;return(1<t.length)?(t.shift(),i=0,t[0]&&(r=t[0],-1<r.indexOf(":")&&(r=r.replace(":","")),i+=3600*parseInt(r)),t[1]&&(i+=60*parseInt(t[1])),t[2]&&(i+=parseInt(t[2])),t[3]&&(i+=parseInt(t[3])/1e3),i):null};r.hexToRgb=function(n){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null};r.srcExists=function(n,t){if("mp4"===t||"webm"===t||"mp4Hevc"===t){if(Array.isArray(n)&&"string"==typeof n[0]&&""!==n[0])return!0}else if("string"==typeof n&&""!==n)return!0;return!1};r.filterInitialBitrate=function(n,t){return n<0||"string"!=typeof t[n]?0:n};r.isObject=function(n){return null!=n&&"object"==typeof n};r.isEmptyObject=function(n){return!(!r.isObject(n)||0!==Object.keys(n).length)};r.ajax=function(n,t,i,r){return new Promise(function(u,f){if("undefined"!=typeof XMLHttpRequest){var e=new XMLHttpRequest;e.open(r,n,!0);e.timeout=t;i&&(e.withCredentials=!0);e.onloadend=function(){"number"==typeof e.status&&200<=e.status&&e.status<300?"HEAD"===r?u():"string"==typeof e.responseText&&""!==e.responseText?u(e.responseText):f():f()};e.ontimeout=function(){f()};e.send(null)}else f()})};r.getFQURL=function(n,t){var r=n.split("/"),u=t.split("/"),i;for(r.pop(),i=0;i<u.length;i++)"."!==u[i]&&(".."===u[i]?r.pop():r.push(u[i]));return r.join("/")};r.getNow=function(){return window.performance&&window.performance.now?Math.round(window.performance.now()):window.Date?Date.now():void 0};r.getRandomInt=function(n,t){var i=Math.ceil(n),r=Math.floor(t);return Math.floor(Math.random()*(r-i))+i};r.cssPropertySupport=function(n){var i=!1,t=document.createElement("div");try{t&&"string"==typeof n&&void 0!==t.style[n]&&(i=!0)}catch(n){r.trace(n)}return t=null,i};f=function(n){if(n&&n.type){var t=n.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();r.createStdEvent(t,document)}};r.polyfillFullscreenEvents=function(){document.addEventListener("webkitfullscreenchange",f);document.addEventListener("webkitfullscreenerror",f);document.addEventListener("mozfullscreenchange",f);document.addEventListener("mozfullscreenerror",f);document.addEventListener("MSFullscreenChange",f);document.addEventListener("MSFullscreenError",f)};r.stopPropagation=function(n){n&&n.stopPropagation()};r.contextMenuInteraction=function(n){n&&(n.stopPropagation(),n.preventDefault())};r.selectText=function(n,t){t&&t.stopPropagation();n&&n.select()};r.updateAriaLabel=function(n,t){t&&n&&n.setAttribute("aria-label",t)};r.hideAria=function(n){n&&n.setAttribute("aria-hidden","true")};o=!(r.preventKeyDown=function(n){if(n){var t=n.which;t&&(32!==t&&70!==t&&37!==t&&39!==t&&38!==t&&40!==t&&77!==t||n.preventDefault())}});window.console&&"function"==typeof window.console.log&&(o=!0);r.log=function(n,t){o&&void 0!==t&&("string"==typeof t&&n?window.console.log("rmp ("+n+"): "+t):window.console.log(t))};window.console&&window.console.trace;r.trace=function(){0};r.appendStyle=function(n){if(n){var t=document.createElement("style");t.type="text/css";t.appendChild(document.createTextNode(n));r.appendToHead(t)}};r.RFC3986EncodeURIComponent=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16)})};r.getScreenWidth=function(){return window.screen&&"number"==typeof window.screen.width&&0<window.screen.width?window.screen.width:-1};r.getScreenHeight=function(){return window.screen&&"number"==typeof window.screen.height&&0<window.screen.height?window.screen.height:-1};r.filterTextTracks=function(n){var i=[],t;if(!n||n.length<1)return i;for(var u=/(captions|subtitles|subtitle)/i,r=0,f=n.length;r<f;r++)t=n[r],("string"==typeof t.kind&&u.test(t.kind)||"string"==typeof t.type&&u.test(t.type))&&i.push(t);return i};r.isValidTextTracksSet=function(n){return!!(Array.isArray(n)&&Array.isArray(n[0])&&n[0][0]&&n[0][1]&&n[0][2])};r.clearTimeout=function(n){n&&clearTimeout(n)};r.clearInterval=function(n){n&&clearInterval(n)};r.addEventListenerCSS=function(){var n=document.createElement("link"),t=!1;return n.addEventListener&&(t=!0),n=null,t};r.getScript=function(n,t,i){if("string"==typeof n&&"function"==typeof t&&"function"==typeof i){var u=document.createElement("script");void 0!==u.onload&&void 0!==u.onerror&&(void 0!==u.async&&(u.async=!0),u.onload=t,u.onerror=i);u.src=n;r.appendToHead(u)}};r.filterPlaylist=function(n){for(var h,u,o,i=n,e=[],f=void 0,t=0,l=i.length;t<l;t++)if(r.isObject(i[t].src)||r.isObject(i[t].bitrates)){if(r.isObject(i[t].bitrates)&&!r.isObject(i[t].src)&&(h=i[t].bitrates,i[t].src=h),r.srcExists(i[t].src.hlsHevc,"hlsHevc"))f="hlsHevc";else if(r.srcExists(i[t].src.hls,"hls"))f="hls";else if(r.srcExists(i[t].src.dash,"dash"))f="dash";else if(r.srcExists(i[t].src.mp4Hevc,"mp4Hevc"))f="mp4Hevc";else if(r.srcExists(i[t].src.mp4,"mp4"))f="mp4";else{if(!r.srcExists(i[t].src.webm,"webm")){e.push(t);continue}f="webm"}for(var c=["contentTitle","contentDescription","poster","thumbnail","adTagUrl","contentDuration","src","seekBarThumbnailsLoc"],s=0,a=c.length;s<a;s++)if(u=c[s],"contentTitle"===u||"contentDescription"===u)"string"==typeof i[t][u]&&""!==i[t][u]||(i[t][u]="contentTitle"===u?"Video "+(t+1):"Playlist item "+(t+1));else if("thumbnail"===u||"poster"===u||"adTagUrl"===u||"contentDuration"===u||"related"===u||"seekBarThumbnailsLoc"===u){if("string"!=typeof i[t][u]||""===i[t][u]){"thumbnail"===u&&"string"==typeof i[t].poster&&""!==i[t].poster?i[t].thumbnail=i[t].poster:i[t][u]="";continue}}else if("src"===u){if("string"!=typeof i[t][u][f]&&!Array.isArray(i[t][u][f])){e.push(t);continue}}else if("adTagWaterfall"===u&&(!Array.isArray(i[t][u])||"string"!=typeof i[t][u][0]||""===i[t][u][0])){delete i[t][u];continue}}else e.push(t);if(0<e.length)for(o=e.length-1;0<=o;o--)i.splice(e[o],1);return i};r.setMediaCurrentTime=function(n,t){if(n&&r.isNumber(t)&&0<=t)try{n.currentTime=t}catch(n){r.trace(n)}};r.getMediaCurrentTime=function(n){return void 0!==n.currentTime&&r.isNumber(n.currentTime)&&0<=n.currentTime?n.currentTime:-1};r.getMediaDuration=function(n){return void 0!==n.duration&&r.isNumber(n.duration)&&0<=n.duration?n.duration:-1};r.clearNativeHtml5Buffer=function(n){try{n&&(n.removeAttribute("src"),n.load())}catch(n){r.trace(n)}};i.default=r},{}],54:[function(n){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}n("core-js/modules/es6.typed.array-buffer");n("core-js/modules/es6.typed.data-view");n("core-js/modules/es6.typed.int8-array");n("core-js/modules/es6.typed.uint8-array");n("core-js/modules/es6.typed.uint8-clamped-array");n("core-js/modules/es6.typed.int16-array");n("core-js/modules/es6.typed.uint16-array");n("core-js/modules/es6.typed.int32-array");n("core-js/modules/es6.typed.uint32-array");n("core-js/modules/es6.typed.float32-array");n("core-js/modules/es6.typed.float64-array");n("core-js/modules/es6.map");n("core-js/modules/es6.set");n("core-js/modules/es6.weak-map");n("core-js/modules/es6.weak-set");n("core-js/modules/es6.reflect.apply");n("core-js/modules/es6.reflect.construct");n("core-js/modules/es6.reflect.define-property");n("core-js/modules/es6.reflect.delete-property");n("core-js/modules/es6.reflect.get");n("core-js/modules/es6.reflect.get-own-property-descriptor");n("core-js/modules/es6.reflect.get-prototype-of");n("core-js/modules/es6.reflect.has");n("core-js/modules/es6.reflect.is-extensible");n("core-js/modules/es6.reflect.own-keys");n("core-js/modules/es6.reflect.prevent-extensions");n("core-js/modules/es6.reflect.set");n("core-js/modules/es6.reflect.set-prototype-of");n("core-js/modules/es6.promise");n("core-js/modules/es6.symbol");n("core-js/modules/es6.object.freeze");n("core-js/modules/es6.object.seal");n("core-js/modules/es6.object.prevent-extensions");n("core-js/modules/es6.object.is-frozen");n("core-js/modules/es6.object.is-sealed");n("core-js/modules/es6.object.is-extensible");n("core-js/modules/es6.object.get-own-property-descriptor");n("core-js/modules/es6.object.get-prototype-of");n("core-js/modules/es6.object.keys");n("core-js/modules/es6.object.get-own-property-names");n("core-js/modules/es6.object.assign");n("core-js/modules/es6.object.is");n("core-js/modules/es6.object.set-prototype-of");n("core-js/modules/es6.function.name");n("core-js/modules/es6.string.raw");n("core-js/modules/es6.string.from-code-point");n("core-js/modules/es6.string.code-point-at");n("core-js/modules/es6.string.repeat");n("core-js/modules/es6.string.starts-with");n("core-js/modules/es6.string.ends-with");n("core-js/modules/es6.string.includes");n("core-js/modules/es6.regexp.flags");n("core-js/modules/es6.regexp.match");n("core-js/modules/es6.regexp.replace");n("core-js/modules/es6.regexp.split");n("core-js/modules/es6.regexp.search");n("core-js/modules/es6.array.from");n("core-js/modules/es6.array.of");n("core-js/modules/es6.array.copy-within");n("core-js/modules/es6.array.find");n("core-js/modules/es6.array.find-index");n("core-js/modules/es6.array.fill");n("core-js/modules/es6.array.iterator");n("core-js/modules/es6.number.is-finite");n("core-js/modules/es6.number.is-integer");n("core-js/modules/es6.number.is-safe-integer");n("core-js/modules/es6.number.is-nan");n("core-js/modules/es6.number.epsilon");n("core-js/modules/es6.number.min-safe-integer");n("core-js/modules/es6.number.max-safe-integer");n("core-js/modules/es6.math.acosh");n("core-js/modules/es6.math.asinh");n("core-js/modules/es6.math.atanh");n("core-js/modules/es6.math.cbrt");n("core-js/modules/es6.math.clz32");n("core-js/modules/es6.math.cosh");n("core-js/modules/es6.math.expm1");n("core-js/modules/es6.math.fround");n("core-js/modules/es6.math.hypot");n("core-js/modules/es6.math.imul");n("core-js/modules/es6.math.log1p");n("core-js/modules/es6.math.log10");n("core-js/modules/es6.math.log2");n("core-js/modules/es6.math.sign");n("core-js/modules/es6.math.sinh");n("core-js/modules/es6.math.tanh");n("core-js/modules/es6.math.trunc");n("core-js/modules/web.timers");n("core-js/modules/web.immediate");n("core-js/modules/web.dom.iterable");var r=i(n("./fw/env")),t=i(n("./fw/fw")),s=i(n("./analytics/analytics")),h=i(n("./analytics/mux")),f=i(n("./core/utils/license")),c=i(n("./360/360")),l=i(n("./playlist/related")),a=i(n("./playlist/playlist")),v=i(n("./core/accessible/accessible")),y=i(n("./core/run-player/runPlayer")),p=i(n("./core/resize/resize")),w=i(n("./fw/defaults/inner-defaults")),u=i(n("./core/utils/utils")),b=i(n("./core/utils/viewable")),k=i(n("./core/ui/logo")),d=i(n("./analytics/logs")),g=i(n("./core/ui/colors")),nt=i(n("./abr/fps")),o=i(n("./ads/ads-helpers")),tt=i(n("./cast/cast")),it=i(n("./vtt/captions")),rt=i(n("./api/api")),ut=i(n("./api/ads")),ft=i(n("./api/bitrates")),et=i(n("./api/src")),ot=i(n("./api/audio")),st=i(n("./api/destroy")),ht=i(n("./api/offline")),e=i(n("./fw/autoplay"));!function(){if("undefined"!=typeof window&&void 0!==window.document&&void 0===window.RadiantMP){t.default.isObject(window.rmpGlobals)||(window.rmpGlobals={},window.rmpGlobals.castApiInitialized=!1,window.rmpGlobals.adBlockerDetected=null);window.RadiantMP=function(n){"string"==typeof n&&""!==n&&(this.id=n,this.dom={},this.dom.container=document.getElementById(this.id),w.default.set.call(this))};rt.default.attach(window.RadiantMP);ut.default.attach(window.RadiantMP);ft.default.attach(window.RadiantMP);et.default.attach(window.RadiantMP);ot.default.attach(window.RadiantMP);st.default.attach(window.RadiantMP);ht.default.attach(window.RadiantMP);t.default.polyfillFullscreenEvents();var i=function(){if(p.default.initialSizing.call(this),this.dom.video=this.audioOnly?document.createElement("audio"):document.createElement("video"),r.default.isIos[0]&&(""!==this.videoTitle&&(this.useVideoTitle=!0),this.useVideoTitle||""===this.contentTitle||(this.videoTitle=this.contentTitle,this.useVideoTitle=!0)),t.default.cssPropertySupport("objectFit")&&!this.audioOnly)switch(this.scaleMode){case"letterbox":t.default.addClass(this.dom.video,"rmp-object-fit-contain");break;case"zoom":t.default.addClass(this.dom.video,"rmp-object-fit-cover");break;case"stretch":t.default.addClass(this.dom.video,"rmp-object-fit-fill");break;case"none":t.default.addClass(this.dom.video,"rmp-object-fit-none");break;default:t.default.addClass(this.dom.video,"rmp-object-fit-contain")}if(g.default.apply.call(this),t.default.addClass(this.dom.video,"rmp-video"),"auto"!==this.preload&&"metadata"!==this.preload&&(this.preload="none"),this.autoplay&&(this.preload="auto"),r.default.isMobile&&(this.preload="none",t.default.addClass(this.dom.container,"rmp-mobile"),this.seekBarThumbnailsLoc="",this.delayToFade=Math.round(1.333*this.delayToFade)),this.ads&&this.adImaDai&&(this.adParser="ima",this.isLive&&this.adImaDaiLiveAssetKey?this.imaDaiLive=!0:this.adImaDaiVodContentSourceId&&this.adImaDaiVodVideoId?this.imaDaiVod=!0:this.ads=!1,(r.default.isIos[0]||r.default.isMacosSafari[0]&&!this.forceHlsJSOnMacOSSafari)&&(this.ads=!1,this.src=this.adImaDaiBackupStream?{hls:this.adImaDaiBackupStream}:{})),this.ads){if(this.adImaDai&&(this.hlsEngine="hlsjs"),"rmp-vast"!==this.adParser&&(this.adParser="ima"),this.adSkipButton&&"ima"===this.adParser&&(this.adSkipButton=!1),this.adOutStream&&(this.googleCast=!1,this.src={},this.adAutoplayOnlyPreroll=!1,this.adSchedule={},this.airplay=!1),!t.default.isEmptyObject(this.adSchedule)){if(Array.isArray(this.adSchedule.midrollRepeat)&&"number"==typeof this.adSchedule.midrollRepeat[0]&&"string"==typeof this.adSchedule.midrollRepeat[1]){this.adSchedule.midroll=[];for(var n=0;n<50;n++)this.adSchedule.midroll[n]=[this.adSchedule.midrollRepeat[0]*(n+1),this.adSchedule.midrollRepeat[1]];delete this.adSchedule.midrollRepeat}Array.isArray(this.adSchedule.preroll)&&(this.adSchedule.preroll=this.adSchedule.preroll[0]);Array.isArray(this.adSchedule.postroll)&&(this.adSchedule.postroll=this.adSchedule.postroll[0]);(this.adSchedule.preroll||this.adSchedule.postroll||Array.isArray(this.adSchedule.midroll)&&Array.isArray(this.adSchedule.midroll[0])&&2===this.adSchedule.midroll[0].length)&&(this.adScheduleInput=!0,this.adTagUrl="",this.adTagWaterfall=[],this.adTagReloadOnEnded=!1,this.adSchedule.postroll&&this.loop&&delete this.adSchedule.postroll,this.adSchedule.preroll||(this.emptyInitAdTagUrl=!0,this.adSchedule.preroll=""),this.adSchedule.postroll||(this.adSchedule.postroll=""),Array.isArray(this.adSchedule.midroll)&&Array.isArray(this.adSchedule.midroll[0])&&2===this.adSchedule.midroll[0].length&&this.adSchedule.midroll.sort(function(n,t){return n[0]-t[0]}))}this.adAutoplayOnlyPreroll&&"rmp-vast"===this.adParser&&(this.adAutoplayOnlyPreroll=!1);r.default.isIos[0]&&this.loop&&(this.loop=!1);""!==this.adTagUrl&&(this.adTagUrl=o.default.replaceAdTagVar.call(this,this.adTagUrl));""!==this.adTagUrl||""===this.adsResponse||this.adScheduleInput||this.hasRelated||this.hasPlaylist||(this.adTagUrl=this.adsResponse);this.adTagReloadOnEnded&&(this.originalAdTagUrl=this.adTagUrl,this.originalAdTagWaterfall=[].concat(function(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)}(this.adTagWaterfall)),this.adOutStream||o.default.onEndedReloadAdTag.call(this));this.hasRelated||this.hasPlaylist||this.adScheduleInput||""!==this.adTagUrl||(this.emptyInitAdTagUrl=!0)}r.default.hasIntersectionObserver&&(this.viewableAutoplay||this.viewablePlayPause)&&((r.default.isMobile||r.default.isMacosSafari[0])&&(this.muted=!0),b.default.set.call(this));(this.isLive||this.isLiveDvr)&&(this.isVod=!1,this.loop=!1,this.ccFiles=[],this.isLive&&t.default.addClass(this.dom.container,"rmp-live"),this.isLiveDvr&&(t.default.addClass(this.dom.container,"rmp-live-dvr"),this.hlsEngine="hlsjs"));this.dom.ccItems=[];t.default.isValidTextTracksSet(this.ccFiles)&&it.default.prepare.call(this);this.audioOnly?(t.default.addClass(this.dom.container,"rmp-audio-only"),this.labels.error.noSupportDownload="",this.labels.error.noSupportInstallChrome="",this.sharing=!1,this.contentTitle="",this.seekBarThumbnailsLoc="",this.ccFiles=[],this.hasCC=!1,this.nav=!1,this.ads&&(this.adParser="ima"),u.default.detectAudioSrc.call(this)):this.hasRelated||this.hasPlaylist||this.adOutStream||u.default.detectSrc.call(this);this.sharing&&""===this.sharingUrl&&(this.sharingUrl=document.URL);r.default.isIos[0]&&r.default.isIos[1]<10&&this.loop&&(this.loop=!1);k.default.init.call(this);t.default.isEmptyObject(this.fpsDrm)||nt.default.filterDrm.call(this)||(this.hasFps=!1);this.video360&&(r.default.ok360?(r.default.isIos[0]?(this.ads&&"ima"===this.adParser?this.adDisableCustomPlaybackForIOS10Plus=!0:this.ads=!1,this.fullWindowMode=!0):r.default.isMacosSafari[0]&&this.ads&&"rmp-vast"===this.adParser&&(this.ads=!1),this.googleCast=!1,this.airplay=!1,this.hlsJSCapLevelToPlayerSize=!1,this.shakaCapLevelToPlayerSize=!1,this.adAutoplayOnlyPreroll=!1,this.crossorigin="anonymous",c.default.load.call(this)):t.default.isEmptyObject(this.video360FallbackSrc)?(u.default.resetSrc.call(this),this.video360=!1):(this.src=this.video360FallbackSrc,this.video360=!1,u.default.resetSrc.call(this),u.default.detectSrc.call(this)));this.hasNativeFullscreenSupport=r.default.hasNativeFullscreenSupport;this.fullWindowMode&&(this.hasNativeFullscreenSupport=!1);r.default.isInIframe&&(this.fullWindowMode=!1);v.default.init.call(this),function(){this.licenseFailedDestroyRequested||(this.hasRelated?l.default.init.call(this):this.hasPlaylist?a.default.init.call(this):(s.default.init.call(this),d.default.init.call(this),y.default.init.call(this)))}.call(this)},n=function(){(""!==this.relatedLoc||Array.isArray(this.relatedData)&&t.default.isObject(this.relatedData[0]))&&(this.hasRelated=!0,""!==this.relatedLoc&&Array.isArray(this.relatedData)&&t.default.isObject(this.relatedData[0])&&(this.relatedLoc=""),this.quickRewind=0,this.srcChangeAutoplay||(this.relatedUpNextAutoplay=!1),this.relatedUpNextAutoplay&&(this.loop=!1));(""!==this.playlistLoc||Array.isArray(this.playlistData)&&t.default.isObject(this.playlistData[0]))&&(this.hasPlaylist=!0,""!==this.playlistLoc&&Array.isArray(this.playlistData)&&t.default.isObject(this.playlistData[0])&&(this.playlistLoc=""),this.autoHeightMode=!0,this.srcChangeAutoplay||(this.playlistUpNextAutoplay=!1),this.playlistUpNextAutoplay&&(this.loop=!1));(this.hasPlaylist||this.hasRelated)&&(this.video360&&(this.video360=!1),this.audioOnly&&(this.audioOnly=!1),this.isLiveDvr&&(this.isLive=!0,this.isLiveDvr=!1),this.adSchedule={},this.backupSrc={},this.chaptersLoc="");this.audioOnly&&(this.video360&&(this.video360=!1),this.hlsJSCapLevelToPlayerSize=!1,this.shakaCapLevelToPlayerSize=!1,this.quickRewind=0,this.iframeMode=!1,this.autoHeightMode=!1,this.height=40),function(){this.audioOnly&&("s1"!==this.skin&&"s2"!==this.skin&&(this.skin="s1"),""===this.skinBackgroundColor&&(this.skinBackgroundColor="212121"));"s1"!==this.skin&&"s2"!==this.skin&&"s3"!==this.skin&&"s4"!==this.skin&&(this.skin="s1");this.initConfig=i.bind(this);null===document.getElementById("rmp-dress-code")?u.default.getCSS.call(this):this.initConfig()}.call(this)};window.RadiantMP.prototype.init=function(i){var o=this,s;if(null!==this.dom.container)if(this.refTime=t.default.getNow(),u.default.filterInput.call(this,i),t.default.isEmptyObject(this.src)&&!t.default.isEmptyObject(this.bitrates)&&(this.src=this.bitrates),t.default.isEmptyObject(this.backupSrc)&&!t.default.isEmptyObject(this.backupBitrates)&&(this.backupSrc=this.backupBitrates),t.default.isEmptyObject(this.video360FallbackSrc)&&!t.default.isEmptyObject(this.video360FallbackBitrates)&&(this.video360FallbackSrc=this.video360FallbackBitrates),"string"==typeof this.src.mp4&&""!==this.src.mp4&&(this.src.mp4=[this.src.mp4]),"string"==typeof this.src.webm&&""!==this.src.webm&&(this.src.webm=[this.src.webm]),""!==this.licenseKey)if((t.default.addClass(this.dom.container,"rmp-container rmp-color-button"),this.fadeInPlayer)&&(t.default.setStyle(this.dom.container,{opacity:0,visibility:"hidden"}),t.default.addClass(this.dom.container,"rmp-container-fade-in")),"/"!==this.pathToRmpFiles.substr(this.pathToRmpFiles.length-1)&&(this.pathToRmpFiles=this.pathToRmpFiles+"/"),!r.default.isInIframe||this.iframeAllowed)if(f.default.ck.call(this))if(this.windowOnline=function(){t.default.createStdEvent("online",this.dom.container)}.bind(this),window.addEventListener("online",this.windowOnline),this.windowOffline=function(){t.default.createStdEvent("offline",this.dom.container)}.bind(this),window.addEventListener("offline",this.windowOffline),this.isLive&&this.isLiveDvr&&(this.isLiveDvr=!1),u.default.assignPlaybackCapabilities.call(this),r.default.isStandalone?t.default.addClass(this.dom.container,"rmp-standalone"):r.default.isWebView&&t.default.addClass(this.dom.container,"rmp-webview"),this.audioOnly?this.dom.container.style.backgroundColor="transparent":"000000"!==this.backgroundColor&&(this.dom.container.style.backgroundColor="#"+this.backgroundColor),this.adOutStream&&(this.ads||(this.ads=!0),"outstream"===this.skin&&(this.adOutStreamSkin=!0,t.default.addClass(this.dom.container,"rmp-ad-outstream"),this.skin="s1",this.skinBackgroundColor="",this.adShowRemainingTime=!0)),this.permanentMuted&&(this.googleCast=!1,this.muted=!0),void 0===window.chrome&&(this.googleCast=!1),this.googleCast&&(window.rmpGlobals.castApiInitialized||(window.rmpGlobals.castApiInitialized=!0,this.castReady=tt.default.ready.bind(this),this.dom.container.addEventListener("ready",this.castReady)),""!==this.contentTitle&&""===this.googleCastContentTitle&&(this.googleCastContentTitle=this.contentTitle)),h.default.detect.call(this),this.adAutoplayOnlyPreroll&&!this.autoplay&&(this.autoplay=!0),this.autoplay&&this.adOutStream&&this.adOutStreamMutedAutoplay&&(this.muted=!0),this.autoplay&&this.detectAutoplayCapabilities){if(r.default.isMobile){if(r.default.isIos[0]&&r.default.isIos[1]<=9)return u.default.fireAutoplayFailure.call(this),void n.call(this);if(r.default.isAndroid[0]&&r.default.isSamsungInternet[0]&&7<=r.default.isSamsungInternet[1])return this.muted=!0,void n.call(this);r.default.isWebView||(this.muted=!0)}s="video";this.audioOnly&&(s="audio");this.muted?e.default[s]({inline:!0,muted:!0}).then(function(t){var i=t.result;t.error;!1===i&&u.default.fireAutoplayFailure.call(o);n.call(o)}):e.default[s]({inline:!0}).then(function(t){var i=t.result;t.error;!1===i?e.default[s]({inline:!0,muted:!0}).then(function(t){var i=t.result;t.error;!1===i?u.default.fireAutoplayFailure.call(o):o.muted=!0;n.call(o)}):n.call(o)})}else n.call(this);else f.default.endPlayer.call(this,"license key check failed");else f.default.endPlayer.call(this,"iframe embedding not allowed");else t.default.log("license","no license key provided - exit")};Array.isArray(window.rmpAsyncPlayers)&&t.default.isObject(window.rmpAsyncPlayers[0])&&"string"==typeof window.rmpAsyncPlayers[0].asyncElementID&&""!==window.rmpAsyncPlayers[0].asyncElementID&&(window.rmpAsyncPlayerInstances=[],window.rmpAsyncPlayers.forEach(function(n){var r=n.asyncElementID,u=document.getElementById(r),i;null!==u&&(i=new window.RadiantMP(r),window.rmpAsyncPlayerInstances.push(i),t.default.createStdEvent("rmpasyncplayerinstanceavailable",u),delete n.asyncElementID,i.init(n))}))}}()},{"./360/360":1,"./abr/fps":2,"./ads/ads-helpers":6,"./analytics/analytics":11,"./analytics/logs":12,"./analytics/mux":13,"./api/ads":14,"./api/api":15,"./api/audio":16,"./api/bitrates":17,"./api/destroy":18,"./api/offline":19,"./api/src":20,"./cast/cast":22,"./core/accessible/accessible":23,"./core/resize/resize":36,"./core/run-player/runPlayer":38,"./core/ui/colors":40,"./core/ui/logo":43,"./core/utils/license":45,"./core/utils/utils":46,"./core/utils/viewable":47,"./fw/autoplay":49,"./fw/defaults/inner-defaults":50,"./fw/env":52,"./fw/fw":53,"./playlist/playlist":55,"./playlist/related":56,"./vtt/captions":57,"core-js/modules/es6.array.copy-within":163,"core-js/modules/es6.array.fill":164,"core-js/modules/es6.array.find":166,"core-js/modules/es6.array.find-index":165,"core-js/modules/es6.array.from":167,"core-js/modules/es6.array.iterator":168,"core-js/modules/es6.array.of":169,"core-js/modules/es6.function.name":170,"core-js/modules/es6.map":171,"core-js/modules/es6.math.acosh":172,"core-js/modules/es6.math.asinh":173,"core-js/modules/es6.math.atanh":174,"core-js/modules/es6.math.cbrt":175,"core-js/modules/es6.math.clz32":176,"core-js/modules/es6.math.cosh":177,"core-js/modules/es6.math.expm1":178,"core-js/modules/es6.math.fround":179,"core-js/modules/es6.math.hypot":180,"core-js/modules/es6.math.imul":181,"core-js/modules/es6.math.log10":182,"core-js/modules/es6.math.log1p":183,"core-js/modules/es6.math.log2":184,"core-js/modules/es6.math.sign":185,"core-js/modules/es6.math.sinh":186,"core-js/modules/es6.math.tanh":187,"core-js/modules/es6.math.trunc":188,"core-js/modules/es6.number.epsilon":189,"core-js/modules/es6.number.is-finite":190,"core-js/modules/es6.number.is-integer":191,"core-js/modules/es6.number.is-nan":192,"core-js/modules/es6.number.is-safe-integer":193,"core-js/modules/es6.number.max-safe-integer":194,"core-js/modules/es6.number.min-safe-integer":195,"core-js/modules/es6.object.assign":196,"core-js/modules/es6.object.freeze":197,"core-js/modules/es6.object.get-own-property-descriptor":198,"core-js/modules/es6.object.get-own-property-names":199,"core-js/modules/es6.object.get-prototype-of":200,"core-js/modules/es6.object.is":204,"core-js/modules/es6.object.is-extensible":201,"core-js/modules/es6.object.is-frozen":202,"core-js/modules/es6.object.is-sealed":203,"core-js/modules/es6.object.keys":205,"core-js/modules/es6.object.prevent-extensions":206,"core-js/modules/es6.object.seal":207,"core-js/modules/es6.object.set-prototype-of":208,"core-js/modules/es6.promise":209,"core-js/modules/es6.reflect.apply":210,"core-js/modules/es6.reflect.construct":211,"core-js/modules/es6.reflect.define-property":212,"core-js/modules/es6.reflect.delete-property":213,"core-js/modules/es6.reflect.get":216,"core-js/modules/es6.reflect.get-own-property-descriptor":214,"core-js/modules/es6.reflect.get-prototype-of":215,"core-js/modules/es6.reflect.has":217,"core-js/modules/es6.reflect.is-extensible":218,"core-js/modules/es6.reflect.own-keys":219,"core-js/modules/es6.reflect.prevent-extensions":220,"core-js/modules/es6.reflect.set":222,"core-js/modules/es6.reflect.set-prototype-of":221,"core-js/modules/es6.regexp.flags":223,"core-js/modules/es6.regexp.match":224,"core-js/modules/es6.regexp.replace":225,"core-js/modules/es6.regexp.search":226,"core-js/modules/es6.regexp.split":227,"core-js/modules/es6.set":228,"core-js/modules/es6.string.code-point-at":229,"core-js/modules/es6.string.ends-with":230,"core-js/modules/es6.string.from-code-point":231,"core-js/modules/es6.string.includes":232,"core-js/modules/es6.string.raw":233,"core-js/modules/es6.string.repeat":234,"core-js/modules/es6.string.starts-with":235,"core-js/modules/es6.symbol":236,"core-js/modules/es6.typed.array-buffer":237,"core-js/modules/es6.typed.data-view":238,"core-js/modules/es6.typed.float32-array":239,"core-js/modules/es6.typed.float64-array":240,"core-js/modules/es6.typed.int16-array":241,"core-js/modules/es6.typed.int32-array":242,"core-js/modules/es6.typed.int8-array":243,"core-js/modules/es6.typed.uint16-array":244,"core-js/modules/es6.typed.uint32-array":245,"core-js/modules/es6.typed.uint8-array":246,"core-js/modules/es6.typed.uint8-clamped-array":247,"core-js/modules/es6.weak-map":248,"core-js/modules/es6.weak-set":249,"core-js/modules/web.dom.iterable":250,"core-js/modules/web.immediate":251,"core-js/modules/web.timers":252}],55:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function c(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)}var u,o;Object.defineProperty(i,"__esModule",{value:!0});var r=f(n("../fw/fw")),p=f(n("../core/utils/utils")),w=f(n("../core/run-player/runPlayer")),b=f(n("../analytics/analytics")),k=f(n("../analytics/logs")),s=f(n("../core/utils/error")),h=f(n("../ads/ads-helpers"));u={};o=function(n){if(this.dom.playlistContainer){for(var t=this.dom.playlistContainer.querySelectorAll(".rmp-playlist-item"),i=0,u=t.length;i<u;i++)r.default.removeClass(t[i],"rmp-playlist-item-active");r.default.addClass(t[n],"rmp-playlist-item-active")}};u.load=function(n,t){var i,f,u;(t&&t.stopPropagation(),!this.changingSrc&&(this.currentPlaylistIndex=n,void 0===this.playlistList[this.currentPlaylistIndex]&&(this.currentPlaylistIndex=0,this.dom.playlistSideMenu.scrollTop=0),r.default.isObject(this.playlistList[this.currentPlaylistIndex])))&&(i=this.playlistList[this.currentPlaylistIndex],this.ads&&("string"==typeof i.adTagUrl&&""!==i.adTagUrl?(this.adTagUrl=h.default.replaceAdTagVar.call(this,i.adTagUrl),this.adTagWaterfall=i.adTagWaterfall?[].concat(c(i.adTagWaterfall)):[]):this.adTagUrl=null),this.setPoster(i.poster),this.setContentTitle(i.contentTitle),this.setContentDescription(i.contentDescription),""!==this.gaTrackingId&&this.setGALabel(i.contentTitle),this.muxData&&this.muxDataUseListData&&(this.muxDataSettings.data.video_title=i.contentTitle,window.mux.emit("#"+this.id+" .rmp-video","videochange",{video_title:this.muxDataSettings.data.video_title})),this.useVideoTitle&&this.setVideoTitle(i.contentTitle),o.call(this,this.currentPlaylistIndex),f=this.getStreamType(),u=i.src[f],Array.isArray(u)&&"string"==typeof u[0]&&(u=u[0]),this.getPlayerInitialized()&&this.ads&&(this.dom.container.addEventListener("srcchanged",this.playlistOnSrcChangedLoadAd),this.dom.container.addEventListener("error",this.playlistOnSrcChangeError)),this.setSrc(u),i.seekBarThumbnailsLoc&&this.setThumbnails(i.seekBarThumbnailsLoc))};var l=function(n){var i,t,o,s,f,e,h,c;r.default.isObject(this.playlistList[n])&&(i=this.playlistList[n],t=document.createElement("div"),t.className="rmp-playlist-item",o=document.createElement("div"),o.className="rmp-playlist-item-number",r.default.setText(o,(n+1).toString()),t.appendChild(o),s=document.createElement("div"),s.className="rmp-playlist-item-thumbnail-wrapper",f=document.createElement("img"),f.className="rmp-playlist-item-thumbnail",f.alt=i.contentTitle,f.src=i.thumbnail,s.appendChild(f),t.appendChild(s),e=document.createElement("div"),e.className="rmp-playlist-item-text-area",h=document.createElement("div"),h.className="rmp-playlist-item-title",r.default.setText(h,i.contentTitle),e.appendChild(h),c=document.createElement("div"),c.className="rmp-playlist-item-description",r.default.setText(c,i.contentDescription),e.appendChild(c),t.appendChild(e),r.default.addEvent("click",t,u.load.bind(this,n)),this.dom.playlistSideMenu.appendChild(t))},a=function(n,t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault());var i=this.currentPlaylistIndex-1;n&&(i=this.currentPlaylistIndex+1);u.load.call(this,i,null)},v=function(n){var t,e;if(this.playlistList=r.default.filterPlaylist(n),this.dom.playlistSideMenu){for(var f=this.dom.playlistSideMenu.querySelectorAll(".rmp-playlist-item"),i=0,o=f.length;i<o;i++)r.default.removeElement(f[i]);for(t=0,e=this.playlistList.length;t<e;t++)l.call(this,t);u.load.call(this,0,null)}};u.setData=function(n){var t=this;if("string"==typeof n)this.playlistLoc=n;else if(Array.isArray(n))return void v.call(this,n);r.default.ajax(this.playlistLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(n){var i=void 0;try{i=JSON.parse(n);Array.isArray(i.playlist)&&v.call(t,i.playlist)}catch(n){r.default.trace(n)}}).catch(function(n){r.default.trace(n)})};var d=function(){var n,t,i;if(this.dom.playlistContainer=this.dom.container.parentNode.parentNode,r.default.hasClass(this.dom.playlistContainer,"rmp-playlist-container")){for(r.default.addClass(this.dom.container,"rmp-playlist-ui"),function(){var n,t;this.dom.playlistLeftArrow=document.createElement("div");this.dom.playlistLeftArrow.className="rmp-playlist-left-arrow rmp-color-bg";n=document.createElement("span");n.className="rmp-i rmp-i-previous";this.dom.playlistLeftArrow.appendChild(n);r.default.hide(this.dom.playlistLeftArrow);this.dom.container.appendChild(this.dom.playlistLeftArrow);r.default.addEvent(["touchend","click"],this.dom.playlistLeftArrow,a.bind(this,!1));this.dom.playlistRightArrow=document.createElement("div");this.dom.playlistRightArrow.className="rmp-playlist-right-arrow rmp-color-bg";t=document.createElement("span");t.className=" rmp-i rmp-i-next";this.dom.playlistRightArrow.appendChild(t);r.default.hide(this.dom.playlistRightArrow);this.dom.container.appendChild(this.dom.playlistRightArrow);r.default.addEvent(["touchend","click"],this.dom.playlistRightArrow,a.bind(this,!0))}.call(this),this.dom.playlistSideMenu=document.createElement("div"),this.dom.playlistSideMenu.className="rmp-playlist-side-menu rmp-color-bg rmp-color-button",n=document.createElement("div"),n.className="rmp-playlist-header",r.default.setText(n,this.labels.hint.playlist),this.dom.playlistSideMenu.appendChild(n),t=0,i=this.playlistList.length;t<i;t++)l.call(this,t);this.dom.playlistContainer.appendChild(this.dom.playlistSideMenu);o.call(this,0)}else s.default.warning.call(this,"cannot append playlist layout - missing rmp-playlist-container container",1006,null)},e=function(){s.default.fatal.call(this,"error loading or parsing input playlist",101,null)},y=function(n){if(this.playlistList=r.default.filterPlaylist(n),0<this.playlistList.length&&r.default.isObject(this.playlistList[0])){d.call(this);var t=this.playlistList[0];this.src=t.src;this.poster=t.poster;this.seekBarThumbnailsLoc=t.seekBarThumbnailsLoc;this.ads&&(this.adTagUrl=h.default.replaceAdTagVar.call(this,t.adTagUrl),""===t.adTagUrl&&(this.emptyInitAdTagUrl=!0),t.adTagWaterfall&&(this.adTagWaterfall=[].concat(c(t.adTagWaterfall))));this.contentTitle=t.contentTitle;this.contentDescription=t.contentDescription;""!==this.gaTrackingId&&this.setGALabel(this.contentTitle);this.muxData&&this.muxDataUseListData&&(this.muxDataSettings.data.video_title=this.contentTitle);this.useVideoTitle&&this.setVideoTitle(this.contentTitle);this.playlistOnSrcChangedLoadAd=function(){this.dom.container.removeEventListener("srcchanged",this.playlistOnSrcChangedLoadAd);this.dom.container.removeEventListener("error",this.playlistOnSrcChangeError);this.adTagUrl&&this.loadAds(this.adTagUrl)}.bind(this);this.playlistOnSrcChangeError=function(){this.dom.container.removeEventListener("srcchanged",this.playlistOnSrcChangedLoadAd);this.dom.container.removeEventListener("error",this.playlistOnSrcChangeError)}.bind(this);p.default.detectSrc.call(this);b.default.init.call(this);k.default.init.call(this);w.default.init.call(this)}else e.call(this)};u.init=function(){var n=this;""===this.playlistLoc?y.call(this,this.playlistData):r.default.ajax(this.playlistLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(t){var i=void 0;try{i=JSON.parse(t)}catch(t){r.default.trace(t);e.call(n)}Array.isArray(i.playlist)?y.call(n,i.playlist):e.call(n)}).catch(function(t){r.default.trace(t);e.call(n)})};i.default=u},{"../ads/ads-helpers":6,"../analytics/analytics":11,"../analytics/logs":12,"../core/run-player/runPlayer":38,"../core/utils/error":44,"../core/utils/utils":46,"../fw/fw":53}],56:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function h(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)}Object.defineProperty(i,"__esModule",{value:!0});var r=u(n("../fw/fw")),w=u(n("../fw/env")),b=u(n("../core/utils/utils")),k=u(n("../core/ui/core-ui")),d=u(n("../core/run-player/runPlayer")),g=u(n("../analytics/analytics")),nt=u(n("../analytics/logs")),tt=u(n("../core/utils/error")),s=u(n("../ads/ads-helpers")),o=u(n("../core/modules/modules"));var f={},c=function(){var n,i,t;r.default.isObject(this.relatedList[this.currentRelatedIndex])&&(n=this.relatedList[this.currentRelatedIndex],this.ads&&("string"==typeof n.adTagUrl&&""!==n.adTagUrl?(this.adTagUrl=s.default.replaceAdTagVar.call(this,n.adTagUrl),this.adTagWaterfall=n.adTagWaterfall?[].concat(h(n.adTagWaterfall)):[]):this.adTagUrl=null),i=n.poster,this.setPoster(i),this.setContentTitle(n.contentTitle),this.setContentDescription(n.contentDescription),""!==this.gaTrackingId&&this.setGALabel(n.contentTitle),this.muxData&&this.muxDataUseListData&&(this.muxDataSettings.data.video_title=n.contentTitle,window.mux.emit("#"+this.id+" .rmp-video","videochange",{video_title:this.muxDataSettings.data.video_title})),this.useVideoTitle&&this.setVideoTitle(n.contentTitle),k.default.hideCentralPlay.call(this),t=n.src[this.getStreamType()],Array.isArray(t)&&"string"==typeof t[0]&&(t=t[0]),this.getPlayerInitialized()?this.ads&&(this.dom.container.addEventListener("srcchanged",this.relatedOnSrcChangedLoadAd),this.dom.container.addEventListener("error",this.relatedOnSrcChangeError)):o.default.closeAll.call(this),this.setSrc(t),function(){r.default.removeClass(this.dom.relatedSkipPreview,"rmp-force-show");var n=this.currentRelatedIndex+1;this.relatedList[n]||(n=0);this.dom.relatedSkipImg.src=this.relatedList[n].thumbnail;r.default.setText(this.dom.relatedSkipText,this.relatedList[n].contentTitle)}.call(this),n.seekBarThumbnailsLoc&&this.setThumbnails(n.seekBarThumbnailsLoc))},l=function(){var n=document.createElement("div");n.className="rmp-related-item-bottom-margin";this.dom.relatedOverlayLevelsArea.appendChild(n)},a=function(n){var i,t,u,o,s,e;r.default.isObject(this.relatedList[n])&&(i=this.relatedList[n],t=document.createElement("div"),t.className="rmp-related-item",u=document.createElement("img"),u.className="rmp-related-thumbnail",u.alt=i.contentTitle,u.src=i.thumbnail,t.appendChild(u),o=document.createElement("div"),(o.className="rmp-related-title",r.default.setText(o,i.contentTitle),t.appendChild(o),i.contentDuration)&&(s=document.createElement("div"),s.className="rmp-related-duration",r.default.setText(s,i.contentDuration),t.appendChild(s)),e=document.createElement("div"),e.className="rmp-related-up-next",r.default.setText(e,this.labels.hint.upNext),r.default.hide(e),t.appendChild(e),t.addEventListener("click",f.load.bind(this,n)),this.dom.relatedOverlayLevelsArea.appendChild(t))},v=function(n){var u,t,e;if(this.dom.relatedOverlayLevelsArea){this.relatedList=r.default.filterPlaylist(n);this.currentRelatedIndex=0;for(var f=this.dom.relatedOverlayLevelsArea.querySelectorAll(".rmp-related-item"),i=0,o=f.length;i<o;i++)r.default.removeElement(f[i]);for(u=this.dom.relatedOverlayLevelsArea.querySelector(".rmp-related-item-bottom-margin"),null!==u&&r.default.removeElement(u),t=0,e=this.relatedList.length;t<e;t++)a.call(this,t);l.call(this);c.call(this)}};f.setData=function(n,t){var i=this;if(t)this.relatedLoc=this.relatedList[this.currentRelatedIndex].related;else if("string"==typeof n)this.relatedLoc=n;else if(Array.isArray(n))return void v.call(this,n);r.default.ajax(this.relatedLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(n){var t=void 0;try{t=JSON.parse(n);Array.isArray(t.playlist)&&v.call(i,t.playlist)}catch(n){r.default.trace(n)}}).catch(function(n){r.default.trace(n)})};f.load=function(n,t){t&&t.stopPropagation();this.changingSrc||(this.currentRelatedIndex=n,void 0===this.relatedList[this.currentRelatedIndex]&&(this.currentRelatedIndex=0),this.relatedList[this.currentRelatedIndex].related?f.setData.call(this,null,!0):c.call(this))};var y=function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());f.load.call(this,this.currentRelatedIndex+1,null)},e=function(){tt.default.fatal.call(this,"error loading or parsing input related",102,null)},p=function(n){if(this.relatedList=r.default.filterPlaylist(n),0<this.relatedList.length&&r.default.isObject(this.relatedList[0])){(function(){r.default.addClass(this.dom.container,"rmp-related-ui");o.default.append.call(this,"related");o.default.appendOverlay.call(this,"related");for(var n=0,t=this.relatedList.length;n<t;n++)a.call(this,n);l.call(this)}).call(this);var t=this.relatedList[0];this.src=t.src;this.poster=t.poster;this.seekBarThumbnailsLoc=t.seekBarThumbnailsLoc;this.ads&&(this.adTagUrl=s.default.replaceAdTagVar.call(this,t.adTagUrl),""===t.adTagUrl&&(this.emptyInitAdTagUrl=!0),t.adTagWaterfall&&(this.adTagWaterfall=[].concat(h(t.adTagWaterfall))));this.contentTitle=t.contentTitle;this.contentDescription=t.contentDescription;""!==this.gaTrackingId&&this.setGALabel(this.contentTitle);this.muxData&&this.muxDataUseListData&&(this.muxDataSettings.data.video_title=this.contentTitle);this.useVideoTitle&&this.setVideoTitle(this.contentTitle);this.relatedOnSrcChangedLoadAd=function(){this.dom.container.removeEventListener("srcchanged",this.relatedOnSrcChangedLoadAd);this.dom.container.removeEventListener("error",this.relatedOnSrcChangeError);this.adTagUrl&&this.loadAds(this.adTagUrl)}.bind(this);this.relatedOnSrcChangeError=function(){this.dom.container.removeEventListener("srcchanged",this.relatedOnSrcChangedLoadAd);this.dom.container.removeEventListener("error",this.relatedOnSrcChangeError)}.bind(this);b.default.detectSrc.call(this);g.default.init.call(this);nt.default.init.call(this);d.default.init.call(this),function(){var n=this,t=this.currentRelatedIndex+1,i;(void 0===this.relatedList[t]&&(t=0),this.dom.outline)&&(this.dom.relatedSkip=document.createElement("div"),this.dom.relatedSkip.className="rmp-related-skip-next rmp-i rmp-i-skip-next",r.default.addEvent(["touchend","click"],this.dom.relatedSkip,y.bind(this)),this.dom.outline.appendChild(this.dom.relatedSkip),this.dom.relatedSkipPreview=document.createElement("div"),this.dom.relatedSkipPreview.className="rmp-related-skip-preview",r.default.addEvent(["touchend","click"],this.dom.relatedSkipPreview,y.bind(this)),this.dom.relatedSkip.appendChild(this.dom.relatedSkipPreview),this.dom.relatedSkipImg=document.createElement("img"),this.dom.relatedSkipImg.alt="Next playlist item image preview",this.dom.relatedSkipImg.className="rmp-related-skip-preview-img",this.dom.relatedSkipImg.src=this.relatedList[t].thumbnail,this.dom.relatedSkipPreview.appendChild(this.dom.relatedSkipImg),this.dom.relatedSkipText=document.createElement("div"),this.dom.relatedSkipText.className="rmp-related-skip-preview-title rmp-color-bg",r.default.setText(this.dom.relatedSkipText,this.relatedList[t].contentTitle),this.dom.relatedSkipPreview.appendChild(this.dom.relatedSkipText),i=document.createElement("div"),i.className="rmp-related-skip-preview-up-next rmp-color-bg",r.default.setText(i,this.labels.hint.upNext),this.dom.relatedSkipPreview.appendChild(i),w.default.isMobile||(this.dom.relatedSkip.addEventListener("mouseenter",function(t){t&&t.stopPropagation();n.forceResetTimer=!0;r.default.fadeIn(n.dom.relatedSkipPreview)}),this.dom.relatedSkip.addEventListener("mouseleave",function(t){t&&t.stopPropagation();n.forceResetTimer=!1;r.default.fadeOut(n.dom.relatedSkipPreview)})))}.call(this)}else e.call(this)};f.init=function(){var n=this;""===this.relatedLoc?p.call(this,this.relatedData):r.default.ajax(this.relatedLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(t){var i=void 0;try{i=JSON.parse(t)}catch(t){r.default.trace(t);e.call(n)}Array.isArray(i.playlist)?p.call(n,i.playlist):e.call(n)}).catch(function(t){r.default.trace(t);e.call(n)})};i.default=f},{"../ads/ads-helpers":6,"../analytics/analytics":11,"../analytics/logs":12,"../core/modules/modules":30,"../core/run-player/runPlayer":38,"../core/ui/core-ui":41,"../core/utils/error":44,"../core/utils/utils":46,"../fw/env":52,"../fw/fw":53}],57:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var c,l;Object.defineProperty(i,"__esModule",{value:!0});var r=f(n("../fw/fw")),b=f(n("../fw/env")),k=f(n("../core/accessible/accessible")),d=f(n("../core/ui/core-ui")),e=f(n("../core/modules/modules")),s=f(n("../core/utils/error")),g=f(n("../cast/cast"));var u={prepare:function(){b.default.isIos[0]&&(this.ccParser="native");this.hasCC=!0;this.googleCastCCForegroundColor=this.ccTextColor+"99";var n=this.ccBackgroundAlpha;1<=n&&(n=.99);this.googleCastCCBackgroundColor=this.ccBackgroundColor+(100*n).toString();this.googleCastCCFontScale=.9*this.ccFontSize/18}},o=function(){if(this.textTracks&&0<this.textTracks.length)for(var n=0;n<this.textTracks.length;n++)this.textTracks[n]&&"hidden"!==this.textTracks[n].mode&&(this.textTracks[n].mode="hidden")},h=function(n){this.textTracks[n]&&"showing"!==this.textTracks[n].mode&&(o.call(this),this.textTracks[n].mode="showing")},a=function(){this.shakaPlayer&&this.shakaPlayer.setTextTrackVisibility(!1)},v=function(n){this.shakaPlayer&&(this.shakaPlayer.selectTextTrack(n),this.shakaPlayer.setTextTrackVisibility(!0))},y=function(n){this.hlsJSCEA?h.call(this,n):this.hlsJS&&(this.hlsJS.subtitleTrack=n)},p=function(){this.hasCC?"vtt.js"===this.ccParser?(this.ccEnabled=!1,r.default.hide(this.dom.ccArea),this.ccData=null):o.call(this):this.readingDash||this.readingHlsShaka?a.call(this):this.readingHlsJS&&function(){this.hlsJSCEA?o.call(this):this.hlsJS&&(this.hlsJS.subtitleTrack=-1)}.call(this),function(){if(this.googleCast&&this.castMediaLoaded)try{var n=new chrome.cast.media.EditTracksInfoRequest([]);this.castMedia.editTracksInfo(n,r.default.trace,r.default.trace)}catch(n){r.default.trace(n)}}.call(this)};u.destroy=function(){p.call(this);this.dom.container&&(this.dom.container.removeEventListener("playing",this.addNativeVTT),this.dom.container.removeEventListener("timeupdate",this.updateCues),this.dom.container.removeEventListener("resize",this.updateCuesResize));this.hasCC&&"native"===this.ccParser&&0<this.textTracks.length&&(this.startIndexCC+=this.textTracks.length);r.default.clearInterval(this.hlsJSCCInterval);this.textTracks=[];e.default.destroy.call(this,"captions");this.ccCues=[];this.defaultTrack=0;this.loadedCCFiles=[];this.addNativeVTT=r.default.nullFn;this.updateCues=r.default.nullFn;this.updateCuesResize=r.default.nullFn};u.getData=function(){return this.hasCC&&"vtt.js"===this.ccParser?this.ccData:null};c=function(n){if("string"==typeof n)try{this.ccCues=[];var t=new WebVTT.Parser(window,WebVTT.StringDecoder());t.oncue=function(n){this.ccCues.push(n)}.bind(this);t.onparsingerror=function(n){var t=null;n&&(t=n);s.default.warning.call(this,"vtt.js parsing error",4001,t)};t.parse(n);t.flush()}catch(n){r.default.trace(n)}};u.menuItemInteraction=function(n){var i,u,t,o;if(this.dom.captionsOverlayLevelsArea&&(i=null,u=null,n&&n.type&&n.target?(n.stopPropagation(),"touchend"===n.type&&n.preventDefault(),u=(i=n.target).getAttribute("lang")):"string"==typeof n&&""!==n&&(u=n,i=this.dom.captionsOverlayLevelsArea.querySelector('[lang="'+u+'"]')),null!==i&&null!==u)){d.default.showChrome.call(this);for(var e=this.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),f=0,s=e.length;f<s;f++)r.default.removeClass(e[f],"rmp-overlay-level-active");for(t=0,o=this.loadedCCFiles.length;t<o;t++){if(r.default.hasClass(i,"captions-off")){this.defaultTrack=0;r.default.addClass(i,"rmp-overlay-level-active");p.call(this);r.default.createStdEvent("texttrackchanged",this.dom.container);break}if(this.loadedCCFiles[t][0]===u){this.defaultTrack=t+1;r.default.addClass(i,"rmp-overlay-level-active");this.hasCC?"native"===this.ccParser?h.call(this,t):(this.ccEnabled=!0,r.default.show(this.dom.ccArea),c.call(this,this.loadedCCFiles[t][2]),this.ccData=this.ccCues):this.readingDash||this.readingHlsShaka?v.call(this,this.shakaTextTracks[t]):this.readingHlsJS&&y.call(this,t);this.googleCast&&g.default.setTextTrack.call(this,t);r.default.createStdEvent("texttrackchanged",this.dom.container);break}}}};l=function(n,t,i,f){var e=document.createElement("div");return e.className=n+" rmp-overlay-level rmp-color-bg",0<t.length&&e.setAttribute("lang",t),f===this.defaultTrack&&(r.default.addClass(e,"rmp-overlay-level-active"),"captions-off"!==n&&-1<f-1&&(this.hasCC?"native"===this.ccParser?h.call(this,f-1):(this.ccEnabled=!0,r.default.show(this.dom.ccArea),c.call(this,this.loadedCCFiles[f-1][2]),this.ccData=this.ccCues):this.readingDash||this.readingHlsShaka?v.call(this,this.shakaTextTracks[f-1]):this.readingHlsJS&&y.call(this,f-1),r.default.createStdEvent("texttrackchanged",this.dom.container))),e.appendChild(document.createTextNode(i)),this.dom.ccItems.push(e),k.default.makeAccessible.call(this,e,n,!0),r.default.addEvent(["touchend","click"],e,u.menuItemInteraction.bind(this)),e};u.appendUI=function(){var u,v,n,y,f,o,s,h,t,p,i,w,c,b;if(this.hasCC){for(u=0,v=this.loadedCCFiles.length;u<v;u++)null===this.loadedCCFiles[u]&&this.loadedCCFiles.splice(u,1);if(this.loadedCCFiles.length<1)return;"vtt.js"===this.ccParser&&(this.dom.ccArea=document.createElement("div"),this.dom.ccArea.className="rmp-cc-area",r.default.hide(this.dom.ccArea),this.dom.content.insertBefore(this.dom.ccArea,this.dom.video.nextSibling));this.ccFilesReady=!0;r.default.createStdEvent("alltexttracksloaded",this.dom.container),function(){var t="",i,u,n;0<this.ccFontSize&&(i=this.ccFontSize,u=this.ccFSFontSize,this.ccFSFontSize<this.ccFontSize&&(u=i),t+=".rmp-cc-cue, .rmp-content > video::cue {font-size: "+i+"px;} ",t+=".rmp-fullscreen-on .rmp-cc-cue, .rmp-fullscreen-on > .rmp-content > video::cue {font-size: "+u+"px;} ");("FFFFFF"!==this.ccTextColor||"000000"!==this.ccBackgroundColor||.8!==this.ccBackgroundAlpha)&&(n=r.default.hexToRgb("#"+this.ccBackgroundColor),n="rgba("+n.r+", "+n.g+", "+n.b+", "+this.ccBackgroundAlpha+")",t+=".rmp-cc-cue {color: #"+this.ccTextColor+" !important; background: "+n+" !important;;} ",t+=".rmp-content > video::cue {color: #"+this.ccTextColor+";} ",t+=".rmp-content > video::-webkit-media-text-track-display-backdrop {background: "+n+" !important;} ");r.default.appendStyle(t)}.call(this)}if(e.default.append.call(this,"captions"),e.default.appendOverlay.call(this,"captions"),e.default.deferredShow.call(this,"captions"),!this.hasCC&&this.readingMse&&0<this.textTracks.length)for(n=0,y=this.textTracks.length;n<y;n++)f=this.textTracks[n],this.loadedCCFiles[n]=[],o=f.language||f.lang,o||(o="lng-"+(n+1)),this.loadedCCFiles[n].push(o),s=f.label||f.name,(s||(s=o),this.loadedCCFiles[n].push(s),this.readingHlsJS)&&(h=this.hlsJS.subtitleTracks.findIndex(function(n){return!0===n.default}),-1<h&&h===n&&(this.loadedCCFiles[n].push(""),this.loadedCCFiles[n].push("default")));for(t=0,p=this.loadedCCFiles.length;t<p;t++)if("string"==typeof this.loadedCCFiles[t][3]&&"default"===this.loadedCCFiles[t][3]){this.defaultTrack=t+1;break}for(this.dom.captionsOverlayLevelsArea.appendChild(l.call(this,"captions-off","off",this.labels.captions.off,0)),i=0,w=this.loadedCCFiles.length;i<w;i++)c=this.loadedCCFiles[i][0],b=this.loadedCCFiles[i][1],this.dom.captionsOverlayLevelsArea.appendChild(l.call(this,"captions-"+c,c,b,i+1));this.hasCC||(this.readingDash||this.readingHlsShaka)&&0===this.defaultTrack&&a.call(this)};var nt=function(n){var t=this;return r.default.ajax(this.ccFiles[n][2],this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(i){if("string"==typeof i){var u="";"string"==typeof t.ccFiles[n][3]&&"default"===t.ccFiles[n][3]&&(u=t.ccFiles[n][3]);t.loadedCCFiles[n]=[t.ccFiles[n][0],t.ccFiles[n][1],i,u];r.default.createStdEvent("texttrackloaded",t.dom.container)}}).catch(function(i){t.loadedCCFiles[n]=null;r.default.createStdEvent("texttrackloaderror",t.dom.container);var u=null;i&&(u=i);s.default.warning.call(t,"failed to load text track at "+t.ccFiles[n][2],4002,u)})},w=function(n){var i=this.getCurrentTime(),f,e;if(-1<i){i/=1e3;for(var u=[],t=0,o=this.ccCues.length;t<o;t++)f=this.ccCues[t].startTime,e=this.ccCues[t].endTime,f<=i&&i<=e&&u.push(this.ccCues[t]);u[0]&&this.ccEnabled?(r.default.show(this.dom.ccArea),this.dom.ccArea.style.width=this.getPlayerWidth()+"px",this.dom.ccArea.style.height=this.getPlayerHeight()+"px",WebVTT.processCues(window,u,this.dom.ccArea,n)):r.default.hide(this.dom.ccArea)}},tt=function(){if(this.loadVTTFiles=function(){var i=this;this.updateCues=w.bind(this,!1);this.updateCuesResize=w.bind(this,!0);this.dom.container.addEventListener("timeupdate",this.updateCues);this.dom.container.addEventListener("resize",this.updateCuesResize);for(var t=[],n=0,r=this.ccFiles.length;n<r;n++)t[n]=nt.call(this,n);Promise.all(t).then(function(){u.appendUI.call(i)})}.bind(this),"undefined"!=typeof WebVTT)this.loadVTTFiles();else{0;r.default.getScript("https://cdn.radiantmediatechs.com/rmp/5.0.9/vtt/vtt.min.js",this.loadVTTFiles,s.default.warning.bind(this,"failed to load vtt.js",4e3,null))}};u.initVttJS=function(){"native"===this.ccParser?(this.addNativeVTT=function(){var n,t,i;for(this.dom.container.removeEventListener("playing",this.addNativeVTT),this.dom.container.removeEventListener("adloaded",this.addNativeVTT),n=0;n<this.ccFiles.length;n++)t=document.createElement("track"),"string"==typeof this.ccFiles[n][0]&&"string"==typeof this.ccFiles[n][1]&&"string"==typeof this.ccFiles[n][2]&&(t.srclang=this.ccFiles[n][0],t.label=this.ccFiles[n][1],t.src=this.ccFiles[n][2],t.kind="captions",this.dom.video.appendChild(t)),"string"==typeof this.ccFiles[n][3]&&"default"===this.ccFiles[n][3]&&(this.defaultTrack=n+1);if(this.textTracks=r.default.filterTextTracks(this.dom.video.textTracks),0<this.textTracks.length){if(0<this.startIndexCC)for(i=0;i<this.startIndexCC;i++)this.textTracks.shift();this.loadedCCFiles=this.ccFiles;o.call(this);u.appendUI.call(this)}}.bind(this),this.firstFrameReached?this.addNativeVTT():(this.dom.container.addEventListener("playing",this.addNativeVTT),this.dom.container.addEventListener("adloaded",this.addNativeVTT))):"vtt.js"===this.ccParser&&tt.call(this)};i.default=u},{"../cast/cast":22,"../core/accessible/accessible":23,"../core/modules/modules":30,"../core/ui/core-ui":41,"../core/utils/error":44,"../fw/env":52,"../fw/fw":53}],58:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var r,f,u,o;Object.defineProperty(i,"__esModule",{value:!0});r=e(n("../fw/fw"));f=e(n("../core/utils/error"));u={};o=function(n){for(var o,s,h=n.split(/\r\n|\r|\n/g),t=[],e=0,a=h.length;e<a;e++)/^\s*$/.test(h[e])||t.push(h[e]);if(/WEBVTT/i.test(t[0])){t.shift();this.thumbnailURIs=[];this.thumbnailURIsTimestamps=[];for(var i=0,v=t.length;i<v;i++)if(t[i]&&t[i+1]&&/^\s*\d*?:?\d*?:?\d+(\.\d+)?\s*-->\s*\d*?:?\d*?:?\d+(\.\d+)?\s*$/.test(t[i])&&(o=t[i].split("-->"),s=t[i+1].split("#xywh="),2===o.length&&2===s.length)){var c=o[0].trim(),y=o[1].trim(),l=[r.default.dateToSeconds(c),r.default.dateToSeconds(y)],u=s[0];/^(https?:)?\/\//i.test(u)||(u=r.default.getFQURL(this.seekBarThumbnailsLoc,u));-1===this.thumbnailURIs.indexOf(u)&&(this.thumbnailURIs.push(u),this.thumbnailURIsTimestamps.push(r.default.dateToSeconds(c)));l.push(s[1]);this.thumbnailsArray.push(l)}this.dummyThumbnailsImg=document.createElement("img");this.currentThumbnailURI=this.thumbnailURIs[0];this.onThumbnailsLoad=function(n){this.dummyThumbnailsImg.removeEventListener("load",this.onThumbnailsLoad);this.dummyThumbnailsImg.removeEventListener("error",this.onThumbnailsError);this.dummyThumbnailsImg=null;this.hasThumbnails=!0;this.dom.thumbnailsImg=document.createElement("div");r.default.setClass(this.dom.thumbnailsImg,"rmp-thumbnails");r.default.addClass(this.dom.seekBar,"rmp-seek-bar-thumbnails");this.dom.thumbnailsImg.style.backgroundImage='url("'+n+'")';this.dom.indicator.appendChild(this.dom.thumbnailsImg)}.bind(this,this.currentThumbnailURI);this.onThumbnailsError=function(n){this.dummyThumbnailsImg.removeEventListener("load",this.onThumbnailsLoad);this.dummyThumbnailsImg.removeEventListener("error",this.onThumbnailsError);var t=this.dummyThumbnailsImg=null;n&&(t=n);f.default.warning.call(this,"failed to load seek-bar thumbnails at "+this.thumbnailURIs[0],1002,t)}.bind(this);this.dummyThumbnailsImg.addEventListener("load",this.onThumbnailsLoad);this.dummyThumbnailsImg.addEventListener("error",this.onThumbnailsError);this.dummyThumbnailsImg.src=this.currentThumbnailURI}};u.destroy=function(){this.dummyThumbnailsImg&&(this.dummyThumbnailsImg.removeEventListener("load",this.onThumbnailsLoad),this.dummyThumbnailsImg.removeEventListener("error",this.onThumbnailsError),this.dummyThumbnailsImg=null);r.default.removeClass(this.dom.seekBar,"rmp-seek-bar-thumbnails");r.default.removeElement(this.dom.thumbnailsImg);this.hasThumbnails=!1};u.init=function(){var n=this;r.default.ajax(this.seekBarThumbnailsLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(t){"string"==typeof t&&o.call(n,t)}).catch(function(t){var i=null;t&&(i=t);f.default.warning.call(n,"failed to load VTT thumbnail file at "+n.seekBarThumbnailsLoc,1008,i)})};i.default=u},{"../core/utils/error":44,"../fw/fw":53}],59:[function(n,t){t.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},{}],60:[function(n,t){var i=n("./_wks")("unscopables"),r=Array.prototype;null==r[i]&&n("./_hide")(r,i,{});t.exports=function(n){r[i][n]=!0}},{"./_hide":91,"./_wks":161}],61:[function(n,t){t.exports=function(n,t,i,r){if(!(n instanceof t)||void 0!==r&&r in n)throw TypeError(i+": incorrect invocation!");return n}},{}],62:[function(n,t){var i=n("./_is-object");t.exports=function(n){if(!i(n))throw TypeError(n+" is not an object!");return n}},{"./_is-object":100}],63:[function(n,t){"use strict";var r=n("./_to-object"),i=n("./_to-absolute-index"),u=n("./_to-length");t.exports=[].copyWithin||function(n,t){var o=r(this),s=u(o.length),f=i(n,s),e=i(t,s),l=2<arguments.length?arguments[2]:void 0,h=Math.min((void 0===l?s:i(l,s))-e,s-f),c=1;for(e<f&&f<e+h&&(c=-1,e+=h-1,f+=h-1);0<h--;)e in o?o[f]=o[e]:delete o[f],f+=c,e+=c;return o}},{"./_to-absolute-index":146,"./_to-length":150,"./_to-object":151}],64:[function(n,t){"use strict";var r=n("./_to-object"),i=n("./_to-absolute-index"),u=n("./_to-length");t.exports=function(n){for(var t=r(this),f=u(t.length),e=arguments.length,o=i(1<e?arguments[1]:void 0,f),s=2<e?arguments[2]:void 0,h=void 0===s?f:i(s,f);o<h;)t[o++]=n;return t}},{"./_to-absolute-index":146,"./_to-length":150,"./_to-object":151}],65:[function(n,t){var i=n("./_to-iobject"),r=n("./_to-length"),u=n("./_to-absolute-index");t.exports=function(n){return function(t,f,e){var c,s=i(t),h=r(s.length),o=u(e,h);if(n&&f!=f){for(;o<h;)if((c=s[o++])!=c)return!0}else for(;o<h;o++)if((n||o in s)&&s[o]===f)return n||o||0;return!n&&-1}}},{"./_to-absolute-index":146,"./_to-iobject":149,"./_to-length":150}],66:[function(n,t){var i=n("./_ctx"),r=n("./_iobject"),u=n("./_to-object"),f=n("./_to-length"),e=n("./_array-species-create");t.exports=function(n,t){var s=1==n,l=2==n,a=3==n,o=4==n,h=6==n,v=5==n||h,c=t||e;return function(t,e,y){for(var w,b,g=u(t),k=r(g),tt=i(e,y,3),nt=f(k.length),p=0,d=s?c(t,nt):l?c(t,0):void 0;p<nt;p++)if((v||p in k)&&(b=tt(w=k[p],p,g),n))if(s)d[p]=b;else if(b)switch(n){case 3:return!0;case 5:return w;case 6:return p;case 2:d.push(w)}else if(o)return!1;return h?-1:a||o?o:d}}},{"./_array-species-create":68,"./_ctx":77,"./_iobject":96,"./_to-length":150,"./_to-object":151}],67:[function(n,t){var r=n("./_is-object"),i=n("./_is-array"),u=n("./_wks")("species");t.exports=function(n){var t;return i(n)&&("function"!=typeof(t=n.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[u])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":98,"./_is-object":100,"./_wks":161}],68:[function(n,t){var i=n("./_array-species-constructor");t.exports=function(n,t){return new(i(n))(t)}},{"./_array-species-constructor":67}],69:[function(n,t){"use strict";var u=n("./_a-function"),f=n("./_is-object"),e=n("./_invoke"),r=[].slice,i={};t.exports=Function.bind||function(n){var t=u(this),s=r.call(arguments,1),o=function(){var u=s.concat(r.call(arguments));return this instanceof o?function(n,t,r){if(!(t in i)){for(var f=[],u=0;u<t;u++)f[u]="a["+u+"]";i[t]=Function("F,a","return new F("+f.join(",")+")")}return i[t](n,r)}(t,u.length,u):e(t,u,n)};return f(t.prototype)&&(o.prototype=t.prototype),o}},{"./_a-function":59,"./_invoke":95,"./_is-object":100}],70:[function(n,t){var i=n("./_cof"),r=n("./_wks")("toStringTag"),u="Arguments"==i(function(){return arguments}());t.exports=function(n){var t,f,e;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(f=function(n,t){try{return n[t]}catch(n){}}(t=Object(n),r))?f:u?i(t):"Object"==(e=i(t))&&"function"==typeof t.callee?"Arguments":e}},{"./_cof":71,"./_wks":161}],71:[function(n,t){var i={}.toString;t.exports=function(n){return i.call(n).slice(8,-1)}},{}],72:[function(n,t){"use strict";var s=n("./_object-dp").f,h=n("./_object-create"),c=n("./_redefine-all"),l=n("./_ctx"),a=n("./_an-instance"),v=n("./_for-of"),y=n("./_iter-define"),f=n("./_iter-step"),p=n("./_set-species"),e=n("./_descriptors"),o=n("./_meta").fastKey,i=n("./_validate-collection"),r=e?"_s":"size",u=function(n,t){var i,r=o(t);if("F"!==r)return n._i[r];for(i=n._f;i;i=i.n)if(i.k==t)return i};t.exports={getConstructor:function(n,t,f,o){var y=n(function(n,i){a(n,y,t,"_i");n._t=t;n._i=h(null);n._f=void 0;n._l=void 0;n[r]=0;null!=i&&v(i,f,n[o],n)});return c(y.prototype,{clear:function(){for(var u=i(this,t),f=u._i,n=u._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete f[n.i];u._f=u._l=void 0;u[r]=0},"delete":function(n){var e=i(this,t),f=u(e,n),o,s;return f&&(o=f.n,s=f.p,delete e._i[f.i],f.r=!0,s&&(s.n=o),o&&(o.p=s),e._f==f&&(e._f=o),e._l==f&&(e._l=s),e[r]--),!!f},forEach:function(n){i(this,t);for(var r,u=l(n,1<arguments.length?arguments[1]:void 0,3);r=r?r.n:this._f;)for(u(r.v,r.k,this);r&&r.r;)r=r.p},has:function(n){return!!u(i(this,t),n)}}),e&&s(y.prototype,"size",{get:function(){return i(this,t)[r]}}),y},def:function(n,t,i){var e,s,f=u(n,t);return f?f.v=i:(n._l=f={i:s=o(t,!0),k:t,v:i,p:e=n._l,n:void 0,r:!1},n._f||(n._f=f),e&&(e.n=f),n[r]++,"F"!==s&&(n._i[s]=f)),n},getEntry:u,setStrong:function(n,t,r){y(n,t,function(n,r){this._t=i(n,t);this._k=r;this._l=void 0},function(){for(var t=this,i=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?f(0,"keys"==i?n.k:"values"==i?n.v:[n.k,n.v]):(t._t=void 0,f(1))},r?"entries":"values",!r,!0);p(t)}}},{"./_an-instance":61,"./_ctx":77,"./_descriptors":79,"./_for-of":88,"./_iter-define":104,"./_iter-step":106,"./_meta":113,"./_object-create":117,"./_object-dp":118,"./_redefine-all":133,"./_set-species":137,"./_validate-collection":158}],73:[function(n,t){"use strict";var c=n("./_redefine-all"),r=n("./_meta").getWeak,l=n("./_an-object"),f=n("./_is-object"),a=n("./_an-instance"),v=n("./_for-of"),e=n("./_array-methods"),o=n("./_has"),s=n("./_validate-collection"),y=e(5),p=e(6),w=0,i=function(n){return n._l||(n._l=new h)},h=function(){this.a=[]},u=function(n,t){return y(n.a,function(n){return n[0]===t})};h.prototype={get:function(n){var t=u(this,n);if(t)return t[1]},has:function(n){return!!u(this,n)},set:function(n,t){var i=u(this,n);i?i[1]=t:this.a.push([n,t])},"delete":function(n){var t=p(this.a,function(t){return t[0]===n});return~t&&this.a.splice(t,1),!!~t}};t.exports={getConstructor:function(n,t,u,e){var h=n(function(n,i){a(n,h,t,"_i");n._t=t;n._i=w++;n._l=void 0;null!=i&&v(i,u,n[e],n)});return c(h.prototype,{"delete":function(n){if(!f(n))return!1;var u=r(n);return!0===u?i(s(this,t)).delete(n):u&&o(u,this._i)&&delete u[this._i]},has:function(n){if(!f(n))return!1;var u=r(n);return!0===u?i(s(this,t)).has(n):u&&o(u,this._i)}}),h},def:function(n,t,u){var f=r(l(t),!0);return!0===f?i(n).set(t,u):f[n._i]=u,n},ufstore:i}},{"./_an-instance":61,"./_an-object":62,"./_array-methods":66,"./_for-of":88,"./_has":90,"./_is-object":100,"./_meta":113,"./_redefine-all":133,"./_validate-collection":158}],74:[function(n,t){"use strict";var f=n("./_global"),i=n("./_export"),e=n("./_redefine"),o=n("./_redefine-all"),s=n("./_meta"),h=n("./_for-of"),c=n("./_an-instance"),r=n("./_is-object"),u=n("./_fails"),l=n("./_iter-detect"),a=n("./_set-to-string-tag"),v=n("./_inherit-if-required");t.exports=function(n,t,y,p,w,b){var tt=f[n],k=tt,g=w?"set":"add",d=k&&k.prototype,rt={},nt=function(n){var t=d[n];e(d,n,"delete"==n?function(n){return!(b&&!r(n))&&t.call(this,0===n?0:n)}:"has"==n?function(n){return!(b&&!r(n))&&t.call(this,0===n?0:n)}:"get"==n?function(n){if(!b||r(n))return t.call(this,0===n?0:n)}:"add"==n?function(n){return t.call(this,0===n?0:n),this}:function(n,i){return t.call(this,0===n?0:n,i),this})};if("function"==typeof k&&(b||d.forEach&&!u(function(){(new k).entries().next()}))){var it=new k,ft=it[g](b?{}:-0,1)!=it,et=u(function(){it.has(1)}),ot=l(function(n){new k(n)}),ut=!b&&u(function(){for(var t=new k,n=5;n--;)t[g](n,n);return!t.has(-0)});ot||(((k=t(function(t,i){c(t,k,n);var r=v(new tt,t,k);return null!=i&&h(i,w,r[g],r),r})).prototype=d).constructor=k);(et||ut)&&(nt("delete"),nt("has"),w&&nt("get"));(ut||ft)&&nt(g);b&&d.clear&&delete d.clear}else k=p.getConstructor(t,n,w,g),o(k.prototype,y),s.NEED=!0;return a(k,n),rt[n]=k,i(i.G+i.W+i.F*(k!=tt),rt),b||p.setStrong(k,n,w),k}},{"./_an-instance":61,"./_export":83,"./_fails":85,"./_for-of":88,"./_global":89,"./_inherit-if-required":94,"./_is-object":100,"./_iter-detect":105,"./_meta":113,"./_redefine":134,"./_redefine-all":133,"./_set-to-string-tag":138}],75:[function(n,t){var i=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},{}],76:[function(n,t){"use strict";var i=n("./_object-dp"),r=n("./_property-desc");t.exports=function(n,t,u){t in n?i.f(n,t,r(0,u)):n[t]=u}},{"./_object-dp":118,"./_property-desc":132}],77:[function(n,t){var i=n("./_a-function");t.exports=function(n,t,r){if(i(n),void 0===t)return n;switch(r){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)}}return function(){return n.apply(t,arguments)}}},{"./_a-function":59}],78:[function(n,t){t.exports=function(n){if(null==n)throw TypeError("Can't call method on  "+n);return n}},{}],79:[function(n,t){t.exports=!n("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":85}],80:[function(n,t){var r=n("./_is-object"),i=n("./_global").document,u=r(i)&&r(i.createElement);t.exports=function(n){return u?i.createElement(n):{}}},{"./_global":89,"./_is-object":100}],81:[function(n,t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],82:[function(n,t){var i=n("./_object-keys"),r=n("./_object-gops"),u=n("./_object-pie");t.exports=function(n){var t=i(n),f=r.f;if(f)for(var e,o=f(n),h=u.f,s=0;o.length>s;)h.call(n,e=o[s++])&&t.push(e);return t}},{"./_object-gops":123,"./_object-keys":126,"./_object-pie":127}],83:[function(n,t){var r=n("./_global"),u=n("./_core"),o=n("./_hide"),s=n("./_redefine"),e=n("./_ctx"),f="prototype",i=function(n,t,h){var l,p,c,w,d=n&i.F,y=n&i.G,g=n&i.S,b=n&i.P,nt=n&i.B,a=y?r:g?r[t]||(r[t]={}):(r[t]||{})[f],v=y?u:u[t]||(u[t]={}),k=v[f]||(v[f]={});for(l in y&&(h=t),h)c=((p=!d&&a&&void 0!==a[l])?a:h)[l],w=nt&&p?e(c,r):b&&"function"==typeof c?e(Function.call,c):c,a&&s(a,l,c,n&i.U),v[l]!=c&&o(v,l,w),b&&k[l]!=c&&(k[l]=c)};r.core=u;i.F=1;i.G=2;i.S=4;i.P=8;i.B=16;i.W=32;i.U=64;i.R=128;t.exports=i},{"./_core":75,"./_ctx":77,"./_global":89,"./_hide":91,"./_redefine":134}],84:[function(n,t){var i=n("./_wks")("match");t.exports=function(n){var t=/./;try{"/./"[n](t)}catch(r){try{return t[i]=!1,!"/./"[n](t)}catch(r){}}return!0}},{"./_wks":161}],85:[function(n,t){t.exports=function(n){try{return!!n()}catch(n){return!0}}},{}],86:[function(n,t){"use strict";var i=n("./_hide"),r=n("./_redefine"),u=n("./_fails"),f=n("./_defined"),e=n("./_wks");t.exports=function(n,t,o){var s=e(n),h=o(f,s,""[n]),l=h[0],c=h[1];u(function(){var t={};return t[s]=function(){return 7},7!=""[n](t)})&&(r(String.prototype,n,l),i(RegExp.prototype,s,2==t?function(n,t){return c.call(n,this,t)}:function(n){return c.call(n,this)}))}},{"./_defined":78,"./_fails":85,"./_hide":91,"./_redefine":134,"./_wks":161}],87:[function(n,t){"use strict";var i=n("./_an-object");t.exports=function(){var t=i(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},{"./_an-object":62}],88:[function(n,t,i){var f=n("./_ctx"),e=n("./_iter-call"),o=n("./_is-array-iter"),s=n("./_an-object"),h=n("./_to-length"),c=n("./core.get-iterator-method"),r={},u={};(i=t.exports=function(n,t,i,l,a){var d,y,w,v,b=a?function(){return n}:c(n),k=f(i,l,t?2:1),p=0;if("function"!=typeof b)throw TypeError(n+" is not iterable!");if(o(b)){for(d=h(n.length);p<d;p++)if((v=t?k(s(y=n[p])[0],y[1]):k(n[p]))===r||v===u)return v}else for(w=b.call(n);!(y=w.next()).done;)if((v=e(w,k,y.value,t))===r||v===u)return v}).BREAK=r;i.RETURN=u},{"./_an-object":62,"./_ctx":77,"./_is-array-iter":97,"./_iter-call":102,"./_to-length":150,"./core.get-iterator-method":162}],89:[function(n,t){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],90:[function(n,t){var i={}.hasOwnProperty;t.exports=function(n,t){return i.call(n,t)}},{}],91:[function(n,t){var i=n("./_object-dp"),r=n("./_property-desc");t.exports=n("./_descriptors")?function(n,t,u){return i.f(n,t,r(1,u))}:function(n,t,i){return n[t]=i,n}},{"./_descriptors":79,"./_object-dp":118,"./_property-desc":132}],92:[function(n,t){var i=n("./_global").document;t.exports=i&&i.documentElement},{"./_global":89}],93:[function(n,t){t.exports=!n("./_descriptors")&&!n("./_fails")(function(){return 7!=Object.defineProperty(n("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":79,"./_dom-create":80,"./_fails":85}],94:[function(n,t){var r=n("./_is-object"),i=n("./_set-proto").set;t.exports=function(n,t,u){var f,e=t.constructor;return e!==u&&"function"==typeof e&&(f=e.prototype)!==u.prototype&&r(f)&&i&&i(n,f),n}},{"./_is-object":100,"./_set-proto":136}],95:[function(n,t){t.exports=function(n,t,i){var r=void 0===i;switch(t.length){case 0:return r?n():n.call(i);case 1:return r?n(t[0]):n.call(i,t[0]);case 2:return r?n(t[0],t[1]):n.call(i,t[0],t[1]);case 3:return r?n(t[0],t[1],t[2]):n.call(i,t[0],t[1],t[2]);case 4:return r?n(t[0],t[1],t[2],t[3]):n.call(i,t[0],t[1],t[2],t[3])}return n.apply(i,t)}},{}],96:[function(n,t){var i=n("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return"String"==i(n)?n.split(""):Object(n)}},{"./_cof":71}],97:[function(n,t){var i=n("./_iterators"),r=n("./_wks")("iterator"),u=Array.prototype;t.exports=function(n){return void 0!==n&&(i.Array===n||u[r]===n)}},{"./_iterators":107,"./_wks":161}],98:[function(n,t){var i=n("./_cof");t.exports=Array.isArray||function(n){return"Array"==i(n)}},{"./_cof":71}],99:[function(n,t){var i=n("./_is-object"),r=Math.floor;t.exports=function(n){return!i(n)&&isFinite(n)&&r(n)===n}},{"./_is-object":100}],100:[function(n,t){t.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},{}],101:[function(n,t){var i=n("./_is-object"),r=n("./_cof"),u=n("./_wks")("match");t.exports=function(n){var t;return i(n)&&(void 0!==(t=n[u])?!!t:"RegExp"==r(n))}},{"./_cof":71,"./_is-object":100,"./_wks":161}],102:[function(n,t){var i=n("./_an-object");t.exports=function(n,t,r,u){try{return u?t(i(r)[0],r[1]):t(r)}catch(t){var f=n.return;throw void 0!==f&&i(f.call(n)),t;}}},{"./_an-object":62}],103:[function(n,t){"use strict";var r=n("./_object-create"),u=n("./_property-desc"),f=n("./_set-to-string-tag"),i={};n("./_hide")(i,n("./_wks")("iterator"),function(){return this});t.exports=function(n,t,e){n.prototype=r(i,{next:u(1,e)});f(n,t+" Iterator")}},{"./_hide":91,"./_object-create":117,"./_property-desc":132,"./_set-to-string-tag":138,"./_wks":161}],104:[function(n,t){"use strict";var e=n("./_library"),u=n("./_export"),c=n("./_redefine"),o=n("./_hide"),s=n("./_iterators"),l=n("./_iter-create"),a=n("./_set-to-string-tag"),v=n("./_object-gpo"),i=n("./_wks")("iterator"),f=!([].keys&&"next"in[].keys()),r="values",h=function(){return this};t.exports=function(n,t,y,p,w,b,k){l(y,t,p);var nt,rt,tt,ut=function(n){if(!f&&n in d)return d[n];switch(n){case"keys":case r:return function(){return new y(this,n)}}return function(){return new y(this,n)}},ot=t+" Iterator",ft=w==r,et=!1,d=n.prototype,it=d[i]||d["@@iterator"]||w&&d[w],g=it||ut(w),ht=w?ft?ut("entries"):g:void 0,st="Array"==t&&d.entries||it;if(st&&(tt=v(st.call(new n)))!==Object.prototype&&tt.next&&(a(tt,ot,!0),e||"function"==typeof tt[i]||o(tt,i,h)),ft&&it&&it.name!==r&&(et=!0,g=function(){return it.call(this)}),e&&!k||!f&&!et&&d[i]||o(d,i,g),s[t]=g,s[ot]=h,w)if(nt={values:ft?g:ut(r),keys:b?g:ut("keys"),entries:ht},k)for(rt in nt)rt in d||c(d,rt,nt[rt]);else u(u.P+u.F*(f||et),t,nt);return nt}},{"./_export":83,"./_hide":91,"./_iter-create":103,"./_iterators":107,"./_library":108,"./_object-gpo":124,"./_redefine":134,"./_set-to-string-tag":138,"./_wks":161}],105:[function(n,t){var i=n("./_wks")("iterator"),u=!1,r;try{r=[7][i]();r.return=function(){u=!0};Array.from(r,function(){throw 2;})}catch(n){}t.exports=function(n,t){var f,r,e;if(!t&&!u)return!1;f=!1;try{r=[7];e=r[i]();e.next=function(){return{done:f=!0}};r[i]=function(){return e};n(r)}catch(n){}return f}},{"./_wks":161}],106:[function(n,t){t.exports=function(n,t){return{value:t,done:!!n}}},{}],107:[function(n,t){t.exports={}},{}],108:[function(n,t){t.exports=!1},{}],109:[function(n,t){var i=Math.expm1;t.exports=!i||22025.465794806718<i(10)||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(n){return 0==(n=+n)?n:-1e-6<n&&n<1e-6?n+n*n/2:Math.exp(n)-1}:i},{}],110:[function(n,t){var e=n("./_math-sign"),i=Math.pow,u=i(2,-52),r=i(2,-23),o=i(2,127)*(2-r),f=i(2,-126);t.exports=Math.fround||function(n){var h,t,i=Math.abs(n),s=e(n);return i<f?s*(i/f/r+1/u-1/u)*f*r:o<(t=(h=(1+r/u)*i)-(h-i))||t!=t?s*(1/0):s*t}},{"./_math-sign":112}],111:[function(n,t){t.exports=Math.log1p||function(n){return-1e-8<(n=+n)&&n<1e-8?n-n*n/2:Math.log(1+n)}},{}],112:[function(n,t){t.exports=Math.sign||function(n){return 0==(n=+n)||n!=n?n:n<0?-1:1}},{}],113:[function(n,t){var i=n("./_uid")("meta"),e=n("./_is-object"),u=n("./_has"),o=n("./_object-dp").f,s=0,r=Object.isExtensible||function(){return!0},h=!n("./_fails")(function(){return r(Object.preventExtensions({}))}),f=function(n){o(n,i,{value:{i:"O"+ ++s,w:{}}})},c=t.exports={KEY:i,NEED:!1,fastKey:function(n,t){if(!e(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!u(n,i)){if(!r(n))return"F";if(!t)return"E";f(n)}return n[i].i},getWeak:function(n,t){if(!u(n,i)){if(!r(n))return!0;if(!t)return!1;f(n)}return n[i].w},onFreeze:function(n){return h&&c.NEED&&r(n)&&!u(n,i)&&f(n),n}}},{"./_fails":85,"./_has":90,"./_is-object":100,"./_object-dp":118,"./_uid":156}],114:[function(n,t){var i=n("./_global"),o=n("./_task").set,f=i.MutationObserver||i.WebKitMutationObserver,r=i.process,u=i.Promise,e="process"==n("./_cof")(r);t.exports=function(){var n,s,t,h=function(){var i,u;for(e&&(i=r.domain)&&i.exit();n;){u=n.fn;n=n.next;try{u()}catch(i){throw n?t():s=void 0,i;}}s=void 0;i&&i.enter()},a,c,l;return e?t=function(){r.nextTick(h)}:!f||i.navigator&&i.navigator.standalone?u&&u.resolve?(a=u.resolve(void 0),t=function(){a.then(h)}):t=function(){o.call(i,h)}:(c=!0,l=document.createTextNode(""),new f(h).observe(l,{characterData:!0}),t=function(){l.data=c=!c}),function(i){var r={fn:i,next:void 0};s&&(s.next=r);n||(n=r,t());s=r}}},{"./_cof":71,"./_global":89,"./_task":145}],115:[function(n,t){"use strict";function r(n){var t,r;this.promise=new n(function(n,i){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=n;r=i});this.resolve=i(t);this.reject=i(r)}var i=n("./_a-function");t.exports.f=function(n){return new r(n)}},{"./_a-function":59}],116:[function(n,t){"use strict";var r=n("./_object-keys"),u=n("./_object-gops"),f=n("./_object-pie"),e=n("./_to-object"),o=n("./_iobject"),i=Object.assign;t.exports=!i||n("./_fails")(function(){var n={},t={},r=Symbol(),u="abcdefghijklmnopqrst";return n[r]=7,u.split("").forEach(function(n){t[n]=n}),7!=i({},n)[r]||Object.keys(i({},t)).join("")!=u})?function(n){for(var s=e(n),v=arguments.length,h=1,c=u.f,y=f.f;h<v;)for(var i,t=o(arguments[h++]),l=c?r(t).concat(c(t)):r(t),p=l.length,a=0;a<p;)y.call(t,i=l[a++])&&(s[i]=t[i]);return s}:i},{"./_fails":85,"./_iobject":96,"./_object-gops":123,"./_object-keys":126,"./_object-pie":127,"./_to-object":151}],117:[function(n,t){var e=n("./_an-object"),o=n("./_object-dps"),f=n("./_enum-bug-keys"),s=n("./_shared-key")("IE_PROTO"),r=function(){},u="prototype",i=function(){var t,r=n("./_dom-create")("iframe"),e=f.length;for(r.style.display="none",n("./_html").appendChild(r),r.src="javascript:",(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),i=t.F;e--;)delete i[u][f[e]];return i()};t.exports=Object.create||function(n,t){var f;return null!==n?(r[u]=e(n),f=new r,r[u]=null,f[s]=n):f=i(),void 0===t?f:o(f,t)}},{"./_an-object":62,"./_dom-create":80,"./_enum-bug-keys":81,"./_html":92,"./_object-dps":119,"./_shared-key":139}],118:[function(n,t,i){var r=n("./_an-object"),u=n("./_ie8-dom-define"),f=n("./_to-primitive"),e=Object.defineProperty;i.f=n("./_descriptors")?Object.defineProperty:function(n,t,i){if(r(n),t=f(t,!0),r(i),u)try{return e(n,t,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(n[t]=i.value),n}},{"./_an-object":62,"./_descriptors":79,"./_ie8-dom-define":93,"./_to-primitive":152}],119:[function(n,t){var i=n("./_object-dp"),r=n("./_an-object"),u=n("./_object-keys");t.exports=n("./_descriptors")?Object.defineProperties:function(n,t){r(n);for(var f,e=u(t),s=e.length,o=0;o<s;)i.f(n,f=e[o++],t[f]);return n}},{"./_an-object":62,"./_descriptors":79,"./_object-dp":118,"./_object-keys":126}],120:[function(n,t,i){var u=n("./_object-pie"),f=n("./_property-desc"),e=n("./_to-iobject"),o=n("./_to-primitive"),s=n("./_has"),h=n("./_ie8-dom-define"),r=Object.getOwnPropertyDescriptor;i.f=n("./_descriptors")?r:function(n,t){if(n=e(n),t=o(t,!0),h)try{return r(n,t)}catch(n){}if(s(n,t))return f(!u.f.call(n,t),n[t])}},{"./_descriptors":79,"./_has":90,"./_ie8-dom-define":93,"./_object-pie":127,"./_property-desc":132,"./_to-iobject":149,"./_to-primitive":152}],121:[function(n,t){var u=n("./_to-iobject"),i=n("./_object-gopn").f,f={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(n){return r&&"[object Window]"==f.call(n)?function(n){try{return i(n)}catch(n){return r.slice()}}(n):i(u(n))}},{"./_object-gopn":122,"./_to-iobject":149}],122:[function(n,t,i){var r=n("./_object-keys-internal"),u=n("./_enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(n){return r(n,u)}},{"./_enum-bug-keys":81,"./_object-keys-internal":125}],123:[function(n,t,i){i.f=Object.getOwnPropertySymbols},{}],124:[function(n,t){var r=n("./_has"),u=n("./_to-object"),i=n("./_shared-key")("IE_PROTO"),f=Object.prototype;t.exports=Object.getPrototypeOf||function(n){return n=u(n),r(n,i)?n[i]:"function"==typeof n.constructor&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?f:null}},{"./_has":90,"./_shared-key":139,"./_to-object":151}],125:[function(n,t){var i=n("./_has"),r=n("./_to-iobject"),u=n("./_array-includes")(!1),f=n("./_shared-key")("IE_PROTO");t.exports=function(n,t){var e,s=r(n),h=0,o=[];for(e in s)e!=f&&i(s,e)&&o.push(e);for(;t.length>h;)i(s,e=t[h++])&&(~u(o,e)||o.push(e));return o}},{"./_array-includes":65,"./_has":90,"./_shared-key":139,"./_to-iobject":149}],126:[function(n,t){var i=n("./_object-keys-internal"),r=n("./_enum-bug-keys");t.exports=Object.keys||function(n){return i(n,r)}},{"./_enum-bug-keys":81,"./_object-keys-internal":125}],127:[function(n,t,i){i.f={}.propertyIsEnumerable},{}],128:[function(n,t){var i=n("./_export"),r=n("./_core"),u=n("./_fails");t.exports=function(n,t){var f=(r.Object||{})[n]||Object[n],e={};e[n]=t(f);i(i.S+i.F*u(function(){f(1)}),"Object",e)}},{"./_core":75,"./_export":83,"./_fails":85}],129:[function(n,t){var r=n("./_object-gopn"),u=n("./_object-gops"),f=n("./_an-object"),i=n("./_global").Reflect;t.exports=i&&i.ownKeys||function(n){var t=r.f(f(n)),i=u.f;return i?t.concat(i(n)):t}},{"./_an-object":62,"./_global":89,"./_object-gopn":122,"./_object-gops":123}],130:[function(n,t){t.exports=function(n){try{return{e:!1,v:n()}}catch(n){return{e:!0,v:n}}}},{}],131:[function(n,t){var i=n("./_an-object"),r=n("./_is-object"),u=n("./_new-promise-capability");t.exports=function(n,t){if(i(n),r(t)&&t.constructor===n)return t;var f=u.f(n);return f.resolve(t),f.promise}},{"./_an-object":62,"./_is-object":100,"./_new-promise-capability":115}],132:[function(n,t){t.exports=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}}},{}],133:[function(n,t){var i=n("./_redefine");t.exports=function(n,t,r){for(var u in t)i(n,u,t[u],r);return n}},{"./_redefine":134}],134:[function(n,t){var o=n("./_global"),i=n("./_hide"),e=n("./_has"),r=n("./_uid")("src"),u="toString",f=Function[u],s=(""+f).split(u);n("./_core").inspectSource=function(n){return f.call(n)};(t.exports=function(n,t,u,f){var h="function"==typeof u;h&&(e(u,"name")||i(u,"name",t));n[t]!==u&&(h&&(e(u,r)||i(u,r,n[t]?""+n[t]:s.join(String(t)))),n===o?n[t]=u:f?n[t]?n[t]=u:i(n,t,u):(delete n[t],i(n,t,u)))})(Function.prototype,u,function(){return"function"==typeof this&&this[r]||f.call(this)})},{"./_core":75,"./_global":89,"./_has":90,"./_hide":91,"./_uid":156}],135:[function(n,t){t.exports=Object.is||function(n,t){return n===t?0!==n||1/n==1/t:n!=n&&t!=t}},{}],136:[function(n,t){var r=n("./_is-object"),u=n("./_an-object"),i=function(n,t){if(u(n),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!");};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,u){try{(u=n("./_ctx")(Function.call,n("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]);r=!(t instanceof Array)}catch(t){r=!0}return function(n,t){return i(n,t),r?n.__proto__=t:u(n,t),n}}({},!1):void 0),check:i}},{"./_an-object":62,"./_ctx":77,"./_is-object":100,"./_object-gopd":120}],137:[function(n,t){"use strict";var r=n("./_global"),u=n("./_object-dp"),f=n("./_descriptors"),i=n("./_wks")("species");t.exports=function(n){var t=r[n];f&&t&&!t[i]&&u.f(t,i,{configurable:!0,get:function(){return this}})}},{"./_descriptors":79,"./_global":89,"./_object-dp":118,"./_wks":161}],138:[function(n,t){var r=n("./_object-dp").f,u=n("./_has"),i=n("./_wks")("toStringTag");t.exports=function(n,t,f){n&&!u(n=f?n:n.prototype,i)&&r(n,i,{configurable:!0,value:t})}},{"./_has":90,"./_object-dp":118,"./_wks":161}],139:[function(n,t){var i=n("./_shared")("keys"),r=n("./_uid");t.exports=function(n){return i[n]||(i[n]=r(n))}},{"./_shared":140,"./_uid":156}],140:[function(n,t){var f=n("./_core"),i=n("./_global"),r="__core-js_shared__",u=i[r]||(i[r]={});(t.exports=function(n,t){return u[n]||(u[n]=void 0!==t?t:{})})("versions",[]).push({version:f.version,mode:n("./_library")?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":75,"./_global":89,"./_library":108}],141:[function(n,t){var i=n("./_an-object"),r=n("./_a-function"),u=n("./_wks")("species");t.exports=function(n,t){var f,e=i(n).constructor;return void 0===e||null==(f=i(e)[u])?t:r(f)}},{"./_a-function":59,"./_an-object":62,"./_wks":161}],142:[function(n,t){var i=n("./_to-integer"),r=n("./_defined");t.exports=function(n){return function(t,u){var o,s,e=String(r(t)),f=i(u),h=e.length;return f<0||h<=f?n?"":void 0:(o=e.charCodeAt(f))<55296||56319<o||f+1===h||(s=e.charCodeAt(f+1))<56320||57343<s?n?e.charAt(f):o:n?e.slice(f,f+2):s-56320+(o-55296<<10)+65536}}},{"./_defined":78,"./_to-integer":148}],143:[function(n,t){var i=n("./_is-regexp"),r=n("./_defined");t.exports=function(n,t,u){if(i(t))throw TypeError("String#"+u+" doesn't accept regex!");return String(r(n))}},{"./_defined":78,"./_is-regexp":101}],144:[function(n,t){"use strict";var i=n("./_to-integer"),r=n("./_defined");t.exports=function(n){var u=String(r(this)),f="",t=i(n);if(t<0||t==1/0)throw RangeError("Count can't be negative");for(;0<t;(t>>>=1)&&(u+=u))1&t&&(f+=u);return f}},{"./_defined":78,"./_to-integer":148}],145:[function(n,t){var r,a,o,e=n("./_ctx"),d=n("./_invoke"),v=n("./_html"),y=n("./_dom-create"),i=n("./_global"),p=i.process,s=i.setImmediate,h=i.clearImmediate,w=i.MessageChannel,c=i.Dispatch,l=0,u={},b="onreadystatechange",f=function(){var n=+this,t;u.hasOwnProperty(n)&&(t=u[n],delete u[n],t())},k=function(n){f.call(n.data)};s&&h||(s=function(n){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return u[++l]=function(){d("function"==typeof n?n:Function(n),t)},r(l),l},h=function(n){delete u[n]},"process"==n("./_cof")(p)?r=function(n){p.nextTick(e(f,n,1))}:c&&c.now?r=function(n){c.now(e(f,n,1))}:w?(o=(a=new w).port2,a.port1.onmessage=k,r=e(o.postMessage,o,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts?(r=function(n){i.postMessage(n+"","*")},i.addEventListener("message",k,!1)):r=b in y("script")?function(n){v.appendChild(y("script"))[b]=function(){v.removeChild(this);f.call(n)}}:function(n){setTimeout(e(f,n,1),0)});t.exports={set:s,clear:h}},{"./_cof":71,"./_ctx":77,"./_dom-create":80,"./_global":89,"./_html":92,"./_invoke":95}],146:[function(n,t){var i=n("./_to-integer"),r=Math.max,u=Math.min;t.exports=function(n,t){return(n=i(n))<0?r(n+t,0):u(n,t)}},{"./_to-integer":148}],147:[function(n,t){var i=n("./_to-integer"),r=n("./_to-length");t.exports=function(n){if(void 0===n)return 0;var t=i(n),u=r(t);if(t!==u)throw RangeError("Wrong length!");return u}},{"./_to-integer":148,"./_to-length":150}],148:[function(n,t){var i=Math.ceil,r=Math.floor;t.exports=function(n){return isNaN(n=+n)?0:(0<n?r:i)(n)}},{}],149:[function(n,t){var i=n("./_iobject"),r=n("./_defined");t.exports=function(n){return i(r(n))}},{"./_defined":78,"./_iobject":96}],150:[function(n,t){var i=n("./_to-integer"),r=Math.min;t.exports=function(n){return 0<n?r(i(n),9007199254740991):0}},{"./_to-integer":148}],151:[function(n,t){var i=n("./_defined");t.exports=function(n){return Object(i(n))}},{"./_defined":78}],152:[function(n,t){var i=n("./_is-object");t.exports=function(n,t){if(!i(n))return n;var r,u;if(t&&"function"==typeof(r=n.toString)&&!i(u=r.call(n))||"function"==typeof(r=n.valueOf)&&!i(u=r.call(n))||!t&&"function"==typeof(r=n.toString)&&!i(u=r.call(n)))return u;throw TypeError("Can't convert object to primitive value");}},{"./_is-object":100}],153:[function(n,t){"use strict";var e;if(n("./_descriptors")){var et=n("./_library"),b=n("./_global"),u=n("./_fails"),i=n("./_export"),k=n("./_typed"),bt=n("./_typed-buffer"),ur=n("./_ctx"),kt=n("./_an-instance"),fr=n("./_property-desc"),f=n("./_hide"),ot=n("./_redefine-all"),er=n("./_to-integer"),d=n("./_to-length"),dt=n("./_to-index"),gt=n("./_to-absolute-index"),ni=n("./_to-primitive"),a=n("./_has"),ti=n("./_classof"),h=n("./_is-object"),ii=n("./_to-object"),or=n("./_is-array-iter"),sr=n("./_object-create"),hr=n("./_object-gpo"),st=n("./_object-gopn").f,cr=n("./core.get-iterator-method"),ri=n("./_uid"),ui=n("./_wks"),s=n("./_array-methods"),fi=n("./_array-includes"),ht=n("./_species-constructor"),ct=n("./es6.array.iterator"),lr=n("./_iterators"),ar=n("./_iter-detect"),vr=n("./_set-species"),yr=n("./_array-fill"),pr=n("./_array-copy-within"),ei=n("./_object-dp"),oi=n("./_object-gopd"),v=ei.f,wr=oi.f,y=b.RangeError,si=b.TypeError,c=b.Uint8Array,lt="ArrayBuffer",hi="Shared"+lt,ci="BYTES_PER_ELEMENT",p="prototype",o=Array[p],at=bt.ArrayBuffer,br=bt.DataView,li=s(0),kr=s(2),dr=s(3),gr=s(4),nu=s(5),tu=s(6),iu=fi(!0),ru=fi(!1),uu=ct.values,fu=ct.keys,eu=ct.entries,ou=o.lastIndexOf,su=o.reduce,hu=o.reduceRight,ai=o.join,cu=o.sort,vi=o.slice,w=o.toString,vt=o.toLocaleString,yt=ui("iterator"),g=ui("toStringTag"),yi=ri("typed_constructor"),nt=ri("def_constructor"),pi=k.CONSTR,l=k.TYPED,lu=k.VIEW,tt="Wrong length!",au=s(1,function(n,t){return rt(ht(n,n[nt]),t)}),wi=u(function(){return 1===new c(new Uint16Array([1]).buffer)[0]}),vu=!!c&&!!c[p].set&&u(function(){new c(1).set({})}),it=function(n,t){var i=er(n);if(i<0||i%t)throw y("Wrong offset!");return i},r=function(n){if(h(n)&&l in n)return n;throw si(n+" is not a typed array!");},rt=function(n,t){if(!(h(n)&&yi in n))throw si("It is not a typed array constructor!");return new n(t)},bi=function(n,t){return pt(ht(n,n[nt]),t)},pt=function(n,t){for(var i=0,r=t.length,u=rt(n,r);i<r;)u[i]=t[i++];return u},ut=function(n,t,i){v(n,t,{get:function(){return this._d[i]}})},wt=function(n){var t,u,f,e,s,h,i=ii(n),c=arguments.length,r=1<c?arguments[1]:void 0,l=void 0!==r,o=cr(i);if(null!=o&&!or(o)){for(h=o.call(i),f=[],t=0;!(s=h.next()).done;t++)f.push(s.value);i=f}for(l&&2<c&&(r=ur(r,arguments[2],2)),t=0,u=d(i.length),e=rt(this,u);t<u;t++)e[t]=l?r(i[t],t):i[t];return e},yu=function(){for(var n=0,t=arguments.length,i=rt(this,t);n<t;)i[n]=arguments[n++];return i},pu=!!c&&u(function(){vt.call(new c(1))}),ki=function(){return vt.apply(pu?vi.call(r(this)):r(this),arguments)},di={copyWithin:function(n,t){return pr.call(r(this),n,t,2<arguments.length?arguments[2]:void 0)},every:function(n){return gr(r(this),n,1<arguments.length?arguments[1]:void 0)},fill:function(){return yr.apply(r(this),arguments)},filter:function(n){return bi(this,kr(r(this),n,1<arguments.length?arguments[1]:void 0))},find:function(n){return nu(r(this),n,1<arguments.length?arguments[1]:void 0)},findIndex:function(n){return tu(r(this),n,1<arguments.length?arguments[1]:void 0)},forEach:function(n){li(r(this),n,1<arguments.length?arguments[1]:void 0)},indexOf:function(n){return ru(r(this),n,1<arguments.length?arguments[1]:void 0)},includes:function(n){return iu(r(this),n,1<arguments.length?arguments[1]:void 0)},join:function(){return ai.apply(r(this),arguments)},lastIndexOf:function(){return ou.apply(r(this),arguments)},map:function(n){return au(r(this),n,1<arguments.length?arguments[1]:void 0)},reduce:function(){return su.apply(r(this),arguments)},reduceRight:function(){return hu.apply(r(this),arguments)},reverse:function(){for(var i,n=r(this).length,u=Math.floor(n/2),t=0;t<u;)i=this[t],this[t++]=this[--n],this[n]=i;return this},some:function(n){return dr(r(this),n,1<arguments.length?arguments[1]:void 0)},sort:function(n){return cu.call(r(this),n)},subarray:function(n,t){var i=r(this),u=i.length,f=gt(n,u);return new(ht(i,i[nt]))(i.buffer,i.byteOffset+f*i.BYTES_PER_ELEMENT,d((void 0===t?u:gt(t,u))-f))}},gi=function(n,t){return bi(this,vi.call(r(this),n,t))},nr=function(n){r(this);var i=it(arguments[1],1),e=this.length,u=ii(n),f=d(u.length),t=0;if(e<f+i)throw y(tt);for(;t<f;)this[i+t]=u[t++]},ft={entries:function(){return eu.call(r(this))},keys:function(){return fu.call(r(this))},values:function(){return uu.call(r(this))}},tr=function(n,t){return h(n)&&n[l]&&"symbol"!=typeof t&&t in n&&String(+t)==String(t)},ir=function(n,t){return tr(n,t=ni(t,!0))?fr(2,n[t]):wr(n,t)},rr=function(n,t,i){return!(tr(n,t=ni(t,!0))&&h(i)&&a(i,"value"))||a(i,"get")||a(i,"set")||i.configurable||a(i,"writable")&&!i.writable||a(i,"enumerable")&&!i.enumerable?v(n,t,i):(n[t]=i.value,n)};pi||(oi.f=ir,ei.f=rr);i(i.S+i.F*!pi,"Object",{getOwnPropertyDescriptor:ir,defineProperty:rr});u(function(){w.call({})})&&(w=vt=function(){return ai.call(this)});e=ot({},di);ot(e,ft);f(e,yt,ft.values);ot(e,{slice:gi,set:nr,constructor:function(){},toString:w,toLocaleString:ki});ut(e,"buffer","b");ut(e,"byteOffset","o");ut(e,"byteLength","l");ut(e,"length","e");v(e,g,{get:function(){return this[l]}});t.exports=function(n,t,r,o){var c=n+((o=!!o)?"Clamped":"")+"Array",bt="get"+n,gt="set"+n,s=b[c],rt=s||{},ht=s&&hr(s),ni=!s||!k.ABV,ct={},a=s&&s[p],ii=function(n,i){v(n,i,{get:function(){return n=i,(r=this._d).v[bt](n*t+r.o,wi);var n,r},set:function(n){return f=i,r=n,u=this._d,o&&(r=(r=Math.round(r))<0?0:255<r?255:255&r),void u.v[gt](f*t+u.o,r,wi);var f,r,u},enumerable:!0})};ni?(s=r(function(n,i,r,u){var v,e,o,b,w,a,p;if(kt(n,s,c,"_d"),w=0,a=0,h(i)){if(!(i instanceof at||(b=ti(i))==lt||b==hi))return l in i?pt(s,i):wt.call(s,i);if(v=i,a=it(r,t),p=i.byteLength,void 0===u){if(p%t)throw y(tt);if((e=p-a)<0)throw y(tt);}else if(p<(e=d(u)*t)+a)throw y(tt);o=e/t}else o=dt(i),v=new at(e=o*t);for(f(n,"_d",{b:v,o:a,l:e,e:o,v:new br(v)});w<o;)ii(n,w++)}),a=s[p]=sr(e),f(a,"constructor",s)):u(function(){s(1)})&&u(function(){new s(-1)})&&ar(function(n){new s;new s(null);new s(1.5);new s(n)},!0)||(s=r(function(n,i,r,u){var f;return kt(n,s,c),h(i)?i instanceof at||(f=ti(i))==lt||f==hi?void 0!==u?new rt(i,it(r,t),u):void 0!==r?new rt(i,it(r,t)):new rt(i):l in i?pt(s,i):wt.call(s,i):new rt(dt(i))}),li(ht!==Function.prototype?st(rt).concat(st(ht)):st(rt),function(n){n in s||f(s,n,rt[n])}),s[p]=a,et||(a.constructor=s));var ut=a[yt],ot=!!ut&&("values"==ut.name||null==ut.name),vt=ft.values;f(s,yi,!0);f(a,l,c);f(a,lu,!0);f(a,nt,s);(o?new s(1)[g]==c:g in a)||v(a,g,{get:function(){return c}});ct[c]=s;i(i.G+i.W+i.F*(s!=rt),ct);i(i.S,c,{BYTES_PER_ELEMENT:t});i(i.S+i.F*u(function(){rt.of.call(s,1)}),c,{from:wt,of:yu});ci in a||f(a,ci,t);i(i.P,c,di);vr(c);i(i.P+i.F*vu,c,{set:nr});i(i.P+i.F*!ot,c,ft);et||a.toString==w||(a.toString=w);i(i.P+i.F*u(function(){new s(1).slice()}),c,{slice:gi});i(i.P+i.F*(u(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!u(function(){a.toLocaleString.call([1,2])})),c,{toLocaleString:ki});lr[c]=ot?ut:vt;et||ot||f(a,yt,vt)}}else t.exports=function(){}},{"./_an-instance":61,"./_array-copy-within":63,"./_array-fill":64,"./_array-includes":65,"./_array-methods":66,"./_classof":70,"./_ctx":77,"./_descriptors":79,"./_export":83,"./_fails":85,"./_global":89,"./_has":90,"./_hide":91,"./_is-array-iter":97,"./_is-object":100,"./_iter-detect":105,"./_iterators":107,"./_library":108,"./_object-create":117,"./_object-dp":118,"./_object-gopd":120,"./_object-gopn":122,"./_object-gpo":124,"./_property-desc":132,"./_redefine-all":133,"./_set-species":137,"./_species-constructor":141,"./_to-absolute-index":146,"./_to-index":147,"./_to-integer":148,"./_to-length":150,"./_to-object":151,"./_to-primitive":152,"./_typed":155,"./_typed-buffer":154,"./_uid":156,"./_wks":161,"./core.get-iterator-method":162,"./es6.array.iterator":168}],154:[function(n,t,i){"use strict";function vt(n,t,i){var r,u,e,s=new Array(i),h=8*i-t-1,c=(1<<h)-1,o=c>>1,a=23===t?f(2,-24)-f(2,-77):0,l=0,v=n<0||0===n&&1/n<0?1:0;for((n=ei(n))!=n||n===tt?(u=n!=n?1:0,r=c):(r=oi(si(n)/hi),n*(e=f(2,-r))<1&&(r--,e*=2),2<=(n+=1<=r+o?a/e:a*f(2,1-o))*e&&(r++,e/=2),c<=r+o?(u=0,r=c):1<=r+o?(u=(n*e-1)*f(2,t),r+=o):(u=n*f(2,o-1)*f(2,t),r=0));8<=t;s[l++]=255&u,u/=256,t-=8);for(r=r<<t|u,h+=t;0<h;s[l++]=255&r,r/=256,h-=8);return s[--l]|=128*v,s}function yt(n,t,i){var e,h=8*i-t-1,c=(1<<h)-1,l=c>>1,u=h-7,o=i-1,s=n[o--],r=127&s;for(s>>=7;0<u;r=256*r+n[o],o--,u-=8);for(e=r&(1<<-u)-1,r>>=-u,u+=t;0<u;e=256*e+n[o],o--,u-=8);if(0===r)r=1-l;else{if(r===c)return e?NaN:s?-tt:tt;e+=f(2,t);r-=l}return(s?-1:1)*e*f(2,r-t)}function pt(n){return n[3]<<24|n[2]<<16|n[1]<<8|n[0]}function wt(n){return[255&n]}function bt(n){return[255&n,n>>8&255]}function kt(n){return[255&n,n>>8&255,n>>16&255,n>>24&255]}function ci(n){return vt(n,52,8)}function li(n){return vt(n,23,4)}function g(n,t,i){ui(n[s],t,{get:function(){return this[i]}})}function e(n,t,i,r){var u=b(+i);if(u+t>n[v])throw k(lt);var o=n[rt]._b,f=u+n[ut],e=o.slice(f,f+t);return r?e:e.reverse()}function o(n,t,i,r,u,f){var o=b(+i);if(o+t>n[v])throw k(lt);for(var s=n[rt]._b,h=o+n[ut],c=r(+u),e=0;e<t;e++)s[h+e]=c[f?e:t-e-1]}var h=n("./_global"),p=n("./_descriptors"),ni=n("./_library"),ot=n("./_typed"),st=n("./_hide"),ht=n("./_redefine-all"),nt=n("./_fails"),w=n("./_an-instance"),ti=n("./_to-integer"),ii=n("./_to-length"),b=n("./_to-index"),ri=n("./_object-gopn").f,ui=n("./_object-dp").f,fi=n("./_array-fill"),ct=n("./_set-to-string-tag"),c="ArrayBuffer",l="DataView",s="prototype",lt="Wrong index!",r=h[c],u=h[l],a=h.Math,k=h.RangeError,tt=h.Infinity,d=r,ei=a.abs,f=a.pow,oi=a.floor,si=a.log,hi=a.LN2,it="byteLength",at="byteOffset",rt=p?"_b":"buffer",v=p?"_l":it,ut=p?"_o":at,y,et;if(ot.ABV){if(!nt(function(){r(1)})||!nt(function(){new r(-1)})||nt(function(){return new r,new r(1.5),new r(NaN),r.name!=c})){for(var ft,ai=(r=function(n){return w(this,r),new d(b(n))})[s]=d[s],dt=ri(d),gt=0;dt.length>gt;)(ft=dt[gt++])in r||st(r,ft,d[ft]);ni||(ai.constructor=r)}y=new u(new r(2));et=u[s].setInt8;y.setInt8(0,2147483648);y.setInt8(1,2147483649);!y.getInt8(0)&&y.getInt8(1)||ht(u[s],{setInt8:function(n,t){et.call(this,n,t<<24>>24)},setUint8:function(n,t){et.call(this,n,t<<24>>24)}},!0)}else r=function(n){w(this,r,c);var t=b(n);this._b=fi.call(new Array(t),0);this[v]=t},u=function(n,t,i){w(this,u,l);w(n,r,l);var e=n[v],f=ti(t);if(f<0||e<f)throw k("Wrong offset!");if(e<f+(i=void 0===i?e-f:ii(i)))throw k("Wrong length!");this[rt]=n;this[ut]=f;this[v]=i},p&&(g(r,it,"_l"),g(u,"buffer","_b"),g(u,it,"_l"),g(u,at,"_o")),ht(u[s],{getInt8:function(n){return e(this,1,n)[0]<<24>>24},getUint8:function(n){return e(this,1,n)[0]},getInt16:function(n){var t=e(this,2,n,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(n){var t=e(this,2,n,arguments[1]);return t[1]<<8|t[0]},getInt32:function(n){return pt(e(this,4,n,arguments[1]))},getUint32:function(n){return pt(e(this,4,n,arguments[1]))>>>0},getFloat32:function(n){return yt(e(this,4,n,arguments[1]),23,4)},getFloat64:function(n){return yt(e(this,8,n,arguments[1]),52,8)},setInt8:function(n,t){o(this,1,n,wt,t)},setUint8:function(n,t){o(this,1,n,wt,t)},setInt16:function(n,t){o(this,2,n,bt,t,arguments[2])},setUint16:function(n,t){o(this,2,n,bt,t,arguments[2])},setInt32:function(n,t){o(this,4,n,kt,t,arguments[2])},setUint32:function(n,t){o(this,4,n,kt,t,arguments[2])},setFloat32:function(n,t){o(this,4,n,li,t,arguments[2])},setFloat64:function(n,t){o(this,8,n,ci,t,arguments[2])}});ct(r,c);ct(u,l);st(u[s],ot.VIEW,!0);i[c]=r;i[l]=u},{"./_an-instance":61,"./_array-fill":64,"./_descriptors":79,"./_fails":85,"./_global":89,"./_hide":91,"./_library":108,"./_object-dp":118,"./_object-gopn":122,"./_redefine-all":133,"./_set-to-string-tag":138,"./_to-index":147,"./_to-integer":148,"./_to-length":150,"./_typed":155}],155:[function(n,t){for(var i,r=n("./_global"),u=n("./_hide"),f=n("./_uid"),e=f("typed_array"),o=f("view"),s=!(!r.ArrayBuffer||!r.DataView),h=s,c=0,l="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(i=r[l[c++]])?(u(i.prototype,e,!0),u(i.prototype,o,!0)):h=!1;t.exports={ABV:s,CONSTR:h,TYPED:e,VIEW:o}},{"./_global":89,"./_hide":91,"./_uid":156}],156:[function(n,t){var i=0,r=Math.random();t.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++i+r).toString(36))}},{}],157:[function(n,t){var i=n("./_global").navigator;t.exports=i&&i.userAgent||""},{"./_global":89}],158:[function(n,t){var i=n("./_is-object");t.exports=function(n,t){if(!i(n)||n._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return n}},{"./_is-object":100}],159:[function(n,t){var r=n("./_global"),i=n("./_core"),u=n("./_library"),f=n("./_wks-ext"),e=n("./_object-dp").f;t.exports=function(n){var t=i.Symbol||(i.Symbol=u?{}:r.Symbol||{});"_"==n.charAt(0)||n in t||e(t,n,{value:f.f(n)})}},{"./_core":75,"./_global":89,"./_library":108,"./_object-dp":118,"./_wks-ext":160}],160:[function(n,t,i){i.f=n("./_wks")},{"./_wks":161}],161:[function(n,t){var i=n("./_shared")("wks"),f=n("./_uid"),r=n("./_global").Symbol,u="function"==typeof r;(t.exports=function(n){return i[n]||(i[n]=u&&r[n]||(u?r:f)("Symbol."+n))}).store=i},{"./_global":89,"./_shared":140,"./_uid":156}],162:[function(n,t){var i=n("./_classof"),r=n("./_wks")("iterator"),u=n("./_iterators");t.exports=n("./_core").getIteratorMethod=function(n){if(null!=n)return n[r]||n["@@iterator"]||u[i(n)]}},{"./_classof":70,"./_core":75,"./_iterators":107,"./_wks":161}],163:[function(n){var t=n("./_export");t(t.P,"Array",{copyWithin:n("./_array-copy-within")});n("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":60,"./_array-copy-within":63,"./_export":83}],164:[function(n){var t=n("./_export");t(t.P,"Array",{fill:n("./_array-fill")});n("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":60,"./_array-fill":64,"./_export":83}],165:[function(n){"use strict";var t=n("./_export"),u=n("./_array-methods")(6),i="findIndex",r=!0;i in[]&&Array(1)[i](function(){r=!1});t(t.P+t.F*r,"Array",{findIndex:function(n){return u(this,n,1<arguments.length?arguments[1]:void 0)}});n("./_add-to-unscopables")(i)},{"./_add-to-unscopables":60,"./_array-methods":66,"./_export":83}],166:[function(n){"use strict";var t=n("./_export"),r=n("./_array-methods")(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1});t(t.P+t.F*i,"Array",{find:function(n){return r(this,n,1<arguments.length?arguments[1]:void 0)}});n("./_add-to-unscopables")("find")},{"./_add-to-unscopables":60,"./_array-methods":66,"./_export":83}],167:[function(n){"use strict";var r=n("./_ctx"),t=n("./_export"),u=n("./_to-object"),f=n("./_iter-call"),e=n("./_is-array-iter"),o=n("./_to-length"),i=n("./_create-property"),s=n("./core.get-iterator-method");t(t.S+t.F*!n("./_iter-detect")(function(n){Array.from(n)}),"Array",{from:function(n){var b,h,a,v,c=u(n),y="function"==typeof this?this:Array,k=arguments.length,l=1<k?arguments[1]:void 0,p=void 0!==l,t=0,w=s(c);if(p&&(l=r(l,2<k?arguments[2]:void 0,2)),null==w||y==Array&&e(w))for(h=new y(b=o(c.length));t<b;t++)i(h,t,p?l(c[t],t):c[t]);else for(v=w.call(c),h=new y;!(a=v.next()).done;t++)i(h,t,p?f(v,l,[a.value,t],!0):a.value);return h.length=t,h}})},{"./_create-property":76,"./_ctx":77,"./_export":83,"./_is-array-iter":97,"./_iter-call":102,"./_iter-detect":105,"./_to-length":150,"./_to-object":151,"./core.get-iterator-method":162}],168:[function(n,t){"use strict";var i=n("./_add-to-unscopables"),r=n("./_iter-step"),u=n("./_iterators"),f=n("./_to-iobject");t.exports=n("./_iter-define")(Array,"Array",function(n,t){this._t=f(n);this._i=0;this._k=t},function(){var t=this._t,i=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==i?n:"values"==i?t[n]:[n,t[n]])},"values");u.Arguments=u.Array;i("keys");i("values");i("entries")},{"./_add-to-unscopables":60,"./_iter-define":104,"./_iter-step":106,"./_iterators":107,"./_to-iobject":149}],169:[function(n){"use strict";var t=n("./_export"),i=n("./_create-property");t(t.S+t.F*n("./_fails")(function(){function n(){}return!(Array.of.call(n)instanceof n)}),"Array",{of:function(){for(var n=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);n<t;)i(r,n,arguments[n++]);return r.length=t,r}})},{"./_create-property":76,"./_export":83,"./_fails":85}],170:[function(n){var i=n("./_object-dp").f,t=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in t||n("./_descriptors")&&i(t,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(n){return""}}})},{"./_descriptors":79,"./_object-dp":118}],171:[function(n,t){"use strict";var i=n("./_collection-strong"),r=n("./_validate-collection");t.exports=n("./_collection")("Map",function(n){return function(){return n(this,0<arguments.length?arguments[0]:void 0)}},{get:function(n){var t=i.getEntry(r(this,"Map"),n);return t&&t.v},set:function(n,t){return i.def(r(this,"Map"),0===n?0:n,t)}},i,!0)},{"./_collection":74,"./_collection-strong":72,"./_validate-collection":158}],172:[function(n){var t=n("./_export"),u=n("./_math-log1p"),r=Math.sqrt,i=Math.acosh;t(t.S+t.F*!(i&&710==Math.floor(i(Number.MAX_VALUE))&&i(1/0)==1/0),"Math",{acosh:function(n){return(n=+n)<1?NaN:94906265.624251559<n?Math.log(n)+Math.LN2:u(n-1+r(n-1)*r(n+1))}})},{"./_export":83,"./_math-log1p":111}],173:[function(n){var t=n("./_export"),i=Math.asinh;t(t.S+t.F*!(i&&0<1/i(0)),"Math",{asinh:function n(t){return isFinite(t=+t)&&0!=t?t<0?-n(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{"./_export":83}],174:[function(n){var t=n("./_export"),i=Math.atanh;t(t.S+t.F*!(i&&1/i(-0)<0),"Math",{atanh:function(n){return 0==(n=+n)?n:Math.log((1+n)/(1-n))/2}})},{"./_export":83}],175:[function(n){var t=n("./_export"),i=n("./_math-sign");t(t.S,"Math",{cbrt:function(n){return i(n=+n)*Math.pow(Math.abs(n),1/3)}})},{"./_export":83,"./_math-sign":112}],176:[function(n){var t=n("./_export");t(t.S,"Math",{clz32:function(n){return(n>>>=0)?31-Math.floor(Math.log(n+.5)*Math.LOG2E):32}})},{"./_export":83}],177:[function(n){var t=n("./_export"),i=Math.exp;t(t.S,"Math",{cosh:function(n){return(i(n=+n)+i(-n))/2}})},{"./_export":83}],178:[function(n){var t=n("./_export"),i=n("./_math-expm1");t(t.S+t.F*(i!=Math.expm1),"Math",{expm1:i})},{"./_export":83,"./_math-expm1":109}],179:[function(n){var t=n("./_export");t(t.S,"Math",{fround:n("./_math-fround")})},{"./_export":83,"./_math-fround":110}],180:[function(n){var t=n("./_export"),i=Math.abs;t(t.S,"Math",{hypot:function(){for(var n,r,u=0,f=0,e=arguments.length,t=0;f<e;)t<(n=i(arguments[f++]))?(u=u*(r=t/n)*r+1,t=n):u+=0<n?(r=n/t)*r:n;return t===1/0?1/0:t*Math.sqrt(u)}})},{"./_export":83}],181:[function(n){var t=n("./_export"),i=Math.imul;t(t.S+t.F*n("./_fails")(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(n,t){var i=+n,r=+t,u=65535&i,f=65535&r;return 0|u*f+((65535&i>>>16)*f+u*(65535&r>>>16)<<16>>>0)}})},{"./_export":83,"./_fails":85}],182:[function(n){var t=n("./_export");t(t.S,"Math",{log10:function(n){return Math.log(n)*Math.LOG10E}})},{"./_export":83}],183:[function(n){var t=n("./_export");t(t.S,"Math",{log1p:n("./_math-log1p")})},{"./_export":83,"./_math-log1p":111}],184:[function(n){var t=n("./_export");t(t.S,"Math",{log2:function(n){return Math.log(n)/Math.LN2}})},{"./_export":83}],185:[function(n){var t=n("./_export");t(t.S,"Math",{sign:n("./_math-sign")})},{"./_export":83,"./_math-sign":112}],186:[function(n){var t=n("./_export"),i=n("./_math-expm1"),r=Math.exp;t(t.S+t.F*n("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(n){return Math.abs(n=+n)<1?(i(n)-i(-n))/2:(r(n-1)-r(-n-1))*(Math.E/2)}})},{"./_export":83,"./_fails":85,"./_math-expm1":109}],187:[function(n){var t=n("./_export"),i=n("./_math-expm1"),r=Math.exp;t(t.S,"Math",{tanh:function(n){var t=i(n=+n),u=i(-n);return t==1/0?1:u==1/0?-1:(t-u)/(r(n)+r(-n))}})},{"./_export":83,"./_math-expm1":109}],188:[function(n){var t=n("./_export");t(t.S,"Math",{trunc:function(n){return(0<n?Math.floor:Math.ceil)(n)}})},{"./_export":83}],189:[function(n){var t=n("./_export");t(t.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":83}],190:[function(n){var t=n("./_export"),i=n("./_global").isFinite;t(t.S,"Number",{isFinite:function(n){return"number"==typeof n&&i(n)}})},{"./_export":83,"./_global":89}],191:[function(n){var t=n("./_export");t(t.S,"Number",{isInteger:n("./_is-integer")})},{"./_export":83,"./_is-integer":99}],192:[function(n){var t=n("./_export");t(t.S,"Number",{isNaN:function(n){return n!=n}})},{"./_export":83}],193:[function(n){var t=n("./_export"),i=n("./_is-integer"),r=Math.abs;t(t.S,"Number",{isSafeInteger:function(n){return i(n)&&r(n)<=9007199254740991}})},{"./_export":83,"./_is-integer":99}],194:[function(n){var t=n("./_export");t(t.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":83}],195:[function(n){var t=n("./_export");t(t.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":83}],196:[function(n){var t=n("./_export");t(t.S+t.F,"Object",{assign:n("./_object-assign")})},{"./_export":83,"./_object-assign":116}],197:[function(n){var t=n("./_is-object"),i=n("./_meta").onFreeze;n("./_object-sap")("freeze",function(n){return function(r){return n&&t(r)?n(i(r)):r}})},{"./_is-object":100,"./_meta":113,"./_object-sap":128}],198:[function(n){var t=n("./_to-iobject"),i=n("./_object-gopd").f;n("./_object-sap")("getOwnPropertyDescriptor",function(){return function(n,r){return i(t(n),r)}})},{"./_object-gopd":120,"./_object-sap":128,"./_to-iobject":149}],199:[function(n){n("./_object-sap")("getOwnPropertyNames",function(){return n("./_object-gopn-ext").f})},{"./_object-gopn-ext":121,"./_object-sap":128}],200:[function(n){var t=n("./_to-object"),i=n("./_object-gpo");n("./_object-sap")("getPrototypeOf",function(){return function(n){return i(t(n))}})},{"./_object-gpo":124,"./_object-sap":128,"./_to-object":151}],201:[function(n){var t=n("./_is-object");n("./_object-sap")("isExtensible",function(n){return function(i){return!!t(i)&&(!n||n(i))}})},{"./_is-object":100,"./_object-sap":128}],202:[function(n){var t=n("./_is-object");n("./_object-sap")("isFrozen",function(n){return function(i){return!t(i)||!!n&&n(i)}})},{"./_is-object":100,"./_object-sap":128}],203:[function(n){var t=n("./_is-object");n("./_object-sap")("isSealed",function(n){return function(i){return!t(i)||!!n&&n(i)}})},{"./_is-object":100,"./_object-sap":128}],204:[function(n){var t=n("./_export");t(t.S,"Object",{is:n("./_same-value")})},{"./_export":83,"./_same-value":135}],205:[function(n){var t=n("./_to-object"),i=n("./_object-keys");n("./_object-sap")("keys",function(){return function(n){return i(t(n))}})},{"./_object-keys":126,"./_object-sap":128,"./_to-object":151}],206:[function(n){var t=n("./_is-object"),i=n("./_meta").onFreeze;n("./_object-sap")("preventExtensions",function(n){return function(r){return n&&t(r)?n(i(r)):r}})},{"./_is-object":100,"./_meta":113,"./_object-sap":128}],207:[function(n){var t=n("./_is-object"),i=n("./_meta").onFreeze;n("./_object-sap")("seal",function(n){return function(r){return n&&t(r)?n(i(r)):r}})},{"./_is-object":100,"./_meta":113,"./_object-sap":128}],208:[function(n){var t=n("./_export");t(t.S,"Object",{setPrototypeOf:n("./_set-proto").set})},{"./_export":83,"./_set-proto":136}],209:[function(n){"use strict";var a,b,k,v,d=n("./_library"),r=n("./_global"),f=n("./_ctx"),ot=n("./_classof"),t=n("./_export"),st=n("./_is-object"),ht=n("./_a-function"),ct=n("./_an-instance"),g=n("./_for-of"),lt=n("./_species-constructor"),nt=n("./_task").set,tt=n("./_microtask")(),it=n("./_new-promise-capability"),y=n("./_perform"),at=n("./_user-agent"),vt=n("./_promise-resolve"),u="Promise",rt=r.TypeError,e=r.process,ut=e&&e.versions,yt=ut&&ut.v8||"",i=r[u],s="process"==ot(e),l=function(){},h=b=it.f,c=!!function(){try{var t=i.resolve(1),r=(t.constructor={})[n("./_wks")("species")]=function(n){n(l,l)};return(s||"function"==typeof PromiseRejectionEvent)&&t.then(l)instanceof r&&0!==yt.indexOf("6.6")&&-1===at.indexOf("Chrome/66")}catch(t){}}(),ft=function(n){var t;return!(!st(n)||"function"!=typeof(t=n.then))&&t},p=function(n,t){if(!n._n){n._n=!0;var i=n._c;tt(function(){for(var r=n._v,u=1==n._s,f=0,e=function(t){var i,s,h,o=u?t.ok:t.fail,c=t.resolve,e=t.reject,f=t.domain;try{o?(u||(2==n._h&&wt(n),n._h=1),!0===o?i=r:(f&&f.enter(),i=o(r),f&&(f.exit(),h=!0)),i===t.promise?e(rt("Promise-chain cycle")):(s=ft(i))?s.call(i,c,e):c(i)):e(r)}catch(t){f&&!h&&f.exit();e(t)}};i.length>f;)e(i[f++]);n._c=[];n._n=!1;t&&!n._h&&pt(n)})}},pt=function(n){nt.call(r,function(){var t,f,i,u=n._v,o=et(n);if(o&&(t=y(function(){s?e.emit("unhandledRejection",u,n):(f=r.onunhandledrejection)?f({promise:n,reason:u}):(i=r.console)&&i.error&&i.error("Unhandled promise rejection",u)}),n._h=s||et(n)?2:1),n._a=void 0,o&&t.e)throw t.v;})},et=function(n){return 1!==n._h&&0===(n._a||n._c).length},wt=function(n){nt.call(r,function(){var t;s?e.emit("rejectionHandled",n):(t=r.onrejectionhandled)&&t({promise:n,reason:n._v})})},o=function(n){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=n,t._s=2,t._a||(t._a=t._c.slice()),p(t,!0))},w=function(n){var i,t=this;if(!t._d){t._d=!0;t=t._w||t;try{if(t===n)throw rt("Promise can't be resolved itself");(i=ft(n))?tt(function(){var r={_w:t,_d:!1};try{i.call(n,f(w,r,1),f(o,r,1))}catch(n){o.call(r,n)}}):(t._v=n,t._s=1,p(t,!1))}catch(n){o.call({_w:t,_d:!1},n)}}};c||(i=function(n){ct(this,i,u,"_h");ht(n);a.call(this);try{n(f(w,this,1),f(o,this,1))}catch(n){o.call(this,n)}},(a=function(){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1}).prototype=n("./_redefine-all")(i.prototype,{then:function(n,t){var r=h(lt(this,i));return r.ok="function"!=typeof n||n,r.fail="function"==typeof t&&t,r.domain=s?e.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&p(this,!1),r.promise},"catch":function(n){return this.then(void 0,n)}}),k=function(){var n=new a;this.promise=n;this.resolve=f(w,n,1);this.reject=f(o,n,1)},it.f=h=function(n){return n===i||n===v?new k(n):b(n)});t(t.G+t.W+t.F*!c,{Promise:i});n("./_set-to-string-tag")(i,u);n("./_set-species")(u);v=n("./_core")[u];t(t.S+t.F*!c,u,{reject:function(n){var t=h(this);return t.reject(n),t.promise}});t(t.S+t.F*(d||!c),u,{resolve:function(n){return vt(d&&this===v?i:this,n)}});t(t.S+t.F*!(c&&n("./_iter-detect")(function(n){i.all(n).catch(l)})),u,{all:function(n){var i=this,t=h(i),r=t.resolve,u=t.reject,f=y(function(){var t=[],e=0,f=1;g(n,!1,function(n){var s=e++,o=!1;t.push(void 0);f++;i.resolve(n).then(function(n){o||(o=!0,t[s]=n,--f||r(t))},u)});--f||r(t)});return f.e&&u(f.v),t.promise},race:function(n){var i=this,t=h(i),r=t.reject,u=y(function(){g(n,!1,function(n){i.resolve(n).then(t.resolve,r)})});return u.e&&r(u.v),t.promise}})},{"./_a-function":59,"./_an-instance":61,"./_classof":70,"./_core":75,"./_ctx":77,"./_export":83,"./_for-of":88,"./_global":89,"./_is-object":100,"./_iter-detect":105,"./_library":108,"./_microtask":114,"./_new-promise-capability":115,"./_perform":130,"./_promise-resolve":131,"./_redefine-all":133,"./_set-species":137,"./_set-to-string-tag":138,"./_species-constructor":141,"./_task":145,"./_user-agent":157,"./_wks":161}],210:[function(n){var t=n("./_export"),r=n("./_a-function"),u=n("./_an-object"),i=(n("./_global").Reflect||{}).apply,f=Function.apply;t(t.S+t.F*!n("./_fails")(function(){i(function(){})}),"Reflect",{apply:function(n,t,e){var o=r(n),s=u(e);return i?i(o,t,s):f.call(o,t,s)}})},{"./_a-function":59,"./_an-object":62,"./_export":83,"./_fails":85,"./_global":89}],211:[function(n){var t=n("./_export"),s=n("./_object-create"),r=n("./_a-function"),h=n("./_an-object"),u=n("./_is-object"),f=n("./_fails"),c=n("./_bind"),i=(n("./_global").Reflect||{}).construct,e=f(function(){function n(){}return!(i(function(){},[],n)instanceof n)}),o=!f(function(){i(function(){})});t(t.S+t.F*(e||o),"Reflect",{construct:function(n,t){var f,l;if(r(n),h(t),f=arguments.length<3?n:r(arguments[2]),o&&!e)return i(n,t,f);if(n==f){switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3])}return l=[null],l.push.apply(l,t),new(c.apply(n,l))}var a=f.prototype,v=s(u(a)?a:Object.prototype),y=Function.apply.call(n,v,t);return u(y)?y:v}})},{"./_a-function":59,"./_an-object":62,"./_bind":69,"./_export":83,"./_fails":85,"./_global":89,"./_is-object":100,"./_object-create":117}],212:[function(n){var i=n("./_object-dp"),t=n("./_export"),r=n("./_an-object"),u=n("./_to-primitive");t(t.S+t.F*n("./_fails")(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(n,t,f){r(n);t=u(t,!0);r(f);try{return i.f(n,t,f),!0}catch(n){return!1}}})},{"./_an-object":62,"./_export":83,"./_fails":85,"./_object-dp":118,"./_to-primitive":152}],213:[function(n){var t=n("./_export"),i=n("./_object-gopd").f,r=n("./_an-object");t(t.S,"Reflect",{deleteProperty:function(n,t){var u=i(r(n),t);return!(u&&!u.configurable)&&delete n[t]}})},{"./_an-object":62,"./_export":83,"./_object-gopd":120}],214:[function(n){var i=n("./_object-gopd"),t=n("./_export"),r=n("./_an-object");t(t.S,"Reflect",{getOwnPropertyDescriptor:function(n,t){return i.f(r(n),t)}})},{"./_an-object":62,"./_export":83,"./_object-gopd":120}],215:[function(n){var t=n("./_export"),i=n("./_object-gpo"),r=n("./_an-object");t(t.S,"Reflect",{getPrototypeOf:function(n){return i(r(n))}})},{"./_an-object":62,"./_export":83,"./_object-gpo":124}],216:[function(n){var i=n("./_object-gopd"),r=n("./_object-gpo"),u=n("./_has"),t=n("./_export"),f=n("./_is-object"),e=n("./_an-object");t(t.S,"Reflect",{get:function n(t,o){var s,c,h=arguments.length<3?t:arguments[2];return e(t)===h?t[o]:(s=i.f(t,o))?u(s,"value")?s.value:void 0!==s.get?s.get.call(h):void 0:f(c=r(t))?n(c,o,h):void 0}})},{"./_an-object":62,"./_export":83,"./_has":90,"./_is-object":100,"./_object-gopd":120,"./_object-gpo":124}],217:[function(n){var t=n("./_export");t(t.S,"Reflect",{has:function(n,t){return t in n}})},{"./_export":83}],218:[function(n){var t=n("./_export"),r=n("./_an-object"),i=Object.isExtensible;t(t.S,"Reflect",{isExtensible:function(n){return r(n),!i||i(n)}})},{"./_an-object":62,"./_export":83}],219:[function(n){var t=n("./_export");t(t.S,"Reflect",{ownKeys:n("./_own-keys")})},{"./_export":83,"./_own-keys":129}],220:[function(n){var t=n("./_export"),r=n("./_an-object"),i=Object.preventExtensions;t(t.S,"Reflect",{preventExtensions:function(n){r(n);try{return i&&i(n),!0}catch(n){return!1}}})},{"./_an-object":62,"./_export":83}],221:[function(n){var i=n("./_export"),t=n("./_set-proto");t&&i(i.S,"Reflect",{setPrototypeOf:function(n,i){t.check(n,i);try{return t.set(n,i),!0}catch(n){return!1}}})},{"./_export":83,"./_set-proto":136}],222:[function(n){var t=n("./_object-dp"),i=n("./_object-gopd"),e=n("./_object-gpo"),o=n("./_has"),r=n("./_export"),u=n("./_property-desc"),s=n("./_an-object"),f=n("./_is-object");r(r.S,"Reflect",{set:function n(r,h,c){var l,y,a=arguments.length<4?r:arguments[3],v=i.f(s(r),h);if(!v){if(f(y=e(r)))return n(y,h,c,a);v=u(0)}if(o(v,"value")){if(!1===v.writable||!f(a))return!1;if(l=i.f(a,h)){if(l.get||l.set||!1===l.writable)return!1;l.value=c;t.f(a,h,l)}else t.f(a,h,u(0,c));return!0}return void 0!==v.set&&(v.set.call(a,c),!0)}})},{"./_an-object":62,"./_export":83,"./_has":90,"./_is-object":100,"./_object-dp":118,"./_object-gopd":120,"./_object-gpo":124,"./_property-desc":132}],223:[function(n){n("./_descriptors")&&"g"!=/./g.flags&&n("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:n("./_flags")})},{"./_descriptors":79,"./_flags":87,"./_object-dp":118}],224:[function(n){n("./_fix-re-wks")("match",1,function(n,t,i){return[function(i){"use strict";var r=n(this),u=null==i?void 0:i[t];return void 0!==u?u.call(i,r):new RegExp(i)[t](String(r))},i]})},{"./_fix-re-wks":86}],225:[function(n){n("./_fix-re-wks")("replace",2,function(n,t,i){return[function(r,u){"use strict";var f=n(this),e=null==r?void 0:r[t];return void 0!==e?e.call(r,f,u):i.call(String(f),r,u)},i]})},{"./_fix-re-wks":86}],226:[function(n){n("./_fix-re-wks")("search",1,function(n,t,i){return[function(i){"use strict";var r=n(this),u=null==i?void 0:i[t];return void 0!==u?u.call(i,r):new RegExp(i)[t](String(r))},i]})},{"./_fix-re-wks":86}],227:[function(n){n("./_fix-re-wks")("split",2,function(t,i,r){"use strict";var s=n("./_is-regexp"),o=r,h=[].push,f="split",u="length",e;return"c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[u]||2!="ab"[f](/(?:ab)*/)[u]||4!="."[f](/(.?)(.?)/)[u]||1<"."[f](/()()/)[u]||""[f](/.?/)[u]?(e=void 0===/()??/.exec("")[1],r=function(n,t){var f=String(this);if(void 0===n&&0===t)return[];if(!s(n))return o.call(f,n,t);var y,i,p,w,c,r=[],b=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),l=0,v=void 0===t?4294967295:t>>>0,a=new RegExp(n.source,b+"g");for(e||(y=new RegExp("^"+a.source+"$(?!\\s)",b));(i=a.exec(f))&&!(l<(p=i.index+i[0][u])&&(r.push(f.slice(l,i.index)),!e&&1<i[u]&&i[0].replace(y,function(){for(c=1;c<arguments[u]-2;c++)void 0===arguments[c]&&(i[c]=void 0)}),1<i[u]&&i.index<f[u]&&h.apply(r,i.slice(1)),w=i[0][u],l=p,r[u]>=v));)a.lastIndex===i.index&&a.lastIndex++;return l===f[u]?!w&&a.test("")||r.push(""):r.push(f.slice(l)),r[u]>v?r.slice(0,v):r}):"0"[f](void 0,0)[u]&&(r=function(n,t){return void 0===n&&0===t?[]:o.call(this,n,t)}),[function(n,u){var f=t(this),e=null==n?void 0:n[i];return void 0!==e?e.call(n,f,u):r.call(String(f),n,u)},r]})},{"./_fix-re-wks":86,"./_is-regexp":101}],228:[function(n,t){"use strict";var i=n("./_collection-strong"),r=n("./_validate-collection");t.exports=n("./_collection")("Set",function(n){return function(){return n(this,0<arguments.length?arguments[0]:void 0)}},{add:function(n){return i.def(r(this,"Set"),n=0===n?0:n,n)}},i)},{"./_collection":74,"./_collection-strong":72,"./_validate-collection":158}],229:[function(n){"use strict";var t=n("./_export"),i=n("./_string-at")(!1);t(t.P,"String",{codePointAt:function(n){return i(this,n)}})},{"./_export":83,"./_string-at":142}],230:[function(n){"use strict";var t=n("./_export"),r=n("./_to-length"),f=n("./_string-context"),i="endsWith",u=""[i];t(t.P+t.F*n("./_fails-is-regexp")(i),"String",{endsWith:function(n){var t=f(this,n,i),s=1<arguments.length?arguments[1]:void 0,h=r(t.length),e=void 0===s?h:Math.min(r(s),h),o=String(n);return u?u.call(t,o,e):t.slice(e-o.length,e)===o}})},{"./_export":83,"./_fails-is-regexp":84,"./_string-context":143,"./_to-length":150}],231:[function(n){var t=n("./_export"),u=n("./_to-absolute-index"),i=String.fromCharCode,r=String.fromCodePoint;t(t.S+t.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(){for(var n,t=[],f=arguments.length,r=0;r<f;){if(n=+arguments[r++],u(n,1114111)!==n)throw RangeError(n+" is not a valid code point");t.push(n<65536?i(n):i(55296+((n-=65536)>>10),n%1024+56320))}return t.join("")}})},{"./_export":83,"./_to-absolute-index":146}],232:[function(n){"use strict";var t=n("./_export"),i=n("./_string-context");t(t.P+t.F*n("./_fails-is-regexp")("includes"),"String",{includes:function(n){return!!~i(this,n,"includes").indexOf(n,1<arguments.length?arguments[1]:void 0)}})},{"./_export":83,"./_fails-is-regexp":84,"./_string-context":143}],233:[function(n){var t=n("./_export"),i=n("./_to-iobject"),r=n("./_to-length");t(t.S,"String",{raw:function(n){for(var f=i(n.raw),e=r(f.length),o=arguments.length,u=[],t=0;t<e;)u.push(String(f[t++])),t<o&&u.push(String(arguments[t]));return u.join("")}})},{"./_export":83,"./_to-iobject":149,"./_to-length":150}],234:[function(n){var t=n("./_export");t(t.P,"String",{repeat:n("./_string-repeat")})},{"./_export":83,"./_string-repeat":144}],235:[function(n){"use strict";var t=n("./_export"),u=n("./_to-length"),f=n("./_string-context"),i="startsWith",r=""[i];t(t.P+t.F*n("./_fails-is-regexp")(i),"String",{startsWith:function(n){var t=f(this,n,i),e=u(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),o=String(n);return r?r.call(t,o,e):t.slice(e,e+o.length)===o}})},{"./_export":83,"./_fails-is-regexp":84,"./_string-context":143,"./_to-length":150}],236:[function(n){"use strict";var y=n("./_global"),t=n("./_has"),d=n("./_descriptors"),r=n("./_export"),at=n("./_redefine"),fi=n("./_meta").KEY,vt=n("./_fails"),g=n("./_shared"),nt=n("./_set-to-string-tag"),ei=n("./_uid"),c=n("./_wks"),oi=n("./_wks-ext"),si=n("./_wks-define"),hi=n("./_enum-keys"),ci=n("./_is-array"),tt=n("./_an-object"),li=n("./_is-object"),p=n("./_to-iobject"),it=n("./_to-primitive"),rt=n("./_property-desc"),l=n("./_object-create"),yt=n("./_object-gopn-ext"),pt=n("./_object-gopd"),wt=n("./_object-dp"),ai=n("./_object-keys"),bt=pt.f,s=wt.f,kt=yt.f,u=y.Symbol,w=y.JSON,b=w&&w.stringify,o="prototype",i=c("_hidden"),dt=c("toPrimitive"),vi={}.propertyIsEnumerable,a=g("symbol-registry"),e=g("symbols"),v=g("op-symbols"),f=Object[o],h="function"==typeof u,ut=y.QObject,ft=!ut||!ut[o]||!ut[o].findChild,et=d&&vt(function(){return 7!=l(s({},"a",{get:function(){return s(this,"a",{value:7}).a}})).a})?function(n,t,i){var r=bt(f,t);r&&delete f[t];s(n,t,i);r&&n!==f&&s(f,t,r)}:s,gt=function(n){var t=e[n]=l(u[o]);return t._k=n,t},ot=h&&"symbol"==typeof u.iterator?function(n){return"symbol"==typeof n}:function(n){return n instanceof u},k=function(n,r,u){return n===f&&k(v,r,u),tt(n),r=it(r,!0),tt(u),t(e,r)?(u.enumerable?(t(n,i)&&n[i][r]&&(n[i][r]=!1),u=l(u,{enumerable:rt(0,!1)})):(t(n,i)||s(n,i,rt(1,{})),n[i][r]=!0),et(n,r,u)):s(n,r,u)},ni=function(n,t){tt(n);for(var i,r=hi(t=p(t)),u=0,f=r.length;u<f;)k(n,i=r[u++],t[i]);return n},ti=function(n){var r=vi.call(this,n=it(n,!0));return!(this===f&&t(e,n)&&!t(v,n))&&(!(r||!t(this,n)||!t(e,n)||t(this,i)&&this[i][n])||r)},ii=function(n,r){if(n=p(n),r=it(r,!0),n!==f||!t(e,r)||t(v,r)){var u=bt(n,r);return!u||!t(e,r)||t(n,i)&&n[i][r]||(u.enumerable=!0),u}},ri=function(n){for(var r,u=kt(p(n)),f=[],o=0;u.length>o;)t(e,r=u[o++])||r==i||r==fi||f.push(r);return f},ui=function(n){for(var i,r=n===f,u=kt(r?v:p(n)),o=[],s=0;u.length>s;)t(e,i=u[s++])&&(!r||t(f,i))&&o.push(e[i]);return o},st,ht,ct,lt;for(h||(at((u=function(){if(this instanceof u)throw TypeError("Symbol is not a constructor!");var n=ei(0<arguments.length?arguments[0]:void 0),r=function(u){this===f&&r.call(v,u);t(this,i)&&t(this[i],n)&&(this[i][n]=!1);et(this,n,rt(1,u))};return d&&ft&&et(f,n,{configurable:!0,set:r}),gt(n)})[o],"toString",function(){return this._k}),pt.f=ii,wt.f=k,n("./_object-gopn").f=yt.f=ri,n("./_object-pie").f=ti,n("./_object-gops").f=ui,d&&!n("./_library")&&at(f,"propertyIsEnumerable",ti,!0),oi.f=function(n){return gt(c(n))}),r(r.G+r.W+r.F*!h,{Symbol:u}),st="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ht=0;st.length>ht;)c(st[ht++]);for(ct=ai(c.store),lt=0;ct.length>lt;)si(ct[lt++]);r(r.S+r.F*!h,"Symbol",{"for":function(n){return t(a,n+="")?a[n]:a[n]=u(n)},keyFor:function(n){if(!ot(n))throw TypeError(n+" is not a symbol!");for(var t in a)if(a[t]===n)return t},useSetter:function(){ft=!0},useSimple:function(){ft=!1}});r(r.S+r.F*!h,"Object",{create:function(n,t){return void 0===t?l(n):ni(l(n),t)},defineProperty:k,defineProperties:ni,getOwnPropertyDescriptor:ii,getOwnPropertyNames:ri,getOwnPropertySymbols:ui});w&&r(r.S+r.F*(!h||vt(function(){var n=u();return"[null]"!=b([n])||"{}"!=b({a:n})||"{}"!=b(Object(n))})),"JSON",{stringify:function(n){for(var t,r,i=[n],u=1;arguments.length>u;)i.push(arguments[u++]);if(r=t=i[1],(li(t)||void 0!==n)&&!ot(n))return ci(t)||(t=function(n,t){if("function"==typeof r&&(t=r.call(this,n,t)),!ot(t))return t}),i[1]=t,b.apply(w,i)}});u[o][dt]||n("./_hide")(u[o],dt,u[o].valueOf);nt(u,"Symbol");nt(Math,"Math",!0);nt(y.JSON,"JSON",!0)},{"./_an-object":62,"./_descriptors":79,"./_enum-keys":82,"./_export":83,"./_fails":85,"./_global":89,"./_has":90,"./_hide":91,"./_is-array":98,"./_is-object":100,"./_library":108,"./_meta":113,"./_object-create":117,"./_object-dp":118,"./_object-gopd":120,"./_object-gopn":122,"./_object-gopn-ext":121,"./_object-gops":123,"./_object-keys":126,"./_object-pie":127,"./_property-desc":132,"./_redefine":134,"./_set-to-string-tag":138,"./_shared":140,"./_to-iobject":149,"./_to-primitive":152,"./_uid":156,"./_wks":161,"./_wks-define":159,"./_wks-ext":160}],237:[function(n){"use strict";var t=n("./_export"),r=n("./_typed"),f=n("./_typed-buffer"),e=n("./_an-object"),o=n("./_to-absolute-index"),a=n("./_to-length"),v=n("./_is-object"),s=n("./_global").ArrayBuffer,y=n("./_species-constructor"),i=f.ArrayBuffer,h=f.DataView,c=r.ABV&&s.isView,l=i.prototype.slice,p=r.VIEW,u="ArrayBuffer";t(t.G+t.W+t.F*(s!==i),{ArrayBuffer:i});t(t.S+t.F*!r.CONSTR,u,{isView:function(n){return c&&c(n)||v(n)&&p in n}});t(t.P+t.U+t.F*n("./_fails")(function(){return!new i(2).slice(1,void 0).byteLength}),u,{slice:function(n,t){if(void 0!==l&&void 0===t)return l.call(e(this),n);for(var r=e(this).byteLength,u=o(n,r),f=o(void 0===t?r:t,r),s=new(y(this,i))(a(f-u)),c=new h(this),v=new h(s),p=0;u<f;)v.setUint8(p++,c.getUint8(u++));return s}});n("./_set-species")(u)},{"./_an-object":62,"./_export":83,"./_fails":85,"./_global":89,"./_is-object":100,"./_set-species":137,"./_species-constructor":141,"./_to-absolute-index":146,"./_to-length":150,"./_typed":155,"./_typed-buffer":154}],238:[function(n){var t=n("./_export");t(t.G+t.W+t.F*!n("./_typed").ABV,{DataView:n("./_typed-buffer").DataView})},{"./_export":83,"./_typed":155,"./_typed-buffer":154}],239:[function(n){n("./_typed-array")("Float32",4,function(n){return function(t,i,r){return n(this,t,i,r)}})},{"./_typed-array":153}],240:[function(n){n("./_typed-array")("Float64",8,function(n){return function(t,i,r){return n(this,t,i,r)}})},{"./_typed-array":153}],241:[function(n){n("./_typed-array")("Int16",2,function(n){return function(t,i,r){return n(this,t,i,r)}})},{"./_typed-array":153}],242:[function(n){n("./_typed-array")("Int32",4,function(n){return function(t,i,r){return n(this,t,i,r)}})},{"./_typed-array":153}],243:[function(n){n("./_typed-array")("Int8",1,function(n){return function(t,i,r){return n(this,t,i,r)}})},{"./_typed-array":153}],244:[function(n){n("./_typed-array")("Uint16",2,function(n){return function(t,i,r){return n(this,t,i,r)}})},{"./_typed-array":153}],245:[function(n){n("./_typed-array")("Uint32",4,function(n){return function(t,i,r){return n(this,t,i,r)}})},{"./_typed-array":153}],246:[function(n){n("./_typed-array")("Uint8",1,function(n){return function(t,i,r){return n(this,t,i,r)}})},{"./_typed-array":153}],247:[function(n){n("./_typed-array")("Uint8",1,function(n){return function(t,i,r){return n(this,t,i,r)}},!0)},{"./_typed-array":153}],248:[function(n,t){"use strict";var u,a=n("./_array-methods")(0),v=n("./_redefine"),f=n("./_meta"),y=n("./_object-assign"),i=n("./_collection-weak"),e=n("./_is-object"),p=n("./_fails"),o=n("./_validate-collection"),r="WeakMap",w=f.getWeak,b=Object.isExtensible,k=i.ufstore,s={},h=function(n){return function(){return n(this,0<arguments.length?arguments[0]:void 0)}},c={get:function(n){if(e(n)){var t=w(n);return!0===t?k(o(this,r)).get(n):t?t[this._i]:void 0}},set:function(n,t){return i.def(o(this,r),n,t)}},l=t.exports=n("./_collection")(r,h,c,i,!0,!0);p(function(){return 7!=(new l).set((Object.freeze||Object)(s),7).get(s)})&&(y((u=i.getConstructor(h,r)).prototype,c),f.NEED=!0,a(["delete","has","get","set"],function(n){var t=l.prototype,i=t[n];v(t,n,function(t,r){if(e(t)&&!b(t)){this._f||(this._f=new u);var f=this._f[n](t,r);return"set"==n?this:f}return i.call(this,t,r)})}))},{"./_array-methods":66,"./_collection":74,"./_collection-weak":73,"./_fails":85,"./_is-object":100,"./_meta":113,"./_object-assign":116,"./_redefine":134,"./_validate-collection":158}],249:[function(n){"use strict";var t=n("./_collection-weak"),i=n("./_validate-collection");n("./_collection")("WeakSet",function(n){return function(){return n(this,0<arguments.length?arguments[0]:void 0)}},{add:function(n){return t.def(i(this,"WeakSet"),n,!0)}},t,!1,!0)},{"./_collection":74,"./_collection-weak":73,"./_validate-collection":158}],250:[function(n){for(var f=n("./es6.array.iterator"),p=n("./_object-keys"),w=n("./_redefine"),b=n("./_global"),e=n("./_hide"),o=n("./_iterators"),s=n("./_wks"),h=s("iterator"),c=s("toStringTag"),l=o.Array,a={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=p(a),u=0;u<v.length;u++){var i,r=v[u],k=a[r],y=b[r],t=y&&y.prototype;if(t&&(t[h]||e(t,h,l),t[c]||e(t,c,r),o[r]=l,k))for(i in f)t[i]||w(t,i,f[i],!0)}},{"./_global":89,"./_hide":91,"./_iterators":107,"./_object-keys":126,"./_redefine":134,"./_wks":161,"./es6.array.iterator":168}],251:[function(n){var t=n("./_export"),i=n("./_task");t(t.G+t.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./_export":83,"./_task":145}],252:[function(n){var i=n("./_global"),t=n("./_export"),u=n("./_user-agent"),f=[].slice,e=/MSIE .\./.test(u),r=function(n){return function(t,i){var r=2<arguments.length,u=!!r&&f.call(arguments,2);return n(r?function(){("function"==typeof t?t:Function(t)).apply(this,u)}:t,i)}};t(t.G+t.B+t.F*e,{setTimeout:r(i.setTimeout),setInterval:r(i.setInterval)})},{"./_export":83,"./_global":89,"./_user-agent":157}],253:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u={},r=null;u.getBandwidthEstimate=function(){if("undefined"==typeof window||void 0!==navigator.onLine&&!navigator.onLine||void 0===navigator.connection||(r="string"==typeof navigator.connection.type&&""!==navigator.connection.type?navigator.connection.type:null)&&"none"===r)return-1;if("number"==typeof navigator.connection.downlink&&0<navigator.connection.downlink)return navigator.connection.downlink;var n=function(){var n=[.025,.035,.35,1.4];if(r)switch(r){case"bluetooth":case"cellular":n[3]=.7;break;case"ethernet":case"wifi":case"wimax":n[3]=2.1}return n}();if("string"==typeof navigator.connection.effectiveType&&""!==navigator.connection.effectiveType)switch(navigator.connection.effectiveType){case"slow-2g":return n[0];case"2g":return n[1];case"3g":return n[2];case"4g":return n[3]}if(r)switch(r){case"ethernet":case"wifi":case"wimax":return 1.4;case"bluetooth":return.35}return-1};i.default=u},{}],254:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u={},r=null;u.getBandwidthEstimate=function(){if("undefined"==typeof window||void 0!==navigator.onLine&&!navigator.onLine||void 0===navigator.connection||(r="string"==typeof navigator.connection.type&&""!==navigator.connection.type?navigator.connection.type:null)&&"none"===r)return-1;if("number"==typeof navigator.connection.downlink&&0<navigator.connection.downlink)return navigator.connection.downlink;var n=function(){var n=[.025,.035,.35,1.4];if(r)switch(r){case"bluetooth":case"cellular":n[3]=.7;break;case"ethernet":case"wifi":case"wimax":n[3]=2.1}return n}();if("string"==typeof navigator.connection.effectiveType&&""!==navigator.connection.effectiveType)switch(navigator.connection.effectiveType){case"slow-2g":return n[0];case"2g":return n[1];case"3g":return n[2];case"4g":return n[3]}if(r)switch(r){case"ethernet":case"wifi":case"wimax":return 1.4;case"bluetooth":return.35}return-1};i.default=u},{}],255:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var s;Object.defineProperty(i,"__esModule",{value:!0});var o=e(n("../fw/fw")),h=e(n("../fw/env")),u=e(n("../players/vast-player")),f=e(n("../players/content-player")),r=e(n("../players/vpaid"));s={attach:function(n){n.prototype.play=function(){this.adOnStage&&this.adIsLinear?this.isVPAID?r.default.resumeAd.call(this):u.default.play.call(this):f.default.play.call(this)};n.prototype.pause=function(){this.adOnStage&&this.adIsLinear?this.isVPAID?r.default.pauseAd.call(this):u.default.pause.call(this):f.default.pause.call(this)};n.prototype.getAdPaused=function(){return!(!this.adOnStage||!this.adIsLinear)&&(this.isVPAID?r.default.getAdPaused.call(this):this.vastPlayerPaused)};n.prototype.setVolume=function(n){if(o.default.isNumber(n)){var t=0;t=n<0?0:1<n?1:n;this.adOnStage&&this.adIsLinear&&(this.isVPAID&&r.default.setAdVolume.call(this,t),u.default.setVolume.call(this,t));f.default.setVolume.call(this,t)}};n.prototype.getVolume=function(){return this.adOnStage&&this.adIsLinear?this.isVPAID?r.default.getAdVolume.call(this):u.default.getVolume.call(this):f.default.getVolume.call(this)};n.prototype.setMute=function(n){"boolean"==typeof n&&(this.adOnStage&&this.adIsLinear&&(this.isVPAID?n?r.default.setAdVolume.call(this,0):r.default.setAdVolume.call(this,1):u.default.setMute.call(this,n)),f.default.setMute.call(this,n))};n.prototype.getMute=function(){return this.adOnStage&&this.adIsLinear?this.isVPAID?0===r.default.getAdVolume.call(this):u.default.getMute.call(this):f.default.getMute.call(this)};n.prototype.stopAds=function(){this.adOnStage&&(this.isVPAID?r.default.stopAd.call(this):u.default.resumeContent.call(this))};n.prototype.getAdTagUrl=function(){return this.adTagUrl};n.prototype.getAdMediaUrl=function(){return this.adOnStage?this.isVPAID?r.default.getCreativeUrl.call(this):this.adMediaUrl:null};n.prototype.getAdLinear=function(){return this.adIsLinear};n.prototype.getAdSystem=function(){return this.adSystem};n.prototype.getAdContentType=function(){return this.adOnStage?this.adIsLinear||this.isVPAID?this.adContentType:this.nonLinearContentType:""};n.prototype.getAdTitle=function(){return this.adTitle};n.prototype.getAdDescription=function(){return this.adDescription};n.prototype.getAdDuration=function(){if(this.adOnStage&&this.adIsLinear){if(this.isVPAID){var n=r.default.getAdDuration.call(this);return 0<n&&(n*=1e3),n}return u.default.getDuration.call(this)}return-1};n.prototype.getAdCurrentTime=function(){if(this.adOnStage&&this.adIsLinear){if(this.isVPAID){var n=r.default.getAdRemainingTime.call(this),t=r.default.getAdDuration.call(this);return-1===n||-1===t||t<n?-1:1e3*(t-n)}return u.default.getCurrentTime.call(this)}return-1};n.prototype.getAdRemainingTime=function(){if(this.adOnStage&&this.adIsLinear){if(this.isVPAID)return r.default.getAdRemainingTime.call(this);var n=u.default.getCurrentTime.call(this),t=u.default.getDuration.call(this);return-1===n||-1===t||t<n?-1:1e3*(t-n)}return-1};n.prototype.getAdOnStage=function(){return this.adOnStage};n.prototype.getAdMediaWidth=function(){return this.adOnStage?this.isVPAID?r.default.getAdWidth.call(this):this.adIsLinear?this.adMediaWidth:this.nonLinearCreativeWidth:-1};n.prototype.getAdMediaHeight=function(){return this.adOnStage?this.isVPAID?r.default.getAdHeight.call(this):this.adIsLinear?this.adMediaHeight:this.nonLinearCreativeHeight:-1};n.prototype.getClickThroughUrl=function(){return this.clickThroughUrl};n.prototype.getIsSkippableAd=function(){return this.isSkippableAd};n.prototype.getContentPlayerCompleted=function(){return this.contentPlayerCompleted};n.prototype.setContentPlayerCompleted=function(n){"boolean"==typeof n&&(this.contentPlayerCompleted=n)};n.prototype.getAdErrorMessage=function(){return this.vastErrorMessage};n.prototype.getAdVastErrorCode=function(){return this.vastErrorCode};n.prototype.getAdErrorType=function(){return this.adErrorType};n.prototype.getEnvironment=function(){return h.default};n.prototype.getFramework=function(){return o.default};n.prototype.getVastPlayer=function(){return this.vastPlayer};n.prototype.getContentPlayer=function(){return this.contentPlayer};n.prototype.getVpaidCreative=function(){return this.adOnStage&&this.isVPAID?r.default.getVpaidCreative.call(this):null};n.prototype.getIsUsingContentPlayerForAds=function(){return this.useContentPlayerForAds};n.prototype.initialize=function(){this.rmpVastInitialized||u.default.init.call(this)};n.prototype.getInitialized=function(){return this.rmpVastInitialized};n.prototype.getAdPodInfo=function(){if(0<this.adPodApiInfo.length){var n={};return n.adPodCurrentIndex=this.adPodCurrentIndex,n.adPodLength=this.adPodApiInfo.length,n}return null};n.prototype.resizeAd=function(n,t,i){this.adOnStage&&this.isVPAID&&r.default.resizeAd.call(this,n,t,i)};n.prototype.expandAd=function(){this.adOnStage&&this.isVPAID&&r.default.expandAd.call(this)};n.prototype.collapseAd=function(){this.adOnStage&&this.isVPAID&&r.default.collapseAd.call(this)};n.prototype.skipAd=function(){this.adOnStage&&this.isVPAID&&r.default.skipAd.call(this)};n.prototype.getAdExpanded=function(){return this.adOnStage&&this.isVPAID&&r.default.getAdExpanded.call(this),!1};n.prototype.getAdSkippableState=function(){return this.adOnStage&&this.isVPAID&&r.default.getAdSkippableState.call(this),!1};n.prototype.getAdCompanions=function(){return this.adOnStage&&this.isVPAID&&r.default.getAdCompanions.call(this),""}}};i.default=s},{"../fw/env":260,"../fw/fw":261,"../players/content-player":263,"../players/vast-player":264,"../players/vpaid":265}],256:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}var r,f,u,s,e,h;Object.defineProperty(i,"__esModule",{value:!0});r=o(n("../fw/fw"));f=o(n("../tracking/ping"));u={destroy:function(){var t=this.adContainer.querySelectorAll(".rmp-ad-container-icons"),n,i;if(0<t.length)for(n=0,i=t.length;n<i;n++)r.default.removeElement(t[n])}};s=function(n){for(var i=[],t=0,r=this.icons.length;t<r;t++)this.icons[t].program!==n&&i.push(this.icons[t]);this.icons=i};u.parse=function(n){for(var t,i,u,f,o,h,c,l,w,a,nt,b,v,y,tt,k,d=n[0].getElementsByTagName("Icon"),p=0,it=d.length;p<it;p++)if(t=d[p],i=t.getAttribute("program"),null!==i&&""!==i&&(u=t.getAttribute("width"),!(null===u||""===u||parseInt(u)<=0)&&(f=t.getAttribute("height"),!(null===f||""===f||parseInt(f)<=0)&&(o=t.getAttribute("xPosition"),null!==o&&""!==o&&(h=t.getAttribute("yPosition"),null!==h&&""!==h&&(c=t.getElementsByTagName("StaticResource"),0!==c.length&&(l=c[0].getAttribute("creativeType"),null!==l&&""!==l&&/^image\/(gif|jpeg|jpg|png)$/i.test(l)&&(w=r.default.getNodeValue(c[0],!0),null!==w)))))))){s.call(this,i);var e={program:i,width:u,height:f,xPosition:o,yPosition:h,staticResourceUrl:w},rt=t.getElementsByTagName("IconViewTracking"),g=r.default.getNodeValue(rt[0],!0);if(null!==g&&(e.iconViewTrackingUrl=g),a=t.getElementsByTagName("IconClicks"),0<a.length&&(nt=a[0].getElementsByTagName("IconClickThrough"),b=r.default.getNodeValue(nt[0],!0),null!==b&&(e.iconClickThroughUrl=b,v=a[0].getElementsByTagName("IconClickTracking"),0<v.length)))for(e.iconClickTrackingUrl=[],y=0,tt=v.length;y<tt;y++)k=r.default.getNodeValue(v[y],!0),null!==k&&e.iconClickTrackingUrl.push(k);this.icons.push(e)}};e=function(n,t){var u=this,i;(t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),r.default.openWindow(this.icons[n].iconClickThroughUrl),void 0!==this.icons[n].iconClickTrackingUrl)&&(i=this.icons[n].iconClickTrackingUrl,0<i.length&&i.forEach(function(n){f.default.tracking.call(u,n,null)}))};h=function(n){f.default.tracking.call(this,this.icons[n].iconViewTrackingUrl,null)};u.append=function(){this.onPlayingAppendIcons=function(){var t,u,n,i,r;for(this.vastPlayer.removeEventListener("playing",this.onPlayingAppendIcons),t=0,u=this.icons.length;t<u;t++)n=document.createElement("img"),n.className="rmp-ad-container-icons",n.style.width=parseInt(this.icons[t].width)+"px",n.style.height=parseInt(this.icons[t].height)+"px",i=this.icons[t].xPosition,"left"===i?n.style.left="0px":"right"===i?n.style.right="0px":n.style.left=0<=parseInt(i)?i+"px":"0px",r=this.icons[t].yPosition,"top"===r?n.style.top="0px":"bottom"===i?n.style.bottom="0px":n.style.top=0<=parseInt(r)?r+"px":"0px",void 0!==this.icons[t].iconViewTrackingUrl&&n.addEventListener("load",h.bind(this,t)),void 0!==this.icons[t].iconClickThroughUrl&&(n.addEventListener("touchend",e.bind(this,t)),n.addEventListener("click",e.bind(this,t))),n.src=this.icons[t].staticResourceUrl,this.adContainer.appendChild(n)}.bind(this);this.vastPlayer.addEventListener("playing",this.onPlayingAppendIcons)};i.default=u},{"../fw/fw":261,"../tracking/ping":266}],257:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});var f=r(n("../fw/fw")),u=r(n("../fw/env")),h=r(n("../utils/helpers")),e=r(n("../tracking/ping")),a=r(n("../players/content-player")),o=r(n("../players/vast-player")),v=r(n("../players/vpaid")),y=r(n("./skip")),p=r(n("./icons")),s=r(n("../utils/vast-errors")),w=r(n("../../../externals/rmp-connection"));var c={},b=/vpaid/i,k=/\/javascript/i,d=/(application\/vnd\.apple\.mpegurl|x-mpegurl)/i,g=/application\/dash\+xml/i,l=["video/webm","video/mp4","video/ogg","video/3gpp"];c.update=function(n){var t=this;this.onDurationChange=function(){this.vastPlayer.removeEventListener("durationchange",this.onDurationChange);this.vastPlayerDuration=o.default.getDuration.call(this);h.default.createApiEvent.call(this,"addurationchange")}.bind(this);this.vastPlayer.addEventListener("durationchange",this.onDurationChange);this.onLoadedmetadataPlay=function(){this.vastPlayer.removeEventListener("loadedmetadata",this.onLoadedmetadataPlay);clearTimeout(this.creativeLoadTimeoutCallback);h.default.createApiEvent.call(this,"adloaded");a.default.pause.call(this);f.default.show(this.adContainer);f.default.show(this.vastPlayer);this.adOnStage=!0;o.default.play.call(this,this.firstVastPlayerPlayRequest);this.firstVastPlayerPlayRequest&&(this.firstVastPlayerPlayRequest=!1)}.bind(this);this.vastPlayer.addEventListener("loadedmetadata",this.onLoadedmetadataPlay);this.onContextMenu=function(n){n&&(n.stopPropagation(),n.preventDefault())}.bind(this);this.vastPlayer.addEventListener("contextmenu",this.onContextMenu);this.onPlaybackError=function(n){var t,i;n&&n.target&&(t=n.target,f.default.isObject(t.error)&&f.default.isNumber(t.error.code)&&(i=t.error.code,"string"==typeof t.error.message&&t.error.message,4===i&&(e.default.error.call(this,401),s.default.process.call(this,401))))}.bind(this);this.creativeLoadTimeoutCallback=setTimeout(function(){e.default.error.call(t,402);s.default.process.call(t,402)},this.params.creativeLoadTimeout);this.useContentPlayerForAds?(this.contentPlayer.addEventListener("error",this.onPlaybackError),this.contentPlayer.src=n):(this.vastPlayer.addEventListener("error",this.onPlaybackError),this.vastPlayer.src=n,this.vastPlayer.load());this.onClickThrough=function(n){n&&n.stopPropagation();u.default.isMobile||f.default.openWindow(this.clickThroughUrl);this.params.pauseOnClick&&this.pause();h.default.createApiEvent.call(this,"adclick");h.default.dispatchPingEvent.call(this,"clickthrough")}.bind(this);this.clickThroughUrl&&(u.default.isMobile?function(){this.clickUIOnMobile=document.createElement("a");this.clickUIOnMobile.className="rmp-ad-click-ui-mobile";this.clickUIOnMobile.textContent=this.params.textForClickUIOnMobile;this.clickUIOnMobile.addEventListener("touchend",this.onClickThrough);this.clickUIOnMobile.href=this.clickThroughUrl;this.clickUIOnMobile.target="_blank";this.adContainer.appendChild(this.clickUIOnMobile)}.call(this):this.vastPlayer.addEventListener("click",this.onClickThrough));this.isSkippableAd&&y.default.append.call(this)};c.parse=function(n){var at,vt,yt,st,a,pt,rt,ht,wt,ut,ft,it,ct,nt,lt,ii,ri,ot;if((this.adIsLinear=!0,at=n[0].getElementsByTagName("MediaFiles"),0===at.length)||(vt=n[0].getElementsByTagName("Icons"),0<vt.length&&p.default.parse.call(this,vt),yt=n[0].getElementsByTagName("AdParameters"),this.adParametersData="",0<yt.length&&(this.adParametersData=f.default.getNodeValue(yt[0],!1)),st=at[0].getElementsByTagName("MediaFile"),0===st.length))return e.default.error.call(this,101),void s.default.process.call(this,101);for(var i=[],tt=[],t=0,fi=st.length;t<fi;t++)if(i[t]={},a=st[t],pt=f.default.getNodeValue(a,!0),null!==pt)if(rt=a.getAttribute("type"),null!==rt&&""!==rt){if(i[t].url=pt,i[t].type=rt,ht=a.getAttribute("codec"),null!==ht&&""!==ht&&(i[t].codec=ht),wt=i[t].apiFramework=a.getAttribute("apiFramework"),this.params.enableVpaid&&wt&&b.test(wt)&&k.test(rt)){i=[i[t]];tt=[];this.isVPAID=!0;break}ut=a.getAttribute("width");null!==ut&&""!==ut||(ut=0);ft=a.getAttribute("height");null!==ft&&""!==ft||(ft=0);it=a.getAttribute("bitrate");(null===it||""===it||it<10)&&(it=0);i[t].width=parseInt(ut);i[t].height=parseInt(ft);i[t].bitrate=parseInt(it)}else tt.push(t);else tt.push(t);if(0<tt.length)for(ct=tt.length-1;0<=ct;ct--)i.splice(tt[ct],1);for(var y=[],bt=0,ei=i.length;bt<ei;bt++){var kt=i[bt],et=kt.type,dt=kt.url;if(this.isVPAID&&dt)return v.default.loadCreative.call(this,dt,this.params.vpaidSettings),void(this.adContentType=et);if(d.test(et)&&u.default.okHls||g.test(et)&&u.default.okDash)return o.default.append.call(this,dt,et),void(this.adContentType=et);y.push(kt)}for(var r=[],oi=function(n,t){return t.codec&&t.type===l[n]?u.default.canPlayType(t.type,t.codec):t.type===l[n]&&u.default.canPlayType(t.type)},gt=0,si=l.length;gt<si&&!(0<(r=y.filter(oi.bind(null,gt))).length);gt++);if(0===r.length)for(var hi=function(n,t,i){return i.codec===n&&i.type===t},ni=0,ci=y.length;ni<ci;ni++)nt=y[ni],nt.codec&&nt.type&&u.default.canPlayType(nt.type,nt.codec)&&(r=y.filter(hi.bind(null,nt.codec,nt.type)));if(0===r.length)for(var li=function(n,t){return t.type===n},ti=0,ai=y.length;ti<ai;ti++)lt=y[ti],lt.type&&u.default.canPlayType(lt.type)&&(r=y.filter(li.bind(null,lt.type)));if(0===r.length)return e.default.error.call(this,403),void s.default.process.call(this,403);r.sort(function(n,t){return n.width-t.width});var h=void 0,c=[],ui=[];1<r.length&&(ii=f.default.getWidth(this.container)*u.default.devicePixelRatio,ri=f.default.getHeight(this.container)*u.default.devicePixelRatio,0<ii&&0<ri&&(c=r.filter(function(n){return ii>=n.width&&ri>=n.height})),0===c.length&&(c=[r[0]]),ot=w.default.getBandwidthEstimate(),-1<ot&&1<c.length&&(c.sort(function(n,t){return n.bitrate-t.bitrate}),ot=Math.round(1e3*ot),h=(ui=c.filter(function(n){return ot>=n.bitrate}))[ui.length-1]));h||(0<c.length?h=c[c.length-1]:(r.sort(function(n,t){return n.bitrate-t.bitrate}),h=r[r.length-1]));this.adMediaUrl=h.url;this.adMediaHeight=h.height;this.adMediaWidth=h.width;this.adContentType=h.type;o.default.append.call(this,h.url,h.type)};i.default=c},{"../../../externals/rmp-connection":254,"../fw/env":260,"../fw/fw":261,"../players/content-player":263,"../players/vast-player":264,"../players/vpaid":265,"../tracking/ping":266,"../utils/helpers":269,"../utils/vast-errors":270,"./icons":256,"./skip":259}],258:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var s,h;Object.defineProperty(i,"__esModule",{value:!0});var u=f(n("../fw/fw")),c=f(n("../fw/env")),r=f(n("../utils/helpers")),e=f(n("../tracking/ping")),l=f(n("../players/vast-player")),a=f(n("../players/content-player")),o=f(n("../utils/vast-errors"));s={};h=function(){var n=this;this.nonLinearClose=document.createElement("div");this.nonLinearClose.className="rmp-ad-non-linear-close";r.default.accessibleButton(this.nonLinearClose,"close ad button");0<this.nonLinearMinSuggestedDuration?(this.nonLinearClose.style.display="none",setTimeout(function(){n.nonLinearClose&&(n.nonLinearClose.style.display="block")},1e3*this.nonLinearMinSuggestedDuration)):this.nonLinearClose.style.display="block";this.onClickCloseNonLinear=function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());this.nonLinearContainer.style.display="none";r.default.createApiEvent.call(this,"adclosed");r.default.dispatchPingEvent.call(this,"close")}.bind(this);this.nonLinearClose.addEventListener("touchend",this.onClickCloseNonLinear);this.nonLinearClose.addEventListener("click",this.onClickCloseNonLinear);this.nonLinearContainer.appendChild(this.nonLinearClose)};s.update=function(){this.nonLinearContainer=document.createElement("div");this.nonLinearContainer.className="rmp-ad-non-linear-container";this.nonLinearContainer.style.width=this.nonLinearCreativeWidth.toString()+"px";this.nonLinearContainer.style.height=this.nonLinearCreativeHeight.toString()+"px";this.nonLinearATag=document.createElement("a");this.nonLinearATag.className="rmp-ad-non-linear-anchor";this.clickThroughUrl&&(this.nonLinearATag.href=this.clickThroughUrl,this.nonLinearATag.target="_blank",this.onNonLinearClickThrough=function(n){try{n&&n.stopPropagation();this.params.pauseOnClick&&this.pause();r.default.createApiEvent.call(this,"adclick");r.default.dispatchPingEvent.call(this,"clickthrough")}catch(n){u.default.trace(n)}}.bind(this),c.default.isMobile?this.nonLinearATag.addEventListener("touchend",this.onNonLinearClickThrough):this.nonLinearATag.addEventListener("click",this.onNonLinearClickThrough));this.nonLinearImg=document.createElement("img");this.nonLinearImg.className="rmp-ad-non-linear-img";this.onNonLinearLoadError=function(){e.default.error.call(this,502);o.default.process.call(this,502)}.bind(this);this.nonLinearImg.addEventListener("error",this.onNonLinearLoadError);this.onNonLinearLoadSuccess=function(){this.adOnStage=!0;r.default.createApiEvent.call(this,"adloaded");r.default.createApiEvent.call(this,"adimpression");r.default.createApiEvent.call(this,"adstarted");r.default.dispatchPingEvent.call(this,["impression","creativeView","start"])}.bind(this);this.nonLinearImg.addEventListener("load",this.onNonLinearLoadSuccess);this.nonLinearImg.src=this.adMediaUrl;this.nonLinearATag.appendChild(this.nonLinearImg);this.nonLinearContainer.appendChild(this.nonLinearATag);this.adContainer.appendChild(this.nonLinearContainer);h.call(this);u.default.show(this.adContainer);a.default.play.call(this,this.firstContentPlayerPlayRequest);this.firstContentPlayerPlayRequest&&(this.firstContentPlayerPlayRequest=!1)};s.parse=function(n){var f,t,i,s,h,d,a,g,v,y,tt,nt;if(this.adIsLinear=!1,f=n[0].getElementsByTagName("NonLinear"),0!==f.length){for(var r=void 0,p="",w=!1,b=0,it=f.length;b<it;b++)if(w=!1,t=(r=f[b]).getAttribute("width"),null!==t&&""!==t)if(i=r.getAttribute("height"),null!==i&&""!==i){if((t=parseInt(t),i=parseInt(i),!(t<=0||i<=0))&&(s=r.getAttribute("minSuggestedDuration"),null!==s&&""!==s&&u.default.isValidDuration(s)&&(this.nonLinearMinSuggestedDuration=u.default.convertDurationToSeconds(s)),h=r.getElementsByTagName("StaticResource"),0!==h.length)){for(var c=void 0,k=0,rt=h.length;k<rt;k++)if(d=h[k],null!==(c=d.getAttribute("creativeType"))&&""!==c&&/^image\/(png|jpeg|jpg|gif)$/i.test(c)){if(!(t>u.default.getWidth(this.container))){p=u.default.getNodeValue(d,!0);break}w=!0}if(""!==p){this.adMediaUrl=p;this.nonLinearCreativeWidth=t;this.nonLinearCreativeHeight=i;this.nonLinearContentType=c;break}}}else e.default.error.call(this,101),o.default.process.call(this,101);else e.default.error.call(this,101),o.default.process.call(this,101);if(!this.adMediaUrl||!r)return a=503,w&&(a=501),e.default.error.call(this,a),void o.default.process.call(this,a);if(g=r.getElementsByTagName("NonLinearClickThrough"),0<g.length&&(this.clickThroughUrl=u.default.getNodeValue(g[0],!0),v=f[0].getElementsByTagName("NonLinearClickTracking"),0<v.length))for(y=0,tt=v.length;y<tt;y++)nt=u.default.getNodeValue(v[y],!0),null!==nt&&this.trackingTags.push({event:"clickthrough",url:nt});l.default.append.call(this)}};i.default=s},{"../fw/env":260,"../fw/fw":261,"../players/content-player":263,"../players/vast-player":264,"../tracking/ping":266,"../utils/helpers":269,"../utils/vast-errors":270}],259:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f,e;Object.defineProperty(i,"__esModule",{value:!0});var o=u(n("../fw/fw")),r=u(n("../utils/helpers")),s=u(n("../players/vast-player"));f={};e=function(n){0<Math.round(n)&&(this.skipWaiting.textContent=this.params.skipWaitingMessage+" "+Math.round(n)+"s")};f.append=function(){this.skipButton=document.createElement("div");this.skipButton.className="rmp-ad-container-skip";this.skipButton.style.display="none";r.default.accessibleButton(this.skipButton,"skip ad button");this.skipWaiting=document.createElement("div");this.skipWaiting.className="rmp-ad-container-skip-waiting";e.call(this,this.skipoffset);this.skipWaiting.style.display="block";this.skipMessage=document.createElement("div");this.skipMessage.className="rmp-ad-container-skip-message";this.skipMessage.textContent=this.params.skipMessage;this.skipMessage.style.display="none";this.skipIcon=document.createElement("div");this.skipIcon.className="rmp-ad-container-skip-icon";this.skipIcon.style.display="none";this.onClickSkip=function(n){n&&(n.stopPropagation(),"touchend"===n.type&&n.preventDefault());this.skippableAdCanBeSkipped&&(r.default.createApiEvent.call(this,"adskipped"),this.hasSkipEvent&&r.default.dispatchPingEvent.call(this,"skip"),s.default.resumeContent.call(this))}.bind(this);this.skipButton.addEventListener("click",this.onClickSkip);this.skipButton.addEventListener("touchend",this.onClickSkip);this.skipButton.appendChild(this.skipWaiting);this.skipButton.appendChild(this.skipMessage);this.skipButton.appendChild(this.skipIcon);this.adContainer.appendChild(this.skipButton);this.onTimeupdateCheckSkip=function(){if("none"===this.skipButton.style.display&&(this.skipButton.style.display="block"),this.vastPlayerCurrentTime=this.vastPlayer.currentTime,o.default.isNumber(this.vastPlayerCurrentTime)&&0<this.vastPlayerCurrentTime){var n=o.default.convertOffsetToSeconds(this.skipoffset,this.vastPlayerDuration);this.vastPlayerCurrentTime>=n?(this.vastPlayer.removeEventListener("timeupdate",this.onTimeupdateCheckSkip),function(){this.skipWaiting.style.display="none";this.skipMessage.style.display="block";this.skipIcon.style.display="block"}.call(this),this.skippableAdCanBeSkipped=!0,r.default.createApiEvent.call(this,"adskippablestatechanged")):0<n-this.vastPlayerCurrentTime&&e.call(this,n-this.vastPlayerCurrentTime)}}.bind(this);this.vastPlayer.addEventListener("timeupdate",this.onTimeupdateCheckSkip)};i.default=f},{"../fw/fw":261,"../players/vast-player":264,"../utils/helpers":269}],260:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o,k=n("./fw"),d=(o=k)&&o.__esModule?o:{"default":o},h,c,l,a,e,v,r={},f=document.createElement("video"),w=!!(void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof window.DocumentTouch),u=window.navigator&&window.navigator.userAgent?window.navigator.userAgent:null,y=function(n){if(null!==u){var t=u.match(n);if(Array.isArray(t)&&void 0!==t[1])return parseInt(t[1],10)}return-1},p=(h=[!1,-1],w&&/(ipad|iphone|ipod)/i.test(u)&&(h=[!0,y(/os\s+(\d+)_/i)]),h),s=void 0!==f.canPlayType,b=function(){return s&&""!==f.canPlayType('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')?!0:!1}();r.isIos=p;r.isAndroid=(c=[!1,-1],p[0]||!w||/android/i.test(u)&&(c=[!0,y(/android\s*(\d+)\./i)]),c);r.isMacOSX=!(p[0]||!/(macintosh|mac\s+os)/i.test(u));r.isSafari=(l=!1,a=-1,/safari\/[.0-9]*/i.test(u)&&!/(chrome|chromium|android|crios|fxios)/i.test(u)&&(l=!0,a=y(/version\/(\d+)\./i)),[l,a]);r.isFirefox=!(!/firefox\//i.test(u)||/seamonkey\//i.test(u));r.isMobile=!1;(r.isIos[0]||r.isAndroid[0])&&(r.isMobile=!0);r.okMp4=b;r.okHls=function(){if(s&&b){var n=f.canPlayType("application/vnd.apple.mpegurl"),t=f.canPlayType("application/x-mpegurl");if(""!==n||""!==t)return!0}return!1}();r.okDash=function(){return s&&""!==f.canPlayType("application/dash+xml")?!0:!1}();r.canPlayType=function(n,t){if(s)if(n&&t){if(""!==f.canPlayType(n+'; codecs="'+t+'"'))return!0}else if(n&&!t&&""!==f.canPlayType(n))return!0;return!1};r.hasNativeFullscreenSupport=!(!(e=document.documentElement)||void 0===e.requestFullscreen&&void 0===e.webkitRequestFullscreen&&void 0===e.mozRequestFullScreen&&void 0===e.msRequestFullscreen&&void 0===f.webkitEnterFullscreen);r.devicePixelRatio=(v=1,d.default.isNumber(window.devicePixelRatio)&&1<window.devicePixelRatio&&(v=window.devicePixelRatio),v);i.default=r},{"./fw":261}],261:[function(n,t,i){"use strict";var r,u,f,e;Object.defineProperty(i,"__esModule",{value:!0});r={nullFn:function(){return null},addClass:function(n,t){n&&"string"==typeof t&&(n.className?-1===n.className.indexOf(t)&&(n.className=(n.className+" "+t).replace(/\s\s+/g," ")):n.className=t)},removeClass:function(n,t){n&&"string"==typeof t&&-1<n.className.indexOf(t)&&(n.className=n.className.replace(t,"").replace(/\s\s+/g," "))},createStdEvent:function(n,t){var i=void 0;if(t)if("function"==typeof window.Event)try{i=new Event(n);t.dispatchEvent(i)}catch(n){r.trace(n)}else try{(i=document.createEvent("Event")).initEvent(n,!0,!0);t.dispatchEvent(i)}catch(n){r.trace(n)}}};u=function(n,t){var i=function(n,t){var i="",r;return n&&"function"==typeof window.getComputedStyle&&(r=window.getComputedStyle(n,null),r&&(i=(i=r.getPropertyValue(t)).toString().toLowerCase())),i}(n,t)||0;return-1<(i=i.toString()).indexOf("px")&&(i=i.replace("px","")),parseFloat(i)};r.getWidth=function(n){return n?r.isNumber(n.offsetWidth)&&0!==n.offsetWidth?n.offsetWidth:u(n,"width"):0};r.getHeight=function(n){return n?r.isNumber(n.offsetHeight)&&0!==n.offsetHeight?n.offsetHeight:u(n,"height"):0};r.show=function(n){n&&(n.style.display="block")};r.hide=function(n){n&&(n.style.display="none")};r.removeElement=function(n){if(n&&n.parentNode)try{n.parentNode.removeChild(n)}catch(n){r.trace(n)}};r.ajax=function(n,t,i,u){return new Promise(function(f,e){if(window.XMLHttpRequest){var o=new XMLHttpRequest;o.open("GET",n,!0);o.timeout=t;u&&(o.withCredentials=!0);o.onloadend=function(){r.isNumber(o.status)&&200<=o.status&&o.status<300&&"string"==typeof o.responseText&&""!==o.responseText?i?f(o.responseText):f():e()};o.ontimeout=function(){r.log("XMLHttpRequest timeout");e()};o.send(null)}else e()})};r.log=function(n){window.console&&window.console.log&&("string"==typeof n?window.console.log("rmp-vast: "+n):window.console.log(n))};r.trace=function(){0};r.hasDOMParser=function(){return void 0!==window.DOMParser};r.vastReadableTime=function(n){if(r.isNumber(n)&&0<=n){var i=0,t=0,f=0,u=Math.floor(n%1e3);return u=0===u?"000":u<10?"00"+u:u<100?"0"+u:u.toString(),59<(i=Math.floor(n/1e3))&&(i-=60*(t=Math.floor(i/60))),i=0===i?"00":i<10?"0"+i:i.toString(),59<t&&(t-=60*(f=Math.floor(t/60))),t=0===t?"00":t<10?"0"+t:t.toString(),(f=0===f?"00":f<10?"0"+f:23<f?"00":f.toString())+":"+t+":"+i+"."+u}return"00:00:00.000"};r.generateCacheBusting=function(){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<8;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n};r.getNodeValue=function(n,t){for(var u=n.childNodes,i="",r=0,f=u.length;r<f;r++)u[r]&&u[r].textContent&&(i+=u[r].textContent.trim());return i&&((/^<!\[CDATA\[.*\]\]>$/i.test(i)&&(i=i.replace("<![CDATA[","").replace("]\]>","")),!t)||/^(https?:)?\/\//i.test(i))?i:null};r.RFC3986EncodeURIComponent=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16)})};r.isValidDuration=function(n){return!!/^\d+:\d+:\d+(\.\d+)?$/i.test(n)};r.convertDurationToSeconds=function(n){var i=n.split("."),t=(i=i[0]).split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2])};f=/^\d+:\d+:\d+(\.\d+)?$/i;e=/^\d+%$/i;r.isValidOffset=function(n){return!(!f.test(n)&&!e.test(n))};r.convertOffsetToSeconds=function(n,t){var u=0,o,i,r;return f.test(n)?(o=n.split("."),i=(o=o[0]).split(":"),u=3600*parseInt(i[0])+60*parseInt(i[1])+parseInt(i[2])):e.test(n)&&0<t&&(r=n.split("%"),r=parseInt(r[0]),u=Math.round(t*r/100)),u};r.logVideoEvents=function(n,t){["loadstart","durationchange","loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(i){n.addEventListener(i,function(n){n&&n.type&&r.log(t+" player event - "+n.type)})})};r.isNumber=function(n){return!(void 0===n||"number"!=typeof n||!Number.isFinite(n))};r.isObject=function(n){return null!=n&&"object"==typeof n};r.openWindow=function(n){try{window.open(n,"_blank")}catch(n){r.trace(n)}};i.default=r},{}],262:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function y(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)}var s;Object.defineProperty(i,"__esModule",{value:!0});var u=e(n("./fw/fw")),l=e(n("./fw/env")),o=e(n("./utils/helpers")),f=e(n("./tracking/ping")),w=e(n("./creatives/linear")),b=e(n("./creatives/non-linear")),a=e(n("./tracking/tracking-events")),k=e(n("./api/api")),v=e(n("./players/content-player")),c=e(n("./utils/default")),r=e(n("./utils/vast-errors")),d=e(n("./creatives/icons"));s=function(n,t){"string"==typeof n&&""!==n&&(this.id=n,this.container=document.getElementById(this.id),this.contentWrapper=this.container.querySelector(".rmp-content"),this.contentPlayer=this.container.querySelector(".rmp-video"),null!==this.container&&null!==this.contentWrapper&&null!==this.contentPlayer&&(c.default.instanceVariables.call(this),c.default.loadAdsVariables.call(this),c.default.fullscreen.call(this),o.default.filterParams.call(this,t)))};k.default.attach(s);var h=function(){o.default.createApiEvent.call(this,"adfollowingredirect");var n=u.default.getNodeValue(this.vastAdTagURI[0],!0);null!==n?this.params.maxNumRedirects>this.redirectsFollowed?(this.redirectsFollowed++,this.runningAdPod&&(this.adPodItemWrapper=!0),this.loadAds(n)):(f.default.error.call(this,302),r.default.process.call(this,302)):(f.default.error.call(this,300),r.default.process.call(this,300))},p=function(n){var i=void 0,e,st,nt,tt,it,k,t,ut,c,g,lt,ot;if(0<this.adPod.length&&!this.adPodItemWrapper)i=n[0],this.adPodCurrentIndex++,this.adPod.shift();else if(0<this.adPod.length&&this.adPodItemWrapper){for(this.adPodItemWrapper=!1,e=0,st=n.length;e<st;e++)if(nt=n[e].getAttribute("sequence"),""===nt||null===nt){i=n[e];break}}else{for(var v=[],s=0,at=n.length;s<at;s++)tt=n[s].getAttribute("sequence"),""===tt||null===tt?v.push(n[s]):this.adPod.push(n[s]);0===this.adPod.length&&0<v.length?i=v[0]:0<this.adPod.length&&(this.runningAdPod=!0,this.adPodApiInfo=[].concat(y(this.adPod)),this.adPodWrapperTrackings=[].concat(y(this.trackingTags)),this.adPod.length>this.params.maxNumItemsInAdPod&&(this.adPod.length=this.params.maxNumItemsInAdPod),this.standaloneAdsInPod=v,this.adPod.sort(function(n,t){return parseInt(n.getAttribute("sequence"))-parseInt(t.getAttribute("sequence"))}),i=this.adPod[0],this.adPod.shift(),this.onAdDestroyLoadNextAdInPod=function(){this.adPodItemWrapper=!1;0<this.adPod.length?p.call(this,this.adPod):(this.container.removeEventListener("addestroyed",this.onAdDestroyLoadNextAdInPod),this.adPod=[],this.standaloneAdsInPod=[],this.runningAdPod=!1,this.adPodCurrentIndex=0,this.adPodApiInfo=[],this.adPodWrapperTrackings=[],o.default.createApiEvent.call(this,"adpodcompleted"))}.bind(this),this.container.addEventListener("addestroyed",this.onAdDestroyLoadNextAdInPod))}if(!i)return f.default.error.call(this,200),void r.default.process.call(this,200);if(it=i.getElementsByTagName("InLine"),k=i.getElementsByTagName("Wrapper"),0===it.length&&0===k.length)return f.default.error.call(this,101),void r.default.process.call(this,101);t=void 0;0<k.length?(this.isWrapper=!0,t=k,this.vastAdTagURI=t[0].getElementsByTagName("VASTAdTagURI")):t=it;var vt=t[0].getElementsByTagName("AdSystem"),rt=t[0].getElementsByTagName("Impression"),ht=t[0].getElementsByTagName("Error");0<ht.length&&(ut=u.default.getNodeValue(ht[0],!0),null!==ut&&this.inlineOrWrapperErrorTags.push({event:"error",url:ut}));var ft=t[0].getElementsByTagName("AdTitle"),ct=t[0].getElementsByTagName("Description"),et=t[0].getElementsByTagName("Creatives");if(this.isWrapper){if(0===this.vastAdTagURI.length)return f.default.error.call(this,101),void r.default.process.call(this,101)}else if(0===et.length)return f.default.error.call(this,101),void r.default.process.call(this,101);if(c=void 0,0<et.length&&(c=et[0].getElementsByTagName("Creative"),!this.isWrapper&&0===c.length))return f.default.error.call(this,101),void r.default.process.call(this,101);if(0<ft.length&&(this.adSystem=u.default.getNodeValue(vt[0],!1)),0<rt.length)for(g=0,lt=rt.length;g<lt;g++)ot=u.default.getNodeValue(rt[g],!0),null!==ot&&this.trackingTags.push({event:"impression",url:ot});this.isWrapper||(0<ft.length&&(this.adTitle=u.default.getNodeValue(ft[0],!1)),0<ct.length&&(this.adDescription=u.default.getNodeValue(ct[0],!1)));!this.isWrapper||c?function(n){for(var p,i,k,s,g,c,v,rt,nt,tt,e=0,it=n.length;e<it;e++){var y=n[e],o=y.getElementsByTagName("NonLinearAds"),t=y.getElementsByTagName("Linear");if(!(0<y.getElementsByTagName("CompanionAds").length)){if(0===o.length&&0===t.length)return f.default.error.call(this,101),void r.default.process.call(this,101);if(0<o.length)return p=o[0].getElementsByTagName("TrackingEvents"),0<p.length&&a.default.filterPush.call(this,p),this.isWrapper?void h.call(this):void b.default.parse.call(this,o);if(0<t.length){if(i=t[0].getAttribute("skipoffset"),!this.isWrapper&&""!==this.params.skipMessage&&null!==i&&""!==i&&u.default.isValidOffset(i)&&(this.isSkippableAd=!0,this.skipoffset=i,l.default.isIos[0]&&l.default.isIos[1]<10))return f.default.error.call(this,200),void r.default.process.call(this,200);if(k=t[0].getElementsByTagName("TrackingEvents"),0<k.length&&a.default.filterPush.call(this,k),s=t[0].getElementsByTagName("VideoClicks"),0<s.length&&(g=s[0].getElementsByTagName("ClickThrough"),c=s[0].getElementsByTagName("ClickTracking"),0<g.length&&(this.clickThroughUrl=u.default.getNodeValue(g[0],!0)),0<c.length))for(v=0,rt=c.length;v<rt;v++)nt=u.default.getNodeValue(c[v],!0),null!==nt&&this.trackingTags.push({event:"clickthrough",url:nt});return this.isWrapper?(tt=t[0].getElementsByTagName("Icons"),0<tt.length&&d.default.parse.call(this,tt),void h.call(this)):void w.default.parse.call(this,t)}}}this.isWrapper&&h.call(this)}.call(this,c):h.call(this)},g=function(n){var t=this;"string"==typeof n&&""!==n?u.default.hasDOMParser()?(o.default.createApiEvent.call(this,"adtagstartloading"),this.isWrapper=!1,this.vastAdTagURI=null,this.adTagUrl=n,u.default.ajax(this.adTagUrl,this.params.ajaxTimeout,!0,this.params.ajaxWithCredentials).then(function(n){o.default.createApiEvent.call(t,"adtagloaded");var i=void 0;try{i=(new DOMParser).parseFromString(n,"text/xml")}catch(n){return u.default.trace(n),f.default.error.call(t,100),void r.default.process.call(t,100)}(function(n){var o,t,i,e,c,s,l,h;if(0<n.getElementsByTagName("vmap:VMAP").length)r.default.process.call(this,200);else{if(o=n.getElementsByTagName("VAST"),0===o.length)return f.default.error.call(this,100),void r.default.process.call(this,100);if(t=o[0],i=t.getElementsByTagName("Error"),0<i.length)for(e=0,c=i.length;e<c;e++)i[e].parentNode===t&&(s=u.default.getNodeValue(i[e],!0),null!==s&&this.vastErrorTags.push({event:"error",url:s}));if(l=t.getAttribute("version"),!/^(2|3|4)\./i.test(l))return f.default.error.call(this,102),void r.default.process.call(this,102);if(h=t.getElementsByTagName("Ad"),0===h.length)return f.default.error.call(this,303),void r.default.process.call(this,303);p.call(this,h)}}).call(t,i)}).catch(function(n){u.default.trace(n);f.default.error.call(t,1e3);r.default.process.call(t,1e3)})):r.default.process.call(this,1002):r.default.process.call(this,1001)};s.prototype.loadAds=function(n){if(this.rmpVastInitialized||this.initialize(),this.getAdOnStage())return this.onDestroyLoadAds=function(n){this.container.removeEventListener("addestroyed",this.onDestroyLoadAds);this.loadAds(n)}.bind(this,n),this.container.addEventListener("addestroyed",this.onDestroyLoadAds),void this.stopAds();var t=v.default.getCurrentTime.call(this);this.useContentPlayerForAds&&(this.currentContentSrc=this.contentPlayer.src,this.currentContentCurrentTime=t,v.default.preventSeekingForCustomPlayback.call(this));g.call(this,n)};i.default=s},{"./api/api":255,"./creatives/icons":256,"./creatives/linear":257,"./creatives/non-linear":258,"./fw/env":260,"./fw/fw":261,"./players/content-player":263,"./tracking/ping":266,"./tracking/tracking-events":267,"./utils/default":268,"./utils/helpers":269,"./utils/vast-errors":270}],263:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var r,u,e;Object.defineProperty(i,"__esModule",{value:!0});r=f(n("../fw/fw"));u=f(n("../utils/helpers"));e={play:function(n){this.contentPlayer&&this.contentPlayer.paused&&u.default.playPromise.call(this,"content",n)},pause:function(){this.contentPlayer&&!this.contentPlayer.paused&&this.contentPlayer.pause()},setVolume:function(n){this.contentPlayer&&(this.contentPlayer.volume=n)},getVolume:function(){return this.contentPlayer?this.contentPlayer.volume:-1},getMute:function(){return!!this.contentPlayer&&this.contentPlayer.muted},setMute:function(n){this.contentPlayer&&(n&&!this.contentPlayer.muted?this.contentPlayer.muted=!0:!n&&this.contentPlayer.muted&&(this.contentPlayer.muted=!1))},getDuration:function(){if(this.contentPlayer){var n=this.contentPlayer.duration;if(r.default.isNumber(n))return Math.round(1e3*n)}return-1},getCurrentTime:function(){if(this.contentPlayer){var n=this.contentPlayer.currentTime;if(r.default.isNumber(n))return Math.round(1e3*n)}return-1},seekTo:function(n){if(r.default.isNumber(n)&&0<=n&&this.contentPlayer){var t=Math.round(n/10)/100;this.contentPlayer.currentTime=t}},preventSeekingForCustomPlayback:function(){var n=this;this.contentPlayer&&(this.antiSeekLogicInterval=setInterval(function(){n.adIsLinear&&n.adOnStage&&(1<Math.abs(n.customPlaybackCurrentTime-n.contentPlayer.currentTime)&&(n.contentPlayer.currentTime=n.customPlaybackCurrentTime),n.customPlaybackCurrentTime=n.contentPlayer.currentTime)},200))}};i.default=e},{"../fw/fw":261,"../utils/helpers":269}],264:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var r;Object.defineProperty(i,"__esModule",{value:!0});var u=f(n("../fw/fw")),o=f(n("../fw/env")),e=f(n("../utils/helpers")),s=f(n("../players/content-player")),l=f(n("../players/vpaid")),h=f(n("../creatives/icons")),a=f(n("../utils/default")),v=f(n("../tracking/tracking-events")),y=f(n("../creatives/non-linear")),p=f(n("../creatives/linear")),c=f(n("../utils/vast-errors"));r={};r.init=function(){var n=this;this.adContainer=document.createElement("div");this.adContainer.className="rmp-ad-container";this.contentWrapper.appendChild(this.adContainer);u.default.hide(this.adContainer);this.useContentPlayerForAds?this.vastPlayer=this.contentPlayer:(this.vastPlayer=document.createElement("video"),o.default.isAndroid[0]&&void 0!==this.vastPlayer.disableRemotePlayback&&(this.vastPlayer.disableRemotePlayback=!0),this.vastPlayer.className="rmp-ad-vast-video-player",this.vastPlayer.controls=!1,this.contentPlayer.hasAttribute("muted")&&(this.contentPlayer.muted=!0),this.contentPlayer.muted&&(this.vastPlayer.muted=!0),this.vastPlayer.poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=",this.vastPlayer.setAttribute("x-webkit-airplay","allow"),"boolean"==typeof this.contentPlayer.playsInline&&this.contentPlayer.playsInline?this.vastPlayer.playsInline=!0:o.default.isMobile&&this.vastPlayer.setAttribute("webkit-playsinline",!0),this.vastPlayer.defaultPlaybackRate=1,u.default.hide(this.vastPlayer),this.adContainer.appendChild(this.vastPlayer));this.contentPlayer.addEventListener("ended",function(){n.adOnStage||(n.contentPlayerCompleted=!0)});this.vastPlayer.preload="auto";o.default.isMobile?(this.useContentPlayerForAds||this.contentPlayer.load(),this.vastPlayer.load()):this.useContentPlayerForAds&&this.vastPlayer.load();this.rmpVastInitialized=!0};r.append=function(n,t){if(!this.vastPlayer)if(this.useContentPlayerForAds)this.vastPlayer=this.contentPlayer;else{var i=this.adContainer.querySelector(".rmp-ad-vast-video-player");if(null===i)return void c.default.process.call(this,1004);this.vastPlayer=i}if(this.adIsLinear)n&&t&&p.default.update.call(this,n,t);else{if(this.params.outstream)return void c.default.process.call(this,201);y.default.update.call(this)}v.default.wire.call(this);!this.useContentPlayerForAds&&0<this.icons.length&&h.default.append.call(this)};r.setVolume=function(n){this.vastPlayer&&(this.vastPlayer.volume=n)};r.getVolume=function(){return this.vastPlayer?this.vastPlayer.volume:-1};r.setMute=function(n){this.vastPlayer&&(n&&!this.vastPlayer.muted?(this.vastPlayer.muted=!0,e.default.dispatchPingEvent.call(this,"mute")):!n&&this.vastPlayer.muted&&(this.vastPlayer.muted=!1,e.default.dispatchPingEvent.call(this,"unmute")))};r.getMute=function(){return!!this.vastPlayer&&this.vastPlayer.muted};r.play=function(n){this.vastPlayer&&this.vastPlayer.paused&&e.default.playPromise.call(this,"vast",n)};r.pause=function(){this.vastPlayer&&!this.vastPlayer.paused&&this.vastPlayer.pause()};r.getDuration=function(){if(this.vastPlayer){var n=this.vastPlayer.duration;if(u.default.isNumber(n))return Math.round(1e3*n)}return-1};r.getCurrentTime=function(){if(this.vastPlayer){var n=this.vastPlayer.currentTime;if(u.default.isNumber(n))return Math.round(1e3*n)}return-1};r.resumeContent=function(){(function(){var n=this;if(0<this.icons.length&&h.default.destroy.call(this),this.isVPAID&&l.default.destroy.call(this),function(){var n,i,t,r;if(this.nonLinearContainer)for(this.nonLinearImg.removeEventListener("load",this.onNonLinearLoadSuccess),this.nonLinearImg.removeEventListener("error",this.onNonLinearLoadError),this.nonLinearATag.removeEventListener("click",this.onNonLinearClickThrough),this.nonLinearATag.removeEventListener("touchend",this.onNonLinearClickThrough),this.nonLinearClose.removeEventListener("click",this.onClickCloseNonLinear),this.nonLinearClose.removeEventListener("touchend",this.onClickCloseNonLinear),n=0,i=this.trackingTags.length;n<i;n++)this.nonLinearContainer.removeEventListener(this.trackingTags[n].event,this.onEventPingTracking);if(this.vastPlayer){for(this.vastPlayer.removeEventListener("error",this.onPlaybackError),this.vastPlayer.removeEventListener("durationchange",this.onDurationChange),this.vastPlayer.removeEventListener("loadedmetadata",this.onLoadedmetadataPlay),this.vastPlayer.removeEventListener("contextmenu",this.onContextMenu),this.vastPlayer.removeEventListener("pause",this.onPause),this.vastPlayer.removeEventListener("play",this.onPlay),this.vastPlayer.removeEventListener("playing",this.onPlaying),this.vastPlayer.removeEventListener("ended",this.onEnded),this.vastPlayer.removeEventListener("volumechange",this.onVolumeChange),this.vastPlayer.removeEventListener("timeupdate",this.onTimeupdate),t=0,r=this.trackingTags.length;t<r;t++)this.vastPlayer.removeEventListener(this.trackingTags[t].event,this.onEventPingTracking);null!==this.onClickThrough&&this.vastPlayer.removeEventListener("click",this.onClickThrough);null!==this.onPlayingAppendIcons&&this.vastPlayer.removeEventListener("playing",this.onPlayingAppendIcons);null!==this.onTimeupdateCheckSkip&&this.vastPlayer.removeEventListener("timeupdate",this.onTimeupdateCheckSkip);this.skipButton&&null!==this.onClickSkip&&(this.skipButton.removeEventListener("click",this.onClickSkip),this.skipButton.removeEventListener("touchend",this.onClickSkip));this.clickUIOnMobile&&null!==this.onClickThrough&&this.clickUIOnMobile.removeEventListener("touchend",this.onClickThrough)}this.contentPlayer&&this.contentPlayer.removeEventListener("error",this.onPlaybackError)}.call(this),this.clickUIOnMobile&&u.default.removeElement(this.clickUIOnMobile),this.isSkippableAd&&u.default.removeElement(this.skipButton),u.default.hide(this.adContainer),clearInterval(this.antiSeekLogicInterval),clearTimeout(this.creativeLoadTimeoutCallback),this.useContentPlayerForAds)if(this.params.outstream)try{this.contentPlayer&&(this.contentPlayer.pause(),this.contentPlayer.removeAttribute("src"),this.contentPlayer.load())}catch(n){u.default.trace(n)}else this.nonLinearContainer?u.default.removeElement(this.nonLinearContainer):(4e3<this.currentContentCurrentTime&&(this.needsSeekAdjust=!0,this.contentPlayerCompleted&&(this.needsSeekAdjust=!1),this.seekAdjustAttached||(this.seekAdjustAttached=!0,this.contentPlayer.addEventListener("playing",function(){n.needsSeekAdjust&&(n.needsSeekAdjust=!1,s.default.seekTo.call(n,n.currentContentCurrentTime))}))),this.contentPlayer.src=this.currentContentSrc);else try{this.vastPlayer&&(this.vastPlayer.pause(),this.vastPlayer.removeAttribute("src"),this.vastPlayer.load(),u.default.hide(this.vastPlayer));this.nonLinearContainer&&u.default.removeElement(this.nonLinearContainer)}catch(n){u.default.trace(n)}a.default.loadAdsVariables.call(this);e.default.createApiEvent.call(this,"addestroyed")}).call(this);this.contentPlayerCompleted||this.params.outstream||s.default.play.call(this);this.contentPlayerCompleted=!1};i.default=r},{"../creatives/icons":256,"../creatives/linear":257,"../creatives/non-linear":258,"../fw/env":260,"../fw/fw":261,"../players/content-player":263,"../players/vpaid":265,"../tracking/tracking-events":267,"../utils/default":268,"../utils/helpers":269,"../utils/vast-errors":270}],265:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var u,c,a,l;Object.defineProperty(i,"__esModule",{value:!0});var f=e(n("../fw/fw")),v=e(n("../fw/env")),r=e(n("../utils/helpers")),o=e(n("../utils/vast-errors")),s=e(n("../tracking/ping")),h=e(n("../players/vast-player")),y=e(n("../creatives/icons")),p=e(n("../tracking/tracking-events")),w=e(n("../players/content-player"));u={getAdWidth:function(){return this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdWidth?this.vpaidCreative.getAdWidth():-1},getAdHeight:function(){return this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdHeight?this.vpaidCreative.getAdHeight():-1},getAdDuration:function(){if(this.vpaidCreative){if("function"==typeof this.vpaidCreative.getAdDuration)return this.vpaidCreative.getAdDuration();if(-1<this.vpaid1AdDuration)return this.vpaid1AdDuration}return-1},getAdRemainingTime:function(){return 0<=this.vpaidRemainingTime?this.vpaidRemainingTime:-1},getCreativeUrl:function(){return this.vpaidCreativeUrl?this.vpaidCreativeUrl:""},getVpaidCreative:function(){return this.vpaidCreative},getAdVolume:function(){return this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdVolume?this.vpaidCreative.getAdVolume():null},getAdPaused:function(){return this.vpaidPaused},getAdExpanded:function(){return!(!this.vpaidCreative||"function"!=typeof this.vpaidCreative.getAdExpanded)&&this.vpaidCreative.getAdExpanded()},getAdSkippableState:function(){return!(!this.vpaidCreative||"function"!=typeof this.vpaidCreative.getAdSkippableState)&&this.vpaidCreative.getAdSkippableState()},getAdIcons:function(){return this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdIcons?this.vpaidCreative.getAdIcons():null},getAdCompanions:function(){return this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdCompanions?this.vpaidCreative.getAdCompanions():""}};c=function(){this.adStoppedTimeout&&clearTimeout(this.adStoppedTimeout);h.default.resumeContent.call(this)};u.resizeAd=function(n,t,i){if(this.vpaidCreative&&f.default.isNumber(n)&&f.default.isNumber(t)&&"string"==typeof i&&!(n<=0||t<=0)){var r="normal";"fullscreen"===i&&(r=i);this.vpaidCreative.resizeAd(n,t,r)}};u.stopAd=function(){var n=this;this.vpaidCreative&&(this.adStoppedTimeout=setTimeout(function(){c.call(n)},this.params.creativeLoadTimeout),this.vpaidCreative.stopAd())};u.pauseAd=function(){this.vpaidCreative&&!this.vpaidPaused&&this.vpaidCreative.pauseAd()};u.resumeAd=function(){this.vpaidCreative&&this.vpaidPaused&&this.vpaidCreative.resumeAd()};u.expandAd=function(){this.vpaidCreative&&this.vpaidCreative.expandAd()};u.collapseAd=function(){this.vpaidCreative&&this.vpaidCreative.collapseAd()};u.skipAd=function(){var n=this;this.vpaidCreative&&(this.adSkippedTimeout=setTimeout(function(){c.call(n)},this.params.creativeLoadTimeout),this.vpaidCreative.skipAd())};u.setAdVolume=function(n){this.vpaidCreative&&f.default.isNumber(n)&&0<=n&&n<=1&&"function"==typeof this.vpaidCreative.setAdVolume&&this.vpaidCreative.setAdVolume(n)};a=function(){var t;if(this.vpaidCreative){this.vpaidCallbacks={AdLoaded:function(){var n=this;this.vpaidAdLoaded=!0;this.vpaidCreative&&(this.initAdTimeout&&clearTimeout(this.initAdTimeout),this.vpaidCallbacks.AdLoaded&&this.vpaidCreative.unsubscribe(this.vpaidCallbacks.AdLoaded,"AdLoaded"),this.startAdTimeout=setTimeout(function(){n.vpaidAdStarted||h.default.resumeContent.call(n);n.vpaidAdStarted=!1},this.params.creativeLoadTimeout),w.default.pause.call(this),this.adOnStage=!0,this.vpaidCreative.startAd(),r.default.createApiEvent.call(this,"adloaded"))}.bind(this),AdStarted:function(){this.vpaidAdStarted=!0;this.vpaidCreative&&(this.startAdTimeout&&clearTimeout(this.startAdTimeout),this.vpaidCallbacks.AdStarted&&this.vpaidCreative.unsubscribe(this.vpaidCallbacks.AdStarted,"AdStarted"),1===this.vpaidVersion&&(this.vpaid1AdDuration=u.getAdRemainingTime.call(this)),!u.getAdIcons.call(this)&&!this.useContentPlayerForAds&&0<this.icons.length&&y.default.append.call(this),"function"==typeof this.vpaidCreative.getAdLinear&&(this.adIsLinear=this.vpaidCreative.getAdLinear()),r.default.dispatchPingEvent.call(this,"creativeView"))}.bind(this),AdStopped:c.bind(this),AdSkipped:function(){this.adSkippedTimeout&&clearTimeout(this.adSkippedTimeout);r.default.createApiEvent.call(this,"adskipped");r.default.dispatchPingEvent.call(this,"skip")}.bind(this),AdSkippableStateChange:function(){r.default.createApiEvent.call(this,"adskippablestatechanged")}.bind(this),AdDurationChange:function(){if(this.vpaidCreative){if("function"==typeof this.vpaidCreative.getAdRemainingTime){var n=this.vpaidCreative.getAdRemainingTime();0<=n&&(this.vpaidRemainingTime=n)}r.default.createApiEvent.call(this,"addurationchange")}}.bind(this),AdVolumeChange:function(){var n=u.getAdVolume.call(this);null!==n&&(0<this.vpaidCurrentVolume&&0===n?r.default.dispatchPingEvent.call(this,"mute"):0===this.vpaidCurrentVolume&&0<n&&r.default.dispatchPingEvent.call(this,"unmute"),this.vpaidCurrentVolume=n,r.default.createApiEvent.call(this,"advolumechanged"))}.bind(this),AdImpression:function(){r.default.createApiEvent.call(this,"adimpression");r.default.dispatchPingEvent.call(this,"impression")}.bind(this),AdVideoStart:function(){this.vpaidPaused=!1;var n=u.getAdVolume.call(this);null===n&&(n=1);this.vpaidCurrentVolume=n;r.default.createApiEvent.call(this,"adstarted");r.default.dispatchPingEvent.call(this,"start")}.bind(this),AdVideoFirstQuartile:function(){r.default.createApiEvent.call(this,"adfirstquartile");r.default.dispatchPingEvent.call(this,"firstQuartile")}.bind(this),AdVideoMidpoint:function(){r.default.createApiEvent.call(this,"admidpoint");r.default.dispatchPingEvent.call(this,"midpoint")}.bind(this),AdVideoThirdQuartile:function(){r.default.createApiEvent.call(this,"adthirdquartile");r.default.dispatchPingEvent.call(this,"thirdQuartile")}.bind(this),AdVideoComplete:function(){r.default.createApiEvent.call(this,"adcomplete");r.default.dispatchPingEvent.call(this,"complete")}.bind(this),AdClickThru:function(n,t,i){if(r.default.createApiEvent.call(this,"adclick"),r.default.dispatchPingEvent.call(this,"clickthrough"),"boolean"==typeof i&&i){var u=void 0;n?u=n:this.clickThroughUrl&&(u=this.clickThroughUrl);u&&(this.clickThroughUrl=u,f.default.openWindow(this.clickThroughUrl))}}.bind(this),AdPaused:function(){this.vpaidPaused=!0;r.default.createApiEvent.call(this,"adpaused");r.default.dispatchPingEvent.call(this,"pause")}.bind(this),AdPlaying:function(){this.vpaidPaused=!1;r.default.createApiEvent.call(this,"adresumed");r.default.dispatchPingEvent.call(this,"resume")}.bind(this),AdLog:function(){}.bind(this),AdError:function(){s.default.error.call(this,901);o.default.process.call(this,901)}.bind(this),AdInteraction:function(){r.default.createApiEvent.call(this,"adinteraction")}.bind(this),AdUserAcceptInvitation:function(){r.default.createApiEvent.call(this,"aduseracceptinvitation");r.default.dispatchPingEvent.call(this,"acceptInvitation")}.bind(this),AdUserMinimize:function(){r.default.createApiEvent.call(this,"adcollapse");r.default.dispatchPingEvent.call(this,"collapse")}.bind(this),AdUserClose:function(){r.default.createApiEvent.call(this,"adclose");r.default.dispatchPingEvent.call(this,"close")}.bind(this),AdSizeChange:function(){r.default.createApiEvent.call(this,"adsizechange")}.bind(this),AdLinearChange:function(){this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdLinear&&(this.adIsLinear=this.vpaidCreative.getAdLinear(),r.default.createApiEvent.call(this,"adlinearchange"))}.bind(this),AdExpandedChange:function(){r.default.createApiEvent.call(this,"adexpandedchange")}.bind(this),AdRemainingTimeChange:function(){if(!this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdRemainingTime){var n=this.vpaidCreative.getAdRemainingTime();0<=n&&(this.vpaidRemainingTime=n)}r.default.createApiEvent.call(this,"adremainingtimechange")}.bind(this)};for(var i=Object.keys(this.vpaidCallbacks),n=0,e=i.length;n<e;n++)t=i[n],this.vpaidCreative.subscribe(this.vpaidCallbacks[t],t)}};l=function(){var n,i=this,r,u,t;if(this.vpaidAvailableInterval&&clearInterval(this.vpaidAvailableInterval),this.vpaidLoadTimeout&&clearTimeout(this.vpaidLoadTimeout),this.vpaidCreative=this.vpaidIframe.contentWindow.getVPAIDAd(),this.vpaidCreative&&"function"==typeof this.vpaidCreative.handshakeVersion){r=void 0;try{r=this.vpaidCreative.handshakeVersion("2.0")}catch(n){return f.default.trace(n),s.default.error.call(this,901),void o.default.process.call(this,901)}if((this.vpaidVersion=parseInt(r),this.vpaidVersion<1)||"function"!=typeof(n=this.vpaidCreative).initAd||"function"!=typeof n.startAd||"function"!=typeof n.stopAd||"function"!=typeof n.skipAd||"function"!=typeof n.resizeAd||"function"!=typeof n.pauseAd||"function"!=typeof n.resumeAd||"function"!=typeof n.expandAd||"function"!=typeof n.collapseAd||"function"!=typeof n.subscribe||"function"!=typeof n.unsubscribe)return s.default.error.call(this,901),void o.default.process.call(this,901);a.call(this);p.default.wire.call(this);u={};u.AdParameters=this.adParametersData;f.default.show(this.adContainer);f.default.show(this.vastPlayer);t={};this.vpaidSlot=document.createElement("div");this.vpaidSlot.className="rmp-vpaid-container";this.adContainer.appendChild(this.vpaidSlot);t.slot=this.vpaidSlot;t.videoSlot=this.vastPlayer;t.videoSlotCanAutoPlay=!0;this.initAdTimeout=setTimeout(function(){i.vpaidAdLoaded||h.default.resumeContent.call(i);i.vpaidAdLoaded=!1},10*this.params.creativeLoadTimeout);this.vpaidCreative.initAd(this.initialWidth,this.initialHeight,this.initialViewMode,this.desiredBitrate,u,t)}};u.loadCreative=function(n,t){var i,r;if(this.initialWidth=t.width,this.initialHeight=t.height,this.initialViewMode=t.viewMode,this.desiredBitrate=t.desiredBitrate,this.vpaidCreativeUrl=n,!this.vastPlayer)if(this.useContentPlayerForAds)this.vastPlayer=this.contentPlayer;else{if(i=this.adContainer.querySelector(".rmp-ad-vast-video-player"),null===i)return void o.default.process.call(this,1004);this.vastPlayer=i}this.vpaidIframe=document.createElement("iframe");this.vpaidIframe.id="vpaid-frame";this.vpaidIframe.style.visibility="hidden";this.vpaidIframe.style.width="0px";this.vpaidIframe.style.height="0px";this.vpaidIframe.style.border="none";r="about:self";(v.default.isFirefox||this.useContentPlayerForAds)&&(r="");this.vpaidIframe.onload=function(){var n=this,t,i;if(this.vpaidIframe.onload=this.vpaidIframe.onerror=f.default.nullFn,!this.vpaidIframe.contentWindow||!this.vpaidIframe.contentWindow.document||!this.vpaidIframe.contentWindow.document.body)return s.default.error.call(this,901),void o.default.process.call(this,901);t=this.vpaidIframe.contentWindow.document;i=t.body;this.vpaidScript=t.createElement("script");this.vpaidLoadTimeout=setTimeout(function(){n.vpaidScript.removeEventListener("load",n.onJSVPAIDLoaded);n.vpaidScript.removeEventListener("error",n.onJSVPAIDError);h.default.resumeContent.call(n)},this.params.creativeLoadTimeout);this.onJSVPAIDLoaded=function(){var t=this,n;this.vpaidScript.removeEventListener("load",this.onJSVPAIDLoaded);n=this.vpaidIframe.contentWindow;"function"==typeof n.getVPAIDAd?l.call(this):this.vpaidAvailableInterval=setInterval(function(){"function"==typeof n.getVPAIDAd&&l.call(t)},100)}.bind(this);this.onJSVPAIDError=function(){this.vpaidScript.removeEventListener("error",this.onJSVPAIDError);s.default.error.call(this,901);o.default.process.call(this,901)}.bind(this);this.vpaidScript.addEventListener("load",this.onJSVPAIDLoaded);this.vpaidScript.addEventListener("error",this.onJSVPAIDError);i.appendChild(this.vpaidScript);this.vpaidScript.src=this.vpaidCreativeUrl}.bind(this);this.vpaidIframe.onerror=function(){this.vpaidIframe.onload=this.vpaidIframe.onerror=f.default.nullFn;s.default.error.call(this,901);o.default.process.call(this,901)}.bind(this);this.vpaidIframe.src=r;this.adContainer.appendChild(this.vpaidIframe)};u.destroy=function(){this.vpaidAvailableInterval&&clearInterval(this.vpaidAvailableInterval);this.vpaidLoadTimeout&&clearTimeout(this.vpaidLoadTimeout);this.initAdTimeout&&clearTimeout(this.initAdTimeout);this.startAdTimeout&&clearTimeout(this.startAdTimeout),function(){var t;if(this.vpaidCreative)for(var i=Object.keys(this.vpaidCallbacks),n=0,r=i.length;n<r;n++)t=i[n],this.vpaidCreative.unsubscribe(this.vpaidCallbacks[t],t)}.call(this);this.vpaidScript&&(this.vpaidScript.removeEventListener("load",this.onJSVPAIDLoaded),this.vpaidScript.removeEventListener("error",this.onJSVPAIDError));this.vpaidSlot&&f.default.removeElement(this.vpaidSlot);this.vpaidIframe&&f.default.removeElement(this.vpaidIframe)};i.default=u},{"../creatives/icons":256,"../fw/env":260,"../fw/fw":261,"../players/content-player":263,"../players/vast-player":264,"../tracking/ping":266,"../tracking/tracking-events":267,"../utils/helpers":269,"../utils/vast-errors":270}],266:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function o(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)}var r,f;Object.defineProperty(i,"__esModule",{value:!0});r=e(n("../fw/fw"));f=e(n("../players/content-player"));var u={events:["impression","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","fullscreen","exitFullscreen","skip","progress","clickthrough","close","collapse","acceptInvitation"]},s=function(n,t,i){var c=/\[CACHEBUSTING\]/gi,u=n,o,s,e,h;return c.test(u)&&(u=u.replace(c,r.default.generateCacheBusting())),o=/\[ERRORCODE\]/gi,o.test(u)&&r.default.isNumber(t)&&0<t&&t<1e3&&(u=u.replace(o,t)),s=/\[CONTENTPLAYHEAD\]/gi,e=f.default.getCurrentTime.call(this),s.test(u)&&-1<e&&(e=r.default.vastReadableTime(e),u=u.replace(s,r.default.RFC3986EncodeURIComponent(e))),h=/\[ASSETURI\]/gi,h.test(u)&&"string"==typeof i&&""!==i&&(u=u.replace(h,r.default.RFC3986EncodeURIComponent(i))),u},h=function(n){var t=new Image;t.addEventListener("load",function(){t=null});t.addEventListener("error",function(){t=null});t.src=n};u.tracking=function(n,t){var i=s.call(this,n,null,t);h(i)};u.error=function(n){var t=this.inlineOrWrapperErrorTags,i,r,u;if(303===n&&0<this.vastErrorTags.length&&(t=[].concat(o(t),o(this.vastErrorTags))),0<t.length)for(i=0,r=t.length;i<r;i++)u=s.call(this,t[i].url,n,null),h(u)};i.default=u},{"../fw/fw":261,"../players/content-player":263}],267:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f,h;Object.defineProperty(i,"__esModule",{value:!0});var e=u(n("../fw/fw")),o=u(n("./ping")),r=u(n("../utils/helpers")),s=u(n("../players/vast-player"));f={};h=function(n){if(n&&n.type){0;var t=this.trackingTags.filter(function(t){return n.type===t.event});0<t.length&&function(n){var t=this;n.forEach(function(n){o.default.tracking.call(t,n.url,t.getAdMediaUrl())})}.call(this,t)}};f.wire=function(){this.vastPlayer&&this.adIsLinear&&!this.isVPAID&&(this.onPause=function(){if(!this.vastPlayerPaused){this.vastPlayerPaused=!0;r.default.createApiEvent.call(this,"adpaused");for(var n=0,t=this.trackingTags.length;n<t;n++)if("pause"===this.trackingTags[n].event)return;r.default.dispatchPingEvent.call(this,"pause")}}.bind(this),this.vastPlayer.addEventListener("pause",this.onPause),this.onPlay=function(){this.vastPlayerPaused&&(this.vastPlayerPaused=!1,r.default.createApiEvent.call(this,"adresumed"),r.default.dispatchPingEvent.call(this,"resume"))}.bind(this),this.vastPlayer.addEventListener("play",this.onPlay),this.onPlaying=function(){this.vastPlayer.removeEventListener("playing",this.onPlaying);r.default.createApiEvent.call(this,"adimpression");r.default.createApiEvent.call(this,"adstarted");r.default.dispatchPingEvent.call(this,["impression","creativeView","start"])}.bind(this),this.vastPlayer.addEventListener("playing",this.onPlaying),this.onEnded=function(){this.vastPlayer.removeEventListener("ended",this.onEnded);r.default.createApiEvent.call(this,"adcomplete");r.default.dispatchPingEvent.call(this,"complete");s.default.resumeContent.call(this)}.bind(this),this.vastPlayer.addEventListener("ended",this.onEnded),this.onVolumeChange=function(){this.vastPlayer.muted||0===this.vastPlayer.volume?(r.default.createApiEvent.call(this,"advolumemuted"),r.default.dispatchPingEvent.call(this,"mute"),this.vastPlayerMuted=!0):this.vastPlayerMuted&&(r.default.dispatchPingEvent.call(this,"unmute"),this.vastPlayerMuted=!1);r.default.createApiEvent.call(this,"advolumechanged")}.bind(this),this.vastPlayer.addEventListener("volumechange",this.onVolumeChange),this.onTimeupdate=function(){var n=this;this.vastPlayerCurrentTime=s.default.getCurrentTime.call(this);0<this.vastPlayerCurrentTime&&(0<this.vastPlayerDuration&&this.vastPlayerDuration>this.vastPlayerCurrentTime&&(this.vastPlayerCurrentTime>=.25*this.vastPlayerDuration&&!this.firstQuartileEventFired?(this.firstQuartileEventFired=!0,r.default.createApiEvent.call(this,"adfirstquartile"),r.default.dispatchPingEvent.call(this,"firstQuartile")):this.vastPlayerCurrentTime>=.5*this.vastPlayerDuration&&!this.midpointEventFired?(this.midpointEventFired=!0,r.default.createApiEvent.call(this,"admidpoint"),r.default.dispatchPingEvent.call(this,"midpoint")):this.vastPlayerCurrentTime>=.75*this.vastPlayerDuration&&!this.thirdQuartileEventFired&&(this.thirdQuartileEventFired=!0,r.default.createApiEvent.call(this,"adthirdquartile"),r.default.dispatchPingEvent.call(this,"thirdQuartile"))),this.isSkippableAd&&(null===this.progressEventOffsetsSeconds&&(this.progressEventOffsetsSeconds=[],this.progressEventOffsets.forEach(function(t){n.progressEventOffsetsSeconds.push({offsetSeconds:e.default.convertOffsetToSeconds(t,n.vastPlayerDuration),offsetRaw:t})}),this.progressEventOffsetsSeconds.sort(function(n,t){return n.offsetSeconds-t.offsetSeconds})),Array.isArray(this.progressEventOffsetsSeconds)&&0<this.progressEventOffsetsSeconds.length&&this.vastPlayerCurrentTime>=1e3*this.progressEventOffsetsSeconds[0].offsetSeconds&&(r.default.dispatchPingEvent.call(this,"progress-"+this.progressEventOffsetsSeconds[0].offsetRaw),this.progressEventOffsetsSeconds.shift())))}.bind(this),this.vastPlayer.addEventListener("timeupdate",this.onTimeupdate));this.onEventPingTracking=h.bind(this);for(var n=0,t=this.trackingTags.length;n<t;n++)this.adIsLinear||this.isVPAID?this.vastPlayer.addEventListener(this.trackingTags[n].event,this.onEventPingTracking):this.nonLinearContainer.addEventListener(this.trackingTags[n].event,this.onEventPingTracking)};f.filterPush=function(n){var u=n[0].getElementsByTagName("Tracking"),i,s,t,f,r;for(0<this.adPodWrapperTrackings.length&&(this.trackingTags=this.adPodWrapperTrackings),i=0,s=u.length;i<s;i++)if(t=u[i].getAttribute("event"),f=e.default.getNodeValue(u[i],!0),null!==t&&""!==t&&-1<o.default.events.indexOf(t)&&null!==f){if(this.isSkippableAd)if("progress"===t){if(r=u[i].getAttribute("offset"),null===r||""===r||!e.default.isValidOffset(r))continue;this.progressEventOffsets.push(r);t=t+"-"+r}else"skip"===t&&(this.hasSkipEvent=!0);this.trackingTags.push({event:t,url:f})}};i.default=f},{"../fw/fw":261,"../players/vast-player":264,"../utils/helpers":269,"./ping":266}],268:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var o;Object.defineProperty(i,"__esModule",{value:!0});var f=e(n("../fw/fw")),r=e(n("../fw/env")),u=e(n("./helpers"));o={instanceVariables:function(){this.adContainer=null;this.rmpVastInitialized=!1;this.useContentPlayerForAds=!1;this.contentPlayerCompleted=!1;this.currentContentSrc="";this.currentContentCurrentTime=-1;this.needsSeekAdjust=!1;this.seekAdjustAttached=!1;this.onDestroyLoadAds=null;this.firstVastPlayerPlayRequest=!0;this.firstContentPlayerPlayRequest=!0;this.params={};this.adPod=[];this.standaloneAdsInPod=[];this.onAdDestroyLoadNextAdInPod=f.default.nullFn;this.runningAdPod=!1;this.adPodItemWrapper=!1;this.adPodCurrentIndex=0;this.adPodApiInfo=[];this.adPodWrapperTrackings=[];(r.default.isIos[0]||r.default.isMacOSX&&r.default.isSafari[0])&&(this.useContentPlayerForAds=!0)},loadAdsVariables:function(){this.onLoadedmetadataPlay=null;this.onPlaybackError=null;this.onPause=null;this.onPlay=null;this.onPlaying=null;this.onEnded=null;this.onVolumeChange=null;this.onTimeupdate=null;this.onEventPingTracking=null;this.onClickThrough=null;this.onPlayingAppendIcons=null;this.onTimeupdateCheckSkip=null;this.onClickSkip=null;this.onNonLinearLoadSuccess=null;this.onNonLinearLoadError=null;this.onNonLinearClickThrough=null;this.onContextMenu=null;this.adTagUrl="";this.vastPlayer=null;this.vpaidSlot=null;this.trackingTags=[];this.vastErrorTags=[];this.inlineOrWrapperErrorTags=[];this.adMediaUrl="";this.adMediaHeight=null;this.adMediaWidth=null;this.vastPlayerMuted=!1;this.vastPlayerDuration=-1;this.vastPlayerCurrentTime=-1;this.firstQuartileEventFired=!1;this.midpointEventFired=!1;this.thirdQuartileEventFired=!1;this.vastPlayerPaused=!1;this.vastErrorCode=-1;this.adErrorType="";this.vastErrorMessage="";this.adSystem="";this.adIsLinear=!1;this.adContentType="";this.adTitle="";this.adDescription="";this.adOnStage=!1;this.clickThroughUrl="";this.isWrapper=!1;this.vastAdTagURI=null;this.redirectsFollowed=0;this.icons=[];this.clickUIOnMobile=null;this.customPlaybackCurrentTime=0;this.antiSeekLogicInterval=null;this.creativeLoadTimeoutCallback=null;this.isSkippableAd=!1;this.hasSkipEvent=!1;this.skipoffset="";this.progressEventOffsets=[];this.progressEventOffsetsSeconds=null;this.skipButton=null;this.skipWaiting=null;this.skipMessage=null;this.skipIcon=null;this.skippableAdCanBeSkipped=!1;this.nonLinearContainer=null;this.nonLinearATag=null;this.nonLinearImg=null;this.onClickCloseNonLinear=null;this.nonLinearCreativeHeight=0;this.nonLinearCreativeWidth=0;this.nonLinearContentType="";this.nonLinearMinSuggestedDuration=0;this.isVPAID=!1;this.vpaidCreative=null;this.vpaidScript=null;this.vpaidIframe=null;this.vpaidLoadTimeout=null;this.initAdTimeout=null;this.startAdTimeout=null;this.vpaidAvailableInterval=null;this.adStoppedTimeout=null;this.adSkippedTimeout=null;this.adParametersData="";this.vpaidCurrentVolume=1;this.vpaidPaused=!0;this.vpaidCreativeUrl="";this.vpaidRemainingTime=-1;this.vpaidVersion=-1;this.vpaid1AdDuration=-1;this.initialWidth=640;this.initialHeight=360;this.initialViewMode="normal";this.desiredBitrate=500;this.vpaidAdLoaded=!1;this.vpaidAdStarted=!1;this.vpaidCallbacks={};this.onJSVPAIDLoaded=f.default.nullFn;this.onJSVPAIDError=f.default.nullFn},fullscreen:function(){var t=!1,n;r.default.hasNativeFullscreenSupport&&(n=function(n){n&&n.type&&("fullscreenchange"===n.type?t?(t=!1,this.adOnStage&&this.adIsLinear&&u.default.dispatchPingEvent.call(this,"exitFullscreen")):(t=!0,this.adOnStage&&this.adIsLinear&&u.default.dispatchPingEvent.call(this,"fullscreen")):"webkitbeginfullscreen"===n.type?this.adOnStage&&this.adIsLinear&&u.default.dispatchPingEvent.call(this,"fullscreen"):"webkitendfullscreen"===n.type&&this.adOnStage&&this.adIsLinear&&u.default.dispatchPingEvent.call(this,"exitFullscreen"))}.bind(this),r.default.isIos[0]?(this.contentPlayer.addEventListener("webkitbeginfullscreen",n),this.contentPlayer.addEventListener("webkitendfullscreen",n)):document.addEventListener("fullscreenchange",n))}};i.default=o},{"../fw/env":260,"../fw/fw":261,"./helpers":269}],269:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(i,"__esModule",{value:!0});var r=f(n("../fw/fw")),e=f(n("./vast-errors")),o=f(n("../tracking/ping"));u={filterParams:function(n){var t;if(this.params={ajaxTimeout:5e3,creativeLoadTimeout:8e3,ajaxWithCredentials:!1,maxNumRedirects:4,maxNumItemsInAdPod:10,pauseOnClick:!0,skipMessage:"Skip ad",skipWaitingMessage:"Skip ad in",textForClickUIOnMobile:"Learn more",enableVpaid:!0,outstream:!1,vpaidSettings:{width:640,height:360,viewMode:"normal",desiredBitrate:500}},r.default.isObject(n)){for(var u=Object.keys(n),i=0,f=u.length;i<f;i++)t=u[i],typeof n[t]==typeof this.params[t]&&(r.default.isNumber(n[t])&&0<n[t]||"number"!=typeof n[t])&&("vpaidSettings"===t?(r.default.isNumber(n.vpaidSettings.width)&&0<n.vpaidSettings.width&&(this.params.vpaidSettings.width=n.vpaidSettings.width),r.default.isNumber(n.vpaidSettings.height)&&0<n.vpaidSettings.height&&(this.params.vpaidSettings.height=n.vpaidSettings.height),"string"==typeof n.vpaidSettings.viewMode&&"fullscreen"===n.vpaidSettings.viewMode&&(this.params.vpaidSettings.viewMode=n.vpaidSettings.viewMode),r.default.isNumber(n.vpaidSettings.desiredBitrate)&&0<n.vpaidSettings.desiredBitrate&&(this.params.vpaidSettings.desiredBitrate=n.vpaidSettings.desiredBitrate)):this.params[t]=n[t]);30<this.params.maxNumRedirects&&(this.params.maxNumRedirects=30)}},createApiEvent:function(n){"string"==typeof n&&""!==n&&r.default.createStdEvent(n,this.container)},dispatchPingEvent:function(n){if(n){var t=void 0;this.adIsLinear&&this.vastPlayer?t=this.vastPlayer:!this.adIsLinear&&this.nonLinearContainer&&(t=this.nonLinearContainer);t&&(Array.isArray(n)?n.forEach(function(n){r.default.createStdEvent(n,t)}):r.default.createStdEvent(n,t))}},playPromise:function(n,t){var i=this,r=void 0,f;switch(n){case"content":r=this.contentPlayer;break;case"vast":r=this.vastPlayer}r&&(f=r.play(),void 0!==f&&f.then(function(){t&&u.createApiEvent.call(i,"adinitialplayrequestsucceeded")}).catch(function(){t&&"vast"===n&&i.adIsLinear?(o.default.error.call(i,400),e.default.process.call(i,400),u.createApiEvent.call(i,"adinitialplayrequestfailed")):t&&"content"===n&&!i.adIsLinear&&u.createApiEvent.call(i,"adinitialplayrequestfailed")}))},accessibleButton:function(n,t){n.tabIndex=0;n.setAttribute("role","button");n.addEventListener("keyup",function(t){var i=t.which;13!==i&&32!==i||(t.stopPropagation(),t.preventDefault(),r.default.createStdEvent("click",n))});t&&n.setAttribute("aria-label",t)}};i.default=u},{"../fw/fw":261,"../tracking/ping":266,"./vast-errors":270}],270:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u,f;Object.defineProperty(i,"__esModule",{value:!0});r(n("../fw/fw"));u=r(n("../utils/helpers"));f=r(n("../players/vast-player"));var e={},o=[100,101,102,300,301,302,303,900,1e3,1001],s=[200,201,202,203,400,401,402,403,405,500,501,502,503,600,601,602,603,604,901,1002,1003,1004],h=[{code:100,description:"XML parsing error."},{code:101,description:"VAST schema validation error."},{code:102,description:"VAST version of response not supported."},{code:200,description:"Trafficking error. Video player received an Ad type that it was not expecting and/or cannot display."},{code:201,description:"Video player expecting different linearity."},{code:202,description:"Video player expecting different duration."},{code:203,description:"Video player expecting different size."},{code:300,description:"General Wrapper error."},{code:301,description:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element. (URI was either unavailable or reached a timeout as defined by the video player.)"},{code:302,description:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response."},{code:303,description:"No Ads VAST response after one or more Wrappers."},{code:400,description:"General Linear error. Video player is unable to display the Linear Ad."},{code:401,description:"File not found. Unable to find Linear/MediaFile from URI."},{code:402,description:"Timeout of MediaFile URI."},{code:403,description:"Couldn't find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."},{code:405,description:"Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn't display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc."},{code:500,description:"General NonLinearAds error."},{code:501,description:"Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)."},{code:502,description:"Unable to fetch NonLinearAds/NonLinear resource."},{code:503,description:"Couldn't find NonLinear resource with supported type."},{code:600,description:"General CompanionAds error."},{code:601,description:"Unable to display Companion because creative dimensions do not fit within Companion display area (i.e., no available space)."},{code:602,description:"Unable to display Required Companion."},{code:603,description:"Unable to fetch CompanionAds/Companion resource."},{code:604,description:"Couldn't find Companion resource with supported type."},{code:900,description:"Undefined Error."},{code:901,description:"General VPAID error."},{code:1e3,description:"Error processing AJAX call to retrieve adTag"},{code:1001,description:"Invalid input for loadAds method"},{code:1002,description:"Required DOMParser API is not available"},{code:1003,description:"Could not get source for content player"},{code:1004,description:"Could not find vast player in DOM"}];e.process=function(n){(function(n){var t=h.filter(function(t){return t.code===n});0<t.length?(this.vastErrorCode=t[0].code,this.vastErrorMessage=t[0].description):(this.vastErrorCode=-1,this.vastErrorMessage="Error getting VAST error");-1<this.vastErrorCode&&(-1<o.indexOf(this.vastErrorCode)?this.adErrorType="adLoadError":-1<s.indexOf(this.vastErrorCode)&&(this.adErrorType="adPlayError"))}).call(this,n);u.default.createApiEvent.call(this,"aderror");f.default.resumeContent.call(this)};i.default=e},{"../fw/fw":261,"../players/vast-player":264,"../utils/helpers":269}]},{},[54]),function(n){if(void 0!==n.fuckAdBlock||void 0!==n.FuckAdBlock)return"object"!=typeof n.rmpGlobals&&(n.rmpGlobals={}),n.rmpGlobals.adBlockerDetected=!0;var t=function(t){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1};this._var={version:"3.2.1",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}};void 0!==t&&this.setOption(t);var i=this,r=function(){setTimeout(function(){!0===i._options.checkOnLoad&&(!0===i._options.debug&&i._log("onload->eventCallback","A check loading is launched"),null===i._var.bait&&i._creatBait(),setTimeout(function(){i.check()},1))},1)};void 0!==n.addEventListener?n.addEventListener("load",r,!1):n.attachEvent("onload",r)};t.prototype._options=null;t.prototype._var=null;t.prototype._bait=null;t.prototype._log=function(n,t){console.log("[adblockDetector]["+n+"] "+t)};t.prototype.setOption=function(n,t){var r,i;void 0!==t&&(r=n,(n={})[r]=t);for(i in n)this._options[i]=n[i],!0===this._options.debug&&this._log("setOption",'The option "'+i+'" was assigned to "'+n[i]+'"');return this};t.prototype._creatBait=function(){var t=document.createElement("div");t.setAttribute("class",this._options.baitClass);t.setAttribute("style",this._options.baitStyle);this._var.bait=n.document.body.appendChild(t);this._var.bait.offsetParent;this._var.bait.offsetHeight;this._var.bait.offsetLeft;this._var.bait.offsetTop;this._var.bait.offsetWidth;this._var.bait.clientHeight;this._var.bait.clientWidth;!0===this._options.debug&&this._log("_creatBait","Bait has been created")};t.prototype._destroyBait=function(){n.document.body.removeChild(this._var.bait);!(this._var.bait=null)===this._options.debug&&this._log("_destroyBait","Bait has been removed")};t.prototype.check=function(n){if(void 0===n&&(n=!0),!0===this._options.debug&&this._log("check","An audit was requested "+(!0===n?"with a":"without")+" loop"),!0===this._var.checking)return!0===this._options.debug&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0;null===this._var.bait&&this._creatBait();var t=this;return!(this._var.loopNumber=0)===n&&(this._var.loop=setInterval(function(){t._checkBait(n)},this._options.loopCheckTime)),setTimeout(function(){t._checkBait(n)},1),!0===this._options.debug&&this._log("check","A check is in progress ..."),!0};t.prototype._checkBait=function(t){var i=!1,r;(null===this._var.bait&&this._creatBait(),null===n.document.body.getAttribute("abp")&&null!==this._var.bait.offsetParent&&0!==this._var.bait.offsetHeight&&0!==this._var.bait.offsetLeft&&0!==this._var.bait.offsetTop&&0!==this._var.bait.offsetWidth&&0!==this._var.bait.clientHeight&&0!==this._var.bait.clientWidth||(i=!0),void 0!==n.getComputedStyle)&&(r=n.getComputedStyle(this._var.bait,null),r&&("none"===r.getPropertyValue("display")||"hidden"===r.getPropertyValue("visibility"))&&(i=!0));!0===this._options.debug&&this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(!0===i?"positive":"negative"));!0===t&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop());!0===i?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),!0===t&&(this._var.checking=!1)):null!==this._var.loop&&!1!==t||(this._destroyBait(),this.emitEvent(!1),!0===t&&(this._var.checking=!1))};t.prototype._stopLoop=function(){clearInterval(this._var.loop);this._var.loop=null;!(this._var.loopNumber=0)===this._options.debug&&this._log("_stopLoop","A loop has been stopped")};t.prototype.emitEvent=function(n){var t,i;!0===this._options.debug&&this._log("emitEvent","An event with a "+(!0===n?"positive":"negative")+" detection was called");t=this._var.event[!0===n?"detected":"notDetected"];for(i in t)!0===this._options.debug&&this._log("emitEvent","Call function "+(parseInt(i)+1)+"/"+t.length),t.hasOwnProperty(i)&&t[i]();return!0===this._options.resetOnEnd&&this.clearEvent(),this};t.prototype.clearEvent=function(){this._var.event.detected=[];this._var.event.notDetected=[];!0===this._options.debug&&this._log("clearEvent","The event list has been cleared")};t.prototype.on=function(n,t){return this._var.event[!0===n?"detected":"notDetected"].push(t),!0===this._options.debug&&this._log("on",'A type of event "'+(!0===n?"detected":"notDetected")+'" was added'),this};t.prototype.onDetected=function(n){return this.on(!0,n)};t.prototype.onNotDetected=function(n){return this.on(!1,n)};n.FuckAdBlock=t;void 0===n.fuckAdBlock&&(n.fuckAdBlock=new t({checkOnLoad:!0,resetOnEnd:!0}))}(window),function(n){function i(n){var i=document.getElementById(n.elementId),e,t;i.addEventListener("firstframe",function(){u(t,n.audioOnly,n.passleFileId);e=f(t)});i.addEventListener("ended",function(){clearInterval(e);t.sendGAEvent("playback-reached-end")});t=new RadiantMP(n.elementId);t.init(r(n.audioOnly,n.mediaItems,n.posterUrl))}function r(n,i,r){return{licenseKey:t,src:i,skin:"s1",preload:"auto",audioOnly:n,poster:r,hideExternalPlayerLabels:!0,gaTrackingId:PassleEnvironmentConfig.GoogleAnalyticsId,gaCategory:n?"Audio":"Video",gaLabel:location.protocol+"//"+location.host+location.pathname,gaEvents:["ready","playerstart","error"],gaAnonymizeIp:!0}}function u(n,t,i){var r=n.getEnvironment(),u={IsAndroid:r.isAndroid[0],IsIOS:r.isIos[0],IsMobile:r.isMobile,IsWebView:r.isWebView,IsIPad:r.isIpad,IsIphone:r.isIphone,IsMacosSafari:r.isMacosSafari[0],MediaType:t?3:2,StreamType:n.getStreamType(),PassleFileId:i,Url:document.location.href},f=$.param(u),e="https://"+PassleEnvironmentConfig.PassleWebRoot+"/MediaLibrary/MediaPlayerView?"+f;$("body").append('<iframe class="hide" name="log-media-player-view" src="'+e+'"><\/iframe>')}function f(n){var t=-1,i=1,r=3e4;return setInterval(function(){var u=n.getTimeViewed(),f,e;u>t&&(f=u-t,f>=r&&(e=r/1e3*i+"s-played",t=u,n.sendGAEvent(e),i++))},500)}var t="cHhya2p3cXJxdEAxNTQ0MTA3";n.InitializeMediaPlayer=i}(MediaPlayer||(MediaPlayer={}));var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ProcessUrlFragment=function(n){function t(t){var i=n.call(this)||this;return i.FragmentActions=t,i}return __extends(t,n),t.prototype.ProcessFragment=function(n){var i=this.GetFragment(),t;i&&(t=_.findWhere(this.FragmentActions,{Fragment:i}),t&&t.Action(t.ActionData));n&&this.RemoveFragment()},t.prototype.GetFragment=function(){if(window.location.hash)return window.location.hash.substring(1)},t.prototype.RemoveFragment=function(){window.location.href.indexOf("#")!=-1&&(this.SetFragment(""),this.SetFavicon(),typeof window.history.replaceState=="function"&&history.replaceState({},"",window.location.href.slice(0,-1)))},t.prototype.SetFragment=function(n){window.location.hash=n},t.prototype.SetFavicon=function(){$("#favicon").detach().appendTo("head")},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),PassleHeader=function(n){function t(){var t=n.call(this)||this;return t.AboutViewLogged=!1,t.UpdateUI(),t.Initialise(),t}return __extends(t,n),t.prototype.UpdateUI=function(){var n=this;n.LogoPositioning();n.IsFixedWidthCustomDesign("#passle-page-wrapper")},t.prototype.BindUIEvents=function(){var n=this;$(".public-header").on("click",".about",function(t){t.preventDefault();n.AboutViewLogged||(EventTracking.RegisterEvent(new EventTracking.TrackedEvent("Viewed About section","About")),StatsEvents.UserViewedAboutPage.trigger(),n.AboutViewLogged=!0);n.RetrieveRepostCountForPassle();$(".archive-container").slideUp("fast",function(){$(".about-container").slideToggle()})});$(".public-header").on("click",".archive",function(n){n.preventDefault();$(".about-container").slideUp("fast",function(){$(".archive-container").slideToggle()})});$(".public-header").on("click",".header-nav-mobile-button",function(n){n.preventDefault();$(".header-nav-mobile").slideToggle()});$(window).on("resize",function(){$(window).width()>979&&$(".header-nav-mobile").css("display")=="block"&&$(".header-nav-mobile").hide()});$("#nav-button").on("click",function(){EventTracking.RegisterEvent(new EventTracking.TrackedEvent("User clicked navigation button","Navigation",null,"Static"))})},t.prototype.SetupNavButton=function(){var n=this;$("#nav-button").fadeIn()},t.prototype.LogoPositioning=function(){var n=this;$("h3.passle-title").length>0&&(n.RepositionLogo(),window.onresize=function(){n.RepositionLogo()})},t.prototype.RepositionLogo=function(){var t=$("h3.passle-title a"),n;t.length>0&&(n=$("h3.passle-title a").offset().left,n<70?$("h3.passle-title a").css("padding-left",70-n+"px"):window.innerWidth<767?$("h3.passle-title a").css("padding-left","55px"):$("h3.passle-title a").css("padding-left","0px"))},t.prototype.RetrieveRepostCountForPassle=function(){var n={passleShortcode:$("#passle-shortcode").val()};AjaxFunctions.AjaxFetchData(n,"PassleAjax","GetRepostCountForPassle",!1,function(n){if(n.Success){var t=$("#statistics-container-reposts");t.html(n.Data.toString())}})},t.prototype.IsFixedWidthCustomDesign=function(n){var i=$(window).width(),t=$(n),r=t.outerWidth();r<i&&t.addClass("fixed-width-cd")},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),FollowButton=function(n){function t(t,i){var r=n.call(this)||this;return r.PassleWebSiteRoot=t,r.passleShortcode=i,r.UserIsCurrentlyFollowing=!1,r.ButtonSelector='.passle-follow[data-shortcode="'+i+'"]',r.HasValidNewsletter=$(r.ButtonSelector).attr("data-hasvalidnewsletter")=="True",r.Initialise(),r}return __extends(t,n),t.prototype.SubscribeToEvents=function(){var n=this;GlobalEvents.UserAuthenticationComplete.on(function(t){if($("body").off("click",n.ButtonSelector),t.user){if(t.user.IsContentSharer(n.passleShortcode))return!1;t.user.IsSubscriber(n.passleShortcode)&&(n.UserIsCurrentlyFollowing=!0);n.UpdateFollowButton(t.user.IsSubscriber(n.passleShortcode),t.user.IsMember(n.passleShortcode));$("body").on("click",n.ButtonSelector,function(t){t.preventDefault();n.InitiateFollowRequest(!n.UserIsCurrentlyFollowing)});t.user.IsSubscriber(n.passleShortcode)||t.user.IsMember(n.passleShortcode)||n.CheckFollowMe()}else if(n.HasValidNewsletter){n.UpdateFollowButtonToNewsletter();$("body").on("click",n.ButtonSelector,function(t){t.preventDefault();n.SetupNewsletterSubscribeButton(this)});n.CheckFollowMe()}else{$("body").on("click",n.ButtonSelector,function(n){n.preventDefault();GlobalEvents.UserActionRequiresSubscriberAuthentication.trigger(new PassleWebFunctions.PostAuthenticationAction(PassleWebFunctions.PostAuthenticationActionType.Follow,""))});n.UpdateFollowButton(!1,!1);n.CheckFollowMe()}});GlobalEvents.FollowRequestComplete.on(function(t){t.Success&&t.PassleShortcode===n.passleShortcode&&(n.UserIsCurrentlyFollowing=!0,n.UpdateFollowButton(!0,!1))});GlobalEvents.UnFollowRequestComplete.on(function(t){t.Success&&t.PassleShortcode===n.passleShortcode&&(n.UserIsCurrentlyFollowing=!1,n.UpdateFollowButton(!1,!1))});GlobalEvents.NewsletterSubscribeRequestComplete.on(function(t){var i=$(n.ButtonSelector);i.spin(!1);t&&($("#subscribe-email-address").val(""),i.children("input").animate({width:"0"}).remove(),i.addClass("email-sent").animate({"padding-right":"1em"}).children("span").html("Confirmation email sent").animate({padding:"0"}).css({border:"none"}).off("click"))})},t.prototype.UpdateFollowButton=function(n,t){var i=this;t||($(i.ButtonSelector).is(":visible")||$(i.ButtonSelector).show(),n?$(i.ButtonSelector+" span").html("Following"):$(i.ButtonSelector+" span").html("Follow"))},t.prototype.UpdateFollowButtonToNewsletter=function(){var n=this;$(n.ButtonSelector).is(":visible")||$(n.ButtonSelector).show();$(n.ButtonSelector+" span").html("Subscribe")},t.prototype.CheckFollowMe=function(){var n=this,t=$("#followme").val()=="True";t&&($("#followme").val("False"),$(".header-nav-container "+n.ButtonSelector).click())},t.prototype.InitiateFollowRequest=function(){var n=this,t=n.UserIsCurrentlyFollowing?"UnFollow":"Follow",i="ClientWebAPIFollow/"+t+"/"+n.passleShortcode;PassleWebFunctions.InjectHiddenIFrame("follow-request-container","follow-request-iframe",i)},t.prototype.SetupNewsletterSubscribeButton=function(n){var t=this;$("body").off("click",t.ButtonSelector);$(n).animate({"padding-right":"0.5em"}).children("span").first().before("<input id='subscribe-email-address' type='text' placeholder='enter email address...' />").on("click",function(){t.InitiateNewsletterRequest($(this).parent().find("input").val(),n)}).animate({padding:"0 0.5em"}).css({border:"1px solid","border-radius":"5px"});$("#subscribe-email-address").on("keypress",function(i){i.which==13&&t.InitiateNewsletterRequest($(this).val(),n)}).animate({width:"200px","margin-right":"1em"},null,function(){$(this).focus()})},t.prototype.InitiateNewsletterRequest=function(n,t){var i=this,r=i.ValidateEmail(n),u;r&&($(t).spin(),u="ClientWebAPIMailingList/VerifyEmail/?shortcode="+i.passleShortcode+"&email="+r,PassleWebFunctions.InjectHiddenIFrame("follow-request-container","follow-request-iframe",u))},t.prototype.ValidateEmail=function(n){return n=n.trim(),n.length<1||n.indexOf("@")<0?!1:n},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),EditButton=function(n){function t(t,i,r,u,f){var e=n.call(this)||this;return e.PassleWebSiteRoot=t,e.passleShortcode=i,e.authorShortcode=r,e.SinglePostShortcode=u,e.PreviewingSinglePost=f,e.PostShortcode="",e.IsPreview=!1,e.IsRepost=!1,e.PassleShortcode="",e.AuthorShortcode="",e.PopulateProperties(),e.PostShortcode=u,e.IsPreview=f,e.PassleShortcode=i,e.AuthorShortcode=r,e.Initialise(),e}return __extends(t,n),t.prototype.PopulateProperties=function(){var n=this;n.IsRepost=$("#Post_IsRepost").val()==="True"},t.prototype.SubscribeToEvents=function(){var n=this;GlobalEvents.UserAuthenticationComplete.on(function(t){n.CurrentUser=t.user;t.user&&(t.user.UserType!==UserType.SystemAdministrator&&(!t.user.IsMember(n.passleShortcode)||t.user.IsContentSharer(n.passleShortcode))||n.IsPreview||n.UpdateEditButton())})},t.prototype.UpdateEditButton=function(){var n=this,t=n.CurrentUser.Passles.filter(function(t){return t.Shortcode===n.PassleShortcode})[0];$(".edit-button-container").is(":visible")||($(".edit-button-container").removeClass("hidden"),n.SinglePostShortcode?!n.IsRepost&&(t&&(t.Permissions.CanApprovePosts||t.Permissions.CanPublish)||n.CurrentUser.Shortcode===n.AuthorShortcode||n.CurrentUser.UserType===UserType.SystemAdministrator)?$(".passle-edit.edit-post").show():$(".passle-edit.manage-posts").show():$(".passle-edit.manage-posts").show(),n.CurrentUser.UserType!==UserType.SystemAdministrator&&$('.passle-follow[data-shortcode="'+n.PassleShortcode+'"]').hide())},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),LikeButton=function(n){function t(t){t===void 0&&(t=!1);var i=n.call(this)||this;return i.LikeRequestInProgress=!1,i.UnauthenticatedUserLikePostShortcode="",i.InMobileApp=!1,i.InMobileApp=t,i.Initialise(),i}return __extends(t,n),t.prototype.SubscribeToEvents=function(){var n=this;GlobalEvents.UserAuthenticationComplete.on(function(t){if($("body").off("click",".action-like"),t.user){n.UpdateLikeIcons(t.user);$("body").on("click",".action-like",function(t){t.preventDefault();var r=$(t.currentTarget),i=r.attr("data-postshortcode"),u=$(".like-"+i).hasClass("fas");n.LikePost(i,!u)})}else $("body").on("click",".action-like",function(t){t.preventDefault();var i=$(t.currentTarget);n.UnauthenticatedUserLikePostShortcode=i.attr("data-postshortcode");GlobalEvents.UserActionRequiresSubscriberAuthentication.trigger(new PassleWebFunctions.PostAuthenticationAction(PassleWebFunctions.PostAuthenticationActionType.Like,n.UnauthenticatedUserLikePostShortcode))})});GlobalEvents.ThankClicked.on(function(t){n.LikePost(t.PostShortcode,!0)});GlobalEvents.NewPostsLoaded.on(function(){PassleWebFunctions.CurrentUserObj&&n.UpdateLikeIcons(PassleWebFunctions.CurrentUserObj)});GlobalEvents.PostLikedDuringAuthentication.on(function(){ClientWebFunctions.UpdateCounter("like-counter-"+n.UnauthenticatedUserLikePostShortcode,1)});GlobalEvents.LikeRequestComplete.on(function(t){n.LikeRequestComplete(t)})},t.prototype.BindUIEvents=function(){var n=this},t.prototype.UpdateLikeIcons=function(n){var t=this;_.each(n.LikedPosts,function(n){var i=$(".like-"+n);i.hasClass("like-initialised")||(t.HighlightLike(n,!0),i.addClass("like-initialised"))})},t.prototype.HighlightLike=function(n,t){t?$(".like-"+n).removeClass("far").addClass("fas").parent().addClass("liked"):$(".like-"+n).removeClass("fas").addClass("far").parent().removeClass("liked")},t.prototype.LikePost=function(n,t){var i=this,r,u;i.LikeRequestInProgress||(i.LikeRequestInProgress=!0,r="ClientWebAPILike/Like?postId="+n+"&like="+t+"&postShortcode="+n,i.InMobileApp&&(u=PassleFunctions.GetParameterByName("JWTToken"),r+="&accessToken="+u),PassleWebFunctions.InjectHiddenIFrame("like-container","like-iframe",r))},t.prototype.LikeRequestComplete=function(n){var t=this;n.Success?(t.HighlightLike(n.PostShortcode,n.Like),ClientWebFunctions.UpdateCounter("like-counter-"+n.PostShortcode,n.Like?1:-1),GlobalEvents.UserLikedPost.trigger()):console.log("Request to like post failed");t.LikeRequestInProgress=!1},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),RepostButton=function(n){function t(t){var i=n.call(this)||this;return i.PassleWebSiteRoot=t,i.Initialise(),i}return __extends(t,n),t.prototype.SubscribeToEvents=function(){var n=this;GlobalEvents.UserAuthenticationComplete.onOrdered(10,function(t){n.SetupRepostButtons(t.user)});GlobalEvents.RepostRequestComplete.on(function(t){n.RepostRequestComplete(t)})},t.prototype.BindUIEvents=function(){var n=this;$("body").on("click",".repost-button.confirm",function(t){t.preventDefault();n.SubmitRepostForm()});$("body").on("click",".repost-button.cancel",function(t){t.preventDefault();n.HideRepostForm()})},t.prototype.SetupRepostButtons=function(n){var t=this;if($("body").off("click",".action-repost"),n&&(n.UserType==UserType.Standard||n.UserType==UserType.SystemAdministrator)){t.$RepostForm=$("#repost-form");$("body").on("click",".action-repost",function(i){i.preventDefault();var r=$(this).attr("data-postshortcode"),u=$(this).attr("data-passleshortcode");_.find(n.ContentCreatorPassles(),function(n){return n.Shortcode!=u})?t.ShowRepostForm(r,u,n):(t.$NotAllowedMessage=$("#not-allowed-message"),t.ShowNotAllowedMessage(r,n))})}else if(n&&n.UserType==UserType.Subscriber){t.$UpgradeForm=$("#upgrade-form");$("body").on("click",".action-repost",function(n){n.preventDefault();var i=$(this).attr("data-postshortcode");t.ShowUpgradeForm(i)})}else $("body").on("click",".action-repost",function(n){n.preventDefault();var i=$(this).attr("data-postshortcode"),r=$(this).attr("data-passleshortcode");PassleWebFunctions.SetAuthenticationCallback(function(){PassleWebFunctions.CurrentUserObj.UserType==UserType.Standard&&t.ShowRepostForm(i,r,PassleWebFunctions.CurrentUserObj)});GlobalEvents.UserActionRequiresPassleUserAuthentication.trigger()})},t.prototype.PopulatePassleDropDown=function(n,t){var i=this;$("#repost-passleid").html("");_.each(n.ContentCreatorPassles(),function(n){n.Shortcode!=t&&$("#repost-passleid").append($("<option/>",{value:n.Shortcode,text:n.Title}))});n.Passles.length==1&&$("#repost-passleid").val(n.Passles[0].Shortcode);$("#repost-passleid").select2({placeholder:"Select a Passle...",width:"256px"})},t.prototype.ShowRepostForm=function(n,t,i){var r=this,u;r.$RepostForm.detach();u=$("div[data-post-shortcode="+n+"] .repost-form-container");r.RepostPostShortcode=n;u.css("display")!="none"?(u.slideUp(),r.$RepostForm.hide()):($(".repost-form-container").slideUp(),$("#wall-posts .share-buttons-container").slideUp(),r.$RepostForm.show(),u.html("").append(r.$RepostForm).slideDown(),r.PopulatePassleDropDown(i,t))},t.prototype.ShowNotAllowedMessage=function(n){var t=this,i=$("div[data-post-shortcode="+n+"] .repost-form-container");t.RepostPostShortcode=null;i.css("display")!="none"?(i.slideUp(),t.$NotAllowedMessage.hide()):($(".repost-form-container").slideUp(),$("#wall-posts .share-buttons-container").slideUp(),t.$NotAllowedMessage.show(),i.append(t.$NotAllowedMessage).slideDown())},t.prototype.HideRepostForm=function(){var n=this;n.$RepostForm&&n.$RepostForm.detach();$(".repost-form-container").slideUp()},t.prototype.SubmitRepostForm=function(){var n=this,t=n.RepostPostShortcode,r=$("#repost-passleid").val(),i;n.$RepostForm.spin();i="ClientWebAPIRepost/Repost?postId="+t+"&passleId="+r+"&postShortcode="+t;PassleWebFunctions.InjectHiddenIFrame("repost-container","repost-iframe",i)},t.prototype.RepostRequestComplete=function(n){var t=this,i;t.$RepostForm.spin(!1);n.Success?(t.ShowRepostCompleteMessage(n.NewPostUrl,n.PostShortcode,n.RequiresApproval),t.HideRepostForm(),GlobalEvents.UserRepostedPost.trigger()):i=n.PreviouslyReposted?new OverlayMessage($("#repost-failed-self-message-modal")):new OverlayMessage($("#repost-failed-message-modal"))},t.prototype.ShowRepostCompleteMessage=function(n,t,i){var f=this,r,u;i?($(".view-approval-link").attr("href",n),u=new OverlayMessage($("#repost-success-approval-message-modal"))):($(".view-repost-link").attr("href",n),r=new OverlayMessage($("#repost-success-message-modal")),ClientWebFunctions.UpdateCounter("repost-counter-"+t,1))},t.prototype.ShowUpgradeForm=function(n){var t=this,i;t.$UpgradeForm.detach();i=$("div[data-post-shortcode="+n+"] .repost-form-container");t.RepostPostShortcode=n;i.css("display")!="none"?i.slideUp():($(".repost-form-container").slideUp(),$("#wall-posts .share-buttons-container").slideUp(),t.$UpgradeForm.show(),i.html("").append(t.$UpgradeForm).slideDown())},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),PreviewBar=function(n){function t(t,i,r,u,f){var e=n.call(this)||this;return e.PassleWebSiteRoot=t,e.passleShortcode=i,e.SinglePostShortcode=r,e.authorShortcode=u,e.inMobileApp=f,e.PostShortcode="",e.PassleShortcode="",e.AuthorShortcode="",e.PostShortcode=r,e.PassleShortcode=i,e.AuthorShortcode=u,e.PopulateApproverList(),e.InMobileApp=f,e.Initialise(),e}return __extends(t,n),t.prototype.SubscribeToEvents=function(){var n=this;GlobalEvents.ApproverListRequested.on(function(n){if(n.Success){for(var t in n.Approvers)$(".preview-request-approval-select").append("<option value='"+n.Approvers[t][1]+"' >"+n.Approvers[t][0]+"<\/option>");n.Approvers.length>0&&$(".preview-request-approval").removeClass("hidden")}});GlobalEvents.UserAuthenticationComplete.on(function(t){if(n.CurrentUser=t.user,n.CurrentUser){var i=n.CurrentUser.Passles.filter(function(t){return t.Shortcode===n.PassleShortcode})[0];(i.Permissions.CanApprovePosts||i.Permissions.CanPublish||n.CurrentUser.Shortcode===n.AuthorShortcode||n.IsRepost)&&(i.Permissions.CanPublish&&$(".preview-make-live-group").removeClass("hidden"),i.Permissions.CanApprovePosts&&!n.InMobileApp&&$(".preview-approve-decline").removeClass("hidden"),$(".preview-info-controls").show())}});GlobalEvents.ApprovalRequested.on(function(){$(".preview-request-approval-control").spin(!1).find("span").text("Approval Requested");n.HideRequestApprovalForm()});GlobalEvents.PostMadeLive.on(function(){location.reload()});GlobalEvents.PostDeclined.on(function(){location.reload()});GlobalEvents.PostApproved.on(function(){location.reload()})},t.prototype.PopulateProperties=function(){this.ApprovalStep=$("#ApprovalStep").val();this.IsRepost=$("#Post_IsRepost").val()==="True"},t.prototype.BindUIEvents=function(){var n=this;$(".preview-request-approval").on("click",".preview-request-approval-control.closed",function(t){t.preventDefault();n.OpenRequestApprovalForm();t.stopPropagation()});$(".preview-request-approval").on("click",".preview-request-approval-control.open",function(t){t.preventDefault();var i=$(this).children("select").val();i?n.SubmitRequestApprovalForm(i):n.HideRequestApprovalForm()});$(".preview-request-approval-select").on("click",function(n){n.stopPropagation()});$(".preview-approve-decline-control").on("click",function(){n.ToggleApproveForm()});$(".preview-approve-decline-close-control").on("click",function(){n.ToggleApproveForm()});$(".preview-approve-control").on("click",function(){n.ApproveDeclinePost("Approve",$(".preview-approve-decline-textarea").val())});$(".preview-decline-control").on("click",function(){n.ApproveDeclinePost("Decline",$(".preview-approve-decline-textarea").val())});$(".preview-make-live-control").on("click",function(t){t.preventDefault();$(this).spin();n.MakeLive()})},t.prototype.OpenRequestApprovalForm=function(){$(".preview-request-approval-control").removeClass("closed").addClass("open");$(".preview-request-approval-select").animate({width:"200px"},500)},t.prototype.HideRequestApprovalForm=function(){$(".preview-request-approval-control").removeClass("open").addClass("closed");$(".preview-request-approval-select").animate({width:"0"},500)},t.prototype.SubmitRequestApprovalForm=function(){var n=this,t={postShortcode:n.PostShortcode,userShortcode:$(".preview-request-approval-select").val(),currentApprovalStep:n.ApprovalStep},i="ClientWebAPIApproval/RequestApproval?"+$.param(t);PassleWebFunctions.InjectHiddenIFrame("submit-request-approval-container","submit-request-approval-iframe",i,function(){$(".preview-request-approval-select").spin()})},t.prototype.PopulateApproverList=function(){var n=this,t={passleShortcode:n.PassleShortcode},i="ClientWebAPIApproval/GetApproverList?"+$.param(t);PassleWebFunctions.InjectHiddenIFrame("submit-request-approvers-container","submit-request-approvers-iframe",i)},t.prototype.ToggleApproveForm=function(){$(".preview-approve-decline-form").toggleClass("hidden");$(".preview-info-controls").toggle()},t.prototype.ApproveDeclinePost=function(n,t){var i=this,n=n,r={postShortcode:i.PostShortcode,message:t,approvalStep:i.ApprovalStep},u="ClientWebAPIApproval/"+n+"?"+$.param(r);PassleWebFunctions.InjectHiddenIFrame("submit-approve-container","submit-approve-iframe",u)},t.prototype.MakeLive=function(){var n=this,t={postShortcode:n.PostShortcode},i="ClientWebAPIPublish/Publish?"+$.param(t);PassleWebFunctions.InjectHiddenIFrame("submit-make-live-container","submit-make-live-iframe",i)},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ISTATOYMessage=function(n){function t(t,i,r){r===void 0&&(r=!1);var u=n.call(this)||this;return u.ThankRequestInProgress=!1,u.InMobileApp=!1,u.PostShortcode=t,u.ISTATOYId=i,u.InMobileApp=r,u.BindUIEvents(),u.Initialise(),u}return __extends(t,n),t.prototype.SubscribeToEvents=function(){var n=this;GlobalEvents.ThankRequestComplete.on(function(t){n.ThankRequestComplete(t)})},t.prototype.BindUIEvents=function(){var n=this;$(".istatoy-message-container").on("click",".istatoy-response__button",function(t){n.ThankRequest(t)})},t.prototype.ThankRequest=function(n){var t=this,u=$(n.currentTarget),i,r;u.spin();t.ThankRequestInProgress||(t.ThankRequestInProgress=!0,i="ClientWebAPIThank/Thank?istatoyId="+t.ISTATOYId,t.InMobileApp&&(r=PassleFunctions.GetParameterByName("JWTToken"),i+="&accessToken="+r),PassleWebFunctions.InjectHiddenIFrame("thank-container","thank-iframe",i),PassleWebFunctions.CurrentUserObj&&GlobalEvents.ThankClicked.trigger(new ClientWebEvents.ThankClickedEventData(t.PostShortcode)))},t.prototype.ThankRequestComplete=function(n){var i=this,r=$(".istatoy-message-container"),t=$(".istatoy-response__button");n.Success?(t.spin(!1).off("click").text("Thanks sent!"),window.setTimeout(function(){r.fadeOut()},3e3)):(t.spin(!1).text("Error sending thanks, please try again"),window.setTimeout(function(){t.text("Send thanks")},3e3));i.ThankRequestInProgress=!1},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),OverlayMessage=function(n){function t(t){var i=n.call(this)||this;i.$elem=t;t.addClass("overlay-message visible").children("div").addClass("overlay-message-inner");t.on("click",function(n){n.target===this&&$(this).removeClass("visible")});return i}return __extends(t,n),t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),PostFooter=function(n){function t(){var t=n.call(this)||this;return t.UpdateUI(),t.Initialise(),t}return __extends(t,n),t.prototype.UpdateUI=function(){var n=this;$(".title>a").each(function(){n.ShortenTitle(this)});n.SetRecentPostsStyle()},t.prototype.BindUIEvents=function(){var t=this,n=$(".passle-post-footer");n.on("mouseover",function(){n.addClass("open")});n.on("mouseout",function(){n.removeClass("open")});n.on("click",".footer-handle",function(){n.toggleClass("open")});$(".footer-scroll-btn").click(function(){t.ScrollFooter(this)})},t.prototype.ScrollFooter=function(n){var i=this,t=$(n).hasClass("scroll-left")?"-=":"+=";$(".recent-posts-container").dequeue().animate({scrollLeft:t+267+"px"})},t.prototype.ShortenTitle=function(n){var f=this,i=55,r=$(n).text(),t=r.substr(0,i),u=t.substr(0,Math.min(t.length,t.lastIndexOf(" ")));r.length>i&&(t.lastIndexOf(" ")<0?$(n).text(t+"..."):$(n).text(u+"..."))},t.prototype.SetRecentPostsStyle=function(){$(".recent-posts-container").each(function(){var n=$(this),t;n.hasClass("recent-posts-auto")&&(t=n.width(),t>=1200?n.removeClass("recent-posts-auto").addClass("recent-posts-desktop"):t>=768?n.removeClass("recent-posts-auto").addClass("recent-posts-tablet"):n.removeClass("recent-posts-auto").addClass("recent-posts-mobile"))})},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ShareURLs=function(n){function t(){var t=n.call(this)||this;return t.Initialise(),t}return __extends(t,n),t.prototype.GetPostShareURL=function(n,t){var o=this,i="",r,u,f,e;switch(n){case"linkedin":i="https://www.linkedin.com/shareArticle?mini=true";i+="&url="+encodeURIComponent(t.url);i+="&title="+o.ParseShareTitle(t.title);i+="&source=LinkedIn";break;case"twitter":if(i="https://twitter.com/intent/tweet?text=",r=t.title,r+=t.twitterScreenname?" by @"+t.twitterScreenname:" by "+t.authorFullName,i+=o.ParseShareTitle(r),u=r.length,i+="&url="+t.url,u+=20,t.tags){for(i+="&hashtags=",f=0;f<t.tags.length;f++)e=t.tags[f].replace(/\s/g,"").replace(/-/g,""),u+e.length+2<280&&(i+=e+",",u+=e.length+2);i[i.length-1]===","&&(i=i.slice(0,-1))}break;case"facebook":i="https://www.facebook.com/dialog/share";i+="?app_id="+PassleEnvironmentConfig.FacebookAppId;i+="&display=popup";i+="&href="+encodeURIComponent(t.url);i+="&redirect_uri=https%3A%2F%2Fwww."+(PassleEnvironmentConfig.PassleWebRoot.split("www.")[1]+"%2F")+"sharecomplete";break;case"googleplus":i="https://plus.google.com/share?url="+t.url;break;case"xing":i="https://www.xing.com/spi/shares/new?url="+encodeURIComponent(t.url)}return i},t.prototype.ParseShareTitle=function(n){return n=encodeURIComponent(n),n.replace(/'/g,"%27")},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),FetchShareCounts=function(n){function t(t,i){var r=n.call(this)||this;return r.postShortcode=t,r.passleShortcode=i,r.DisplayStatsAttempts=0,r.Initialise(),r}return __extends(t,n),t.prototype.PopulateProperties=function(){var n=this,t;n.ServiceCodes=["email","linkedin","twitter","facebook","googleplus"];n.ShareData={};for(t in n.ServiceCodes)n.ShareData[t]={count:$("#"+n.ServiceCodes[t]+"-share-count").val(),service:n.ServiceCodes[t]}},t.prototype.SubscribeToEvents=function(){var n=this;GlobalDeferred.UserAuthenticationComplete.then(function(t){n.CurrentUser=t;n.DisplayShareCounts(t.user)})},t.prototype.DisplayShareCounts=function(n){var i=this,u,t,f,r;if($(".social-sharing-button").length)for(u in i.ServiceCodes){if(t=i.ShareData[u],t.service==="email"){if(!n)continue;if(f=!((n.ExclusiveFeatures&ExclusiveFeature.DisableShareByEmail)===ExclusiveFeature.DisableShareByEmail),!f)continue}$(".share-counter_"+t.service).length||t.count>0&&(r="<span class='share-counter share-counter_"+t.service+"'>"+t.count+"<\/span>",t.service==="email"?i.CurrentUser&&$(".istatoy-button").addClass("has-count").after(r):$('.social-sharing-button[data-network="'+t.service+'"]').addClass("has-count").after(r))}},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),TwitterWidgets=function(n){function t(){var t=n.call(this)||this;return t.UpdateUI(),t.AsyncTwitterScriptLoad(),t.Initialise(),t}return __extends(t,n),t.prototype.UpdateUI=function(){var n=this},t.prototype.PopulateProperties=function(){var n=this},t.prototype.SubscribeToEvents=function(){var n=this;GlobalEvents.TwitterWidgetScriptLoaded.on(function(){twttr.events.bind("rendered",function(t){n.FixBorderForTweet(t.target)})})},t.prototype.BindUIEvents=function(){var n=this},t.prototype.AsyncTwitterScriptLoad=function(){var n=this;window.twttr=function(n,t,i){var r,f=n.getElementsByTagName(t)[0],e=/^http:/.test(String(n.location))?"http":"https",u=window.twttr||{};if(!n.getElementById(i))return r=n.createElement(t),r.id=i,r.src=e+"://platform.twitter.com/widgets.js",f.parentNode.insertBefore(r,f),u._e=[],u.ready=function(n){u._e.push(n)},u}(document,"script","twitter-wjs-passle");window.twttr?twttr.ready(function(){GlobalEvents.TwitterWidgetScriptLoaded.trigger()}):$(window).load(function(){n.PeriodicallyCheckForTwiterScriptWidgetInit()})},t.prototype.PeriodicallyCheckForTwiterScriptWidgetInit=function(){var n=this;!window.twttr||window.twttr.init!==!0?setTimeout(n.PeriodicallyCheckForTwiterScriptWidgetInit,200):GlobalEvents.TwitterWidgetScriptLoaded.trigger()},t.prototype.FixBorderForTweet=function(n){var i=n.clientHeight+1,t="#"+n.id,r=t+".EmbeddedTweet",u=$(t).contents().find(r);u.css({marginRight:"1px"});n.style.minHeight=i+"px";$(t).addClass("border-fixed")},t}(Component),__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),PostView=function(n){function t(){var t=n.call(this,"Post View")||this;return t.FragmentActions=[],t.PopulateProperties(),t.SubscribeToEvents(),t.RegisterEvents(),t.IsPreview=$(".preview-info").length>0,t.PassleHeader=new PassleHeader,t.PostFooter=new PostFooter,t.FollowButton=new FollowButton(PassleEnvironmentConfig.PassleWebRoot,t.PassleShortcode),t.LikeButton=new LikeButton(t.InMobileApp),t.RepostButton=new RepostButton(PassleEnvironmentConfig.PassleWebRoot),t.EditButton=new EditButton(PassleEnvironmentConfig.PassleWebRoot,t.PassleShortcode,t.AuthorShortcode,$("div.post-container:first").attr("data-post-shortcode"),t.IsPreview),t.IsPreview&&(t.PreviewBar=new PreviewBar(PassleEnvironmentConfig.PassleWebRoot,t.PassleShortcode,t.PostShortcode,t.AuthorShortcode,t.InMobileApp)),t.ShareButtons=new ShareButtons($(".post-container .post-dateline"),!0),t.FetchShareCounts=new FetchShareCounts(t.PostShortcode,t.PassleShortcode),t.SetupFragments(),t.ProcessUrlFragment=new ProcessUrlFragment(t.FragmentActions),t.ProcessUrlFragment.ProcessFragment(!0),t.TwitterWidgets=new TwitterWidgets,t.ISTATOYMessage=new ISTATOYMessage(t.PostShortcode,$("[data-istatoyid]").attr("data-istatoyid"),t.InMobileApp),t.BindUIEvents(),t.UpdateUI(),t}return __extends(t,n),t.prototype.PopulateProperties=function(){this.PostShortcode=$(".post-container").first().attr("data-post-shortcode");this.AuthorShortcode=$(".post-author").first().attr("data-author-shortcode")},t.prototype.InitializePage=function(){n.prototype.InitializePage.call(this);var i=this,t=$("[data-media-container]");t.length>0&&t.each(function(n,t){var i=$(t),r=i.attr("id"),u=i.data("media-items"),f=i.data("media-thumbnail"),e=i.data("media-passlefileid"),o={audioOnly:!1,elementId:r,mediaItems:u,posterUrl:f,passleFileId:e};MediaPlayer.InitializeMediaPlayer(o)})},t.prototype.SubscribeToEvents=function(){var n=this;GlobalEvents.UserAuthenticationComplete.on(function(t){n.IsPreview||$(".action-buttons").show();t.user&&t.user.IsMember(n.PassleShortcode)&&n.ShowShareMessage()});GlobalEvents.UserLikedPost.on(function(){n.SetupActionPopovers(n.PostShortcode)});GlobalEvents.UserRepostedPost.on(function(){n.SetupActionPopovers(n.PostShortcode)});GlobalDeferred.PageRequestLoggingComplete.then(function(t){n.LogRecommendedPostViews(t)})},t.prototype.RegisterEvents=function(){$(".post-content a").on("click",function(){EventTracking.RegisterEvent(new EventTracking.TrackedEvent("Post text link","External Link",{href:this.href,text:this.innerHTML},this.href))});$(".quote-url-link").on("click",function(){EventTracking.RegisterEvent(new EventTracking.TrackedEvent("Post quote link","External Link",{href:this.href,text:this.innerHTML},this.href))});$(".featured-image-attribution a").on("click",function(){EventTracking.RegisterEvent(new EventTracking.TrackedEvent("Post image attribution link","External Link",{href:this.href,text:this.innerHTML},this.href))})},t.prototype.IOSSetup=function(){var r=this,n=$("h3.passle-title a"),i=$(".author-name a, .post-byline-mobile a"),t="#";n.parent().css("height","auto").css("padding-bottom","0.5em").css("text-align","center");n.attr("href",t).on("click",function(n){n.preventDefault()});i.attr("href",t).on("click",function(n){n.preventDefault()})},t.prototype.UpdateUI=function(){var n=this;n.ShortPostFix();n.RecentPostsFix()},t.prototype.BindUIEvents=function(){var n=this,t=$("div.post-container:first").attr("data-post-shortcode");n.SetupActionPopovers(t);$("body").on("click",".show-more",function(){n.FetchRemainingLikes(t)});$(window).resize(function(){n.ShortPostFix()})},t.prototype.ShortPostFix=function(){var f=this,n=$(window).width(),t=$(window).height(),i=$("div.public-header").outerHeight(),r=$("footer").outerHeight(),u=t-(i+r);n>=980?$("div.post-container").css("min-height",u+"px"):n<980&&$("div.post-container").removeAttr("style")},t.prototype.RecentPostsFix=function(){var n=$("#passle-page-wrapper");n&&n.width()<1200&&n.addClass("recent-posts-fix")},t.prototype.ShowShareMessage=function(){if($("#ShowShareMessage")){var n=new OverlayMessage($("#share-message-modal"));this.ShareMessageButtons=new ShareButtons($("#share-message-modal"),!0)}},t.prototype.SetupActionPopovers=function(n){var t=this;t.ShowActionPopover("GetLikeDetailsForPost",n,"Likes",$("a.action-like.has-number"));t.ShowActionPopover("GetRepostDetailsForPost",n,"Reposts",$("a.action-repost.has-number"))},t.prototype.ShowActionPopover=function(n,t,i,r){r.webuiPopover("destroy").webuiPopover({type:"async",title:i,url:"/PostAjax/"+n+"?postShortcode="+t,content:function(n){return n},trigger:"hover",style:"inverse",arrow:!1,animation:"fade"})},t.prototype.SetupFragments=function(){var n=this;n.FragmentActions.push(new FragmentAction("tw",n.ShareTwitter,n));n.FragmentActions.push(new FragmentAction("fb",n.ShareFacebook,n));n.FragmentActions.push(new FragmentAction("li",n.ShareLinkedIn,n));n.FragmentActions.push(new FragmentAction("gp",n.ShareGooglePlus,n));n.FragmentActions.push(new FragmentAction("xi",n.ShareXing,n))},t.prototype.ShareTwitter=function(n){n.ShareButtons.HandleShareButton($(".social-sharing-button.twitter"))},t.prototype.ShareFacebook=function(n){n.ShareButtons.HandleShareButton($(".social-sharing-button.facebook"))},t.prototype.ShareLinkedIn=function(n){n.ShareButtons.HandleShareButton($(".social-sharing-button.linkedin"))},t.prototype.ShareGooglePlus=function(n){n.ShareButtons.HandleShareButton($(".social-sharing-button.googleplus"))},t.prototype.ShareXing=function(n){n.ShareButtons.HandleShareButton($(".social-sharing-button.xing"))},t.prototype.FetchRemainingLikes=function(n){var t="/PostAjax/GetLikeDetailsForPost?postShortcode="+n+"&limit=1000";$("#like-details-container").parent().load(t,function(){})},t.prototype.LogRecommendedPostViews=function(n){var i=$("#passle-shortcode").val(),t=[];$(".recent-post").each(function(){var n=$(this).attr("data-postshortcode");n&&t.push(n)});i&&t.length>0&&!this.IsPreview&&AjaxFunctions.LogPostViews(n,PostViewType.PostViewRecommendedPosts,t,i,"stats-logging","Passle","PostView")},t}(Page),postView=new PostView