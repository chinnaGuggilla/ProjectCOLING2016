/**
 * 
 * @author Narendra Pundir
 * @category validate lead Form
 * @created 23-Sep-2016
 */

function validateName() {
	var noalpha = /^[A-Za-z ]*$/;
	var name = $("#username").val();
	if (name.length != 0) {
		if (name == 'Name') {
			$("#usernameErrorField").text("Enter your Name.");
			return false;
		}
		if (!noalpha.test(name)) {
			$("#usernameErrorField")
					.text(
							"Name should not have Numericals &amp; Special Characters.");
			return false;
		} else {
			$("#usernameErrorField").text("");
			return true;
		}
	} else {
		$("#usernameErrorField").text("Enter your Name.");
		return false;
	}
}

function validateEmail() {
	var emailTextField = $("#email").val();
	if (emailTextField.length != 0) {
		if (isValidEmail(emailTextField)) {
			$("#useremailErrorField").text("Enter a correct Email Address.");
			return false;
		} else {
			$("#useremailErrorField").text("");
			return true;
		}
	} else {
		$("#useremailErrorField").text("Enter your Email Address.");
		return false;
	}
}

function isValidEmail(email) {
	var reg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
	if (reg.test(email)) {
		return false;
	} else {
		return true;
	}
}

function validateDOB() {

	var dob = $('#day').val();

	if (dob == '-1') {
		$("#dobError").text("Please select Day");
		return false;
	} else if ($('#month').val() == '-1') {
		$("#dobError").text("Please select Month");
		return false;
	} else if ($('#year').val() == '-1') {
		$("#dobError").text("Please select Year");
		return false;
	} else {
		$("#dobError").text("");
		return true;
	}
}

function validateMobile() {

	var mobile = $.trim($("#mobile").val());
	$("#mobileErrorField").text("");
	if (mobile.length > 0) {

		if (mobile[0] == 0 || mobile[0] == '+') {
			$("#mobileErrorField").text(
					"Zero Or +91 cannot be accept as a Start digit");
			return false;
		}
		if (mobile[0] == 1 || mobile[0] == 2 || mobile[0] == 3
				|| mobile[0] == 4 || mobile[0] == 5 || mobile[0] == 6) {
			$("#mobileErrorField")
					.text("Mobile Number should start with 7,8,9");
			return false;
		}
		if (mobile > 1) {
			if (mobile.length != 10) {
				$("#mobileErrorField").text(
						"Kindly Enter Exactly 10 digit number");
				return false;
			} else {
				$("#mobileErrorField").text("");
				return true;
			}
			return false;
		} else {
			$("#mobileErrorField").text("Kindly Enter Valid Mobile Number");
			return false;
		}
	} else if (mobile.length == 0) {
		$("#mobileErrorField").text("Enter Mobile Number");
		return false;
	} else {
		$("#mobileErrorField").text("");
		return true;
	}
}

function validateCourses() {
	var myarray = new Array();
	$("#coursesErrorField").text("");
	$("#otherCourseField").text("");
	$("#select_box ul li input:checked").each(function() {
		myarray.push($(this).val()); // push each val into the array
	});
	if (myarray.length == 0) {
		$("#coursesErrorField").text("Select Course Name");
		return false;
	} else {
		$("#coursesErrorField").text("");
		return true;
	}
}

function validateGender() {
	if ($('input[name=sex]:checked').length <= 0) {
		$("#sexErrorField").text('Select Your Gender');
		return false;
	} else {
		$("#sexErrorField").text('');
		return true;
	}
}

function validatePrivacyConsent() {
	if ($('#privacyConsent').is(':checked')) {
		$("#privacyConsentError").text('');
		return true;
	} else {
		$("#privacyConsentError").text('Please accept the Privacy Policy and the Terms and Conditions');
		return false;
	}
}

function validateLocation() {
	var state = $("#state").val();
	var city = $("#city").val();

	if (state == "-1") {
		$("#locationErrorField").text("Enter a Valid State");
		return false;
	} else if (city == "-1") {
		$("#locationErrorField").text("Enter a Valid City");
		return false;
	} else {
		$("#locationErrorField").text("");
		return true;
	}
}

function validateOTP() {

	$("#mobilemessageForm").text('');
	var randomNumber = $("#randomNumber").val();
	if (randomNumber.length == 0) {
		$("#mobileCodeErrorField").text("Please Enter a Mobile Code");
		return false;
	} else if (randomNumber == "") {
		$("#mobileCodeErrorField").text("Please Enter a Mobile Code");
		return false;
	} else {
		$("#mobilemessageForm").text('');
		return true;
	}

}

function validateForm() {
	$("#mobilemessageForm").text('');
	$("#leadmessageForm").text('');

	var nameStatus = validateName();
	var emailStatus = validateEmail();
	var mobileStatus = validateMobile();
	var locationStatus = validateLocation();
	var dobStatus = validateDOB();
	var gender = validateGender();
	var privacyConsent = validatePrivacyConsent();
	var courses = validateCourses();

	return nameStatus && emailStatus && mobileStatus && locationStatus
			&& dobStatus && gender && privacyConsent && courses;

}

function isEmailExist(str) {
	if (isValidEmail(emailTextField)) {
		var url = "/iw-cc/mmi/Education/register/checkEmailID.jsp";
		$.post(url, {
			useremail : str
		},

		function(responseJson) {
			var result = $.trim(responseJson);
			$("#checkedemailid").html(result);
		});
	}

}
